import"./vue.4c5758a0.js";import{F as D}from"./ant-design-vue.e954adc4.js";import{V as H,r as c,w as I,p as V,aX as g,Z as O,$ as T,bd as U,c as x,a0 as _,u as b,S as $,an as j}from"./@vue.87afd1fa.js";import"./@babel.dd651e2b.js";import"./regenerator-runtime.8e24db72.js";import"./@ant-design.8c82b126.js";import"./@ctrl.fa7cbd46.js";import"./resize-observer-polyfill.8deb1e21.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./lodash-es.0ea26897.js";import"./dayjs.0743a87f.js";import"./async-validator.5d25c98b.js";import"./scroll-into-view-if-needed.5191fdbf.js";import"./compute-scroll-into-view.6058b3be.js";const k={name:"ExNumberRange"},Y=Object.assign(k,{props:{value:{type:Array,default:[]},startField:String,endField:String,startValue:Number,endValue:Number,separator:{type:String,default:"-"}},emits:["update:value","update:startValue","update:endValue"],setup(m,{emit:o}){const u=m,n=H(),t=c(u.startValue),a=c(u.endValue);d();const F=D.useInjectFormItemContext();I(()=>u.value,(e,l)=>{JSON.stringify(e)!=JSON.stringify(l)&&d(),u.startField===u.endField?v(e,e):v(e[0],e[1]),F.onFieldChange()});function d(){u.value.length>0?(t.value=u.value[0],a.value=u.value[1]):(t.value=null,a.value=null),r()}function r(){(t.value===null||t.value===void 0)&&(a.value===null||a.value===void 0)?o("update:value",[]):o("update:value",[t.value,a.value])}function v(e,l){o("update:startValue",e),o("update:endValue",l)}let s=!1;function S(){s=!1}function C(e){t.value===null&&(a.value=null),setTimeout(()=>{t.value!==null&&!a.value&&(a.value=i()),t.value!==null&&t.value===a.value&&(a.value=i()),r()},500)}function N(){s=!0,t.value===null&&a.value!==null&&(t.value=y()),setTimeout(()=>{a.value===null&&s&&(t.value=null),r()},300)}function i(){const e=n.step||1;return t.value+e}function y(){const e=n.step||1;return a.value-e}const h=V(()=>i()),B=V(()=>{if(n.max){const e=n.step||1;return n.max-e}return null});return(e,l)=>{const f=g("a-input-number"),w=g("a-form-item-rest");return O(),T(w,null,{default:U(()=>[x(f,_(e.$attrs,{max:b(B),value:t.value,"onUpdate:value":l[0]||(l[0]=p=>t.value=p),onChange:r,onFocus:S,onBlur:C}),null,16,["max","value"]),$(" "+j(m.separator)+" ",1),x(f,_(e.$attrs,{min:b(h),value:a.value,"onUpdate:value":l[1]||(l[1]=p=>a.value=p),onChange:r,onBlur:N}),null,16,["min","value"])]),_:1})}}});export{Y as default};
