import{c as hB}from"./@babel.dd651e2b.js";var K6={exports:{}};(function(Le){(function(){var qn=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},tn=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},bt=function(e,n){var a=Array.prototype.slice.call(e);return a.sort(n)},ve=function(e,n){return rt(function(a,i){return e.eq(n(a),n(i))})},rt=function(e){return{eq:e}},gn=rt(function(e,n){return e===n}),vn=gn,Ct=function(e){return rt(function(n,a){if(n.length!==a.length)return!1;for(var i=n.length,s=0;s<i;s++)if(!e.eq(n[s],a[s]))return!1;return!0})},Et=function(e,n){return ve(Ct(e),function(a){return bt(a,n)})},Qe=function(e){return rt(function(n,a){var i=Object.keys(n),s=Object.keys(a);if(!Et(vn).eq(i,s))return!1;for(var f=i.length,g=0;g<f;g++){var b=i[g];if(!e.eq(n[b],a[b]))return!1}return!0})},Ze=rt(function(e,n){if(e===n)return!0;var a=qn(e),i=qn(n);return a!==i?!1:tn(a)?e===n:a==="array"?Ct(Ze).eq(e,n):a==="object"?Qe(Ze).eq(e,n):!1}),te=function(){},vt=function(e,n){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return e(n.apply(null,a))}},q=function(e,n){return function(a){return e(n(a))}},We=function(e){return function(){return e}},dn=function(e){return e};function Xe(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var f=n.concat(i);return e.apply(null,f)}}var cr=function(e){return function(n){return!e(n)}},S=function(e){return function(){throw new Error(e)}},mn=function(e){return e()},Pn=function(e){e()},hn=We(!1),an=We(!0),$n=function(){return Cr},Cr=function(){var e=function(s){return s.isNone()},n=function(s){return s()},a=function(s){return s},i={fold:function(s,f){return s()},is:hn,isSome:hn,isNone:an,getOr:a,getOrThunk:n,getOrDie:function(s){throw new Error(s||"error: getOrDie called on none.")},getOrNull:We(null),getOrUndefined:We(void 0),or:a,orThunk:n,map:$n,each:te,bind:$n,exists:hn,forall:an,filter:$n,equals:e,equals_:e,toArray:function(){return[]},toString:We("none()")};return i}(),lr=function(e){var n=We(e),a=function(){return s},i=function(f){return f(e)},s={fold:function(f,g){return g(e)},is:function(f){return e===f},isSome:an,isNone:hn,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:a,orThunk:a,map:function(f){return lr(f(e))},each:function(f){f(e)},bind:i,exists:i,forall:i,filter:function(f){return f(e)?s:Cr},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(f){return f.is(e)},equals_:function(f,g){return f.fold(hn,function(b){return g(e,b)})}};return s},Me=function(e){return e==null?Cr:lr(e)},z={some:lr,none:$n,from:Me},Yt=function(e){var n=typeof e;return e===null?"null":n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},It=function(e){return function(n){return Yt(n)===e}},In=function(e){return function(n){return typeof n===e}},zn=function(e){return function(n){return e===n}},jn=It("string"),yt=It("object"),mt=It("array"),fn=zn(null),Yr=In("boolean"),yr=zn(void 0),Re=function(e){return e==null},ut=function(e){return!Re(e)},kt=In("function"),Vt=In("number"),we=Array.prototype.slice,Ye=Array.prototype.indexOf,rn=Array.prototype.push,qe=function(e,n){return Ye.call(e,n)},de=function(e,n){var a=qe(e,n);return a===-1?z.none():z.some(a)},Ue=function(e,n){return qe(e,n)>-1},ee=function(e,n){for(var a=0,i=e.length;a<i;a++){var s=e[a];if(n(s,a))return!0}return!1},ke=function(e,n){for(var a=e.length,i=new Array(a),s=0;s<a;s++){var f=e[s];i[s]=n(f,s)}return i},he=function(e,n){for(var a=0,i=e.length;a<i;a++){var s=e[a];n(s,a)}},Pt=function(e,n){for(var a=e.length-1;a>=0;a--){var i=e[a];n(i,a)}},pn=function(e,n){for(var a=[],i=[],s=0,f=e.length;s<f;s++){var g=e[s],b=n(g,s)?a:i;b.push(g)}return{pass:a,fail:i}},St=function(e,n){for(var a=[],i=0,s=e.length;i<s;i++){var f=e[i];n(f,i)&&a.push(f)}return a},ir=function(e,n,a){return Pt(e,function(i){a=n(a,i)}),a},Rn=function(e,n,a){return he(e,function(i){a=n(a,i)}),a},Zr=function(e,n,a){for(var i=0,s=e.length;i<s;i++){var f=e[i];if(n(f,i))return z.some(f);if(a(f,i))break}return z.none()},Ir=function(e,n){return Zr(e,n,hn)},ba=function(e,n){for(var a=0,i=e.length;a<i;a++){var s=e[a];if(n(s,a))return z.some(a)}return z.none()},zt=function(e){for(var n=[],a=0,i=e.length;a<i;++a){if(!mt(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);rn.apply(n,e[a])}return n},pt=function(e,n){return zt(ke(e,n))},Jt=function(e,n){for(var a=0,i=e.length;a<i;++a){var s=e[a];if(n(s,a)!==!0)return!1}return!0},Kt=function(e){var n=we.call(e,0);return n.reverse(),n},Xt=function(e,n){return St(e,function(a){return!Ue(n,a)})},Nn=function(e,n){for(var a={},i=0,s=e.length;i<s;i++){var f=e[i];a[String(f)]=n(f,i)}return a},dr=function(e,n){var a=we.call(e,0);return a.sort(n),a},Nt=function(e,n){return n>=0&&n<e.length?z.some(e[n]):z.none()},lt=function(e){return Nt(e,0)},Tn=function(e){return Nt(e,e.length-1)},or=kt(Array.from)?Array.from:function(e){return we.call(e)},zr=function(e,n){for(var a=0;a<e.length;a++){var i=n(e[a],a);if(i.isSome())return i}return z.none()},Pr=Object.keys,na=Object.hasOwnProperty,Or=function(e,n){for(var a=Pr(e),i=0,s=a.length;i<s;i++){var f=a[i],g=e[f];n(g,f)}},xa=function(e,n){return Ce(e,function(a,i){return{k:i,v:n(a,i)}})},Ce=function(e,n){var a={};return Or(e,function(i,s){var f=n(i,s);a[f.k]=f.v}),a},et=function(e){return function(n,a){e[a]=n}},Wt=function(e,n,a,i){var s={};return Or(e,function(f,g){(n(f,g)?a:i)(f,g)}),s},Fn=function(e,n){var a={},i={};return Wt(e,n,et(a),et(i)),{t:a,f:i}},un=function(e,n){var a={};return Wt(e,n,et(a),te),a},fr=function(e,n){var a=[];return Or(e,function(i,s){a.push(n(i,s))}),a},ya=function(e){return fr(e,function(n){return n})},Nr=function(e,n){return kr(e,n)?z.from(e[n]):z.none()},kr=function(e,n){return na.call(e,n)},qa=function(e,n){return kr(e,n)&&e[n]!==void 0&&e[n]!==null},Ro=function(e,n,a){return a===void 0&&(a=Ze),Qe(a).eq(e,n)},Ta=Array.isArray,Ko=function(e){if(Ta(e))return e;for(var n=[],a=0,i=e.length;a<i;a++)n[a]=e[a];return n},Oa=function(e,n,a){var i,s;if(!e)return!1;if(a=a||e,e.length!==void 0){for(i=0,s=e.length;i<s;i++)if(n.call(a,e[i],i,e)===!1)return!1}else for(i in e)if(e.hasOwnProperty(i)&&n.call(a,e[i],i,e)===!1)return!1;return!0},ho=function(e,n){var a=[];return Oa(e,function(i,s){a.push(n(i,s,e))}),a},ao=function(e,n){var a=[];return Oa(e,function(i,s){(!n||n(i,s,e))&&a.push(i)}),a},ur=function(e,n){if(e){for(var a=0,i=e.length;a<i;a++)if(e[a]===n)return a}return-1},ua=function(e,n,a,i){for(var s=yr(a)?e[0]:a,f=0;f<e.length;f++)s=n.call(i,s,e[f],f);return s},Pa=function(e,n,a){var i,s;for(i=0,s=e.length;i<s;i++)if(n.call(a,e[i],i,e))return i;return-1},Ga=function(e){return e[e.length-1]},Gn=function(){return Gn=Object.assign||function(n){for(var a,i=1,s=arguments.length;i<s;i++){a=arguments[i];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(n[f]=a[f])}return n},Gn.apply(this,arguments)};function oo(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)n.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(a[i[s]]=e[i[s]]);return a}function mo(){for(var e=0,n=0,a=arguments.length;n<a;n++)e+=arguments[n].length;for(var i=Array(e),s=0,n=0;n<a;n++)for(var f=arguments[n],g=0,b=f.length;g<b;g++,s++)i[s]=f[g];return i}var Po=function(e){var n=!1,a;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return n||(n=!0,a=e.apply(null,i)),a}},yo=function(e,n,a,i){var s=e.isiOS()&&/ipad/i.test(a)===!0,f=e.isiOS()&&!s,g=e.isiOS()||e.isAndroid(),b=g||i("(pointer:coarse)"),y=s||!f&&g&&i("(min-device-width:768px)"),E=f||g&&!y,P=n.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,R=!E&&!y&&!P;return{isiPad:We(s),isiPhone:We(f),isTablet:We(y),isPhone:We(E),isTouch:We(b),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:We(P),isDesktop:We(R)}},Gr=function(e,n){for(var a=0;a<e.length;a++){var i=e[a];if(i.test(n))return i}},wo=function(e,n){var a=Gr(e,n);if(!a)return{major:0,minor:0};var i=function(s){return Number(n.replace(a,"$"+s))};return Ho(i(1),i(2))},lo=function(e,n){var a=String(n).toLowerCase();return e.length===0?po():wo(e,a)},po=function(){return Ho(0,0)},Ho=function(e,n){return{major:e,minor:n}},Vo={nu:Ho,detect:lo,unknown:po},Wa=function(e,n){var a=String(n).toLowerCase();return Ir(e,function(i){return i.search(a)})},No=function(e,n){return Wa(e,n).map(function(a){var i=Vo.detect(a.versionRegexes,n);return{current:a.name,version:i}})},ce=function(e,n){return Wa(e,n).map(function(a){var i=Vo.detect(a.versionRegexes,n);return{current:a.name,version:i}})},I={detectBrowser:No,detectOs:ce},W=function(e,n){return e.substring(n)},le=function(e,n,a){return n===""||e.length>=n.length&&e.substr(a,a+n.length)===n},De=function(e,n){return tt(e,n)?W(e,n.length):e},Pe=function(e,n){return e.indexOf(n)!==-1},tt=function(e,n){return le(e,n,0)},$=function(e){return function(n){return n.replace(e,"")}},Z=$(/^\s+|\s+$/g),ye=$(/^\s+/g),ue=$(/\s+$/g),Ge=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Je=function(e){return function(n){return Pe(n,e)}},yn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Pe(e,"edge/")&&Pe(e,"chrome")&&Pe(e,"safari")&&Pe(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ge],search:function(e){return Pe(e,"chrome")&&!Pe(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Pe(e,"msie")||Pe(e,"trident")}},{name:"Opera",versionRegexes:[Ge,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Je("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Je("firefox")},{name:"Safari",versionRegexes:[Ge,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Pe(e,"safari")||Pe(e,"mobile/"))&&Pe(e,"applewebkit")}}],Jn=[{name:"Windows",search:Je("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Pe(e,"iphone")||Pe(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Je("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Je("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Je("linux"),versionRegexes:[]},{name:"Solaris",search:Je("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Je("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Je("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],$t={browsers:We(yn),oses:We(Jn)},Zn="Edge",K="Chrome",xe="IE",Oe="Opera",at="Firefox",kn="Safari",Dn=function(){return re({current:void 0,version:Vo.unknown()})},re=function(e){var n=e.current,a=e.version,i=function(s){return function(){return n===s}};return{current:n,version:a,isEdge:i(Zn),isChrome:i(K),isIE:i(xe),isOpera:i(Oe),isFirefox:i(at),isSafari:i(kn)}},_e={unknown:Dn,nu:re,edge:We(Zn),chrome:We(K),ie:We(xe),opera:We(Oe),firefox:We(at),safari:We(kn)},ct="Windows",Qt="iOS",Sn="Android",Ut="Linux",vr="OSX",gr="Solaris",Fr="FreeBSD",wa="ChromeOS",j=function(){return Fe({current:void 0,version:Vo.unknown()})},Fe=function(e){var n=e.current,a=e.version,i=function(s){return function(){return n===s}};return{current:n,version:a,isWindows:i(ct),isiOS:i(Qt),isAndroid:i(Sn),isOSX:i(vr),isLinux:i(Ut),isSolaris:i(gr),isFreeBSD:i(Fr),isChromeOS:i(wa)}},Ie={unknown:j,nu:Fe,windows:We(ct),ios:We(Qt),android:We(Sn),linux:We(Ut),osx:We(vr),solaris:We(gr),freebsd:We(Fr),chromeos:We(wa)},Be=function(e,n){var a=$t.browsers(),i=$t.oses(),s=I.detectBrowser(a,e).fold(_e.unknown,_e.nu),f=I.detectOs(i,e).fold(Ie.unknown,Ie.nu),g=yo(f,s,e,n);return{browser:s,os:f,deviceType:g}},qt={detect:Be},mr=function(e){return window.matchMedia(e).matches},sa=Po(function(){return qt.detect(navigator.userAgent,mr)}),la=function(){return sa()},Qr=navigator.userAgent,uo=la(),oa=uo.browser,ra=uo.os,bi=uo.deviceType,Yl=/WebKit/.test(Qr)&&!oa.isEdge(),Jl="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,bd=Qr.indexOf("Windows Phone")!==-1,Ln={opera:oa.isOpera(),webkit:Yl,ie:oa.isIE()||oa.isEdge()?oa.version.major:!1,gecko:oa.isFirefox(),mac:ra.isOSX()||ra.isiOS(),iOS:bi.isiPad()||bi.isiPhone(),android:ra.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:oa.isIE()?document.documentMode||7:10,fileApi:Jl,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!oa.isIE(),desktop:bi.isDesktop(),windowsPhone:bd,browser:{current:oa.current,version:oa.version,isChrome:oa.isChrome,isEdge:oa.isEdge,isFirefox:oa.isFirefox,isIE:oa.isIE,isOpera:oa.isOpera,isSafari:oa.isSafari},os:{current:ra.current,version:ra.version,isAndroid:ra.isAndroid,isChromeOS:ra.isChromeOS,isFreeBSD:ra.isFreeBSD,isiOS:ra.isiOS,isLinux:ra.isLinux,isOSX:ra.isOSX,isSolaris:ra.isSolaris,isWindows:ra.isWindows},deviceType:{isDesktop:bi.isDesktop,isiPad:bi.isiPad,isiPhone:bi.isiPhone,isPhone:bi.isPhone,isTablet:bi.isTablet,isTouch:bi.isTouch,isWebView:bi.isWebView}},Kf=/^\s*|\s*$/g,Oi=function(e){return e==null?"":(""+e).replace(Kf,"")},Zl=function(e,n){return n?n==="array"&&Ta(e)?!0:typeof e===n:e!==void 0},Ls=function(e,n,a){var i;for(e=e||[],n=n||",",typeof e=="string"&&(e=e.split(n)),a=a||{},i=e.length;i--;)a[e[i]]={};return a},Ba=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},ju=function(e,n,a){var i=this,s,f,g,b=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var y=e[3].match(/(^|\.)(\w+)$/i)[2],E=i.createNS(e[3].replace(/\.\w+$/,""),a);if(!E[y]){if(e[2]==="static"){E[y]=n,this.onCreate&&this.onCreate(e[2],e[3],E[y]);return}n[y]||(n[y]=te,b=1),E[y]=n[y],i.extend(E[y].prototype,n),e[5]&&(s=i.resolve(e[5]).prototype,f=e[5].match(/\.(\w+)$/i)[1],g=E[y],b?E[y]=function(){return s[f].apply(this,arguments)}:E[y]=function(){return this.parent=s[f],g.apply(this,arguments)},E[y].prototype[y]=E[y],i.each(s,function(P,R){E[y].prototype[R]=s[R]}),i.each(n,function(P,R){s[R]?E[y].prototype[R]=function(){return this.parent=s[R],P.apply(this,arguments)}:R!==y&&(E[y].prototype[R]=P)})),i.each(n.static,function(P,R){E[y][R]=P})}},Uo=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];for(var i=0;i<n.length;i++){var s=n[i];for(var f in s)if(s.hasOwnProperty(f)){var g=s[f];g!==void 0&&(e[f]=g)}}return e},ds=function(e,n,a,i){i=i||this,e&&(a&&(e=e[a]),Oa(e,function(s,f){if(n.call(i,s,f,a)===!1)return!1;ds(s,n,a,i)}))},fu=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0;a<e.length;a++)i=e[a],n[i]||(n[i]={}),n=n[i];return n},yi=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0,i=e.length;a<i&&(n=n[e[a]],!!n);a++);return n},$m=function(e,n){return!e||Zl(e,"array")?e:ho(e.split(n||","),Oi)},Di=function(e){var n=Ln.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e},dt={trim:Oi,isArray:Ta,is:Zl,toArray:Ko,makeMap:Ls,each:Oa,map:ho,grep:ao,inArray:ur,hasOwn:Ba,extend:Uo,create:ju,walk:ds,createNS:fu,resolve:yi,explode:$m,_addCacheSuffix:Di},Xf=function(e,n){var a=n||document,i=a.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return B(i.childNodes[0])},bo=function(e,n){var a=n||document,i=a.createElement(e);return B(i)},fc=function(e,n){var a=n||document,i=a.createTextNode(e);return B(i)},B=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},oe=function(e,n,a){return z.from(e.dom.elementFromPoint(n,a)).map(B)},L={fromHtml:Xf,fromTag:bo,fromText:fc,fromDom:B,fromPoint:oe},st=function(e,n){var a=[],i=function(f){return a.push(f),n(f)},s=n(e);do s=s.bind(i);while(s.isSome());return a},Ee=function(e,n,a){return(e.compareDocumentPosition(n)&a)!==0},sr=function(e,n){return Ee(e,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},Da=8,nr=9,ai=11,vu=1,Eo=3,_i=function(e,n){var a=e.dom;if(a.nodeType!==vu)return!1;var i=a;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},ms=function(e){return e.nodeType!==vu&&e.nodeType!==nr&&e.nodeType!==ai||e.childElementCount===0},Yf=function(e,n){var a=n===void 0?document:n.dom;return ms(a)?[]:ke(a.querySelectorAll(e),L.fromDom)},du=function(e,n){var a=n===void 0?document:n.dom;return ms(a)?z.none():z.from(a.querySelector(e)).map(L.fromDom)},xr=function(e,n){return e.dom===n.dom},oi=function(e,n){var a=e.dom,i=n.dom;return a===i?!1:a.contains(i)},Nc=function(e,n){return sr(e.dom,n.dom)},ia=function(e,n){return la().browser.isIE()?Nc(e,n):oi(e,n)};typeof window!="undefined"||Function("return this;")();var Na=function(e){var n=e.dom.nodeName;return n.toLowerCase()},Im=function(e){return e.dom.nodeType},Xo=function(e){return function(n){return Im(n)===e}},yd=function(e){return Im(e)===Da||Na(e)==="#comment"},$e=Xo(vu),Ao=Xo(Eo),vc=Xo(nr),dl=Xo(ai),Eu=function(e){return L.fromDom(e.dom.ownerDocument)},fa=function(e){return vc(e)?e:Eu(e)},no=function(e){return L.fromDom(fa(e).dom.documentElement)},Mo=function(e){return L.fromDom(fa(e).dom.defaultView)},ii=function(e){return z.from(e.dom.parentNode).map(L.fromDom)},qu=function(e,n){for(var a=kt(n)?n:hn,i=e.dom,s=[];i.parentNode!==null&&i.parentNode!==void 0;){var f=i.parentNode,g=L.fromDom(f);if(s.push(g),a(g)===!0)break;i=f}return s},Co=function(e){var n=function(a){return St(a,function(i){return!xr(e,i)})};return ii(e).map(Yo).map(n).getOr([])},Zt=function(e){return z.from(e.dom.previousSibling).map(L.fromDom)},gs=function(e){return z.from(e.dom.nextSibling).map(L.fromDom)},hs=function(e){return Kt(st(e,Zt))},ml=function(e){return st(e,gs)},Yo=function(e){return ke(e.dom.childNodes,L.fromDom)},Oo=function(e,n){var a=e.dom.childNodes;return z.from(a[n]).map(L.fromDom)},_n=function(e){return Oo(e,0)},ps=function(e){return Oo(e,e.dom.childNodes.length-1)},zm=function(e){return e.dom.childNodes.length},Hs=function(e){var n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return L.fromDom(n)},Gu=function(e){return dl(e)&&ut(e.dom.host)},Lm=kt(Element.prototype.attachShadow)&&kt(Node.prototype.getRootNode),bs=We(Lm),Au=Lm?function(e){return L.fromDom(e.dom.getRootNode())}:fa,wd=function(e){return Gu(e)?e:Hs(fa(e))},Hm=function(e){var n=Au(e);return Gu(n)?z.some(n):z.none()},Cd=function(e){return L.fromDom(e.dom.host)},Ql=function(e){if(bs()&&ut(e.target)){var n=L.fromDom(e.target);if($e(n)&&Vm(n)&&e.composed&&e.composedPath){var a=e.composedPath();if(a)return lt(a)}}return z.from(e.target)},Vm=function(e){return ut(e.dom.shadowRoot)},Ya=function(e,n){var a=ii(e);a.each(function(i){i.dom.insertBefore(n.dom,e.dom)})},Vs=function(e,n){var a=gs(e);a.fold(function(){var i=ii(e);i.each(function(s){Jo(s,n)})},function(i){Ya(i,n)})},Oh=function(e,n){var a=_n(e);a.fold(function(){Jo(e,n)},function(i){e.dom.insertBefore(n.dom,i.dom)})},Jo=function(e,n){e.dom.appendChild(n.dom)},dc=function(e,n){Ya(e,n),Jo(n,e)},ys=function(e,n){he(n,function(a){Ya(e,a)})},io=function(e,n){he(n,function(a){Jo(e,a)})},ef=function(e){e.dom.textContent="",he(Yo(e),function(n){Zo(n)})},Zo=function(e){var n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},xd=function(e){var n=Yo(e);n.length>0&&ys(e,n),Zo(e)},gl=function(e){var n=Ao(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;var a=n.ownerDocument;return Hm(L.fromDom(n)).fold(function(){return a.body.contains(n)},q(gl,Cd))},Jf=function(e,n){var a=function(i,s){return Jf(e+i,n+s)};return{left:e,top:n,translate:a}},hl=Jf,Sd=function(e){var n=e.getBoundingClientRect();return hl(n.left,n.top)},Mc=function(e,n){return e!==void 0?e:n!==void 0?n:0},Zf=function(e){var n=e.dom.ownerDocument,a=n.body,i=n.defaultView,s=n.documentElement;if(a===e.dom)return hl(a.offsetLeft,a.offsetTop);var f=Mc(i==null?void 0:i.pageYOffset,s.scrollTop),g=Mc(i==null?void 0:i.pageXOffset,s.scrollLeft),b=Mc(s.clientTop,a.clientTop),y=Mc(s.clientLeft,a.clientLeft);return Qf(e).translate(g-y,f-b)},Qf=function(e){var n=e.dom,a=n.ownerDocument,i=a.body;return i===n?hl(i.offsetLeft,i.offsetTop):gl(e)?Sd(n):hl(0,0)},ev=function(e){var n=e!==void 0?e.dom:document,a=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return hl(a,i)},Ou=function(e,n,a){var i=a!==void 0?a.dom:document,s=i.defaultView;s&&s.scrollTo(e,n)},Wi=function(e,n){var a=la().browser.isSafari();a&&kt(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Du=function(e){var n=e===void 0?window:e;return z.from(n.visualViewport)},Bi=function(e,n,a,i){return{x:e,y:n,width:a,height:i,right:e+a,bottom:n+i}},tf=function(e){var n=e===void 0?window:e,a=n.document,i=ev(L.fromDom(a));return Du(n).fold(function(){var s=n.document.documentElement,f=s.clientWidth,g=s.clientHeight;return Bi(i.left,i.top,f,g)},function(s){return Bi(Math.max(s.pageLeft,i.left),Math.max(s.pageTop,i.top),s.width,s.height)})},Fc=function(e){return function(n){return!!n&&n.nodeType===e}},ws=function(e){return!!e&&!Object.getPrototypeOf(e)},Hr=Fc(1),Ku=function(e){var n=e.map(function(a){return a.toLowerCase()});return function(a){if(a&&a.nodeName){var i=a.nodeName.toLowerCase();return Ue(n,i)}return!1}},pl=function(e,n){var a=n.toLowerCase().split(" ");return function(i){var s,f;if(Hr(i))for(s=0;s<a.length;s++){var g=i.ownerDocument.defaultView.getComputedStyle(i,null);if(f=g?g.getPropertyValue(e):null,f===a[s])return!0}return!1}},Td=function(e){return function(n){return Hr(n)&&n.hasAttribute(e)}},I1=function(e,n){return function(a){return Hr(a)&&a.getAttribute(e)===n}},bl=function(e){return Hr(e)&&e.hasAttribute("data-mce-bogus")},z1=function(e){return Hr(e)&&e.getAttribute("data-mce-bogus")==="all"},nf=function(e){return Hr(e)&&e.tagName==="TABLE"},Xu=function(e){return function(n){return!!(Hr(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e))}},A=Ku(["textarea","input"]),M=Fc(3),V=Fc(8),ge=Fc(9),He=Fc(11),Dt=Ku(["br"]),ar=Ku(["img"]),Rr=Xu("true"),_r=Xu("false"),Ea=Ku(["td","th"]),Vr=Ku(["video","audio","object","embed"]),ji=function(e){return e.style!==void 0&&kt(e.style.getPropertyValue)},Dh=function(e,n,a){if(jn(a)||Yr(a)||Vt(a))e.setAttribute(n,a+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",a,":: Element ",e),new Error("Attribute value was not simple")},Us=function(e,n,a){Dh(e.dom,n,a)},mc=function(e,n){var a=e.dom;Or(n,function(i,s){Dh(a,s,i)})},kd=function(e,n){var a=e.dom.getAttribute(n);return a===null?void 0:a},Ed=function(e,n){return z.from(kd(e,n))},Um=function(e,n){var a=e.dom;return a&&a.hasAttribute?a.hasAttribute(n):!1},mu=function(e,n){e.dom.removeAttribute(n)},L1=function(e){return Rn(e.dom.attributes,function(n,a){return n[a.name]=a.value,n},{})},Wo=function(e,n,a){if(!jn(a))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",a,":: Element ",e),new Error("CSS value must be a string: "+a);ji(e)&&e.style.setProperty(n,a)},Zx=function(e,n){var a=e.dom;Or(n,function(i,s){Wo(a,s,i)})},yl=function(e,n){var a=e.dom,i=window.getComputedStyle(a),s=i.getPropertyValue(n);return s===""&&!gl(e)?Ri(a,n):s},Ri=function(e,n){return ji(e)?e.style.getPropertyValue(n):""},qi=function(e,n){var a=e.dom,i=Ri(a,n);return z.from(i).filter(function(s){return s.length>0})},rf=function(e){var n={},a=e.dom;if(ji(a))for(var i=0;i<a.style.length;i++){var s=a.style.item(i);n[s]=a.style[s]}return n},nu=function(e){return e.dom.offsetWidth},Yy=la().browser,Cs=function(e){return Ir(e,$e)},Ad=function(e){return Yy.isFirefox()&&Na(e)==="table"?Cs(Yo(e)).filter(function(n){return Na(n)==="caption"}).bind(function(n){return Cs(ml(n)).map(function(a){var i=a.dom.offsetTop,s=n.dom.offsetTop,f=n.dom.offsetHeight;return i<=s?-f:0})}).getOr(0):0},tv=function(e,n){return e.children&&Ue(e.children,n)},_h=function(e,n,a){var i=0,s=0,f,g=e.ownerDocument,b;if(a=a||e,n){if(a===e&&n.getBoundingClientRect&&yl(L.fromDom(e),"position")==="static")return b=n.getBoundingClientRect(),i=b.left+(g.documentElement.scrollLeft||e.scrollLeft)-g.documentElement.clientLeft,s=b.top+(g.documentElement.scrollTop||e.scrollTop)-g.documentElement.clientTop,{x:i,y:s};for(f=n;f&&f!==a&&f.nodeType&&!tv(f,a);)i+=f.offsetLeft||0,s+=f.offsetTop||0,f=f.offsetParent;for(f=n.parentNode;f&&f!==a&&f.nodeType&&!tv(f,a);)i-=f.scrollLeft||0,s-=f.scrollTop||0,f=f.parentNode;s+=Ad(L.fromDom(n))}return{x:i,y:s}},wl={},Cl={exports:wl};(function(e,n,a,i){(function(s){if(typeof n=="object"&&typeof a!="undefined")a.exports=s();else if(typeof e=="function"&&e.amd)e([],s);else{var f;typeof window!="undefined"?f=window:typeof hB!="undefined"?f=hB:typeof self!="undefined"?f=self:f=this,f.EphoxContactWrapper=s()}})(function(){return function(){function s(f,g,b){function y(R,N){if(!g[R]){if(!f[R]){var X=typeof i=="function"&&i;if(!N&&X)return X(R,!0);if(E)return E(R,!0);var J=new Error("Cannot find module '"+R+"'");throw J.code="MODULE_NOT_FOUND",J}var Q=g[R]={exports:{}};f[R][0].call(Q.exports,function(G){var me=f[R][1][G];return y(me||G)},Q,Q.exports,s,f,g,b)}return g[R].exports}for(var E=typeof i=="function"&&i,P=0;P<b.length;P++)y(b[P]);return y}return s}()({1:[function(s,f,g){var b=f.exports={},y,E;function P(){throw new Error("setTimeout has not been defined")}function R(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?y=setTimeout:y=P}catch{y=P}try{typeof clearTimeout=="function"?E=clearTimeout:E=R}catch{E=R}})();function N(Tt){if(y===setTimeout)return setTimeout(Tt,0);if((y===P||!y)&&setTimeout)return y=setTimeout,setTimeout(Tt,0);try{return y(Tt,0)}catch{try{return y.call(null,Tt,0)}catch{return y.call(this,Tt,0)}}}function X(Tt){if(E===clearTimeout)return clearTimeout(Tt);if((E===R||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(Tt);try{return E(Tt)}catch{try{return E.call(null,Tt)}catch{return E.call(this,Tt)}}}var J=[],Q=!1,G,me=-1;function fe(){!Q||!G||(Q=!1,G.length?J=G.concat(J):me=-1,J.length&&be())}function be(){if(!Q){var Tt=N(fe);Q=!0;for(var jt=J.length;jt;){for(G=J,J=[];++me<jt;)G&&G[me].run();me=-1,jt=J.length}G=null,Q=!1,X(Tt)}}b.nextTick=function(Tt){var jt=new Array(arguments.length-1);if(arguments.length>1)for(var nn=1;nn<arguments.length;nn++)jt[nn-1]=arguments[nn];J.push(new Te(Tt,jt)),J.length===1&&!Q&&N(be)};function Te(Tt,jt){this.fun=Tt,this.array=jt}Te.prototype.run=function(){this.fun.apply(null,this.array)},b.title="browser",b.browser=!0,b.env={},b.argv=[],b.version="",b.versions={};function Ve(){}b.on=Ve,b.addListener=Ve,b.once=Ve,b.off=Ve,b.removeListener=Ve,b.removeAllListeners=Ve,b.emit=Ve,b.prependListener=Ve,b.prependOnceListener=Ve,b.listeners=function(Tt){return[]},b.binding=function(Tt){throw new Error("process.binding is not supported")},b.cwd=function(){return"/"},b.chdir=function(Tt){throw new Error("process.chdir is not supported")},b.umask=function(){return 0}},{}],2:[function(s,f,g){(function(b){(function(y){var E=setTimeout;function P(){}function R(be,Te){return function(){be.apply(Te,arguments)}}function N(be){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof be!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],fe(be,this)}function X(be,Te){for(;be._state===3;)be=be._value;if(be._state===0){be._deferreds.push(Te);return}be._handled=!0,N._immediateFn(function(){var Ve=be._state===1?Te.onFulfilled:Te.onRejected;if(Ve===null){(be._state===1?J:Q)(Te.promise,be._value);return}var Tt;try{Tt=Ve(be._value)}catch(jt){Q(Te.promise,jt);return}J(Te.promise,Tt)})}function J(be,Te){try{if(Te===be)throw new TypeError("A promise cannot be resolved with itself.");if(Te&&(typeof Te=="object"||typeof Te=="function")){var Ve=Te.then;if(Te instanceof N){be._state=3,be._value=Te,G(be);return}else if(typeof Ve=="function"){fe(R(Ve,Te),be);return}}be._state=1,be._value=Te,G(be)}catch(Tt){Q(be,Tt)}}function Q(be,Te){be._state=2,be._value=Te,G(be)}function G(be){be._state===2&&be._deferreds.length===0&&N._immediateFn(function(){be._handled||N._unhandledRejectionFn(be._value)});for(var Te=0,Ve=be._deferreds.length;Te<Ve;Te++)X(be,be._deferreds[Te]);be._deferreds=null}function me(be,Te,Ve){this.onFulfilled=typeof be=="function"?be:null,this.onRejected=typeof Te=="function"?Te:null,this.promise=Ve}function fe(be,Te){var Ve=!1;try{be(function(Tt){Ve||(Ve=!0,J(Te,Tt))},function(Tt){Ve||(Ve=!0,Q(Te,Tt))})}catch(Tt){if(Ve)return;Ve=!0,Q(Te,Tt)}}N.prototype.catch=function(be){return this.then(null,be)},N.prototype.then=function(be,Te){var Ve=new this.constructor(P);return X(this,new me(be,Te,Ve)),Ve},N.all=function(be){var Te=Array.prototype.slice.call(be);return new N(function(Ve,Tt){if(Te.length===0)return Ve([]);var jt=Te.length;function nn(er,Mt){try{if(Mt&&(typeof Mt=="object"||typeof Mt=="function")){var Ar=Mt.then;if(typeof Ar=="function"){Ar.call(Mt,function(Cn){nn(er,Cn)},Tt);return}}Te[er]=Mt,--jt===0&&Ve(Te)}catch(Cn){Tt(Cn)}}for(var Kn=0;Kn<Te.length;Kn++)nn(Kn,Te[Kn])})},N.resolve=function(be){return be&&typeof be=="object"&&be.constructor===N?be:new N(function(Te){Te(be)})},N.reject=function(be){return new N(function(Te,Ve){Ve(be)})},N.race=function(be){return new N(function(Te,Ve){for(var Tt=0,jt=be.length;Tt<jt;Tt++)be[Tt].then(Te,Ve)})},N._immediateFn=typeof b=="function"?function(be){b(be)}:function(be){E(be,0)},N._unhandledRejectionFn=function(Te){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",Te)},N._setImmediateFn=function(Te){N._immediateFn=Te},N._setUnhandledRejectionFn=function(Te){N._unhandledRejectionFn=Te},typeof f!="undefined"&&f.exports?f.exports=N:y.Promise||(y.Promise=N)})(this)}).call(this,s("timers").setImmediate)},{timers:3}],3:[function(s,f,g){(function(b,y){var E=s("process/browser.js").nextTick,P=Function.prototype.apply,R=Array.prototype.slice,N={},X=0;g.setTimeout=function(){return new J(P.call(setTimeout,window,arguments),clearTimeout)},g.setInterval=function(){return new J(P.call(setInterval,window,arguments),clearInterval)},g.clearTimeout=g.clearInterval=function(Q){Q.close()};function J(Q,G){this._id=Q,this._clearFn=G}J.prototype.unref=J.prototype.ref=function(){},J.prototype.close=function(){this._clearFn.call(window,this._id)},g.enroll=function(Q,G){clearTimeout(Q._idleTimeoutId),Q._idleTimeout=G},g.unenroll=function(Q){clearTimeout(Q._idleTimeoutId),Q._idleTimeout=-1},g._unrefActive=g.active=function(Q){clearTimeout(Q._idleTimeoutId);var G=Q._idleTimeout;G>=0&&(Q._idleTimeoutId=setTimeout(function(){Q._onTimeout&&Q._onTimeout()},G))},g.setImmediate=typeof b=="function"?b:function(Q){var G=X++,me=arguments.length<2?!1:R.call(arguments,1);return N[G]=!0,E(function(){N[G]&&(me?Q.apply(null,me):Q.call(null),g.clearImmediate(G))}),G},g.clearImmediate=typeof y=="function"?y:function(Q){delete N[Q]}}).call(this,s("timers").setImmediate,s("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(s,f,g){var b=s("promise-polyfill"),y=function(){return typeof window!="undefined"?window:Function("return this;")()}();f.exports={boltExport:y.Promise||b}},{"promise-polyfill":2}]},{},[4])(4)})})(void 0,wl,Cl,void 0);var Wm=Cl.exports.boltExport,Od=function(e){var n=z.none(),a=[],i=function(E){return Od(function(P){s(function(R){P(E(R))})})},s=function(E){g()?y(E):a.push(E)},f=function(E){g()||(n=z.some(E),b(a),a=[])},g=function(){return n.isSome()},b=function(E){he(E,y)},y=function(E){n.each(function(P){setTimeout(function(){E(P)},0)})};return e(f),{get:s,map:i,isReady:g}},Qx=function(e){return Od(function(n){n(e)})},Dd={nu:Od,pure:Qx},jm=function(e){setTimeout(function(){throw e},0)},$c=function(e){var n=function(y){e().then(y,jm)},a=function(y){return $c(function(){return e().then(y)})},i=function(y){return $c(function(){return e().then(function(E){return y(E).toPromise()})})},s=function(y){return $c(function(){return e().then(function(){return y.toPromise()})})},f=function(){return Dd.nu(n)},g=function(){var y=null;return $c(function(){return y===null&&(y=e()),y})},b=e;return{map:a,bind:i,anonBind:s,toLazy:f,toCached:g,toPromise:b,get:n}},H1=function(e){return $c(function(){return new Wm(e)})},eS=function(e){return $c(function(){return Wm.resolve(e)})},xo={nu:H1,pure:eS},Jy=function(e,n){return n(function(a){var i=[],s=0,f=function(g){return function(b){i[g]=b,s++,s>=e.length&&a(i)}};e.length===0?a([]):he(e,function(g,b){g.get(f(b))})})},Ic=function(e){return Jy(e,xo.nu)},af=function(e){var n=function(N){return e===N},a=function(N){return af(e)},i=function(N){return af(e)},s=function(N){return af(N(e))},f=function(N){return af(e)},g=function(N){N(e)},b=function(N){return N(e)},y=function(N,X){return X(e)},E=function(N){return N(e)},P=function(N){return N(e)},R=function(){return z.some(e)};return{is:n,isValue:an,isError:hn,getOr:We(e),getOrThunk:We(e),getOrDie:We(e),or:a,orThunk:i,fold:y,map:s,mapError:f,each:g,bind:b,exists:E,forall:P,toOptional:R}},xl=function(e){var n=function(E){return E()},a=function(){return S(String(e))()},i=function(E){return E},s=function(E){return E()},f=function(E){return xl(e)},g=function(E){return xl(E(e))},b=function(E){return xl(e)},y=function(E,P){return E(e)};return{is:hn,isValue:hn,isError:an,getOr:dn,getOrThunk:n,getOrDie:a,or:i,orThunk:s,fold:y,map:f,mapError:g,each:te,bind:b,exists:hn,forall:an,toOptional:z.none}},zc=function(e,n){return e.fold(function(){return xl(n)},af)},ru={value:af,error:xl,fromOption:zc},qm=function(e){if(!mt(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var n=[],a={};return he(e,function(i,s){var f=Pr(i);if(f.length!==1)throw new Error("one and only one name per case");var g=f[0],b=i[g];if(a[g]!==void 0)throw new Error("duplicate key detected:"+g);if(g==="cata")throw new Error("cannot have a case named cata (sorry)");if(!mt(b))throw new Error("case arguments must be an array");n.push(g),a[g]=function(){for(var y=[],E=0;E<arguments.length;E++)y[E]=arguments[E];var P=y.length;if(P!==b.length)throw new Error("Wrong number of arguments to case "+g+". Expected "+b.length+" ("+b+"), got "+P);var R=function(N){var X=Pr(N);if(n.length!==X.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+X.join(","));var J=Jt(n,function(Q){return Ue(X,Q)});if(!J)throw new Error("Not all branches were specified when using match. Specified: "+X.join(", ")+`
Required: `+n.join(", "));return N[g].apply(null,y)};return{fold:function(){for(var N=[],X=0;X<arguments.length;X++)N[X]=arguments[X];if(N.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+N.length);var J=N[s];return J.apply(null,y)},match:R,log:function(N){console.log(N,{constructors:n,constructor:g,params:y})}}}}),a},xs={generate:qm};xs.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Zy=function(e){return e.fold(dn,dn)};function Gm(e,n,a,i,s){return e(a,i)?z.some(a):kt(s)&&s(a)?z.none():n(a,i,s)}var of=function(e,n,a){for(var i=e.dom,s=kt(a)?a:hn;i.parentNode;){i=i.parentNode;var f=L.fromDom(i);if(n(f))return z.some(f);if(s(f))break}return z.none()},nv=function(e,n,a){var i=function(s,f){return f(s)};return Gm(i,of,e,n,a)},tS=function(e,n){var a=e.dom;return a.parentNode?Sl(L.fromDom(a.parentNode),function(i){return!xr(e,i)&&n(i)}):z.none()},Sl=function(e,n){var a=function(s){return n(L.fromDom(s))},i=Ir(e.dom.childNodes,a);return i.map(L.fromDom)},uf=function(e,n,a){return of(e,function(i){return _i(i,n)},a)},Tl=function(e,n){return du(n,e)},kl=function(e,n,a){var i=function(s,f){return _i(s,f)};return Gm(i,uf,e,n,a)},Km=function(){var e=function(P,R){return function(){for(var N=[],X=0;X<arguments.length;X++)N[X]=arguments[X];P.apply(R,N)}},n=Array.isArray||function(P){return Object.prototype.toString.call(P)==="[object Array]"},a=function(P){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof P!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],E(P,e(f,this),e(g,this))},i=a.immediateFn||typeof setImmediate=="function"&&setImmediate||function(P){return setTimeout(P,1)};function s(P){var R=this;if(this._state===null){this._deferreds.push(P);return}i(function(){var N=R._state?P.onFulfilled:P.onRejected;if(N===null){(R._state?P.resolve:P.reject)(R._value);return}var X;try{X=N(R._value)}catch(J){P.reject(J);return}P.resolve(X)})}function f(P){try{if(P===this)throw new TypeError("A promise cannot be resolved with itself.");if(P&&(typeof P=="object"||typeof P=="function")){var R=P.then;if(typeof R=="function"){E(e(R,P),e(f,this),e(g,this));return}}this._state=!0,this._value=P,b.call(this)}catch(N){g.call(this,N)}}function g(P){this._state=!1,this._value=P,b.call(this)}function b(){for(var P=0,R=this._deferreds.length;P<R;P++)s.call(this,this._deferreds[P]);this._deferreds=null}function y(P,R,N,X){this.onFulfilled=typeof P=="function"?P:null,this.onRejected=typeof R=="function"?R:null,this.resolve=N,this.reject=X}var E=function(P,R,N){var X=!1;try{P(function(J){X||(X=!0,R(J))},function(J){X||(X=!0,N(J))})}catch(J){if(X)return;X=!0,N(J)}};return a.prototype.catch=function(P){return this.then(null,P)},a.prototype.then=function(P,R){var N=this;return new a(function(X,J){s.call(N,new y(P,R,X,J))})},a.all=function(){for(var P=[],R=0;R<arguments.length;R++)P[R]=arguments[R];var N=Array.prototype.slice.call(P.length===1&&n(P[0])?P[0]:P);return new a(function(X,J){if(N.length===0)return X([]);for(var Q=N.length,G=function(fe,be){try{if(be&&(typeof be=="object"||typeof be=="function")){var Te=be.then;if(typeof Te=="function"){Te.call(be,function(Ve){G(fe,Ve)},J);return}}N[fe]=be,--Q===0&&X(N)}catch(Ve){J(Ve)}},me=0;me<N.length;me++)G(me,N[me])})},a.resolve=function(P){return P&&typeof P=="object"&&P.constructor===a?P:new a(function(R){R(P)})},a.reject=function(P){return new a(function(R,N){N(P)})},a.race=function(P){return new a(function(R,N){for(var X=0,J=P.length;X<J;X++)P[X].then(R,N)})},a},Fo=window.Promise?window.Promise:Km(),Bh,Qy=function(e,n){for(var a=window.requestAnimationFrame,i=["ms","moz","webkit"],s=function(g){window.setTimeout(g,0)},f=0;f<i.length&&!a;f++)a=window[i[f]+"RequestAnimationFrame"];a||(a=s),a(e,n)},_d=function(e,n){return typeof n!="number"&&(n=0),setTimeout(e,n)},Rh=function(e,n){return typeof n!="number"&&(n=1),setInterval(e,n)},rv=function(e){return clearTimeout(e)},ew=function(e){return clearInterval(e)},Ph=function(e,n){var a,i=function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];clearTimeout(a),a=_d(function(){e.apply(this,s)},n)};return i.stop=function(){clearTimeout(a)},i},Lr={requestAnimationFrame:function(e,n){if(Bh){Bh.then(e);return}Bh=new Fo(function(a){n||(n=document.body),Qy(a,n)}).then(e)},setTimeout:_d,setInterval:Rh,setEditorTimeout:function(e,n,a){return _d(function(){e.removed||n()},a)},setEditorInterval:function(e,n,a){var i=Rh(function(){e.removed?clearInterval(i):n()},a);return i},debounce:Ph,throttle:Ph,clearInterval:ew,clearTimeout:rv},Sr=function(e,n){n===void 0&&(n={});var a=0,i={},s=L.fromDom(e),f=fa(s),g=n.maxLoadTime||5e3,b=function(G){n.referrerPolicy=G},y=function(G){Jo(wd(s),G)},E=function(G){var me=wd(s);Tl(me,"#"+G).each(Zo)},P=function(G){return Nr(i,G).getOrThunk(function(){return{id:"mce-u"+a++,passed:[],failed:[],count:0}})},R=function(G,me,fe){var be,Te=dt._addCacheSuffix(G),Ve=P(Te);i[Te]=Ve,Ve.count++;var Tt=function(Cn,Yn){for(var en=Cn.length;en--;)Cn[en]();Ve.status=Yn,Ve.passed=[],Ve.failed=[],be&&(be.onload=null,be.onerror=null,be=null)},jt=function(){return Tt(Ve.passed,2)},nn=function(){return Tt(Ve.failed,3)},Kn=function(Cn,Yn){Cn()||(Date.now()-Ar<g?Lr.setTimeout(Yn):nn())},er=function(){Kn(function(){for(var Cn=e.styleSheets,Yn=Cn.length;Yn--;){var en=Cn[Yn],En=en.ownerNode;if(En&&En.id===be.id)return jt(),!0}return!1},er)};if(me&&Ve.passed.push(me),fe&&Ve.failed.push(fe),Ve.status!==1){if(Ve.status===2){jt();return}if(Ve.status===3){nn();return}Ve.status=1;var Mt=L.fromTag("link",f.dom);mc(Mt,{rel:"stylesheet",type:"text/css",id:Ve.id});var Ar=Date.now();n.contentCssCors&&Us(Mt,"crossOrigin","anonymous"),n.referrerPolicy&&Us(Mt,"referrerpolicy",n.referrerPolicy),be=Mt.dom,be.onload=er,be.onerror=nn,y(Mt),Us(Mt,"href",Te)}},N=function(G){return xo.nu(function(me){R(G,vt(me,We(ru.value(G))),vt(me,We(ru.error(G))))})},X=function(G,me,fe){Ic(ke(G,N)).get(function(be){var Te=pn(be,function(Ve){return Ve.isValue()});Te.fail.length>0?fe(Te.fail.map(Zy)):me(Te.pass.map(Zy))})},J=function(G){var me=dt._addCacheSuffix(G);Nr(i,me).each(function(fe){var be=--fe.count;be===0&&(delete i[me],E(fe.id))})},Q=function(G){he(G,function(me){J(me)})};return{load:R,loadAll:X,unload:J,unloadAll:Q,_setReferrerPolicy:b}},av=function(){var e=new WeakMap,n=function(a,i){var s=Au(a),f=s.dom;return z.from(e.get(f)).getOrThunk(function(){var g=Sr(f,i);return e.set(f,g),g})};return{forElement:n}},Xm=av(),jo=function(){function e(n,a){this.node=n,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node},e.prototype.prev=function(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node},e.prototype.prev2=function(n){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",n),this.node},e.prototype.findSibling=function(n,a,i,s){var f,g;if(n){if(!s&&n[a])return n[a];if(n!==this.rootNode){if(f=n[i],f)return f;for(g=n.parentNode;g&&g!==this.rootNode;g=g.parentNode)if(f=g[i],f)return f}}},e.prototype.findPreviousNode=function(n,a,i,s){var f,g,b;if(n){if(f=n[i],this.rootNode&&f===this.rootNode)return;if(f){if(!s){for(b=f[a];b;b=b[a])if(!b[a])return b}return f}if(g=n.parentNode,g&&g!==this.rootNode)return g}},e}(),V1=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],ma=["td","th"],Nh=["thead","tbody","tfoot"],U1=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],W1=["h1","h2","h3","h4","h5","h6"],_t=["li","dd","dt"],j1=["ul","ol","dl"],tw=["pre","script","textarea","style"],gc=function(e){var n;return function(a){return n=n||Nn(e,an),n.hasOwnProperty(Na(a))}},nw=gc(W1),Gi=gc(V1),Mh=function(e){return Na(e)==="table"},Lc=function(e){return $e(e)&&!Gi(e)},Yu=function(e){return $e(e)&&Na(e)==="br"},ov=gc(U1),so=gc(j1),au=gc(_t),nS=gc(Nh),Ss=gc(ma),Ju=gc(tw),rw=function(e,n,a){return uf(e,n,a).isSome()},iv="\uFEFF",ui="\xA0",uv=function(e){return e===iv},q1=function(e){return e.replace(/\uFEFF/g,"")},Pi=iv,Ts=uv,ks=q1,G1=Hr,hc=M,wi=function(e){return hc(e)&&(e=e.parentNode),G1(e)&&e.hasAttribute("data-mce-caret")},Bd=function(e){return hc(e)&&Ts(e.data)},gu=function(e){return wi(e)||Bd(e)},Ym=function(e){return e.firstChild!==e.lastChild||!Dt(e.firstChild)},pc=function(e,n){var a,i=e.ownerDocument,s=i.createTextNode(Pi),f=e.parentNode;if(n){if(a=e.previousSibling,hc(a)){if(gu(a))return a;if(qo(a))return a.splitText(a.data.length-1)}f.insertBefore(s,e)}else{if(a=e.nextSibling,hc(a)){if(gu(a))return a;if(Fh(a))return a.splitText(1),a}e.nextSibling?f.insertBefore(s,e.nextSibling):f.appendChild(s)}return s},Jm=function(e){var n=e.container();return M(n)?n.data.charAt(e.offset())===Pi||e.isAtStart()&&Bd(n.previousSibling):!1},K1=function(e){var n=e.container();return M(n)?n.data.charAt(e.offset()-1)===Pi||e.isAtEnd()&&Bd(n.nextSibling):!1},X1=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},Y1=function(e,n,a){var i=n.ownerDocument,s=i.createElement(e);s.setAttribute("data-mce-caret",a?"before":"after"),s.setAttribute("data-mce-bogus","all"),s.appendChild(X1());var f=n.parentNode;return a?f.insertBefore(s,n):n.nextSibling?f.insertBefore(s,n.nextSibling):f.appendChild(s),s},Fh=function(e){return hc(e)&&e.data[0]===Pi},qo=function(e){return hc(e)&&e.data[e.data.length-1]===Pi},$h=function(e){var n=e.getElementsByTagName("br"),a=n[n.length-1];bl(a)&&a.parentNode.removeChild(a)},J1=function(e){return e&&e.hasAttribute("data-mce-caret")?($h(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},aw=function(e){return wi(e.startContainer)},Ih=Rr,zh=_r,Z1=Dt,Lh=M,ow=Ku(["script","style","textarea"]),Q1=Ku(["img","input","textarea","hr","iframe","video","audio","object","embed"]),_u=Ku(["table"]),rS=gu,Hc=function(e){return rS(e)?!1:Lh(e)?!ow(e.parentNode):Q1(e)||Z1(e)||_u(e)||Zm(e)},iw=function(e){return Hr(e)&&e.getAttribute("unselectable")==="true"},Zm=function(e){return iw(e)===!1&&zh(e)},sf=function(e,n){for(e=e.parentNode;e&&e!==n;e=e.parentNode){if(Zm(e))return!1;if(Ih(e))return!0}return!0},sv=function(e){return Zm(e)?Rn(or(e.getElementsByTagName("*")),function(n,a){return n||Ih(a)},!1)!==!0:!1},uw=function(e){return Q1(e)||sv(e)},Rd=function(e,n){return Hc(e)&&sf(e,n)},Qm=/^[ \t\r\n]*$/,cv=function(e){return Qm.test(e)},sw=function(e,n){var a=L.fromDom(n),i=L.fromDom(e);return rw(i,"pre,code",Xe(xr,a))},ga=function(e,n){return M(e)&&cv(e.data)&&sw(e,n)===!1},cw=function(e){return Hr(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},Ci=function(e,n){return Hc(e)&&ga(e,n)===!1||cw(e)||lv(e)},lv=Td("data-mce-bookmark"),lw=Td("data-mce-bogus"),Bu=I1("data-mce-bogus","all"),aS=function(e,n){var a,i=0;if(Ci(e,e))return!1;if(a=e.firstChild,!a)return!0;var s=new jo(a,e);do{if(n){if(Bu(a)){a=s.next(!0);continue}if(lw(a)){a=s.next();continue}}if(Dt(a)){i++,a=s.next();continue}if(Ci(a,e))return!1;a=s.next()}while(a);return i<=1},Zu=function(e,n){return n===void 0&&(n=!0),aS(e.dom,n)},oS=function(e){return e.nodeName.toLowerCase()==="span"},El=function(e,n){return ut(e)&&(Ci(e,n)||Lc(L.fromDom(e)))},iS=function(e,n){var a=new jo(e,n).prev(!1),i=new jo(e,n).next(!1),s=yr(a)||El(a,n),f=yr(i)||El(i,n);return s&&f},eb=function(e){return oS(e)&&e.getAttribute("data-mce-type")==="bookmark"},fw=function(e,n){return M(e)&&e.data.length>0&&iS(e,n)},vw=function(e){return Hr(e)?e.childNodes.length>0:!1},Qn=function(e){return He(e)||ge(e)},tb=function(e,n,a){var i=a||n;if(Hr(n)&&eb(n))return n;for(var s=n.childNodes,f=s.length-1;f>=0;f--)tb(e,s[f],i);if(Hr(n)){var g=n.childNodes;g.length===1&&eb(g[0])&&n.parentNode.insertBefore(g[0],n)}return!Qn(n)&&!Ci(n,i)&&!vw(n)&&!fw(n,i)&&e.remove(n),n},dw=dt.makeMap,Hh=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fv=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nb=/[<>&\"\']/g,Vh=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,eg={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},bc={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},rb={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},tg=function(e){var n=L.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},mw=function(e,n){var a,i,s,f={};if(e){for(e=e.split(","),n=n||10,a=0;a<e.length;a+=2)i=String.fromCharCode(parseInt(e[a],n)),bc[i]||(s="&"+e[a+1]+";",f[i]=s,f[s]=i);return f}},ab=mw("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),hu=function(e,n){return e.replace(n?Hh:fv,function(a){return bc[a]||a})},Uh=function(e){return(""+e).replace(nb,function(n){return bc[n]||n})},ob=function(e,n){return e.replace(n?Hh:fv,function(a){return a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":bc[a]||"&#"+a.charCodeAt(0)+";"})},Pd=function(e,n,a){return a=a||ab,e.replace(n?Hh:fv,function(i){return bc[i]||a[i]||i})},gw=function(e,n){var a=mw(n)||ab,i=function(g,b){return g.replace(b?Hh:fv,function(y){return bc[y]!==void 0?bc[y]:a[y]!==void 0?a[y]:y.length>1?"&#"+((y.charCodeAt(0)-55296)*1024+(y.charCodeAt(1)-56320)+65536)+";":"&#"+y.charCodeAt(0)+";"})},s=function(g,b){return Pd(g,b,a)},f=dw(e.replace(/\+/g,","));return f.named&&f.numeric?i:f.named?n?s:Pd:f.numeric?ob:hu},uS=function(e){return e.replace(Vh,function(n,a){return a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):eg[a]||String.fromCharCode(a)):rb[n]||ab[n]||tg(n)})},Ru={encodeRaw:hu,encodeAllRaw:Uh,encodeNumeric:ob,encodeNamed:Pd,getEncodeFunc:gw,decode:uS},Ki={},Es={},Nd=dt.makeMap,ou=dt.each,ib=dt.extend,ub=dt.explode,Ws=dt.inArray,xi=function(e,n){return e=dt.trim(e),e?e.split(n||" "):[]},cf=function(e){var n={},a,i,s,f,g,b,y=function(P,R,N){var X,J,Q,G=function(fe,be){var Te={},Ve,Tt;for(Ve=0,Tt=fe.length;Ve<Tt;Ve++)Te[fe[Ve]]=be||{};return Te};N=N||[],R=R||"",typeof N=="string"&&(N=xi(N));var me=xi(P);for(X=me.length;X--;)J=xi([a,R].join(" ")),Q={attributes:G(J),attributesOrder:J,children:G(N,Es)},n[me[X]]=Q},E=function(P,R){var N,X,J,Q,G=xi(P);N=G.length;for(var me=xi(R);N--;)for(X=n[G[N]],J=0,Q=me.length;J<Q;J++)X.attributes[me[J]]={},X.attributesOrder.push(me[J])};return Ki[e]?Ki[e]:(a="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",s="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",s+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(a+=" xml:lang",b="acronym applet basefont big font strike tt",s=[s,b].join(" "),ou(xi(b),function(P){y(P,"",s)}),g="center dir isindex noframes",i=[i,g].join(" "),f=[i,s].join(" "),ou(xi(g),function(P){y(P,"",f)})),f=f||[i,s].join(" "),y("html","manifest","head body"),y("head","","base command link meta noscript script style title"),y("title hr noscript br"),y("base","href target"),y("link","href rel media hreflang type sizes hreflang"),y("meta","name http-equiv content charset"),y("style","media type scoped"),y("script","src async defer type charset"),y("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",f),y("address dt dd div caption","",f),y("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",s),y("blockquote","cite",f),y("ol","reversed start type","li"),y("ul","","li"),y("li","value",f),y("dl","","dt dd"),y("a","href target rel media hreflang type",s),y("q","cite",s),y("ins del","cite datetime",f),y("img","src sizes srcset alt usemap ismap width height"),y("iframe","src name width height",f),y("embed","src type width height"),y("object","data type typemustmatch name usemap form width height",[f,"param"].join(" ")),y("param","name value"),y("map","name",[f,"area"].join(" ")),y("area","alt coords shape href target rel media hreflang type"),y("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),y("colgroup","span","col"),y("col","span"),y("tbody thead tfoot","","tr"),y("tr","","td th"),y("td","colspan rowspan headers",f),y("th","colspan rowspan headers scope abbr",f),y("form","accept-charset action autocomplete enctype method name novalidate target",f),y("fieldset","disabled form name",[f,"legend"].join(" ")),y("label","form for",s),y("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),y("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?f:s),y("select","disabled form multiple name required size","option optgroup"),y("optgroup","disabled label","option"),y("option","disabled label selected value"),y("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),y("menu","type label",[f,"li"].join(" ")),y("noscript","",f),e!=="html4"&&(y("wbr"),y("ruby","",[s,"rt rp"].join(" ")),y("figcaption","",f),y("mark rt rp summary bdi","",s),y("canvas","width height",f),y("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[f,"track source"].join(" ")),y("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[f,"track source"].join(" ")),y("picture","","img source"),y("source","src srcset type media sizes"),y("track","kind src srclang label default"),y("datalist","",[s,"option"].join(" ")),y("article section nav aside main header footer","",f),y("hgroup","","h1 h2 h3 h4 h5 h6"),y("figure","",[f,"figcaption"].join(" ")),y("time","datetime",s),y("dialog","open",f),y("command","type label icon disabled checked radiogroup command"),y("output","for form name",s),y("progress","value max",s),y("meter","value min max low high optimum",s),y("details","open",[f,"summary"].join(" ")),y("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(E("script","language xml:space"),E("style","xml:space"),E("object","declare classid code codebase codetype archive standby align border hspace vspace"),E("embed","align name hspace vspace"),E("param","valuetype type"),E("a","charset name rev shape coords"),E("br","clear"),E("applet","codebase archive code object alt name width height align hspace vspace"),E("img","name longdesc align border hspace vspace"),E("iframe","longdesc frameborder marginwidth marginheight scrolling align"),E("font basefont","size color face"),E("input","usemap align"),E("select"),E("textarea"),E("h1 h2 h3 h4 h5 h6 div p legend caption","align"),E("ul","type compact"),E("li","type"),E("ol dl menu dir","compact"),E("pre","width xml:space"),E("hr","align noshade size width"),E("isindex","prompt"),E("table","summary width frame rules cellspacing cellpadding align bgcolor"),E("col","width align char charoff valign"),E("colgroup","width align char charoff valign"),E("thead","align char charoff valign"),E("tr","align char charoff valign bgcolor"),E("th","axis align char charoff valign nowrap bgcolor width height"),E("form","accept"),E("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),E("tfoot","align char charoff valign"),E("tbody","align char charoff valign"),E("area","nohref"),E("body","background bgcolor text link vlink alink")),e!=="html4"&&(E("input button select textarea","autofocus"),E("input textarea","placeholder"),E("a","download"),E("link script img","crossorigin"),E("img","loading"),E("iframe","sandbox seamless allowfullscreen loading")),ou(xi("a form meter progress dfn"),function(P){n[P]&&delete n[P].children[P]}),delete n.caption.children.table,delete n.script,Ki[e]=n,n)},sb=function(e,n){var a;return e&&(a={},typeof e=="string"&&(e={"*":e}),ou(e,function(i,s){a[s]=a[s.toUpperCase()]=n==="map"?Nd(i,/[, ]/):ub(i,/[, ]/)})),a},lf=function(e){var n={},a={},i=[],s={},f={},g=function(An,ln,ot){var sn=e[An];return sn?sn=Nd(sn,/[, ]/,Nd(sn.toUpperCase(),/[, ]/)):(sn=Ki[An],sn||(sn=Nd(ln," ",Nd(ln.toUpperCase()," ")),sn=ib(sn,ot),Ki[An]=sn)),sn};e=e||{};var b=cf(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var y=sb(e.valid_styles),E=sb(e.invalid_styles,"map"),P=sb(e.valid_classes,"map"),R=g("whitespace_elements","pre script noscript style textarea video audio iframe object code"),N=g("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),X=g("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),J=g("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),Q="td th iframe video audio object script code",G=g("non_empty_elements",Q+" pre",X),me=g("move_caret_before_on_enter_elements",Q+" table",X),fe=g("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),be=g("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",fe),Te=g("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");ou((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(An){f[An]=new RegExp("</"+An+"[^>]*>","gi")});var Ve=function(An){return new RegExp("^"+An.replace(/([?+*])/g,".$1")+"$")},Tt=function(An){var ln,ot,sn,xn,$r,hr,to,pi,lu,Uu,Is,Wu,ri,tu,zs,fl,co,Xa,Ui=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,ql=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,Gl=/[*?+]/;if(An){var ic=xi(An,",");for(n["@"]&&(fl=n["@"].attributes,co=n["@"].attributesOrder),ln=0,ot=ic.length;ln<ot;ln++)if($r=Ui.exec(ic[ln]),$r){if(tu=$r[1],lu=$r[2],zs=$r[3],pi=$r[5],Wu={},ri=[],hr={attributes:Wu,attributesOrder:ri},tu==="#"&&(hr.paddEmpty=!0),tu==="-"&&(hr.removeEmpty=!0),$r[4]==="!"&&(hr.removeEmptyAttrs=!0),fl&&(Or(fl,function(Bm,P1){Wu[P1]=Bm}),ri.push.apply(ri,co)),pi){for(pi=xi(pi,"|"),sn=0,xn=pi.length;sn<xn;sn++)if($r=ql.exec(pi[sn]),$r){if(to={},Is=$r[1],Uu=$r[2].replace(/[\\:]:/g,":"),tu=$r[3],Xa=$r[4],Is==="!"&&(hr.attributesRequired=hr.attributesRequired||[],hr.attributesRequired.push(Uu),to.required=!0),Is==="-"){delete Wu[Uu],ri.splice(Ws(ri,Uu),1);continue}tu&&(tu==="="&&(hr.attributesDefault=hr.attributesDefault||[],hr.attributesDefault.push({name:Uu,value:Xa}),to.defaultValue=Xa),tu===":"&&(hr.attributesForced=hr.attributesForced||[],hr.attributesForced.push({name:Uu,value:Xa}),to.forcedValue=Xa),tu==="<"&&(to.validValues=Nd(Xa,"?"))),Gl.test(Uu)?(hr.attributePatterns=hr.attributePatterns||[],to.pattern=Ve(Uu),hr.attributePatterns.push(to)):(Wu[Uu]||ri.push(Uu),Wu[Uu]=to)}}!fl&&lu==="@"&&(fl=Wu,co=ri),zs&&(hr.outputName=lu,n[zs]=hr),Gl.test(lu)?(hr.pattern=Ve(lu),i.push(hr)):n[lu]=hr}}},jt=function(An){n={},i=[],Tt(An),ou(b,function(ln,ot){a[ot]=ln.children})},nn=function(An){var ln=/^(~)?(.+)$/;An&&(Ki.text_block_elements=Ki.block_elements=null,ou(xi(An,","),function(ot){var sn=ln.exec(ot),xn=sn[1]==="~",$r=xn?"span":"div",hr=sn[2];if(a[hr]=a[$r],s[hr]=$r,xn||(be[hr.toUpperCase()]={},be[hr]={}),!n[hr]){var to=n[$r];to=ib({},to),delete to.removeEmptyAttrs,delete to.removeEmpty,n[hr]=to}ou(a,function(pi,lu){pi[$r]&&(a[lu]=pi=ib({},a[lu]),pi[hr]=pi[$r])})}))},Kn=function(An){var ln=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Ki[e.schema]=null,An&&ou(xi(An,","),function(ot){var sn=ln.exec(ot),xn,$r;sn&&($r=sn[1],$r?xn=a[sn[2]]:xn=a[sn[2]]={"#comment":{}},xn=a[sn[2]],ou(xi(sn[3],"|"),function(hr){$r==="-"?delete xn[hr]:xn[hr]={}}))})},er=function(An){var ln=n[An],ot;if(ln)return ln;for(ot=i.length;ot--;)if(ln=i[ot],ln.pattern.test(An))return ln};e.valid_elements?jt(e.valid_elements):(ou(b,function(An,ln){n[ln]={attributes:An.attributes,attributesOrder:An.attributesOrder},a[ln]=An.children}),e.schema!=="html5"&&ou(xi("strong/b em/i"),function(An){var ln=xi(An,"/");n[ln[1]].outputName=ln[0]}),ou(xi("ol ul sub sup blockquote span font a table tbody strong em b i"),function(An){n[An]&&(n[An].removeEmpty=!0)}),ou(xi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(An){n[An].paddEmpty=!0}),ou(xi("span"),function(An){n[An].removeEmptyAttrs=!0})),nn(e.custom_elements),Kn(e.valid_children),Tt(e.extended_valid_elements),Kn("+ol[ul|ol],+ul[ul|ol]"),ou({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(An,ln){n[ln]&&(n[ln].parentsRequired=xi(An))}),e.invalid_elements&&ou(ub(e.invalid_elements),function(An){n[An]&&delete n[An]}),er("span")||Tt("span[!data-mce-type|*]");var Mt=function(){return y},Ar=function(){return E},Cn=function(){return P},Yn=function(){return J},en=function(){return be},En=function(){return fe},Hn=function(){return Te},Ht=function(){return X},Un=function(){return N},pa=function(){return G},eo=function(){return me},La=function(){return R},_o=function(){return f},ni=function(An,ln){var ot=a[An.toLowerCase()];return!!(ot&&ot[ln.toLowerCase()])},Wn=function(An,ln){var ot,sn,xn=er(An);if(xn)if(ln){if(xn.attributes[ln])return!0;if(ot=xn.attributePatterns,ot){for(sn=ot.length;sn--;)if(ot[sn].pattern.test(An))return!0}}else return!0;return!1},Xn=function(){return s};return{children:a,elements:n,getValidStyles:Mt,getValidClasses:Cn,getBlockElements:en,getInvalidStyles:Ar,getShortEndedElements:Ht,getTextBlockElements:En,getTextInlineElements:Hn,getBoolAttrs:Yn,getElementRule:er,getSelfClosingElements:Un,getNonEmptyElements:pa,getMoveCaretBeforeOnEnterElements:eo,getWhiteSpaceElements:La,getSpecialElements:_o,isValidChild:ni,isValid:Wn,getCustomElements:Xn,addValidElements:Tt,setValidElements:jt,addCustomElements:nn,addValidChildren:Kn}},cb=function(e,n,a,i){var s=function(f){return f=parseInt(f,10).toString(16),f.length>1?f:"0"+f};return"#"+s(n)+s(a)+s(i)},Md=function(e,n){var a=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,g=/\s+$/,b,y={},E,P,R=iv;e=e||{},n&&(E=n.getValidStyles(),P=n.getInvalidStyles());var N=(`\\" \\' \\; \\: ; : `+R).split(" ");for(b=0;b<N.length;b++)y[N[b]]=R+b,y[R+b]=N[b];return{toHex:function(X){return X.replace(i,cb)},parse:function(X){var J={},Q,G,me,fe,be=e.url_converter,Te=e.url_converter_scope||a,Ve=function(Cn,Yn,en){var En=J[Cn+"-top"+Yn];if(!!En){var Hn=J[Cn+"-right"+Yn];if(!!Hn){var Ht=J[Cn+"-bottom"+Yn];if(!!Ht){var Un=J[Cn+"-left"+Yn];if(!!Un){var pa=[En,Hn,Ht,Un];for(b=pa.length-1;b--&&pa[b]===pa[b+1];);b>-1&&en||(J[Cn+Yn]=b===-1?pa[0]:pa.join(" "),delete J[Cn+"-top"+Yn],delete J[Cn+"-right"+Yn],delete J[Cn+"-bottom"+Yn],delete J[Cn+"-left"+Yn])}}}}},Tt=function(Cn){var Yn=J[Cn],en;if(!!Yn){for(Yn=Yn.split(" "),en=Yn.length;en--;)if(Yn[en]!==Yn[0])return!1;return J[Cn]=Yn[0],!0}},jt=function(Cn,Yn,en,En){!Tt(Yn)||!Tt(en)||!Tt(En)||(J[Cn]=J[Yn]+" "+J[en]+" "+J[En],delete J[Yn],delete J[en],delete J[En])},nn=function(Cn){return fe=!0,y[Cn]},Kn=function(Cn,Yn){return fe&&(Cn=Cn.replace(/\uFEFF[0-9]/g,function(en){return y[en]})),Yn||(Cn=Cn.replace(/\\([\'\";:])/g,"$1")),Cn},er=function(Cn){return String.fromCharCode(parseInt(Cn.slice(1),16))},Mt=function(Cn){return Cn.replace(/\\[0-9a-f]+/gi,er)},Ar=function(Cn,Yn,en,En,Hn,Ht){if(Hn=Hn||Ht,Hn)return Hn=Kn(Hn),"'"+Hn.replace(/\'/g,"\\'")+"'";if(Yn=Kn(Yn||en||En),!e.allow_script_urls){var Un=Yn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Un)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Un))return""}return be&&(Yn=be.call(Te,Yn,"style")),"url('"+Yn.replace(/\'/g,"\\'")+"')"};if(X){for(X=X.replace(/[\u0000-\u001F]/g,""),X=X.replace(/\\[\"\';:\uFEFF]/g,nn).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Cn){return Cn.replace(/[;:]/g,nn)});Q=f.exec(X);)if(f.lastIndex=Q.index+Q[0].length,G=Q[1].replace(g,"").toLowerCase(),me=Q[2].replace(g,""),G&&me){if(G=Mt(G),me=Mt(me),G.indexOf(R)!==-1||G.indexOf('"')!==-1||!e.allow_script_urls&&(G==="behavior"||/expression\s*\(|\/\*|\*\//.test(me)))continue;G==="font-weight"&&me==="700"?me="bold":(G==="color"||G==="background-color")&&(me=me.toLowerCase()),me=me.replace(i,cb),me=me.replace(s,Ar),J[G]=fe?Kn(me,!0):me}Ve("border","",!0),Ve("border","-width"),Ve("border","-color"),Ve("border","-style"),Ve("padding",""),Ve("margin",""),jt("border","border-width","border-style","border-color"),J.border==="medium none"&&delete J.border,J["border-image"]==="none"&&delete J["border-image"]}return J},serialize:function(X,J){var Q="",G=function(fe){var be,Te=E[fe];if(Te)for(var Ve=0,Tt=Te.length;Ve<Tt;Ve++)fe=Te[Ve],be=X[fe],be&&(Q+=(Q.length>0?" ":"")+fe+": "+be+";")},me=function(fe,be){var Te=P["*"];return Te&&Te[fe]?!1:(Te=P[be],!(Te&&Te[fe]))};return J&&E?(G("*"),G(J)):Or(X,function(fe,be){fe&&(!P||me(be,J))&&(Q+=(Q.length>0?" ":"")+be+": "+fe+";")}),Q}}},ng="mce-data-",sS=/^(?:mouse|contextmenu)|click/,cS={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},lb=function(e){return e.isDefaultPrevented===vv||e.isDefaultPrevented===Wh},Wh=hn,vv=an,fb=function(e,n,a,i){e.addEventListener?e.addEventListener(n,a,i||!1):e.attachEvent&&e.attachEvent("on"+n,a)},jh=function(e,n,a,i){e.removeEventListener?e.removeEventListener(n,a,i||!1):e.detachEvent&&e.detachEvent("on"+n,a)},hw=function(e){return sS.test(e.type)},js=function(e,n){var a,i=n||{};for(a in e)cS[a]||(i[a]=e[a]);if(i.target||(i.target=i.srcElement||document),i.composedPath&&(i.composedPath=function(){return e.composedPath()}),e&&hw(e)&&e.pageX===void 0&&e.clientX!==void 0){var s=i.target.ownerDocument||document,f=s.documentElement,g=s.body;i.pageX=e.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),i.pageY=e.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)}return i.preventDefault=function(){i.defaultPrevented=!0,i.isDefaultPrevented=vv,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},i.stopPropagation=function(){i.cancelBubble=!0,i.isPropagationStopped=vv,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=vv,i.stopPropagation()},lb(i)===!1&&(i.isDefaultPrevented=i.defaultPrevented===!0?vv:Wh,i.isPropagationStopped=i.cancelBubble===!0?vv:Wh,i.isImmediatePropagationStopped=Wh),typeof i.metaKey=="undefined"&&(i.metaKey=!1),i},lS=function(e,n,a){var i=e.document,s={type:"ready"};if(a.domLoaded){n(s);return}var f=function(){return i.readyState==="complete"||i.readyState==="interactive"&&i.body},g=function(){jh(e,"DOMContentLoaded",g),jh(e,"load",g),a.domLoaded||(a.domLoaded=!0,n(s)),e=null};f()?g():fb(e,"DOMContentLoaded",g),a.domLoaded||fb(e,"load",g)},ff=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=ng+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(n,a,i,s){var f=this,g,b,y,E,P,R,N,X=window,J=function(G){f.executeHandlers(js(G||X.event),g)};if(!(!n||n.nodeType===3||n.nodeType===8)){n[f.expando]?g=n[f.expando]:(g=f.count++,n[f.expando]=g,f.events[g]={}),s=s||n;var Q=a.split(" ");for(y=Q.length;y--;){if(E=Q[y],R=J,P=N=!1,E==="DOMContentLoaded"&&(E="ready"),f.domLoaded&&E==="ready"&&n.readyState==="complete"){i.call(s,js({type:E}));continue}f.hasMouseEnterLeave||(P=f.mouseEnterLeave[E],P&&(R=function(G){var me=G.currentTarget,fe=G.relatedTarget;if(fe&&me.contains)fe=me.contains(fe);else for(;fe&&fe!==me;)fe=fe.parentNode;fe||(G=js(G||X.event),G.type=G.type==="mouseout"?"mouseleave":"mouseenter",G.target=me,f.executeHandlers(G,g))})),!f.hasFocusIn&&(E==="focusin"||E==="focusout")&&(N=!0,P=E==="focusin"?"focus":"blur",R=function(G){G=js(G||X.event),G.type=G.type==="focus"?"focusin":"focusout",f.executeHandlers(G,g)}),b=f.events[g][E],b?E==="ready"&&f.domLoaded?i(js({type:E})):b.push({func:i,scope:s}):(f.events[g][E]=b=[{func:i,scope:s}],b.fakeName=P,b.capture=N,b.nativeHandler=R,E==="ready"?lS(n,R,f):fb(n,P||E,R,N))}return n=b=null,i}},e.prototype.unbind=function(n,a,i){var s,f,g,b,y;if(!n||n.nodeType===3||n.nodeType===8)return this;var E=n[this.expando];if(E){if(y=this.events[E],a){var P=a.split(" ");for(f=P.length;f--;)if(b=P[f],s=y[b],s){if(i){for(g=s.length;g--;)if(s[g].func===i){var R=s.nativeHandler,N=s.fakeName,X=s.capture;s=s.slice(0,g).concat(s.slice(g+1)),s.nativeHandler=R,s.fakeName=N,s.capture=X,y[b]=s}}(!i||s.length===0)&&(delete y[b],jh(n,s.fakeName||b,s.nativeHandler,s.capture))}}else Or(y,function(J,Q){jh(n,J.fakeName||Q,J.nativeHandler,J.capture)}),y={};for(b in y)if(kr(y,b))return this;delete this.events[E];try{delete n[this.expando]}catch{n[this.expando]=null}}return this},e.prototype.fire=function(n,a,i){var s;if(!n||n.nodeType===3||n.nodeType===8)return this;var f=js(null,i);f.type=a,f.target=n;do s=n[this.expando],s&&this.executeHandlers(f,s),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow;while(n&&!f.isPropagationStopped());return this},e.prototype.clean=function(n){var a,i;if(!n||n.nodeType===3||n.nodeType===8)return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName)for(this.unbind(n),i=n.getElementsByTagName("*"),a=i.length;a--;)n=i[a],n[this.expando]&&this.unbind(n);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(n,a){var i=this.events[a],s=i&&i[n.type];if(s)for(var f=0,g=s.length;f<g;f++){var b=s[f];if(b&&b.func.call(b.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}},e.Event=new e,e}(),si,ro,dv,mv,yc,gv,vb,Fd,vf,ja,Qu,Va,es,ts,go,As,wc,Os,ci="sizzle"+-new Date,Ds=window.document,Cc=0,Kr=0,hv=Sc(),$d=Sc(),_s=Sc(),qh=function(e,n){return e===n&&(ja=!0),0},fo="undefined",db=1<<31,Id={}.hasOwnProperty,Ma=[],rg=Ma.pop,df=Ma.push,qs=Ma.push,pw=Ma.slice,pv=Ma.indexOf||function(e){for(var n=0,a=this.length;n<a;n++)if(this[n]===e)return n;return-1},fS="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",vo="[\\x20\\t\\r\\n\\f]",bv="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",bw="\\["+vo+"*("+bv+")(?:"+vo+"*([*^$|!~]?=)"+vo+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+bv+"))|)"+vo+"*\\]",mb=":("+bv+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+bw+")*)|.*)\\)|)",Gh=new RegExp("^"+vo+"+|((?:^|[^\\\\])(?:\\\\.)*)"+vo+"+$","g"),vS=new RegExp("^"+vo+"*,"+vo+"*"),mf=new RegExp("^"+vo+"*([>+~]|"+vo+")"+vo+"*"),gb=new RegExp("="+vo+`*([^\\]'"]*?)`+vo+"*\\]","g"),dS=new RegExp(mb),iu=new RegExp("^"+bv+"$"),Ni={ID:new RegExp("^#("+bv+")"),CLASS:new RegExp("^\\.("+bv+")"),TAG:new RegExp("^("+bv+"|[*])"),ATTR:new RegExp("^"+bw),PSEUDO:new RegExp("^"+mb),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+vo+"*(even|odd|(([+-]|)(\\d*)n|)"+vo+"*(?:([+-]|)"+vo+"*(\\d+)|))"+vo+"*\\)|)","i"),bool:new RegExp("^(?:"+fS+")$","i"),needsContext:new RegExp("^"+vo+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+vo+"*((?:-\\d)?\\d*)"+vo+"*\\)|)(?=[^-]|$)","i")},hb=/^(?:input|select|textarea|button)$/i,pb=/^h\d$/i,Mi=/^[^{]+\{\s*\[native \w/,yv=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,zd=/[+~]/,bb=/'|\\/g,Ka=new RegExp("\\\\([\\da-f]{1,6}"+vo+"?|("+vo+")|.)","ig"),xc=function(e,n,a){var i="0x"+n-65536;return i!==i||a?n:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)};try{qs.apply(Ma=pw.call(Ds.childNodes),Ds.childNodes),Ma[Ds.childNodes.length].nodeType}catch{qs={apply:Ma.length?function(n,a){df.apply(n,pw.call(a))}:function(n,a){for(var i=n.length,s=0;n[i++]=a[s++];);n.length=i-1}}}var Fa=function(e,n,a,i){var s,f,g,b,y,E,P,R,N,X;if((n?n.ownerDocument||n:Ds)!==Va&&Qu(n),n=n||Va,a=a||[],!e||typeof e!="string")return a;if((b=n.nodeType)!==1&&b!==9)return[];if(ts&&!i){if(s=yv.exec(e))if(g=s[1]){if(b===9)if(f=n.getElementById(g),f&&f.parentNode){if(f.id===g)return a.push(f),a}else return a;else if(n.ownerDocument&&(f=n.ownerDocument.getElementById(g))&&Os(n,f)&&f.id===g)return a.push(f),a}else{if(s[2])return qs.apply(a,n.getElementsByTagName(e)),a;if((g=s[3])&&si.getElementsByClassName)return qs.apply(a,n.getElementsByClassName(g)),a}if(si.qsa&&(!go||!go.test(e))){if(R=P=ci,N=n,X=b===9&&e,b===1&&n.nodeName.toLowerCase()!=="object"){for(E=yc(e),(P=n.getAttribute("id"))?R=P.replace(bb,"\\$&"):n.setAttribute("id",R),R="[id='"+R+"'] ",y=E.length;y--;)E[y]=R+og(E[y]);N=zd.test(e)&&wv(n.parentNode)||n,X=E.join(",")}if(X)try{return qs.apply(a,N.querySelectorAll(X)),a}catch{}finally{P||n.removeAttribute("id")}}}return vb(e.replace(Gh,"$1"),n,a,i)};function Sc(){var e=[];function n(a,i){return e.push(a+" ")>ro.cacheLength&&delete n[e.shift()],n[a+" "]=i}return n}function Pu(e){return e[ci]=!0,e}function ag(e,n){var a=n&&e,i=a&&e.nodeType===1&&n.nodeType===1&&(~n.sourceIndex||db)-(~e.sourceIndex||db);if(i)return i;if(a){for(;a=a.nextSibling;)if(a===n)return-1}return e?1:-1}function mS(e){return function(n){var a=n.nodeName.toLowerCase();return a==="input"&&n.type===e}}function pu(e){return function(n){var a=n.nodeName.toLowerCase();return(a==="input"||a==="button")&&n.type===e}}function Bs(e){return Pu(function(n){return n=+n,Pu(function(a,i){for(var s,f=e([],a.length,n),g=f.length;g--;)a[s=f[g]]&&(a[s]=!(i[s]=a[s]))})})}function wv(e){return e&&typeof e.getElementsByTagName!==fo&&e}si=Fa.support={},mv=Fa.isXML=function(e){var n=e&&(e.ownerDocument||e).documentElement;return n?n.nodeName!=="HTML":!1},Qu=Fa.setDocument=function(e){var n,a=e?e.ownerDocument||e:Ds,i=a.defaultView;function s(f){try{return f.top}catch{}return null}return a===Va||a.nodeType!==9||!a.documentElement?Va:(Va=a,es=a.documentElement,ts=!mv(a),i&&i!==s(i)&&(i.addEventListener?i.addEventListener("unload",function(){Qu()},!1):i.attachEvent&&i.attachEvent("onunload",function(){Qu()})),si.attributes=!0,si.getElementsByTagName=!0,si.getElementsByClassName=Mi.test(a.getElementsByClassName),si.getById=!0,ro.find.ID=function(f,g){if(typeof g.getElementById!==fo&&ts){var b=g.getElementById(f);return b&&b.parentNode?[b]:[]}},ro.filter.ID=function(f){var g=f.replace(Ka,xc);return function(b){return b.getAttribute("id")===g}},ro.find.TAG=si.getElementsByTagName?function(f,g){if(typeof g.getElementsByTagName!==fo)return g.getElementsByTagName(f)}:function(f,g){var b,y=[],E=0,P=g.getElementsByTagName(f);if(f==="*"){for(;b=P[E++];)b.nodeType===1&&y.push(b);return y}return P},ro.find.CLASS=si.getElementsByClassName&&function(f,g){if(ts)return g.getElementsByClassName(f)},As=[],go=[],si.disconnectedMatch=!0,go=go.length&&new RegExp(go.join("|")),As=As.length&&new RegExp(As.join("|")),n=Mi.test(es.compareDocumentPosition),Os=n||Mi.test(es.contains)?function(f,g){var b=f.nodeType===9?f.documentElement:f,y=g&&g.parentNode;return f===y||!!(y&&y.nodeType===1&&(b.contains?b.contains(y):f.compareDocumentPosition&&f.compareDocumentPosition(y)&16))}:function(f,g){if(g){for(;g=g.parentNode;)if(g===f)return!0}return!1},qh=n?function(f,g){if(f===g)return ja=!0,0;var b=!f.compareDocumentPosition-!g.compareDocumentPosition;return b||(b=(f.ownerDocument||f)===(g.ownerDocument||g)?f.compareDocumentPosition(g):1,b&1||!si.sortDetached&&g.compareDocumentPosition(f)===b?f===a||f.ownerDocument===Ds&&Os(Ds,f)?-1:g===a||g.ownerDocument===Ds&&Os(Ds,g)?1:vf?pv.call(vf,f)-pv.call(vf,g):0:b&4?-1:1)}:function(f,g){if(f===g)return ja=!0,0;var b,y=0,E=f.parentNode,P=g.parentNode,R=[f],N=[g];if(!E||!P)return f===a?-1:g===a?1:E?-1:P?1:vf?pv.call(vf,f)-pv.call(vf,g):0;if(E===P)return ag(f,g);for(b=f;b=b.parentNode;)R.unshift(b);for(b=g;b=b.parentNode;)N.unshift(b);for(;R[y]===N[y];)y++;return y?ag(R[y],N[y]):R[y]===Ds?-1:N[y]===Ds?1:0},a)},Fa.matches=function(e,n){return Fa(e,null,null,n)},Fa.matchesSelector=function(e,n){if((e.ownerDocument||e)!==Va&&Qu(e),n=n.replace(gb,"='$1']"),si.matchesSelector&&ts&&(!As||!As.test(n))&&(!go||!go.test(n)))try{var a=wc.call(e,n);if(a||si.disconnectedMatch||e.document&&e.document.nodeType!==11)return a}catch{}return Fa(n,Va,null,[e]).length>0},Fa.contains=function(e,n){return(e.ownerDocument||e)!==Va&&Qu(e),Os(e,n)},Fa.attr=function(e,n){(e.ownerDocument||e)!==Va&&Qu(e);var a=ro.attrHandle[n.toLowerCase()],i=a&&Id.call(ro.attrHandle,n.toLowerCase())?a(e,n,!ts):void 0;return i!==void 0?i:si.attributes||!ts?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},Fa.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Fa.uniqueSort=function(e){var n,a=[],i=0,s=0;if(ja=!si.detectDuplicates,vf=!si.sortStable&&e.slice(0),e.sort(qh),ja){for(;n=e[s++];)n===e[s]&&(i=a.push(s));for(;i--;)e.splice(a[i],1)}return vf=null,e},dv=Fa.getText=function(e){var n,a="",i=0,s=e.nodeType;if(s){if(s===1||s===9||s===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=dv(e)}else if(s===3||s===4)return e.nodeValue}else for(;n=e[i++];)a+=dv(n);return a},ro=Fa.selectors={cacheLength:50,createPseudo:Pu,match:Ni,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ka,xc),e[3]=(e[3]||e[4]||e[5]||"").replace(Ka,xc),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||Fa.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&Fa.error(e[0]),e},PSEUDO:function(e){var n,a=!e[6]&&e[2];return Ni.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&dS.test(a)&&(n=yc(a,!0))&&(n=a.indexOf(")",a.length-n)-a.length)&&(e[0]=e[0].slice(0,n),e[2]=a.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var n=e.replace(Ka,xc).toLowerCase();return e==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===n}},CLASS:function(e){var n=hv[e+" "];return n||(n=new RegExp("(^|"+vo+")"+e+"("+vo+"|$)"))&&hv(e,function(a){return n.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==fo&&a.getAttribute("class")||"")})},ATTR:function(e,n,a){return function(i){var s=Fa.attr(i,e);return s==null?n==="!=":n?(s+="",n==="="?s===a:n==="!="?s!==a:n==="^="?a&&s.indexOf(a)===0:n==="*="?a&&s.indexOf(a)>-1:n==="$="?a&&s.slice(-a.length)===a:n==="~="?(" "+s+" ").indexOf(a)>-1:n==="|="?s===a||s.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,n,a,i,s){var f=e.slice(0,3)!=="nth",g=e.slice(-4)!=="last",b=n==="of-type";return i===1&&s===0?function(y){return!!y.parentNode}:function(y,E,P){var R,N,X,J,Q,G,me=f!==g?"nextSibling":"previousSibling",fe=y.parentNode,be=b&&y.nodeName.toLowerCase(),Te=!P&&!b;if(fe){if(f){for(;me;){for(X=y;X=X[me];)if(b?X.nodeName.toLowerCase()===be:X.nodeType===1)return!1;G=me=e==="only"&&!G&&"nextSibling"}return!0}if(G=[g?fe.firstChild:fe.lastChild],g&&Te){for(N=fe[ci]||(fe[ci]={}),R=N[e]||[],Q=R[0]===Cc&&R[1],J=R[0]===Cc&&R[2],X=Q&&fe.childNodes[Q];X=++Q&&X&&X[me]||(J=Q=0)||G.pop();)if(X.nodeType===1&&++J&&X===y){N[e]=[Cc,Q,J];break}}else if(Te&&(R=(y[ci]||(y[ci]={}))[e])&&R[0]===Cc)J=R[1];else for(;(X=++Q&&X&&X[me]||(J=Q=0)||G.pop())&&!((b?X.nodeName.toLowerCase()===be:X.nodeType===1)&&++J&&(Te&&((X[ci]||(X[ci]={}))[e]=[Cc,J]),X===y)););return J-=s,J===i||J%i===0&&J/i>=0}}},PSEUDO:function(e,n){var a,i=ro.pseudos[e]||ro.setFilters[e.toLowerCase()]||Fa.error("unsupported pseudo: "+e);return i[ci]?i(n):i.length>1?(a=[e,e,"",n],ro.setFilters.hasOwnProperty(e.toLowerCase())?Pu(function(s,f){for(var g,b=i(s,n),y=b.length;y--;)g=pv.call(s,b[y]),s[g]=!(f[g]=b[y])}):function(s){return i(s,0,a)}):i}},pseudos:{not:Pu(function(e){var n=[],a=[],i=gv(e.replace(Gh,"$1"));return i[ci]?Pu(function(s,f,g,b){for(var y,E=i(s,null,b,[]),P=s.length;P--;)(y=E[P])&&(s[P]=!(f[P]=y))}):function(s,f,g){return n[0]=s,i(n,null,g,a),n[0]=null,!a.pop()}}),has:Pu(function(e){return function(n){return Fa(e,n).length>0}}),contains:Pu(function(e){return e=e.replace(Ka,xc),function(n){return(n.textContent||n.innerText||dv(n)).indexOf(e)>-1}}),lang:Pu(function(e){return iu.test(e||"")||Fa.error("unsupported lang: "+e),e=e.replace(Ka,xc).toLowerCase(),function(n){var a;do if(a=ts?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return a=a.toLowerCase(),a===e||a.indexOf(e+"-")===0;while((n=n.parentNode)&&n.nodeType===1);return!1}}),target:function(e){var n=window.location&&window.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===es},focus:function(e){return e===Va.activeElement&&(!Va.hasFocus||Va.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&!!e.checked||n==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!ro.pseudos.empty(e)},header:function(e){return pb.test(e.nodeName)},input:function(e){return hb.test(e.nodeName)},button:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&e.type==="button"||n==="button"},text:function(e){var n;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()==="text")},first:Bs(function(){return[0]}),last:Bs(function(e,n){return[n-1]}),eq:Bs(function(e,n,a){return[a<0?a+n:a]}),even:Bs(function(e,n){for(var a=0;a<n;a+=2)e.push(a);return e}),odd:Bs(function(e,n){for(var a=1;a<n;a+=2)e.push(a);return e}),lt:Bs(function(e,n,a){for(var i=a<0?a+n:a;--i>=0;)e.push(i);return e}),gt:Bs(function(e,n,a){for(var i=a<0?a+n:a;++i<n;)e.push(i);return e})}},ro.pseudos.nth=ro.pseudos.eq,he(["radio","checkbox","file","password","image"],function(e){ro.pseudos[e]=mS(e)}),he(["submit","reset"],function(e){ro.pseudos[e]=pu(e)});function yb(){}yb.prototype=ro.filters=ro.pseudos,ro.setFilters=new yb,yc=Fa.tokenize=function(e,n){var a,i,s,f,g,b,y,E=$d[e+" "];if(E)return n?0:E.slice(0);for(g=e,b=[],y=ro.preFilter;g;){(!a||(i=vS.exec(g)))&&(i&&(g=g.slice(i[0].length)||g),b.push(s=[])),a=!1,(i=mf.exec(g))&&(a=i.shift(),s.push({value:a,type:i[0].replace(Gh," ")}),g=g.slice(a.length));for(f in ro.filter)!ro.filter.hasOwnProperty(f)||(i=Ni[f].exec(g))&&(!y[f]||(i=y[f](i)))&&(a=i.shift(),s.push({value:a,type:f,matches:i}),g=g.slice(a.length));if(!a)break}return n?g.length:g?Fa.error(e):$d(e,b).slice(0)};function og(e){for(var n=0,a=e.length,i="";n<a;n++)i+=e[n].value;return i}function Al(e,n,a){var i=n.dir,s=a&&i==="parentNode",f=Kr++;return n.first?function(g,b,y){for(;g=g[i];)if(g.nodeType===1||s)return e(g,b,y)}:function(g,b,y){var E,P,R=[Cc,f];if(y){for(;g=g[i];)if((g.nodeType===1||s)&&e(g,b,y))return!0}else for(;g=g[i];)if(g.nodeType===1||s){if(P=g[ci]||(g[ci]={}),(E=P[i])&&E[0]===Cc&&E[1]===f)return R[2]=E[2];if(P[i]=R,R[2]=e(g,b,y))return!0}}}function Kh(e){return e.length>1?function(n,a,i){for(var s=e.length;s--;)if(!e[s](n,a,i))return!1;return!0}:e[0]}function gS(e,n,a){for(var i=0,s=n.length;i<s;i++)Fa(e,n[i],a);return a}function Xh(e,n,a,i,s){for(var f,g=[],b=0,y=e.length,E=n!=null;b<y;b++)(f=e[b])&&(!a||a(f,i,s))&&(g.push(f),E&&n.push(b));return g}function wb(e,n,a,i,s,f){return i&&!i[ci]&&(i=wb(i)),s&&!s[ci]&&(s=wb(s,f)),Pu(function(g,b,y,E){var P,R,N,X=[],J=[],Q=b.length,G=g||gS(n||"*",y.nodeType?[y]:y,[]),me=e&&(g||!n)?Xh(G,X,e,y,E):G,fe=a?s||(g?e:Q||i)?[]:b:me;if(a&&a(me,fe,y,E),i)for(P=Xh(fe,J),i(P,[],y,E),R=P.length;R--;)(N=P[R])&&(fe[J[R]]=!(me[J[R]]=N));if(g){if(s||e){if(s){for(P=[],R=fe.length;R--;)(N=fe[R])&&P.push(me[R]=N);s(null,fe=[],P,E)}for(R=fe.length;R--;)(N=fe[R])&&(P=s?pv.call(g,N):X[R])>-1&&(g[P]=!(b[P]=N))}}else fe=Xh(fe===b?fe.splice(Q,fe.length):fe),s?s(null,b,fe,E):qs.apply(b,fe)})}function Gs(e){for(var n,a,i,s=e.length,f=ro.relative[e[0].type],g=f||ro.relative[" "],b=f?1:0,y=Al(function(R){return R===n},g,!0),E=Al(function(R){return pv.call(n,R)>-1},g,!0),P=[function(R,N,X){var J=!f&&(X||N!==Fd)||((n=N).nodeType?y(R,N,X):E(R,N,X));return n=null,J}];b<s;b++)if(a=ro.relative[e[b].type])P=[Al(Kh(P),a)];else{if(a=ro.filter[e[b].type].apply(null,e[b].matches),a[ci]){for(i=++b;i<s&&!ro.relative[e[i].type];i++);return wb(b>1&&Kh(P),b>1&&og(e.slice(0,b-1).concat({value:e[b-2].type===" "?"*":""})).replace(Gh,"$1"),a,b<i&&Gs(e.slice(b,i)),i<s&&Gs(e=e.slice(i)),i<s&&og(e))}P.push(a)}return Kh(P)}function Yh(e,n){var a=n.length>0,i=e.length>0,s=function(f,g,b,y,E){var P,R,N,X=0,J="0",Q=f&&[],G=[],me=Fd,fe=f||i&&ro.find.TAG("*",E),be=Cc+=me==null?1:Math.random()||.1,Te=fe.length;for(E&&(Fd=g!==Va&&g);J!==Te&&(P=fe[J])!=null;J++){if(i&&P){for(R=0;N=e[R++];)if(N(P,g,b)){y.push(P);break}E&&(Cc=be)}a&&((P=!N&&P)&&X--,f&&Q.push(P))}if(X+=J,a&&J!==X){for(R=0;N=n[R++];)N(Q,G,g,b);if(f){if(X>0)for(;J--;)Q[J]||G[J]||(G[J]=rg.call(y));G=Xh(G)}qs.apply(y,G),E&&!f&&G.length>0&&X+n.length>1&&Fa.uniqueSort(y)}return E&&(Cc=be,Fd=me),Q};return a?Pu(s):s}gv=Fa.compile=function(e,n){var a,i=[],s=[],f=_s[e+" "];if(!f){for(n||(n=yc(e)),a=n.length;a--;)f=Gs(n[a]),f[ci]?i.push(f):s.push(f);f=_s(e,Yh(s,i)),f.selector=e}return f},vb=Fa.select=function(e,n,a,i){var s,f,g,b,y,E=typeof e=="function"&&e,P=!i&&yc(e=E.selector||e);if(a=a||[],P.length===1){if(f=P[0]=P[0].slice(0),f.length>2&&(g=f[0]).type==="ID"&&si.getById&&n.nodeType===9&&ts&&ro.relative[f[1].type]){if(n=(ro.find.ID(g.matches[0].replace(Ka,xc),n)||[])[0],n)E&&(n=n.parentNode);else return a;e=e.slice(f.shift().value.length)}for(s=Ni.needsContext.test(e)?0:f.length;s--&&(g=f[s],!ro.relative[b=g.type]);)if((y=ro.find[b])&&(i=y(g.matches[0].replace(Ka,xc),zd.test(f[0].type)&&wv(n.parentNode)||n))){if(f.splice(s,1),e=i.length&&og(f),!e)return qs.apply(a,i),a;break}}return(E||gv(e,P))(i,n,!ts,a,zd.test(e)&&wv(n.parentNode)||n),a},si.sortStable=ci.split("").sort(qh).join("")===ci,si.detectDuplicates=!!ja,Qu(),si.sortDetached=!0;var yw=document,Jh=Array.prototype.push,ww=Array.prototype.slice,Cw=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ig=ff.Event,hS=dt.makeMap("children,contents,next,prev"),ug=function(e){return typeof e!="undefined"},Zh=function(e){return typeof e=="string"},Qh=function(e){return e&&e===e.window},Cb=function(e,n){n=n||yw;var a=n.createElement("div"),i=n.createDocumentFragment();a.innerHTML=e;for(var s;s=a.firstChild;)i.appendChild(s);return i},Cv=function(e,n,a,i){var s;if(Zh(n))n=Cb(n,Tb(e[0]));else if(n.length&&!n.nodeType){if(n=Ur.makeArray(n),i)for(s=n.length-1;s>=0;s--)Cv(e,n[s],a,i);else for(s=0;s<n.length;s++)Cv(e,n[s],a,i);return e}if(n.nodeType)for(s=e.length;s--;)a.call(e[s],n);return e},ns=function(e,n){return e&&n&&(" "+e.className+" ").indexOf(" "+n+" ")!==-1},rs=function(e,n,a){var i,s;return n=Ur(n)[0],e.each(function(){var f=this;(!a||i!==f.parentNode)&&(i=f.parentNode,s=n.cloneNode(!1),f.parentNode.insertBefore(s,f)),s.appendChild(f)}),e},gf=dt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Fi=dt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),hf={for:"htmlFor",class:"className",readonly:"readOnly"},xw={float:"cssFloat"},pf={},xb={},as=function(e,n){return new Ur.fn.init(e,n)},ep=function(e,n){var a;if(n.indexOf)return n.indexOf(e);for(a=n.length;a--;)if(n[a]===e)return a;return-1},$i=/^\s*|\s*$/g,Ks=function(e){return e==null?"":(""+e).replace($i,"")},Ol=function(e,n){var a,i,s,f;if(e)if(a=e.length,a===void 0){for(i in e)if(e.hasOwnProperty(i)&&(f=e[i],n.call(f,i,f)===!1))break}else for(s=0;s<a&&(f=e[s],n.call(f,s,f)!==!1);s++);return e},Sb=function(e,n){var a=[];return Ol(e,function(i,s){n(s,i)&&a.push(s)}),a},Tb=function(e){return e?e.nodeType===9?e:e.ownerDocument:yw};as.fn=as.prototype={constructor:as,selector:"",context:null,length:0,init:function(e,n){var a=this,i,s;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(n&&n.nodeType)a.context=n;else{if(n)return Ur(e).attr(n);a.context=n=document}if(Zh(e))if(a.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=Cw.exec(e),i)if(i[1])for(s=Cb(e,Tb(n)).firstChild;s;)Jh.call(a,s),s=s.nextSibling;else{if(s=Tb(n).getElementById(i[2]),!s)return a;if(s.id!==i[2])return a.find(e);a.length=1,a[0]=s}else return Ur(n).find(e);else this.add(e,!1);return a},toArray:function(){return dt.toArray(this)},add:function(e,n){var a=this,i,s;if(Zh(e))return a.add(Ur(e));if(n!==!1)for(i=Ur.unique(a.toArray().concat(Ur.makeArray(e))),a.length=i.length,s=0;s<i.length;s++)a[s]=i[s];else Jh.apply(a,Ur.makeArray(e));return a},attr:function(e,n){var a=this,i;if(typeof e=="object")Ol(e,function(s,f){a.attr(s,f)});else if(ug(n))this.each(function(){var s;if(this.nodeType===1){if(s=pf[e],s&&s.set){s.set(this,n);return}n===null?this.removeAttribute(e,2):this.setAttribute(e,n,2)}});else{if(a[0]&&a[0].nodeType===1){if(i=pf[e],i&&i.get)return i.get(a[0],e);if(Fi[e])return a.prop(e)?e:void 0;n=a[0].getAttribute(e,2),n===null&&(n=void 0)}return n}return a},removeAttr:function(e){return this.attr(e,null)},prop:function(e,n){var a=this;if(e=hf[e]||e,typeof e=="object")Ol(e,function(i,s){a.prop(i,s)});else if(ug(n))this.each(function(){this.nodeType===1&&(this[e]=n)});else return a[0]&&a[0].nodeType&&e in a[0]?a[0][e]:n;return a},css:function(e,n){var a=this,i,s,f=function(b){return b.replace(/-(\D)/g,function(y,E){return E.toUpperCase()})},g=function(b){return b.replace(/[A-Z]/g,function(y){return"-"+y})};if(typeof e=="object")Ol(e,function(b,y){a.css(b,y)});else if(ug(n))e=f(e),typeof n=="number"&&!gf[e]&&(n=n.toString()+"px"),a.each(function(){var b=this.style;if(s=xb[e],s&&s.set){s.set(this,n);return}try{this.style[xw[e]||e]=n}catch{}(n===null||n==="")&&(b.removeProperty?b.removeProperty(g(e)):b.removeAttribute(e))});else{if(i=a[0],s=xb[e],s&&s.get)return s.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(g(e))}catch{return}else return i.currentStyle?i.currentStyle[f(e)]:""}return a},remove:function(){for(var e=this,n,a=this.length;a--;)n=e[a],ig.clean(n),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){for(var e=this,n,a=this.length;a--;)for(n=e[a];n.firstChild;)n.removeChild(n.firstChild);return this},html:function(e){var n=this,a;if(ug(e)){a=n.length;try{for(;a--;)n[a].innerHTML=e}catch{Ur(n[a]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var n=this,a;if(ug(e)){for(a=n.length;a--;)"innerText"in n[a]?n[a].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Cv(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return Cv(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Cv(e,arguments,function(n){this.parentNode.insertBefore(n,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Cv(e,arguments,function(n){this.parentNode.insertBefore(n,this.nextSibling)},!0):e},appendTo:function(e){return Ur(e).append(this),this},prependTo:function(e){return Ur(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return rs(this,e)},wrapAll:function(e){return rs(this,e,!0)},wrapInner:function(e){return this.each(function(){Ur(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Ur(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Ur(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,n){var a=this;return typeof e!="string"||(e.indexOf(" ")!==-1?Ol(e.split(" "),function(){a.toggleClass(this,n)}):a.each(function(i,s){var f=ns(s,e);if(f!==n){var g=s.className;f?s.className=Ks((" "+g+" ").replace(" "+e+" "," ")):s.className+=g?" "+e:e}})),a},hasClass:function(e){return ns(this[0],e)},each:function(e){return Ol(this,e)},on:function(e,n){return this.each(function(){ig.bind(this,e,n)})},off:function(e,n){return this.each(function(){ig.unbind(this,e,n)})},trigger:function(e){return this.each(function(){typeof e=="object"?ig.fire(this,e.type,e):ig.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return Ur(ww.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var n,a,i=[];for(n=0,a=this.length;n<a;n++)Ur.find(e,this[n],i);return Ur(i)},filter:function(e){return Ur(typeof e=="function"?Sb(this.toArray(),function(n,a){return e(a,n)}):Ur.filter(e,this.toArray()))},closest:function(e){var n=[];return e instanceof Ur&&(e=e[0]),this.each(function(a,i){for(;i;){if(typeof e=="string"&&Ur(i).is(e)){n.push(i);break}else if(i===e){n.push(i);break}i=i.parentNode}}),Ur(n)},offset:function(e){var n,a,i,s=0,f=0,g;return e?this.css(e):(n=this[0],n&&(a=n.ownerDocument,i=a.documentElement,n.getBoundingClientRect&&(g=n.getBoundingClientRect(),s=g.left+(i.scrollLeft||a.body.scrollLeft)-i.clientLeft,f=g.top+(i.scrollTop||a.body.scrollTop)-i.clientTop)),{left:s,top:f})},push:Jh,sort:Array.prototype.sort,splice:Array.prototype.splice},dt.extend(as,{extend:dt.extend,makeArray:function(e){return Qh(e)||e.nodeType?[e]:dt.toArray(e)},inArray:ep,isArray:dt.isArray,each:Ol,trim:Ks,grep:Sb,find:Fa,expr:Fa.selectors,unique:Fa.uniqueSort,text:Fa.getText,contains:Fa.contains,filter:function(e,n,a){var i=n.length;for(a&&(e=":not("+e+")");i--;)n[i].nodeType!==1&&n.splice(i,1);return n.length===1?n=Ur.find.matchesSelector(n[0],e)?[n[0]]:[]:n=Ur.find.matches(e,n),n}});var Vc=function(e,n,a){var i=[],s=e[n];for(typeof a!="string"&&a instanceof Ur&&(a=a[0]);s&&s.nodeType!==9&&!(a!==void 0&&(s===a||typeof a=="string"&&Ur(s).is(a)));)s.nodeType===1&&i.push(s),s=s[n];return i},tp=function(e,n,a,i){var s=[];for(i instanceof Ur&&(i=i[0]);e;e=e[n])if(!(a&&e.nodeType!==a)){if(i!==void 0&&(e===i||typeof i=="string"&&Ur(e).is(i)))break;s.push(e)}return s},xv=function(e,n,a){for(e=e[n];e;e=e[n])if(e.nodeType===a)return e;return null};Ol({parent:function(e){var n=e.parentNode;return n&&n.nodeType!==11?n:null},parents:function(e){return Vc(e,"parentNode")},next:function(e){return xv(e,"nextSibling",1)},prev:function(e){return xv(e,"previousSibling",1)},children:function(e){return tp(e.firstChild,"nextSibling",1)},contents:function(e){return dt.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,n){as.fn[e]=function(a){var i=this,s=[];i.each(function(){var g=n.call(s,this,a,s);g&&(Ur.isArray(g)?s.push.apply(s,g):s.push(g))}),this.length>1&&(hS[e]||(s=Ur.unique(s)),e.indexOf("parents")===0&&(s=s.reverse()));var f=Ur(s);return a?f.filter(a):f}}),Ol({parentsUntil:function(e,n){return Vc(e,"parentNode",n)},nextUntil:function(e,n){return tp(e,"nextSibling",1,n).slice(1)},prevUntil:function(e,n){return tp(e,"previousSibling",1,n).slice(1)}},function(e,n){as.fn[e]=function(a,i){var s=this,f=[];s.each(function(){var b=n.call(f,this,a,f);b&&(Ur.isArray(b)?f.push.apply(f,b):f.push(b))}),this.length>1&&(f=Ur.unique(f),(e.indexOf("parents")===0||e==="prevUntil")&&(f=f.reverse()));var g=Ur(f);return i?g.filter(i):g}}),as.fn.is=function(e){return!!e&&this.filter(e).length>0},as.fn.init.prototype=as.fn,as.overrideDefaults=function(e){var n,a=function(i,s){return n=n||e(),arguments.length===0&&(i=n.element),s||(s=n.context),new a.fn.init(i,s)};return Ur.extend(a,this),a},as.attrHooks=pf,as.cssHooks=xb;var Ur=as,sg=dt.each,pS=dt.grep,Sw=Ln.ie,bS=/^([a-z0-9],?)+$/i,yS=function(e,n,a){var i=n.keep_values,s={set:function(g,b,y){n.url_converter&&(b=n.url_converter.call(n.url_converter_scope||a(),b,y,g[0])),g.attr("data-mce-"+y,b).attr(y,b)},get:function(g,b){return g.attr("data-mce-"+b)||g.attr(b)}},f={style:{set:function(g,b){if(b!==null&&typeof b=="object"){g.css(b);return}i&&g.attr("data-mce-style",b),b!==null&&typeof b=="string"?(g.removeAttr("style"),g.css(e.parse(b))):g.attr("style",b)},get:function(g){var b=g.attr("data-mce-style")||g.attr("style");return b=e.serialize(e.parse(b),g[0].nodeName),b}}};return i&&(f.href=f.src=s),f},cg=function(e,n){var a=n.attr("style"),i=e.serialize(e.parse(a),n[0].nodeName);i||(i=null),n.attr("data-mce-style",i)},Ld=function(e,n){var a=0,i,s;if(e)for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)s=e.nodeType,!(n&&s===3&&(s===i||!e.nodeValue.length))&&(a++,i=s);return a},Ja=function(e,n){n===void 0&&(n={});var a={},i=window,s={},f=0,g=!0,b=!0,y=Xm.forElement(L.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),E=[],P=n.schema?n.schema:lf({}),R=Md({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),N=n.ownEvents?new ff:ff.Event,X=P.getBlockElements(),J=Ur.overrideDefaults(function(){return{context:e,element:Nm.getRoot()}}),Q=function(Ne){if(typeof Ne=="string")return!!X[Ne];if(Ne){var it=Ne.nodeType;if(it)return!!(it===1&&X[Ne.nodeName])}return!1},G=function(Ne){return Ne&&e&&jn(Ne)?e.getElementById(Ne):Ne},me=function(Ne){return J(typeof Ne=="string"?G(Ne):Ne)},fe=function(Ne,it,on){var bn,Wr,Aa=me(Ne);return Aa.length&&(bn=rA[it],bn&&bn.get?Wr=bn.get(Aa,it):Wr=Aa.attr(it)),typeof Wr=="undefined"&&(Wr=on||""),Wr},be=function(Ne){var it=G(Ne);return it?it.attributes:[]},Te=function(Ne,it,on){on===""&&(on=null);var bn=me(Ne),Wr=bn.attr(it);if(!!bn.length){var Aa=rA[it];Aa&&Aa.set?Aa.set(bn,on,it):bn.attr(it,on),Wr!==on&&n.onSetAttrib&&n.onSetAttrib({attrElm:bn,attrName:it,attrValue:on})}},Ve=function(Ne,it){if(!Sw||Ne.nodeType!==1||it)return Ne.cloneNode(it);var on=e.createElement(Ne.nodeName);return sg(be(Ne),function(bn){Te(on,bn.nodeName,fe(Ne,bn.nodeName))}),on},Tt=function(){return n.root_element||e.body},jt=function(Ne){var it=tf(Ne);return{x:it.x,y:it.y,w:it.width,h:it.height}},nn=function(Ne,it){return _h(e.body,G(Ne),it)},Kn=function(Ne,it,on){var bn=jn(it)?me(Ne).css(it,on):me(Ne).css(it);n.update_styles&&cg(R,bn)},er=function(Ne,it){var on=me(Ne).css(it);n.update_styles&&cg(R,on)},Mt=function(Ne,it,on){var bn=me(Ne);return on?bn.css(it):(it=it.replace(/-(\D)/g,function(Wr,Aa){return Aa.toUpperCase()}),it==="float"&&(it=Ln.browser.isIE()?"styleFloat":"cssFloat"),bn[0]&&bn[0].style?bn[0].style[it]:void 0)},Ar=function(Ne){var it,on;return Ne=G(Ne),it=Mt(Ne,"width"),on=Mt(Ne,"height"),it.indexOf("px")===-1&&(it=0),on.indexOf("px")===-1&&(on=0),{w:parseInt(it,10)||Ne.offsetWidth||Ne.clientWidth,h:parseInt(on,10)||Ne.offsetHeight||Ne.clientHeight}},Cn=function(Ne){Ne=G(Ne);var it=nn(Ne),on=Ar(Ne);return{x:it.x,y:it.y,w:on.w,h:on.h}},Yn=function(Ne,it){var on;if(!Ne)return!1;if(!Array.isArray(Ne)){if(it==="*")return Ne.nodeType===1;if(bS.test(it)){var bn=it.toLowerCase().split(/,/),Wr=Ne.nodeName.toLowerCase();for(on=bn.length-1;on>=0;on--)if(bn[on]===Wr)return!0;return!1}if(Ne.nodeType&&Ne.nodeType!==1)return!1}var Aa=Array.isArray(Ne)?Ne:[Ne];return Fa(it,Aa[0].ownerDocument||Aa[0],null,Aa).length>0},en=function(Ne,it,on,bn){var Wr=[],Aa,Ca=G(Ne);for(bn=bn===void 0,on=on||(Tt().nodeName!=="BODY"?Tt().parentNode:null),dt.is(it,"string")&&(Aa=it,it==="*"?it=function(uc){return uc.nodeType===1}:it=function(uc){return Yn(uc,Aa)});Ca&&!(Ca===on||Re(Ca.nodeType)||ge(Ca)||He(Ca));){if(!it||typeof it=="function"&&it(Ca))if(bn)Wr.push(Ca);else return[Ca];Ca=Ca.parentNode}return bn?Wr:null},En=function(Ne,it,on){var bn=en(Ne,it,on,!1);return bn&&bn.length>0?bn[0]:null},Hn=function(Ne,it,on){var bn=it;if(Ne){for(typeof it=="string"&&(bn=function(Wr){return Yn(Wr,it)}),Ne=Ne[on];Ne;Ne=Ne[on])if(typeof bn=="function"&&bn(Ne))return Ne}return null},Ht=function(Ne,it){return Hn(Ne,it,"nextSibling")},Un=function(Ne,it){return Hn(Ne,it,"previousSibling")},pa=function(Ne,it){return Fa(Ne,G(it)||n.root_element||e,[])},eo=function(Ne,it,on){var bn,Wr=typeof Ne=="string"?G(Ne):Ne;if(!Wr)return!1;if(dt.isArray(Wr)&&(Wr.length||Wr.length===0))return bn=[],sg(Wr,function(Ca,uc){Ca&&bn.push(it.call(on,typeof Ca=="string"?G(Ca):Ca,uc))}),bn;var Aa=on||this;return it.call(Aa,Wr)},La=function(Ne,it){me(Ne).each(function(on,bn){sg(it,function(Wr,Aa){Te(bn,Aa,Wr)})})},_o=function(Ne,it){var on=me(Ne);Sw?on.each(function(bn,Wr){if(Wr.canHaveHTML!==!1){for(;Wr.firstChild;)Wr.removeChild(Wr.firstChild);try{Wr.innerHTML="<br>"+it,Wr.removeChild(Wr.firstChild)}catch{Ur("<div></div>").html("<br>"+it).contents().slice(1).appendTo(Wr)}return it}}):on.html(it)},ni=function(Ne,it,on,bn,Wr){return eo(Ne,function(Aa){var Ca=typeof it=="string"?e.createElement(it):it;return La(Ca,on),bn&&(typeof bn!="string"&&bn.nodeType?Ca.appendChild(bn):typeof bn=="string"&&_o(Ca,bn)),Wr?Ca:Aa.appendChild(Ca)})},Wn=function(Ne,it,on){return ni(e.createElement(Ne),Ne,it,on,!0)},Xn=Ru.decode,An=Ru.encodeAllRaw,ln=function(Ne,it,on){var bn="",Wr;bn+="<"+Ne;for(Wr in it)it.hasOwnProperty(Wr)&&it[Wr]!==null&&typeof it[Wr]!="undefined"&&(bn+=" "+Wr+'="'+An(it[Wr])+'"');return typeof on!="undefined"?bn+">"+on+"</"+Ne+">":bn+" />"},ot=function(Ne){var it,on=e.createElement("div"),bn=e.createDocumentFragment();for(bn.appendChild(on),Ne&&(on.innerHTML=Ne);it=on.firstChild;)bn.appendChild(it);return bn.removeChild(on),bn},sn=function(Ne,it){var on=me(Ne);return it?on.each(function(){for(var bn;bn=this.firstChild;)bn.nodeType===3&&bn.data.length===0?this.removeChild(bn):this.parentNode.insertBefore(bn,this)}).remove():on.remove(),on.length>1?on.toArray():on[0]},xn=function(Ne){return eo(Ne,function(it){var on,bn=it.attributes;for(on=bn.length-1;on>=0;on--)it.removeAttributeNode(bn.item(on))})},$r=function(Ne){return R.parse(Ne)},hr=function(Ne,it){return R.serialize(Ne,it)},to=function(Ne){var it,on;if(Nm!==Ja.DOM&&e===document){if(a[Ne])return;a[Ne]=!0}on=e.getElementById("mceDefaultStyles"),on||(on=e.createElement("style"),on.id="mceDefaultStyles",on.type="text/css",it=e.getElementsByTagName("head")[0],it.firstChild?it.insertBefore(on,it.firstChild):it.appendChild(on)),on.styleSheet?on.styleSheet.cssText+=Ne:on.appendChild(e.createTextNode(Ne))},pi=function(Ne){Ne||(Ne=""),he(Ne.split(","),function(it){s[it]=!0,y.load(it,te)})},lu=function(Ne,it,on){me(Ne).toggleClass(it,on).each(function(){this.className===""&&Ur(this).attr("class",null)})},Uu=function(Ne,it){me(Ne).addClass(it)},Is=function(Ne,it){lu(Ne,it,!1)},Wu=function(Ne,it){return me(Ne).hasClass(it)},ri=function(Ne){me(Ne).show()},tu=function(Ne){me(Ne).hide()},zs=function(Ne){return me(Ne).css("display")==="none"},fl=function(Ne){return(Ne||"mce_")+f++},co=function(Ne){var it=typeof Ne=="string"?G(Ne):Ne;return Hr(it)?it.outerHTML:Ur("<div></div>").append(Ur(it).clone()).html()},Xa=function(Ne,it){me(Ne).each(function(){try{if("outerHTML"in this){this.outerHTML=it;return}}catch{}sn(Ur(this).html(it),!0)})},Ui=function(Ne,it){var on=G(it);return eo(Ne,function(bn){var Wr=on.parentNode,Aa=on.nextSibling;return Aa?Wr.insertBefore(bn,Aa):Wr.appendChild(bn),bn})},ql=function(Ne,it,on){return eo(it,function(bn){return dt.is(bn,"array")&&(Ne=Ne.cloneNode(!0)),on&&sg(pS(bn.childNodes),function(Wr){Ne.appendChild(Wr)}),bn.parentNode.replaceChild(Ne,bn)})},Gl=function(Ne,it){var on;return Ne.nodeName!==it.toUpperCase()&&(on=Wn(it),sg(be(Ne),function(bn){Te(on,bn.nodeName,fe(Ne,bn.nodeName))}),ql(on,Ne,!0)),on||Ne},ic=function(Ne,it){for(var on=Ne,bn;on;){for(bn=it;bn&&on!==bn;)bn=bn.parentNode;if(on===bn)break;on=on.parentNode}return!on&&Ne.ownerDocument?Ne.ownerDocument.documentElement:on},Bm=function(Ne){return R.toHex(dt.trim(Ne))},P1=function(Ne){if(Hr(Ne)){var it=Ne.nodeName.toLowerCase()==="a"&&!fe(Ne,"href")&&fe(Ne,"id");if(fe(Ne,"name")||fe(Ne,"data-mce-bookmark")||it)return!0}return!1},Rm=function(Ne,it){var on,bn,Wr=0;if(P1(Ne))return!1;if(Ne=Ne.firstChild,Ne){var Aa=new jo(Ne,Ne.parentNode),Ca=P?P.getWhiteSpaceElements():{};it=it||(P?P.getNonEmptyElements():null);do{if(on=Ne.nodeType,Hr(Ne)){var uc=Ne.getAttribute("data-mce-bogus");if(uc){Ne=Aa.next(uc==="all");continue}if(bn=Ne.nodeName.toLowerCase(),it&&it[bn]){if(bn==="br"){Wr++,Ne=Aa.next();continue}return!1}if(P1(Ne))return!1}if(on===8||on===3&&!cv(Ne.nodeValue)||on===3&&Ne.parentNode&&Ca[Ne.parentNode.nodeName]&&cv(Ne.nodeValue))return!1;Ne=Aa.next()}while(Ne)}return Wr<=1},Pm=function(){return e.createRange()},N1=function(Ne,it,on){var bn=Pm(),Wr,Aa,Ca;if(Ne&&it)return bn.setStart(Ne.parentNode,Ld(Ne)),bn.setEnd(it.parentNode,Ld(it)),Wr=bn.extractContents(),bn=Pm(),bn.setStart(it.parentNode,Ld(it)+1),bn.setEnd(Ne.parentNode,Ld(Ne)+1),Aa=bn.extractContents(),Ca=Ne.parentNode,Ca.insertBefore(tb(Nm,Wr),Ne),on?Ca.insertBefore(on,Ne):Ca.insertBefore(it,Ne),Ca.insertBefore(tb(Nm,Aa),Ne),sn(Ne),on||it},nB=function(Ne,it,on,bn){if(dt.isArray(Ne)){for(var Wr=Ne.length,Aa=[];Wr--;)Aa[Wr]=nB(Ne[Wr],it,on,bn);return Aa}n.collect&&(Ne===e||Ne===i)&&E.push([Ne,it,on,bn]);var Ca=N.bind(Ne,it,on,bn||Nm);return Ca},nA=function(Ne,it,on){if(dt.isArray(Ne)){for(var bn=Ne.length,Wr=[];bn--;)Wr[bn]=nA(Ne[bn],it,on);return Wr}else{if(E.length>0&&(Ne===e||Ne===i))for(var bn=E.length;bn--;){var Aa=E[bn];Ne===Aa[0]&&(!it||it===Aa[1])&&(!on||on===Aa[2])&&N.unbind(Aa[0],Aa[1],Aa[2])}return N.unbind(Ne,it,on)}},T$=function(Ne,it,on){return N.fire(Ne,it,on)},rB=function(Ne){if(Ne&&Hr(Ne)){var it=Ne.getAttribute("data-mce-contenteditable");return it&&it!=="inherit"?it:Ne.contentEditable!=="inherit"?Ne.contentEditable:null}else return null},k$=function(Ne){for(var it=Tt(),on=null;Ne&&Ne!==it&&(on=rB(Ne),on===null);Ne=Ne.parentNode);return on},E$=function(){if(E.length>0)for(var Ne=E.length;Ne--;){var it=E[Ne];N.unbind(it[0],it[1],it[2])}Or(s,function(on,bn){y.unload(bn),delete s[bn]}),Fa.setDocument&&Fa.setDocument()},A$=function(Ne,it){for(;Ne;){if(it===Ne)return!0;Ne=Ne.parentNode}return!1},jx=function(Ne){return"startContainer: "+Ne.startContainer.nodeName+", startOffset: "+Ne.startOffset+", endContainer: "+Ne.endContainer.nodeName+", endOffset: "+Ne.endOffset},Nm={doc:e,settings:n,win:i,files:s,stdMode:g,boxModel:b,styleSheetLoader:y,boundEvents:E,styles:R,schema:P,events:N,isBlock:Q,$:J,$$:me,root:null,clone:Ve,getRoot:Tt,getViewPort:jt,getRect:Cn,getSize:Ar,getParent:En,getParents:en,get:G,getNext:Ht,getPrev:Un,select:pa,is:Yn,add:ni,create:Wn,createHTML:ln,createFragment:ot,remove:sn,setStyle:Kn,getStyle:Mt,setStyles:er,removeAllAttribs:xn,setAttrib:Te,setAttribs:La,getAttrib:fe,getPos:nn,parseStyle:$r,serializeStyle:hr,addStyle:to,loadCSS:pi,addClass:Uu,removeClass:Is,hasClass:Wu,toggleClass:lu,show:ri,hide:tu,isHidden:zs,uniqueId:fl,setHTML:_o,getOuterHTML:co,setOuterHTML:Xa,decode:Xn,encode:An,insertAfter:Ui,replace:ql,rename:Gl,findCommonAncestor:ic,toHex:Bm,run:eo,getAttribs:be,isEmpty:Rm,createRng:Pm,nodeIndex:Ld,split:N1,bind:nB,unbind:nA,fire:T$,getContentEditable:rB,getContentEditableParent:k$,destroy:E$,isChildOf:A$,dumpRng:jx},rA=yS(R,n,function(){return Nm});return Nm};Ja.DOM=Ja(document),Ja.nodeIndex=Ld;var kb=Ja.DOM,Eb=dt.each,wS=dt.grep,Hd=0,Dl=1,Xs=2,lg=3,ea=function(){function e(n){n===void 0&&(n={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=n}return e.prototype._setReferrerPolicy=function(n){this.settings.referrerPolicy=n},e.prototype.loadScript=function(n,a,i){var s=kb,f,g=function(){s.remove(E),f&&(f.onerror=f.onload=f=null)},b=function(){g(),a()},y=function(){g(),kt(i)?i():typeof console!="undefined"&&console.log&&console.log("Failed to load script: "+n)},E=s.uniqueId();f=document.createElement("script"),f.id=E,f.type="text/javascript",f.src=dt._addCacheSuffix(n),this.settings.referrerPolicy&&s.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=b,f.onerror=y,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)},e.prototype.isDone=function(n){return this.states[n]===Xs},e.prototype.markDone=function(n){this.states[n]=Xs},e.prototype.add=function(n,a,i,s){var f=this.states[n];this.queue.push(n),f===void 0&&(this.states[n]=Hd),a&&(this.scriptLoadedCallbacks[n]||(this.scriptLoadedCallbacks[n]=[]),this.scriptLoadedCallbacks[n].push({success:a,failure:s,scope:i||this}))},e.prototype.load=function(n,a,i,s){return this.add(n,a,i,s)},e.prototype.remove=function(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]},e.prototype.loadQueue=function(n,a,i){this.loadScripts(this.queue,n,a,i)},e.prototype.loadScripts=function(n,a,i,s){var f=this,g=[],b=function(E,P){Eb(f.scriptLoadedCallbacks[P],function(R){kt(R[E])&&R[E].call(R.scope)}),f.scriptLoadedCallbacks[P]=void 0};f.queueLoadedCallbacks.push({success:a,failure:s,scope:i||this});var y=function(){var E=wS(n);if(n.length=0,Eb(E,function(R){if(f.states[R]===Xs){b("success",R);return}if(f.states[R]===lg){b("failure",R);return}f.states[R]!==Dl&&(f.states[R]=Dl,f.loading++,f.loadScript(R,function(){f.states[R]=Xs,f.loading--,b("success",R),y()},function(){f.states[R]=lg,f.loading--,g.push(R),b("failure",R),y()}))}),!f.loading){var P=f.queueLoadedCallbacks.slice(0);f.queueLoadedCallbacks.length=0,Eb(P,function(R){g.length===0?kt(R.success)&&R.success.call(R.scope):kt(R.failure)&&R.failure.call(R.scope,g)})}};y()},e.ScriptLoader=new e,e}(),Ia=function(e){var n=e,a=function(){return n},i=function(s){n=s};return{get:a,set:i}},Sv=function(e){return yt(e)&&kr(e,"raw")},Ab=function(e){return mt(e)&&e.length>1},za={},Ys=Ia("en"),Ob=function(){return Nr(za,Ys.get())},Xi=function(){return xa(za,function(e){return Gn({},e)})},Uc=function(e){e&&Ys.set(e)},Tw=function(){return Ys.get()},CS=function(e,n){var a=za[e];a||(za[e]=a={}),Or(n,function(i,s){a[s.toLowerCase()]=i})},kw=function(e){var n=Ob().getOr({}),a=function(y){return kt(y)?Object.prototype.toString.call(y):i(y)?"":""+y},i=function(y){return y===""||y===null||y===void 0},s=function(y){var E=a(y);return Nr(n,E.toLowerCase()).map(a).getOr(E)},f=function(y){return y.replace(/{context:\w+}$/,"")};if(i(e))return"";if(Sv(e))return a(e.raw);if(Ab(e)){var g=e.slice(1),b=s(e[0]).replace(/\{([0-9]+)\}/g,function(y,E){return kr(g,E)?a(g[E]):y});return f(b)}return f(s(e))},np=function(){return Ob().bind(function(e){return Nr(e,"_dir")}).exists(function(e){return e==="rtl"})},Db=function(e){return kr(za,e)},Rs={getData:Xi,setCode:Uc,getCode:Tw,add:CS,translate:kw,isRtl:np,hasCode:Db},bu=function(){var e=[],n={},a={},i=[],s=function(Q,G){var me=St(i,function(fe){return fe.name===Q&&fe.state===G});he(me,function(fe){return fe.callback()})},f=function(Q){if(a[Q])return a[Q].instance},g=function(Q){var G;return a[Q]&&(G=a[Q].dependencies),G||[]},b=function(Q,G){bu.languageLoad!==!1&&J(Q,function(){var me=Rs.getCode(),fe=","+(G||"")+",";!me||G&&fe.indexOf(","+me+",")===-1||ea.ScriptLoader.add(n[Q]+"/langs/"+me+".js")},"loaded")},y=function(Q,G,me){var fe=G;return e.push(fe),a[Q]={instance:fe,dependencies:me},s(Q,"added"),fe},E=function(Q){delete n[Q],delete a[Q]},P=function(Q,G){return typeof G=="object"?G:typeof Q=="string"?{prefix:"",resource:G,suffix:""}:{prefix:Q.prefix,resource:G,suffix:Q.suffix}},R=function(Q,G){var me=n[Q];he(G,function(fe){ea.ScriptLoader.add(me+"/"+fe)})},N=function(Q,G,me,fe){var be=g(Q);he(be,function(Te){var Ve=P(G,Te);X(Ve.resource,Ve,void 0,void 0)}),me&&(fe?me.call(fe):me.call(ea))},X=function(Q,G,me,fe,be){if(!n[Q]){var Te=typeof G=="string"?G:G.prefix+G.resource+G.suffix;Te.indexOf("/")!==0&&Te.indexOf("://")===-1&&(Te=bu.baseURL+"/"+Te),n[Q]=Te.substring(0,Te.lastIndexOf("/"));var Ve=function(){s(Q,"loaded"),N(Q,G,me,fe)};a[Q]?Ve():ea.ScriptLoader.add(Te,Ve,fe,be)}},J=function(Q,G,me){me===void 0&&(me="added"),kr(a,Q)&&me==="added"||kr(n,Q)&&me==="loaded"?G():i.push({name:Q,state:me,callback:G})};return{items:e,urls:n,lookup:a,_listeners:i,get:f,dependencies:g,requireLangPack:b,add:y,remove:E,createUrl:P,addComponents:R,load:X,waitFor:J}};bu.languageLoad=!0,bu.baseURL="",bu.PluginManager=bu(),bu.ThemeManager=bu();var rp=function(e,n){var a=null,i=function(){a!==null&&(clearTimeout(a),a=null)},s=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];a===null&&(a=setTimeout(function(){e.apply(null,f),a=null},n))};return{cancel:i,throttle:s}},_b=function(e,n){var a=null,i=function(){a!==null&&(clearTimeout(a),a=null)},s=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];a!==null&&clearTimeout(a),a=setTimeout(function(){e.apply(null,f),a=null},n)};return{cancel:i,throttle:s}},Bb=function(e,n){var a=kd(e,n);return a===void 0||a===""?[]:a.split(" ")},xS=function(e,n,a){var i=Bb(e,n),s=i.concat([a]);return Us(e,n,s.join(" ")),!0},SS=function(e,n,a){var i=St(Bb(e,n),function(s){return s!==a});return i.length>0?Us(e,n,i.join(" ")):mu(e,n),!1},li=function(e){return e.dom.classList!==void 0},ap=function(e){return Bb(e,"class")},Ew=function(e,n){return xS(e,"class",n)},Aw=function(e,n){return SS(e,"class",n)},fg=function(e,n){li(e)?e.dom.classList.add(n):Ew(e,n)},Rb=function(e){var n=li(e)?e.dom.classList:ap(e);n.length===0&&mu(e,"class")},vg=function(e,n){if(li(e)){var a=e.dom.classList;a.remove(n)}else Aw(e,n);Rb(e)},op=function(e,n){return li(e)&&e.dom.classList.contains(n)},Pb=function(e,n){var a=[];return he(Yo(e),function(i){n(i)&&(a=a.concat([i])),a=a.concat(Pb(i,n))}),a},yu=function(e,n){return Yf(n,e)},fi=We("mce-annotation"),Go=We("data-mce-annotation"),vi=We("data-mce-annotation-uid"),Yi=function(e,n){var a=e.selection.getRng(),i=L.fromDom(a.startContainer),s=L.fromDom(e.getBody()),f=n.fold(function(){return"."+fi()},function(E){return"["+Go()+'="'+E+'"]'}),g=Oo(i,a.startOffset).getOr(i),b=kl(g,f,function(E){return xr(E,s)}),y=function(E,P){return Um(E,P)?z.some(kd(E,P)):z.none()};return b.bind(function(E){return y(E,""+vi()).bind(function(P){return y(E,""+Go()).map(function(R){var N=Ii(e,P);return{uid:P,name:R,elements:N}})})})},Nu=function(e){return $e(e)&&op(e,fi())},Ii=function(e,n){var a=L.fromDom(e.getBody());return yu(a,"["+vi()+'="'+n+'"]')},Nb=function(e,n){var a=L.fromDom(e.getBody()),i=yu(a,"["+Go()+'="'+n+'"]'),s={};return he(i,function(f){var g=kd(f,vi()),b=s.hasOwnProperty(g)?s[g]:[];s[g]=b.concat([f])}),s},Vd=function(e,n){var a=Ia({}),i=function(){return{listeners:[],previous:Ia(z.none())}},s=function(P,R){f(P,function(N){return R(N),N})},f=function(P,R){var N=a.get(),X=N.hasOwnProperty(P)?N[P]:i(),J=R(X);N[P]=J,a.set(N)},g=function(P,R,N){s(P,function(X){he(X.listeners,function(J){return J(!0,P,{uid:R,nodes:ke(N,function(Q){return Q.dom})})})})},b=function(P){s(P,function(R){he(R.listeners,function(N){return N(!1,P)})})},y=_b(function(){var P=a.get(),R=dr(Pr(P));he(R,function(N){f(N,function(X){var J=X.previous.get();return Yi(e,z.some(N)).fold(function(){J.isSome()&&(b(N),X.previous.set(z.none()))},function(Q){var G=Q.uid,me=Q.name,fe=Q.elements;J.is(G)||(g(me,G,fe),X.previous.set(z.some(G)))}),{previous:X.previous,listeners:X.listeners}})})},30);e.on("remove",function(){y.cancel()}),e.on("NodeChange",function(){y.throttle()});var E=function(P,R){f(P,function(N){return{previous:N.previous,listeners:N.listeners.concat([R])}})};return{addListener:E}},Mb=function(e,n){var a=function(i){return z.from(i.attr(Go())).bind(n.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(i){he(i,function(s){a(s).each(function(f){f.persistent===!1&&s.unwrap()})})})})},Ow=function(){var e={},n=function(i,s){e[i]={name:i,settings:s}},a=function(i){return e.hasOwnProperty(i)?z.from(e[i]).map(function(s){return s.settings}):z.none()};return{register:n,lookup:a}},Fb=0,$b=function(e){var n=new Date,a=n.getTime(),i=Math.floor(Math.random()*1e9);return Fb++,e+"_"+i+Fb+String(a)},Ib=function(e,n){he(n,function(a){fg(e,a)})},zb=function(e,n){var a=n||document,i=a.createElement("div");return i.innerHTML=e,Yo(L.fromDom(i))},TS=function(e){return e.dom.innerHTML},Dw=function(e,n){var a=Eu(e),i=a.dom,s=L.fromDom(i.createDocumentFragment()),f=zb(n,i);io(s,f),ef(e),Jo(e,s)},_w=function(e,n){return L.fromDom(e.dom.cloneNode(n))},Tv=function(e){return _w(e,!1)},ip=function(e){return _w(e,!0)},up=function(e,n,a){a===void 0&&(a=hn);var i=new jo(e,n),s=function(f){var g;do g=i[f]();while(g&&!M(g)&&!a(g));return z.from(g).filter(M)};return{current:function(){return z.from(i.current()).filter(M)},next:function(){return s("next")},prev:function(){return s("prev")},prev2:function(){return s("prev2")}}},Bw=function(e,n){var a=n||function(g){return e.isBlock(g)||Dt(g)||_r(g)},i=function(g,b,y,E){if(M(g)){var P=E(g,b,g.data);if(P!==-1)return z.some({container:g,offset:P})}return y().bind(function(R){return i(R.container,R.offset,y,E)})},s=function(g,b,y,E){var P=up(g,E,a);return i(g,b,function(){return P.prev().map(function(R){return{container:R,offset:R.length}})},y).getOrNull()},f=function(g,b,y,E){var P=up(g,E,a);return i(g,b,function(){return P.next().map(function(R){return{container:R,offset:0}})},y).getOrNull()};return{backwards:s,forwards:f}},kS=function(e){for(var n=[],a=function(s){n.push(s)},i=0;i<e.length;i++)e[i].each(a);return n},Mu=function(e,n,a){return e.isSome()&&n.isSome()?z.some(a(e.getOrDie(),n.getOrDie())):z.none()},bf=function(e,n,a,i){return e.isSome()&&n.isSome()&&a.isSome()?z.some(i(e.getOrDie(),n.getOrDie(),a.getOrDie())):z.none()},Lb=function(e,n){return e?z.some(n):z.none()},Lt=Math.round,kv=function(e){return e?{left:Lt(e.left),top:Lt(e.top),bottom:Lt(e.bottom),right:Lt(e.right),width:Lt(e.width),height:Lt(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},$o=function(e,n){return e=kv(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},ES=function(e,n){return e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right},Hb=function(e,n,a){return e>=0&&e<=Math.min(n.height,a.height)/2},Ev=function(e,n){var a=Math.min(n.height/2,e.height/2);return e.bottom-a<n.top?!0:e.top>n.bottom?!1:Hb(n.top-e.bottom,e,n)},zi=function(e,n){return e.top>n.bottom?!0:e.bottom<n.top?!1:Hb(n.bottom-e.top,e,n)},Vb=function(e,n,a){return n>=e.left&&n<=e.right&&a>=e.top&&a<=e.bottom},Ud=function(e){var n=e.startContainer,a=e.startOffset;return n.hasChildNodes()&&e.endOffset===a+1?n.childNodes[a]:null},yf=function(e,n){return e.nodeType===1&&e.hasChildNodes()&&(n>=e.childNodes.length&&(n=e.childNodes.length-1),e=e.childNodes[n]),e},wf=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),Rw=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&wf.test(e)},Ub=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(e[i](a))return!0;return!1}},Tc=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(!e[i](a))return!1;return!0}},Ji=Hr,Pw=Hc,Js=pl("display","block table"),Wd=pl("float","left right"),Av=Tc(Ji,Pw,cr(Wd)),Nw=cr(pl("white-space","pre pre-line pre-wrap")),dg=M,Ov=Dt,jd=Ja.nodeIndex,Cf=yf,Wb=function(e){return"createRange"in e?e.createRange():Ja.DOM.createRng()},jb=function(e){return e&&/[\r\n\t ]/.test(e)},qb=function(e){return!!e.setStart&&!!e.setEnd},mg=function(e){var n=e.startContainer,a=e.startOffset,i;return!!(jb(e.toString())&&Nw(n.parentNode)&&M(n)&&(i=n.data,jb(i[a-1])||jb(i[a+1])))},Mw=function(e){var n=e.ownerDocument,a=Wb(n),i=n.createTextNode(ui),s=e.parentNode;s.insertBefore(i,e),a.setStart(i,0),a.setEnd(i,1);var f=kv(a.getBoundingClientRect());return s.removeChild(i),f},Dv=function(e){var n=e.startContainer,a=e.endContainer,i=e.startOffset,s=e.endOffset;if(n===a&&M(a)&&i===0&&s===1){var f=e.cloneRange();return f.setEndAfter(a),os(f)}else return null},kc=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},os=function(e){var n,a=e.getClientRects();return a.length>0?n=kv(a[0]):n=kv(e.getBoundingClientRect()),!qb(e)&&Ov(e)&&kc(n)?Mw(e):kc(n)&&qb(e)?Dv(e):n},Wc=function(e,n){var a=$o(e,n);return a.width=1,a.right=a.left+1,a},sp=function(e){var n=[],a,i,s=function(g){g.height!==0&&(n.length>0&&ES(g,n[n.length-1])||n.push(g))},f=function(g,b){var y=Wb(g.ownerDocument);if(b<g.data.length){if(Rw(g.data[b]))return n;if(Rw(g.data[b-1])&&(y.setStart(g,b),y.setEnd(g,b+1),!mg(y)))return s(Wc(os(y),!1)),n}b>0&&(y.setStart(g,b-1),y.setEnd(g,b),mg(y)||s(Wc(os(y),!1))),b<g.data.length&&(y.setStart(g,b),y.setEnd(g,b+1),mg(y)||s(Wc(os(y),!0)))};if(dg(e.container()))return f(e.container(),e.offset()),n;if(Ji(e.container()))if(e.isAtEnd())i=Cf(e.container(),e.offset()),dg(i)&&f(i,i.data.length),Av(i)&&!Ov(i)&&s(Wc(os(i),!1));else{if(i=Cf(e.container(),e.offset()),dg(i)&&f(i,0),Av(i)&&e.isAtEnd())return s(Wc(os(i),!1)),n;a=Cf(e.container(),e.offset()-1),Av(a)&&!Ov(a)&&(Js(a)||Js(i)||!Av(i))&&s(Wc(os(a),!1)),Av(i)&&s(Wc(os(i),!0))}return n},gt=function(e,n,a){var i=function(){return dg(e),n===0},s=function(){return dg(e)?n>=e.data.length:n>=e.childNodes.length},f=function(){var P=Wb(e.ownerDocument);return P.setStart(e,n),P.setEnd(e,n),P},g=function(){return a||(a=sp(gt(e,n))),a},b=function(){return g().length>0},y=function(P){return P&&e===P.container()&&n===P.offset()},E=function(P){return Cf(e,P?n-1:n)};return{container:We(e),offset:We(n),toRange:f,getClientRects:g,isVisible:b,isAtStart:i,isAtEnd:s,isEqual:y,getNode:E}};gt.fromRangeStart=function(e){return gt(e.startContainer,e.startOffset)},gt.fromRangeEnd=function(e){return gt(e.endContainer,e.endOffset)},gt.after=function(e){return gt(e.parentNode,jd(e)+1)},gt.before=function(e){return gt(e.parentNode,jd(e))},gt.isAbove=function(e,n){return Mu(lt(n.getClientRects()),Tn(e.getClientRects()),Ev).getOr(!1)},gt.isBelow=function(e,n){return Mu(Tn(n.getClientRects()),lt(e.getClientRects()),zi).getOr(!1)},gt.isAtStart=function(e){return e?e.isAtStart():!1},gt.isAtEnd=function(e){return e?e.isAtEnd():!1},gt.isTextPosition=function(e){return e?M(e.container()):!1},gt.isElementPosition=function(e){return gt.isTextPosition(e)===!1};var cp=function(e,n){M(n)&&n.data.length===0&&e.remove(n)},AS=function(e,n,a){n.insertNode(a),cp(e,a.previousSibling),cp(e,a.nextSibling)},gg=function(e,n,a){var i=z.from(a.firstChild),s=z.from(a.lastChild);n.insertNode(a),i.each(function(f){return cp(e,f.previousSibling)}),s.each(function(f){return cp(e,f.nextSibling)})},hg=function(e,n,a){He(a)?gg(e,n,a):AS(e,n,a)},Zs=M,Fw=bl,Gb=Ja.nodeIndex,$w=function(e){var n=e.parentNode;return Fw(n)?$w(n):n},qd=function(e){return e?ua(e.childNodes,function(n,a){return Fw(a)&&a.nodeName!=="BR"?n=n.concat(qd(a)):n.push(a),n},[]):[]},lp=function(e,n){for(;(e=e.previousSibling)&&Zs(e);)n+=e.data.length;return n},Kb=function(e){return function(n){return e===n}},OS=function(e){var n,a;n=qd($w(e)),a=Pa(n,Kb(e),e),n=n.slice(0,a+1);var i=ua(n,function(s,f,g){return Zs(f)&&Zs(n[g-1])&&s++,s},0);return n=ao(n,Ku([e.nodeName])),a=Pa(n,Kb(e),e),a-i},Gd=function(e){var n;return Zs(e)?n="text()":n=e.nodeName.toLowerCase(),n+"["+OS(e)+"]"},Kd=function(e,n,a){var i=[];for(n=n.parentNode;n!==e&&!(a&&a(n));n=n.parentNode)i.push(n);return i},Xd=function(e,n){var a,i,s=[],f,g,b;return a=n.container(),i=n.offset(),Zs(a)?f=lp(a,i):(g=a.childNodes,i>=g.length?(f="after",i=g.length-1):f="before",a=g[i]),s.push(Gd(a)),b=Kd(e,a),b=ao(b,cr(bl)),s=s.concat(ho(b,function(y){return Gd(y)})),s.reverse().join("/")+","+f},pg=function(e,n,a){var i=qd(e);return i=ao(i,function(s,f){return!Zs(s)||!Zs(i[f-1])}),i=ao(i,Ku([n])),i[a]},Xb=function(e,n){for(var a=e,i=0,s;Zs(a);){if(s=a.data.length,n>=i&&n<=i+s){e=a,n=n-i;break}if(!Zs(a.nextSibling)){e=a,n=s;break}i+=s,a=a.nextSibling}return Zs(e)&&n>e.data.length&&(n=e.data.length),gt(e,n)},Iw=function(e,n){var a;if(!n)return null;var i=n.split(","),s=i[0].split("/");a=i.length>1?i[1]:"before";var f=ua(s,function(g,b){var y=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b);return y?(y[1]==="text()"&&(y[1]="#text"),pg(g,y[1],parseInt(y[2],10))):null},e);return f?Zs(f)?Xb(f,parseInt(a,10)):(a==="after"?a=Gb(f)+1:a=Gb(f),gt(f.parentNode,a)):null},Qs=_r,Yb=function(e,n,a){var i,s;for(s=e(n.data.slice(0,a)).length,i=n.previousSibling;i&&M(i);i=i.previousSibling)s+=e(i.data).length;return s},Yd=function(e,n,a,i,s){var f=i[s?"startContainer":"endContainer"],g=i[s?"startOffset":"endOffset"],b=[],y,E=0,P=e.getRoot();for(M(f)?b.push(a?Yb(n,f,g):g):(y=f.childNodes,g>=y.length&&y.length&&(E=1,g=Math.max(0,y.length-1)),b.push(e.nodeIndex(y[g],a)+E));f&&f!==P;f=f.parentNode)b.push(e.nodeIndex(f,a));return b},_l=function(e,n,a,i){var s=n.dom,f={};return f.start=Yd(s,e,a,i,!0),n.isCollapsed()||(f.end=Yd(s,e,a,i,!1)),f},Jd=function(e,n,a){var i=0;return dt.each(e.select(n),function(s){if(s.getAttribute("data-mce-bogus")!=="all"){if(s===a)return!1;i++}}),i},zw=function(e,n){var a,i,s,f=n?"start":"end";a=e[f+"Container"],i=e[f+"Offset"],Hr(a)&&a.nodeName==="TR"&&(s=a.childNodes,a=s[Math.min(n?i:i-1,s.length-1)],a&&(i=n?0:a.childNodes.length,e["set"+(n?"Start":"End")](a,i)))},Lw=function(e){return zw(e,!0),zw(e,!1),e},Hw=function(e,n){var a;if(Hr(e)&&(e=yf(e,n),Qs(e)))return e;if(gu(e)&&(M(e)&&wi(e)&&(e=e.parentNode),a=e.previousSibling,Qs(a)||(a=e.nextSibling,Qs(a))))return a},DS=function(e){return Hw(e.startContainer,e.startOffset)||Hw(e.endContainer,e.endOffset)},fp=function(e,n,a){var i=a.getNode(),s=i?i.nodeName:null,f=a.getRng();if(Qs(i)||s==="IMG")return{name:s,index:Jd(a.dom,s,i)};var g=DS(f);return g?(s=g.tagName,{name:s,index:Jd(a.dom,s,g)}):_l(e,a,n,f)},_S=function(e){var n=e.getRng();return{start:Xd(e.dom.getRoot(),gt.fromRangeStart(n)),end:Xd(e.dom.getRoot(),gt.fromRangeEnd(n))}},BS=function(e){return{rng:e.getRng()}},_v=function(e,n,a){var i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return a?e.create("span",i,"&#xFEFF;"):e.create("span",i)},Vw=function(e,n){var a=e.dom,i=e.getRng(),s=a.uniqueId(),f=e.isCollapsed(),g=e.getNode(),b=g.nodeName;if(b==="IMG")return{name:b,index:Jd(a,b,g)};var y=Lw(i.cloneRange());if(!f){y.collapse(!1);var E=_v(a,s+"_end",n);hg(a,y,E)}i=Lw(i),i.collapse(!0);var P=_v(a,s+"_start",n);return hg(a,i,P),e.moveToBookmark({id:s,keep:!0}),{id:s}},Uw=function(e,n,a){return n===2?fp(ks,a,e):n===3?_S(e):n?BS(e):Vw(e,!1)},bg=Xe(fp,dn,!0),Jb=Ja.DOM,Zb="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",uu=function(e,n,a){var i=e.getParam(n,a);if(i.indexOf("=")!==-1){var s=e.getParam(n,"","hash");return s.hasOwnProperty(e.id)?s[e.id]:a}else return i},Ww=function(e){return e.getParam("iframe_attrs",{})},vp=function(e){return e.getParam("doctype","<!DOCTYPE html>")},RS=function(e){return e.getParam("document_base_url","")},PS=function(e){return uu(e,"body_id","tinymce")},xf=function(e){return uu(e,"body_class","")},yg=function(e){return e.getParam("content_security_policy","")},NS=function(e){return e.getParam("br_in_pre",!0)},di=function(e){if(e.getParam("force_p_newlines",!1))return"p";var n=e.getParam("forced_root_block","p");return n===!1?"":n===!0?"p":n},Sf=function(e){return e.getParam("forced_root_block_attrs",{})},jw=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},MS=function(e){return e.getParam("no_newline_selector","")},qw=function(e){return e.getParam("keep_styles",!0)},FS=function(e){return e.getParam("end_container_on_empty_block",!1)},$S=function(e){return dt.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},IS=function(e){return dt.explode(e.getParam("font_size_classes",""))},Bl=function(e){return e.getParam("images_dataimg_filter",an,"function")},Zd=function(e){return e.getParam("automatic_uploads",!0,"boolean")},zS=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},Gw=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},Kw=function(e){return e.getParam("icons","","string")},Xw=function(e){return e.getParam("icons_url","","string")},Yw=function(e){return e.getParam("images_upload_url","","string")},Qb=function(e){return e.getParam("images_upload_base_path","","string")},wg=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},LS=function(e){return e.getParam("images_upload_handler",null,"function")},HS=function(e){return e.getParam("content_css_cors",!1,"boolean")},Bv=function(e){return e.getParam("referrer_policy","","string")},e0=function(e){return e.getParam("language","en","string")},VS=function(e){return e.getParam("language_url","","string")},Jw=function(e){return e.getParam("indent_use_margin",!1)},Qd=function(e){return e.getParam("indentation","40px","string")},Zw=function(e){var n=e.getParam("content_css");return jn(n)?ke(n.split(","),Z):mt(n)?n:n===!1||e.inline?[]:["default"]},t0=function(e){var n=e.getParam("font_css",[]);return mt(n)?n:ke(n.split(","),Z)},Qw=function(e){return e.getParam("directionality",Rs.isRtl()?"rtl":void 0)},e2=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},t2=function(e){var n=e.getParam("object_resizing");return n===!1||Ln.iOS?!1:jn(n)?n:"table,img,figure.image,div,video,iframe"},n2=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},r2=function(e){return e.getParam("placeholder",Jb.getAttrib(e.getElement(),"placeholder"),"string")},a2=function(e){return e.getParam("event_root")},o2=function(e){return e.getParam("service_message")},Cg=function(e){return e.getParam("theme")},US=function(e){return e.getParam("validate")},xg=function(e){return e.getParam("inline_boundaries")!==!1},em=function(e){return e.getParam("formats")},WS=function(e){var n=e.getParam("preview_styles",Zb);return jn(n)?n:""},jS=function(e){return e.getParam("format_empty_lines",!1,"boolean")},wu=function(e){return e.getParam("custom_ui_selector","","string")},i2=function(e){return e.getParam("theme_url")},qS=function(e){return e.getParam("inline")},Fu=function(e){return e.getParam("hidden_input")},u2=function(e){return e.getParam("submit_patch")},GS=function(e){return e.getParam("encoding")==="xml"},KS=function(e){return e.getParam("add_form_submit_trigger")},n0=function(e){return e.getParam("add_unload_trigger")},tm=function(e){return di(e)!==""},r0=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},s2=function(e){return e.getParam("disable_nodechange")},c2=function(e){return e.getParam("readonly")},XS=function(e){return e.getParam("content_css_cors")},dp=function(e){return e.getParam("plugins","","string")},ec=function(e){return e.getParam("external_plugins")},Tf=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},mp=function(e){return e.getParam("visual",!0,"boolean")},Rv=function(e){return e.getParam("visual_table_class","mce-item-table","string")},gp=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},l2=Hr,a0=M,o0=function(e){var n=e.parentNode;n&&n.removeChild(e)},i0=function(e){var n=ks(e);return{count:e.length-n.length,text:n}},u0=function(e){for(var n;(n=e.data.lastIndexOf(Pi))!==-1;)e.deleteData(n,1)},f2=function(e,n){return jc(e),n},YS=function(e,n){var a=i0(e.data.substr(0,n.offset())),i=i0(e.data.substr(n.offset())),s=a.text+i.text;return s.length>0?(u0(e),gt(e,n.offset()-a.count)):n},JS=function(e,n){var a=n.container(),i=de(or(a.childNodes),e).map(function(s){return s<n.offset()?gt(a,n.offset()-1):n}).getOr(n);return jc(e),i},ZS=function(e,n){return a0(e)&&n.container()===e?YS(e,n):f2(e,n)},QS=function(e,n){return n.container()===e.parentNode?JS(e,n):f2(e,n)},eT=function(e,n){return gt.isTextPosition(n)?ZS(e,n):QS(e,n)},jc=function(e){l2(e)&&gu(e)&&(Ym(e)?e.removeAttribute("data-mce-caret"):o0(e)),a0(e)&&(u0(e),e.data.length===0&&o0(e))},hp=la().browser,v2=_r,tT=Vr,nT=Ea,rT="*[contentEditable=false],video,audio,embed,object",Zi=function(e,n,a){var i=$o(n.getBoundingClientRect(),a),s,f,g,b,y;return e.tagName==="BODY"?(s=e.ownerDocument.documentElement,f=e.scrollLeft||s.scrollLeft,g=e.scrollTop||s.scrollTop):(y=e.getBoundingClientRect(),f=e.scrollLeft-y.left,g=e.scrollTop-y.top),i.left+=f,i.right+=f,i.top+=g,i.bottom+=g,i.width=1,b=n.offsetWidth-n.clientWidth,b>0&&(a&&(b*=-1),i.left+=b,i.right+=b),i},nm=function(e){for(var n=yu(L.fromDom(e),rT),a=0;a<n.length;a++){var i=n[a].dom,s=i.previousSibling;if(qo(s)){var f=s.data;f.length===1?s.parentNode.removeChild(s):s.deleteData(f.length-1,1)}if(s=i.nextSibling,Fh(s)){var f=s.data;f.length===1?s.parentNode.removeChild(s):s.deleteData(0,1)}}},rm=function(e,n,a,i){var s=Ia(z.none()),f,g,b=di(e),y=b.length>0?b:"p",E=function(Q,G){var me,fe;if(P(),nT(G))return null;if(a(G)){g=Y1(y,G,Q),me=Zi(n,G,Q),Ur(g).css("top",me.top);var be=Ur('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(me).appendTo(n)[0];s.set(z.some({caret:be,element:G,before:Q})),s.get().each(function(Te){Q&&Ur(Te.caret).addClass("mce-visual-caret-before")}),R(),fe=G.ownerDocument.createRange(),fe.setStart(g,0),fe.setEnd(g,0)}else return g=pc(G,Q),fe=G.ownerDocument.createRange(),am(g.nextSibling)?(fe.setStart(g,0),fe.setEnd(g,0)):(fe.setStart(g,1),fe.setEnd(g,1)),fe;return fe},P=function(){nm(n),g&&(jc(g),g=null),s.get().each(function(Q){Ur(Q.caret).remove(),s.set(z.none())}),f&&(Lr.clearInterval(f),f=null)},R=function(){f=Lr.setInterval(function(){i()?Ur("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden"):Ur("div.mce-visual-caret",n).addClass("mce-visual-caret-hidden")},500)},N=function(){s.get().each(function(Q){var G=Zi(n,Q.element,Q.before);Ur(Q.caret).css(Gn({},G))})},X=function(){return Lr.clearInterval(f)},J=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:E,hide:P,getCss:J,reposition:N,destroy:X}},pp=function(){return hp.isIE()||hp.isEdge()||hp.isFirefox()},am=function(e){return v2(e)||tT(e)},Rl=function(e){return am(e)||nf(e)&&pp()},qc=_r,d2=Vr,s0=pl("display","block table table-cell table-caption list-item"),kf=gu,c0=wi,bp=Hr,aT=Hc,Pv=function(e){return e>0},Ef=function(e){return e<0},Sg=function(e,n){for(var a;a=e(n);)if(!c0(a))return a;return null},Nv=function(e,n,a,i,s){var f=new jo(e,i),g=qc(e)||c0(e);if(Ef(n)){if(g&&(e=Sg(f.prev.bind(f),!0),a(e)))return e;for(;e=Sg(f.prev.bind(f),s);)if(a(e))return e}if(Pv(n)){if(g&&(e=Sg(f.next.bind(f),!0),a(e)))return e;for(;e=Sg(f.next.bind(f),s);)if(a(e))return e}return null},Af=function(e,n){for(;e&&e!==n;){if(s0(e))return e;e=e.parentNode}return null},Gc=function(e,n,a){return Af(e.container(),a)===Af(n.container(),a)},yp=function(e,n){if(!n)return null;var a=n.container(),i=n.offset();return bp(a)?a.childNodes[i+e]:null},l0=function(e,n){var a=n.ownerDocument.createRange();return e?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),a},oT=function(e,n,a){return Af(n,e)===Af(a,e)},m2=function(e,n,a){var i,s;for(e?s="previousSibling":s="nextSibling";a&&a!==n;){if(i=a[s],kf(i)&&(i=i[s]),qc(i)||d2(i)){if(oT(n,i,a))return i;break}if(aT(i))break;a=a.parentNode}return null},Tg=Xe(l0,!0),kg=Xe(l0,!1),Eg=function(e,n,a){var i,s,f,g=Xe(m2,!0,n),b=Xe(m2,!1,n);s=a.startContainer;var y=a.startOffset;if(wi(s)){if(bp(s)||(s=s.parentNode),f=s.getAttribute("data-mce-caret"),f==="before"&&(i=s.nextSibling,Rl(i)))return Tg(i);if(f==="after"&&(i=s.previousSibling,Rl(i)))return kg(i)}if(!a.collapsed)return a;if(M(s)){if(kf(s)){if(e===1){if(i=b(s),i)return Tg(i);if(i=g(s),i)return kg(i)}if(e===-1){if(i=g(s),i)return kg(i);if(i=b(s),i)return Tg(i)}return a}if(qo(s)&&y>=s.data.length-1)return e===1&&(i=b(s),i)?Tg(i):a;if(Fh(s)&&y<=1)return e===-1&&(i=g(s),i)?kg(i):a;if(y===s.data.length)return i=b(s),i?Tg(i):a;if(y===0)return i=g(s),i?kg(i):a}return a},g2=function(e,n){return z.from(yp(e?0:-1,n)).filter(qc)},Mv=function(e,n,a){var i=Eg(e,n,a);return e===-1?gt.fromRangeStart(i):gt.fromRangeEnd(i)},Ag=function(e){return z.from(e.getNode()).map(L.fromDom)},h2=function(e){return z.from(e.getNode(!0)).map(L.fromDom)},f0=function(e,n){for(;n=e(n);)if(n.isVisible())return n;return n},Og=function(e,n){var a=Gc(e,n);return!a&&Dt(e.getNode())?!0:a},Qo;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Qo||(Qo={}));var p2=_r,jr=M,Of=Hr,Ec=Dt,Kc=Hc,Dg=uw,Df=Rd,iT=function(e,n){for(var a=[];e&&e!==n;)a.push(e),e=e.parentNode;return a},wp=function(e,n){return e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null},Cp=function(e,n){if(Pv(e)){if(Kc(n.previousSibling)&&!jr(n.previousSibling))return gt.before(n);if(jr(n))return gt(n,0)}if(Ef(e)){if(Kc(n.nextSibling)&&!jr(n.nextSibling))return gt.after(n);if(jr(n))return gt(n,n.data.length)}return Ef(e)?Ec(n)?gt.before(n):gt.after(n):gt.before(n)},b2=function(e,n){var a=n.nextSibling;return a&&Kc(a)?jr(a)?gt(a,0):gt.before(a):v0(Qo.Forwards,gt.after(n),e)},v0=function(e,n,a){var i,s,f,g;if(!Of(a)||!n)return null;if(n.isEqual(gt.after(a))&&a.lastChild){if(g=gt.after(a.lastChild),Ef(e)&&Kc(a.lastChild)&&Of(a.lastChild))return Ec(a.lastChild)?gt.before(a.lastChild):g}else g=n;var b=g.container(),y=g.offset();if(jr(b)){if(Ef(e)&&y>0)return gt(b,--y);if(Pv(e)&&y<b.length)return gt(b,++y);i=b}else{if(Ef(e)&&y>0&&(s=wp(b,y-1),Kc(s)))return!Dg(s)&&(f=Nv(s,e,Df,s),f)?jr(f)?gt(f,f.data.length):gt.after(f):jr(s)?gt(s,s.data.length):gt.before(s);if(Pv(e)&&y<b.childNodes.length&&(s=wp(b,y),Kc(s)))return Ec(s)?b2(a,s):!Dg(s)&&(f=Nv(s,e,Df,s),f)?jr(f)?gt(f,0):gt.before(f):jr(s)?gt(s,0):gt.after(s);i=s||g.getNode()}if((Pv(e)&&g.isAtEnd()||Ef(e)&&g.isAtStart())&&(i=Nv(i,e,an,a,!0),Df(i,a)))return Cp(e,i);s=Nv(i,e,Df,a);var E=Ga(St(iT(b,a),p2));return E&&(!s||!E.contains(s))?(Pv(e)?g=gt.after(E):g=gt.before(E),g):s?Cp(e,s):null},Ac=function(e){return{next:function(n){return v0(Qo.Forwards,n,e)},prev:function(n){return v0(Qo.Backwards,n,e)}}},uT=function(e,n,a){var i=e?gt.before(a):gt.after(a);return Ps(e,n,i)},y2=function(e){return Dt(e)?gt.before(e):gt.after(e)},w2=function(e){return gt.isTextPosition(e)?e.offset()===0:Hc(e.getNode())},C2=function(e){if(gt.isTextPosition(e)){var n=e.container();return e.offset()===n.data.length}else return Hc(e.getNode(!0))},d0=function(e,n){return!gt.isTextPosition(e)&&!gt.isTextPosition(n)&&e.getNode()===n.getNode(!0)},sT=function(e){return!gt.isTextPosition(e)&&Dt(e.getNode())},x2=function(e,n,a){return e?!d0(n,a)&&!sT(n)&&C2(n)&&w2(a):!d0(a,n)&&w2(n)&&C2(a)},Ps=function(e,n,a){var i=Ac(n);return z.from(e?i.next(a):i.prev(a))},xp=function(e,n,a){return Ps(e,n,a).bind(function(i){return Gc(a,i,n)&&x2(e,a,i)?Ps(e,n,i):z.some(i)})},Sp=function(e,n,a,i){return xp(e,n,a).bind(function(s){return i(s)?Sp(e,n,s,i):z.some(s)})},Fv=function(e,n){var a=e?n.firstChild:n.lastChild;return M(a)?z.some(gt(a,e?0:a.data.length)):a?Hc(a)?z.some(e?gt.before(a):y2(a)):uT(e,n,a):z.none()},tc=Xe(Ps,!0),Oc=Xe(Ps,!1),Cu=Xe(Fv,!0),Xc=Xe(Fv,!1),m0="_mce_caret",Yc=function(e){return Hr(e)&&e.id===m0},$v=function(e,n){for(;n&&n!==e;){if(n.id===m0)return n;n=n.parentNode}return null},cT=function(e){return jn(e.start)},lT=function(e){return e.hasOwnProperty("rng")},S2=function(e){return e.hasOwnProperty("id")},g0=function(e){return e.hasOwnProperty("name")},h0=function(e){return dt.isArray(e.start)},T2=function(e,n){return Hr(n)&&e.isBlock(n)&&!n.innerHTML&&!Ln.ie&&(n.innerHTML='<br data-mce-bogus="1" />'),n},wn=function(e,n){var a,i=e.createRng();return a=Iw(e.getRoot(),n.start),i.setStart(a.container(),a.offset()),a=Iw(e.getRoot(),n.end),i.setEnd(a.container(),a.offset()),i},ei=function(e,n){var a=e.ownerDocument.createTextNode(Pi);e.appendChild(a),n.setStart(a,0),n.setEnd(a,0)},Tp=function(e){return e.hasChildNodes()===!1},Io=function(e,n){return Xc(e).fold(hn,function(a){return n.setStart(a.container(),a.offset()),n.setEnd(a.container(),a.offset()),!0})},xu=function(e,n,a){return Tp(n)&&$v(e,n)?(ei(n,a),!0):!1},_g=function(e,n,a,i){var s=a[n?"start":"end"],f,g,b,y,E=e.getRoot();if(s){for(b=s[0],g=E,f=s.length-1;f>=1;f--){if(y=g.childNodes,xu(E,g,i))return!0;if(s[f]>y.length-1)return xu(E,g,i)?!0:Io(g,i);g=y[s[f]]}g.nodeType===3&&(b=Math.min(s[0],g.nodeValue.length)),g.nodeType===1&&(b=Math.min(s[0],g.childNodes.length)),n?i.setStart(g,b):i.setEnd(g,b)}return!0},Iv=function(e){return M(e)&&e.data.length>0},om=function(e,n,a){var i=e.get(a.id+"_"+n),s,f,g,b,y=a.keep,E,P;if(i){if(s=i.parentNode,n==="start"?(y?i.hasChildNodes()?(s=i.firstChild,f=1):Iv(i.nextSibling)?(s=i.nextSibling,f=0):Iv(i.previousSibling)?(s=i.previousSibling,f=i.previousSibling.data.length):(s=i.parentNode,f=e.nodeIndex(i)+1):f=e.nodeIndex(i),E=s,P=f):(y?i.hasChildNodes()?(s=i.firstChild,f=1):Iv(i.previousSibling)?(s=i.previousSibling,f=i.previousSibling.data.length):(s=i.parentNode,f=e.nodeIndex(i)):f=e.nodeIndex(i),E=s,P=f),!y){for(b=i.previousSibling,g=i.nextSibling,dt.each(dt.grep(i.childNodes),function(R){M(R)&&(R.nodeValue=R.nodeValue.replace(/\uFEFF/g,""))});i=e.get(a.id+"_"+n);)e.remove(i,!0);b&&g&&b.nodeType===g.nodeType&&M(b)&&!Ln.opera&&(f=b.nodeValue.length,b.appendData(g.nodeValue),e.remove(g),E=b,P=f)}return z.some(gt(E,P))}else return z.none()},k2=function(e,n){var a=e.createRng();return _g(e,!0,n,a)&&_g(e,!1,n,a)?z.some(a):z.none()},p0=function(e,n){var a=om(e,"start",n),i=om(e,"end",n);return Mu(a,i.or(a),function(s,f){var g=e.createRng();return g.setStart(T2(e,s.container()),s.offset()),g.setEnd(T2(e,f.container()),f.offset()),g})},E2=function(e,n){return z.from(e.select(n.name)[n.index]).map(function(a){var i=e.createRng();return i.selectNode(a),i})},fT=function(e,n){var a=e.dom;if(n){if(h0(n))return k2(a,n);if(cT(n))return z.some(wn(a,n));if(S2(n))return p0(a,n);if(g0(n))return E2(a,n);if(lT(n))return z.some(n.rng)}return z.none()},vT=function(e,n,a){return Uw(e,n,a)},dT=function(e,n){fT(e,n).each(function(a){e.setRng(a)})},$u=function(e){return Hr(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},mT=function(e){return function(n){return e===n}},im=mT(ui),Jc=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},zv=function(e){return!Jc(e)&&!im(e)},Dc=function(e){return!!e.nodeType},Bg=function(e){return e&&/^(IMG)$/.test(e.nodeName)},kp=function(e,n,a){var i=a.startOffset,s=a.startContainer,f,g,b;if(!(a.startContainer===a.endContainer&&Bg(a.startContainer.childNodes[a.startOffset]))&&s.nodeType===1){for(b=s.childNodes,i<b.length?(s=b[i],f=new jo(s,e.getParent(s,e.isBlock))):(s=b[b.length-1],f=new jo(s,e.getParent(s,e.isBlock)),f.next(!0)),g=f.current();g;g=f.next())if(g.nodeType===3&&!y0(g)){a.setStart(g,0),n.setRng(a);return}}},b0=function(e,n,a){if(e){var i=n?"nextSibling":"previousSibling";for(e=a?e:e[i];e;e=e[i])if(e.nodeType===1||!y0(e))return e}},um=function(e,n){return Dc(n)&&(n=n.nodeName),!!e.schema.getTextBlockElements()[n.toLowerCase()]},Pl=function(e,n,a){return e.schema.isValidChild(n,a)},y0=function(e,n){if(n===void 0&&(n=!1),ut(e)&&M(e)){var a=n?e.data.replace(/ /g,"\xA0"):e.data;return cv(a)}else return!1},gT=function(e){return ut(e)&&M(e)&&e.length===0},_f=function(e,n){return typeof e!="string"?e=e(n):n&&(e=e.replace(/%(\w+)/g,function(a,i){return n[i]||a})),e},w0=function(e,n){return e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()},Rg=function(e,n,a){return(a==="color"||a==="backgroundColor")&&(n=e.toHex(n)),a==="fontWeight"&&n===700&&(n="bold"),a==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+n},Pg=function(e,n,a){return Rg(e,e.getStyle(n,a),a)},A2=function(e,n){var a;return e.getParent(n,function(i){return a=e.getStyle(i,"text-decoration"),a&&a!=="none"}),a},Lv=function(e,n,a){return e.getParents(n,a,e.getRoot())},Li=function(e,n){var a=function(i){var s=function(f){return f.length>1&&f.charAt(0)==="%"};return ee(["styles","attributes"],function(f){return Nr(i,f).exists(function(g){var b=mt(g)?g:ya(g);return ee(b,s)})})};return ee(e.formatter.get(n),a)},nc=function(e,n,a){var i=["inline","block","selector","attributes","styles","classes"],s=function(f){return un(f,function(g,b){return ee(i,function(y){return y===b})})};return ee(e.formatter.get(n),function(f){var g=s(f);return ee(e.formatter.get(a),function(b){var y=s(b);return Ro(g,y)})})},Ns=function(e){return qa(e,"block")},sm=function(e){return qa(e,"selector")},Hv=function(e){return qa(e,"inline")},cm=$u,Ep=Lv,C0=y0,Ap=um,Op=function(e){return Dt(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Dp=function(e,n){for(var a=n;a;){if(Hr(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:n;a=a.parentNode}return n},x0=function(e,n,a,i){for(var s=n.data,f=a;e?f>=0:f<s.length;e?f--:f++)if(i(s.charAt(f)))return e?f+1:f;return-1},O2=function(e,n,a){return x0(e,n,a,function(i){return im(i)||Jc(i)})},S0=function(e,n,a){return x0(e,n,a,zv)},_p=function(e,n,a,i,s,f){var g,b=e.getParent(a,e.isBlock)||n,y=function(P,R,N){var X=Bw(e),J=s?X.backwards:X.forwards;return z.from(J(P,R,function(Q,G){return cm(Q.parentNode)?-1:(g=Q,N(s,Q,G))},b))},E=y(a,i,O2);return E.bind(function(P){return f?y(P.container,P.offset+(s?-1:0),S0):z.some(P)}).orThunk(function(){return g?z.some({container:g,offset:s?0:g.length}):z.none()})},$a=function(e,n,a,i,s){M(i)&&i.nodeValue.length===0&&i[s]&&(i=i[s]);for(var f=Ep(e,i),g=0;g<f.length;g++)for(var b=0;b<n.length;b++){var y=n[b];if(!("collapsed"in y&&y.collapsed!==a.collapsed)&&e.is(f[g],y.selector))return f[g]}return i},_c=function(e,n,a,i){var s,f=e.dom,g=f.getRoot();if(n[0].wrapper||(s=f.getParent(a,n[0].block,g)),!s){var b=f.getParent(a,"LI,TD,TH");s=f.getParent(M(a)?a.parentNode:a,function(y){return y!==g&&Ap(e,y)},b)}if(s&&n[0].wrapper&&(s=Ep(f,s,"ul,ol").reverse()[0]||s),!s)for(s=a;s[i]&&!f.isBlock(s[i])&&(s=s[i],!w0(s,"br")););return s||a},Bf=function(e,n,a,i){var s=a.parentNode;return ut(a[i])?!1:s===n||Re(s)||e.isBlock(s)?!0:Bf(e,n,s,i)},lm=function(e,n,a,i,s){var f=a,g,b=s?"previousSibling":"nextSibling",y=e.getRoot();if(M(a)&&!C0(a)&&(s?i>0:i<a.data.length))return a;for(;;){if(!n[0].block_expand&&e.isBlock(f))return f;for(g=f[b];g;g=g[b]){var E=M(g)&&!Bf(e,y,g,b);if(!cm(g)&&!Op(g)&&!C0(g,E))return f}if(f===y||f.parentNode===y){a=f;break}f=f.parentNode}return a},T0=function(e){return cm(e.parentNode)||cm(e)},Rf=function(e,n,a,i){i===void 0&&(i=!1);var s=n.startContainer,f=n.startOffset,g=n.endContainer,b=n.endOffset,y=e.dom;if(Hr(s)&&s.hasChildNodes()&&(s=yf(s,f),M(s)&&(f=0)),Hr(g)&&g.hasChildNodes()&&(g=yf(g,n.collapsed?b:b-1),M(g)&&(b=g.nodeValue.length)),s=Dp(y,s),g=Dp(y,g),T0(s)&&(s=cm(s)?s:s.parentNode,n.collapsed?s=s.previousSibling||s:s=s.nextSibling||s,M(s)&&(f=n.collapsed?s.length:0)),T0(g)&&(g=cm(g)?g:g.parentNode,n.collapsed?g=g.nextSibling||g:g=g.previousSibling||g,M(g)&&(b=n.collapsed?0:g.length)),n.collapsed){var E=_p(y,e.getBody(),s,f,!0,i);E.each(function(R){var N=R.container,X=R.offset;s=N,f=X});var P=_p(y,e.getBody(),g,b,!1,i);P.each(function(R){var N=R.container,X=R.offset;g=N,b=X})}return(a[0].inline||a[0].block_expand)&&((!a[0].inline||!M(s)||f===0)&&(s=lm(y,a,s,f,!0)),(!a[0].inline||!M(g)||b===g.nodeValue.length)&&(g=lm(y,a,g,b,!1))),a[0].selector&&a[0].expand!==!1&&!a[0].inline&&(s=$a(y,a,n,s,"previousSibling"),g=$a(y,a,n,g,"nextSibling")),(a[0].block||a[0].selector)&&(s=_c(e,a,s,"previousSibling"),g=_c(e,a,g,"nextSibling"),a[0].block&&(y.isBlock(s)||(s=lm(y,a,s,f,!0)),y.isBlock(g)||(g=lm(y,a,g,b,!1)))),Hr(s)&&(f=y.nodeIndex(s),s=s.parentNode),Hr(g)&&(b=y.nodeIndex(g)+1,g=g.parentNode),{startContainer:s,startOffset:f,endContainer:g,endOffset:b}},k0=function(e,n){var a=e.childNodes;return n>=a.length?n=a.length-1:n<0&&(n=0),a[n]||e},Vv=function(e,n){return k0(e,n-1)},Uv=function(e,n,a){var i=n.startContainer,s=n.startOffset,f=n.endContainer,g=n.endOffset,b=function(G){var me;return me=G[0],me.nodeType===3&&me===i&&s>=me.nodeValue.length&&G.splice(0,1),me=G[G.length-1],g===0&&G.length>0&&me===f&&me.nodeType===3&&G.splice(G.length-1,1),G},y=function(G,me,fe){for(var be=[];G&&G!==fe;G=G[me])be.push(G);return be},E=function(G,me){do{if(G.parentNode===me)return G;G=G.parentNode}while(G)},P=function(G,me,fe){for(var be=fe?"nextSibling":"previousSibling",Te=G,Ve=Te.parentNode;Te&&Te!==me;Te=Ve){Ve=Te.parentNode;var Tt=y(Te===G?Te:Te[be],be);Tt.length&&(fe||Tt.reverse(),a(b(Tt)))}};if(i.nodeType===1&&i.hasChildNodes()&&(i=k0(i,s)),f.nodeType===1&&f.hasChildNodes()&&(f=Vv(f,g)),i===f)return a(b([i]));for(var R=e.findCommonAncestor(i,f),N=i;N;N=N.parentNode){if(N===f)return P(i,R,!0);if(N===R)break}for(var N=f;N;N=N.parentNode){if(N===i)return P(f,R);if(N===R)break}var X=E(i,R)||i,J=E(f,R)||f;P(i,X,!0);var Q=y(X===i?X:X.nextSibling,"nextSibling",J===f?J.nextSibling:J);Q.length&&a(b(Q)),P(f,J)},E0=function(e){var n=[];if(e)for(var a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));return n},D2=function(e){return pt(e,function(n){var a=Ud(n);return a?[L.fromDom(a)]:[]})},hT=function(e){return E0(e).length>1},A0=function(e){return St(D2(e),Ss)},pT=function(e){return yu(e,"td[data-mce-selected],th[data-mce-selected]")},Hi=function(e,n){var a=pT(n);return a.length>0?a:A0(e)},Nl=function(e){return Hi(E0(e.selection.getSel()),L.fromDom(e.getBody()))},bT=function(e){var n=e.startContainer,a=e.startOffset;return M(n)?a===0?z.some(L.fromDom(n)):z.none():z.from(n.childNodes[a]).map(L.fromDom)},yT=function(e){var n=e.endContainer,a=e.endOffset;return M(n)?a===n.data.length?z.some(L.fromDom(n)):z.none():z.from(n.childNodes[a-1]).map(L.fromDom)},is=function(e){return _n(e).fold(We([e]),function(n){return[e].concat(is(n))})},Vi=function(e){return ps(e).fold(We([e]),function(n){return Na(n)==="br"?Zt(n).map(function(a){return[e].concat(Vi(a))}).getOr([]):[e].concat(Vi(n))})},Pf=function(e,n){return Mu(bT(n),yT(n),function(a,i){var s=Ir(is(e),Xe(xr,a)),f=Ir(Vi(e),Xe(xr,i));return s.isSome()&&f.isSome()}).getOr(!1)},O0=function(e,n,a,i){var s=a,f=new jo(a,s),g=un(e.schema.getMoveCaretBeforeOnEnterElements(),function(b,y){return!Ue(["td","th","table"],y.toLowerCase())});do{if(M(a)&&dt.trim(a.nodeValue).length!==0){i?n.setStart(a,0):n.setEnd(a,a.nodeValue.length);return}if(g[a.nodeName]){i?n.setStartBefore(a):a.nodeName==="BR"?n.setEndBefore(a):n.setEndAfter(a);return}}while(a=i?f.next():f.prev());s.nodeName==="BODY"&&(i?n.setStart(s,0):n.setEnd(s,s.childNodes.length))},Bp=function(e){var n=e.selection.getSel();return n&&n.rangeCount>0},Zc=function(e,n){var a=Nl(e);a.length>0?he(a,function(i){var s=i.dom,f=e.dom.createRng();f.setStartBefore(s),f.setEndAfter(s),n(f,!0)}):n(e.selection.getRng(),!1)},D0=function(e,n,a){var i=Vw(e,n);a(i),e.moveToBookmark(i)},_2=function(e,n){var a=function(f){if(!e(f))throw new Error("Can only get "+n+" value of a "+n+" node");return i(f).getOr("")},i=function(f){return e(f)?z.from(f.dom.nodeValue):z.none()},s=function(f,g){if(!e(f))throw new Error("Can only set raw "+n+" value of a "+n+" node");f.dom.nodeValue=g};return{get:a,getOption:i,set:s}},fm=_2(Ao,"text"),_0=function(e){return fm.get(e)},B2=function(e){return Ao(e)&&_0(e)===Pi},Rp=function(e,n,a,i){return ii(n).fold(function(){return"skipping"},function(s){return i==="br"||B2(n)?"valid":Nu(n)?"existing":Yc(n.dom)?"caret":!Pl(e,a,i)||!Pl(e,Na(s),a)?"invalid-child":"valid"})},va=function(e,n){var a=Rf(e,n,[{inline:!0}]);n.setStart(a.startContainer,a.startOffset),n.setEnd(a.endContainer,a.endOffset),e.selection.setRng(n)},B0=function(e,n,a,i){var s=n.uid,f=s===void 0?$b("mce-annotation"):s,g=oo(n,["uid"]),b=L.fromTag("span",e);fg(b,fi()),Us(b,""+vi(),f),Us(b,""+Go(),a);var y=i(f,g),E=y.attributes,P=E===void 0?{}:E,R=y.classes,N=R===void 0?[]:R;return mc(b,P),Ib(b,N),b},Ng=function(e,n,a,i,s){var f=[],g=B0(e.getDoc(),s,a,i),b=Ia(z.none()),y=function(){b.set(z.none())},E=function(){return b.get().getOrThunk(function(){var X=Tv(g);return f.push(X),b.set(z.some(X)),X})},P=function(X){he(X,R)},R=function(X){var J=Rp(e,X,"span",Na(X));switch(J){case"invalid-child":{y();var Q=Yo(X);P(Q),y();break}case"valid":{var G=E();dc(X,G);break}}},N=function(X){var J=ke(X,L.fromDom);P(J)};return Uv(e.dom,n,function(X){y(),N(X)}),f},R2=function(e,n,a,i){e.undoManager.transact(function(){var s=e.selection,f=s.getRng(),g=Nl(e).length>0;if(f.collapsed&&!g&&va(e,f),s.getRng().collapsed&&!g){var b=B0(e.getDoc(),i,n,a.decorate);Dw(b,ui),s.getRng().insertNode(b.dom),s.select(b.dom)}else D0(s,!1,function(){Zc(e,function(y){Ng(e,y,n,a.decorate,i)})})})},vm=function(e){var n=Ow();Mb(e,n);var a=Vd(e);return{register:function(i,s){n.register(i,s)},annotate:function(i,s){n.lookup(i).each(function(f){R2(e,i,f,s)})},annotationChanged:function(i,s){a.addListener(i,s)},remove:function(i){Yi(e,z.some(i)).each(function(s){var f=s.elements;he(f,xd)})},getAll:function(i){var s=Nb(e,i);return xa(s,function(f){return ke(f,function(g){return g.dom})})}}},Mg=function(e){return{getBookmark:Xe(vT,e),moveToBookmark:Xe(dT,e)}};Mg.isBookmarkNode=$u;var Wv=function(e,n){for(;n&&n!==e;){if(Rr(n)||_r(n))return n;n=n.parentNode}return null},Fg=function(e,n,a){if(a.collapsed)return!1;if(Ln.browser.isIE()&&a.startOffset===a.endOffset-1&&a.startContainer===a.endContainer){var i=a.startContainer.childNodes[a.startOffset];if(Hr(i))return ee(i.getClientRects(),function(s){return Vb(s,e,n)})}return ee(a.getClientRects(),function(s){return Vb(s,e,n)})},wT=function(e,n){return e.fire("PreProcess",n)},Pp=function(e,n){return e.fire("PostProcess",n)},CT=function(e){return e.fire("remove")},xT=function(e){return e.fire("detach")},P2=function(e,n){return e.fire("SwitchMode",{mode:n})},R0=function(e,n,a,i,s){e.fire("ObjectResizeStart",{target:n,width:a,height:i,origin:s})},N2=function(e,n,a,i,s){e.fire("ObjectResized",{target:n,width:a,height:i,origin:s})},M2=function(e){return e.fire("PreInit")},ST=function(e){return e.fire("PostRender")},P0=function(e){return e.fire("Init")},F2=function(e,n){return e.fire("PlaceholderToggle",{state:n})},$2=function(e,n,a){return e.fire(n,a)},Bn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Bn.metaKeyPressed(e)},metaKeyPressed:function(e){return Ln.mac?e.metaKey:e.ctrlKey&&!e.altKey}},TT=_r,Ml=function(e,n){var a="data-mce-selected",i=n.dom,s=dt.each,f,g,b,y,E,P,R,N,X,J,Q,G,me,fe,be,Te=n.getDoc(),Ve=document,Tt=Math.abs,jt=Math.round,nn=n.getBody(),Kn,er,Mt={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Ar=function(ot){return ot&&(ot.nodeName==="IMG"||n.dom.is(ot,"figure.image"))},Cn=function(ot){return Vr(ot)||i.hasClass(ot,"mce-preview-object")},Yn=function(ot,sn){if(ot.type==="longpress"||ot.type.indexOf("touch")===0){var xn=ot.touches[0];return Ar(ot.target)&&!Fg(xn.clientX,xn.clientY,sn)}else return Ar(ot.target)&&!Fg(ot.clientX,ot.clientY,sn)},en=function(ot){var sn=ot.target;Yn(ot,n.selection.getRng())&&!ot.isDefaultPrevented()&&n.selection.select(sn)},En=function(ot){return i.is(ot,"figure.image")?ot.querySelector("img"):i.hasClass(ot,"mce-preview-object")&&ut(ot.firstElementChild)?ot.firstElementChild:ot},Hn=function(ot){var sn=t2(n);return!sn||ot.getAttribute("data-mce-resize")==="false"||ot===n.getBody()?!1:i.hasClass(ot,"mce-preview-object")?_i(L.fromDom(ot.firstElementChild),sn):_i(L.fromDom(ot),sn)},Ht=function(ot){return Cn(ot)?i.create("img",{src:Ln.transparentSrc}):ot.cloneNode(!0)},Un=function(ot,sn,xn){i.setStyles(En(ot),{width:sn,height:xn})},pa=function(ot){var sn,xn,$r,hr,to;sn=ot.screenX-P,xn=ot.screenY-R,fe=sn*y[2]+J,be=xn*y[3]+Q,fe=fe<5?5:fe,be=be<5?5:be,(Ar(f)||Cn(f))&&n2(n)!==!1?$r=!Bn.modifierPressed(ot):$r=Bn.modifierPressed(ot),$r&&(Tt(sn)>Tt(xn)?(be=jt(fe*G),fe=jt(be/G)):(fe=jt(be/G),be=jt(fe*G))),Un(g,fe,be),hr=y.startPos.x+sn,to=y.startPos.y+xn,hr=hr>0?hr:0,to=to>0?to:0,i.setStyles(b,{left:hr,top:to,display:"block"}),b.innerHTML=fe+" &times; "+be,y[2]<0&&g.clientWidth<=fe&&i.setStyle(g,"left",N+(J-fe)),y[3]<0&&g.clientHeight<=be&&i.setStyle(g,"top",X+(Q-be)),sn=nn.scrollWidth-Kn,xn=nn.scrollHeight-er,sn+xn!==0&&i.setStyles(b,{left:hr-sn,top:to-xn}),me||(R0(n,f,J,Q,"corner-"+y.name),me=!0)},eo=function(){var ot=me;me=!1;var sn=function(xn,$r){if($r){var hr=En(f);hr.style[xn]||!n.schema.isValid(hr.nodeName.toLowerCase(),xn)?i.setStyle(hr,xn,$r):i.setAttrib(hr,xn,""+$r)}};ot&&(sn("width",fe),sn("height",be)),i.unbind(Te,"mousemove",pa),i.unbind(Te,"mouseup",eo),Ve!==Te&&(i.unbind(Ve,"mousemove",pa),i.unbind(Ve,"mouseup",eo)),i.remove(g),i.remove(b),i.remove(E),La(f),ot&&(N2(n,f,fe,be,"corner-"+y.name),i.setAttrib(f,"style",i.getAttrib(f,"style"))),n.nodeChanged()},La=function(ot){Xn();var sn=i.getPos(ot,nn),xn=sn.x,$r=sn.y,hr=ot.getBoundingClientRect(),to=hr.width||hr.right-hr.left,pi=hr.height||hr.bottom-hr.top;f!==ot&&(_o(),f=ot,fe=be=0);var lu=n.fire("ObjectSelected",{target:ot}),Uu=i.getAttrib(f,a,"1");Hn(ot)&&!lu.isDefaultPrevented()?s(Mt,function(Is,Wu){var ri,tu=function(zs){P=zs.screenX,R=zs.screenY,J=En(f).clientWidth,Q=En(f).clientHeight,G=Q/J,y=Is,y.name=Wu,y.startPos={x:to*Is[0]+xn,y:pi*Is[1]+$r},Kn=nn.scrollWidth,er=nn.scrollHeight,E=i.add(nn,"div",{class:"mce-resize-backdrop"}),i.setStyles(E,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),g=Ht(f),i.addClass(g,"mce-clonedresizable"),i.setAttrib(g,"data-mce-bogus","all"),g.contentEditable="false",i.setStyles(g,{left:xn,top:$r,margin:0}),Un(g,to,pi),g.removeAttribute(a),nn.appendChild(g),i.bind(Te,"mousemove",pa),i.bind(Te,"mouseup",eo),Ve!==Te&&(i.bind(Ve,"mousemove",pa),i.bind(Ve,"mouseup",eo)),b=i.add(nn,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},J+" &times; "+Q)};ri=i.get("mceResizeHandle"+Wu),ri&&i.remove(ri),ri=i.add(nn,"div",{id:"mceResizeHandle"+Wu,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Wu+"-resize; margin:0; padding:0"}),Ln.ie===11&&(ri.contentEditable=!1),i.bind(ri,"mousedown",function(zs){zs.stopImmediatePropagation(),zs.preventDefault(),tu(zs)}),Is.elm=ri,i.setStyles(ri,{left:to*Is[0]+xn-ri.offsetWidth/2,top:pi*Is[1]+$r-ri.offsetHeight/2})}):_o(),i.getAttrib(f,a)||f.setAttribute(a,Uu)},_o=function(){Xn(),f&&f.removeAttribute(a),Or(Mt,function(ot,sn){var xn=i.get("mceResizeHandle"+sn);xn&&(i.unbind(xn),i.remove(xn))})},ni=function(ot){var sn,xn,$r=function(hr,to){if(hr)do if(hr===to)return!0;while(hr=hr.parentNode)};if(!(me||n.removed)){if(s(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(hr){hr.removeAttribute(a)}),xn=ot.type==="mousedown"?ot.target:e.getNode(),xn=i.$(xn).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],$r(xn,nn)&&(An(),sn=e.getStart(!0),$r(sn,xn)&&$r(e.getEnd(!0),xn))){La(xn);return}_o()}},Wn=function(ot){return TT(Wv(n.getBody(),ot))},Xn=function(){Or(Mt,function(ot){ot.elm&&(i.unbind(ot.elm),delete ot.elm)})},An=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};n.on("init",function(){if(An(),Ln.browser.isIE()||Ln.browser.isEdge()){n.on("mousedown click",function(xn){var $r=xn.target,hr=$r.nodeName;!me&&/^(TABLE|IMG|HR)$/.test(hr)&&!Wn($r)&&(xn.button!==2&&n.selection.select($r,hr==="TABLE"),xn.type==="mousedown"&&n.nodeChanged())});var ot=function(xn){var $r=function(hr){Lr.setEditorTimeout(n,function(){return n.selection.select(hr)})};if(Wn(xn.target)||Vr(xn.target)){xn.preventDefault(),$r(xn.target);return}/^(TABLE|IMG|HR)$/.test(xn.target.nodeName)&&(xn.preventDefault(),xn.target.tagName==="IMG"&&$r(xn.target))};i.bind(nn,"mscontrolselect",ot),n.on("remove",function(){return i.unbind(nn,"mscontrolselect",ot)})}var sn=Lr.throttle(function(xn){n.composing||ni(xn)});n.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",sn),n.on("keyup compositionend",function(xn){f&&f.nodeName==="TABLE"&&sn(xn)}),n.on("hide blur",_o),n.on("contextmenu longpress",en,!0)}),n.on("remove",Xn);var ln=function(){f=g=E=null};return{isResizable:Hn,showResizeRect:La,hideResizeRect:_o,updateResizeRect:ni,destroy:ln}},Qc=function(e){return Rr(e)||_r(e)},Np=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},Iu=function(e,n,a){var i,s=a.elementFromPoint(e,n),f=a.body.createTextRange();if((!s||s.tagName==="HTML")&&(s=a.body),f.moveToElementText(s),i=dt.toArray(f.getClientRects()),i=i.sort(function(g,b){return g=Math.abs(Math.max(g.top-n,g.bottom-n)),b=Math.abs(Math.max(b.top-n,b.bottom-n)),g-b}),i.length>0){n=(i[0].bottom+i[0].top)/2;try{return f.moveToPoint(e,n),f.collapse(!0),f}catch{}}return null},Mp=function(e,n){var a=e&&e.parentElement?e.parentElement():null;return _r(Np(a,n,Qc))?null:e},jv=function(e,n,a){var i,s,f=a;if(f.caretPositionFromPoint)s=f.caretPositionFromPoint(e,n),s&&(i=a.createRange(),i.setStart(s.offsetNode,s.offset),i.collapse(!0));else if(a.caretRangeFromPoint)i=a.caretRangeFromPoint(e,n);else if(f.body.createTextRange){i=f.body.createTextRange();try{i.moveToPoint(e,n),i.collapse(!0)}catch{i=Iu(e,n,a)}return Mp(i,a.body)}return i},Fl=function(e,n){return e&&n&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset},qv=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},Fp=function(e,n,a){return qv(e,n,a)!==null},kT=function(e,n,a){return Fp(e,n,function(i){return i.nodeName===a})},N0=function(e){return e&&e.nodeName==="TABLE"},ET=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Jr=function(e,n){return gu(e)&&Fp(e,n,Yc)===!1},Ms=function(e,n,a){for(var i=new jo(n,e.getParent(n.parentNode,e.isBlock)||e.getRoot());n=i[a?"prev":"next"]();)if(Dt(n))return!0},Nf=function(e,n){return e.previousSibling&&e.previousSibling.nodeName===n},AT=function(e,n){for(;n&&n!==e;){if(_r(n))return!0;n=n.parentNode}return!1},Mf=function(e,n,a,i,s){var f,g=e.getRoot(),b,y=e.schema.getNonEmptyElements(),E=e.getParent(s.parentNode,e.isBlock)||g;if(i&&Dt(s)&&n&&e.isEmpty(E))return z.some(gt(s.parentNode,e.nodeIndex(s)));for(var P=new jo(s,E);b=P[i?"prev":"next"]();){if(e.getContentEditableParent(b)==="false"||Jr(b,g))return z.none();if(M(b)&&b.nodeValue.length>0)return kT(b,g,"A")===!1?z.some(gt(b,i?b.nodeValue.length:0)):z.none();if(e.isBlock(b)||y[b.nodeName.toLowerCase()])return z.none();f=b}return a&&f?z.some(gt(f,0)):z.none()},aa=function(e,n,a,i){var s,f,g=e.getRoot(),b,y,E=!1;s=i[(a?"start":"end")+"Container"],f=i[(a?"start":"end")+"Offset"];var P=Hr(s)&&f===s.childNodes.length,R=e.schema.getNonEmptyElements();if(y=a,gu(s))return z.none();if(Hr(s)&&f>s.childNodes.length-1&&(y=!1),ge(s)&&(s=g,f=0),s===g){if(y&&(b=s.childNodes[f>0?f-1:0],b&&(gu(b)||R[b.nodeName]||N0(b))))return z.none();if(s.hasChildNodes()){if(f=Math.min(!y&&f>0?f-1:f,s.childNodes.length-1),s=s.childNodes[f],f=M(s)&&P?s.data.length:0,!n&&s===g.lastChild&&N0(s)||AT(g,s)||gu(s))return z.none();if(s.hasChildNodes()&&N0(s)===!1){b=s;var N=new jo(s,g);do{if(_r(b)||gu(b)){E=!1;break}if(M(b)&&b.nodeValue.length>0){f=y?0:b.nodeValue.length,s=b,E=!0;break}if(R[b.nodeName.toLowerCase()]&&!ET(b)){f=e.nodeIndex(b),s=b.parentNode,y||f++,E=!0;break}}while(b=y?N.next():N.prev())}}}return n&&(M(s)&&f===0&&Mf(e,P,n,!0,s).each(function(X){s=X.container(),f=X.offset(),E=!0}),Hr(s)&&(b=s.childNodes[f],b||(b=s.childNodes[f-1]),b&&Dt(b)&&!Nf(b,"A")&&!Ms(e,b,!1)&&!Ms(e,b,!0)&&Mf(e,P,n,!0,b).each(function(X){s=X.container(),f=X.offset(),E=!0}))),y&&!n&&M(s)&&f===s.nodeValue.length&&Mf(e,P,n,!1,s).each(function(X){s=X.container(),f=X.offset(),E=!0}),E?z.some(gt(s,f)):z.none()},$g=function(e,n){var a=n.collapsed,i=n.cloneRange(),s=gt.fromRangeStart(n);return aa(e,a,!0,i).each(function(f){(!a||!gt.isAbove(s,f))&&i.setStart(f.container(),f.offset())}),a||aa(e,a,!1,i).each(function(f){i.setEnd(f.container(),f.offset())}),a&&i.collapse(!0),Fl(n,i)?z.none():z.some(i)},Ig=function(e,n){return e.splitText(n)},Ff=function(e){var n=e.startContainer,a=e.startOffset,i=e.endContainer,s=e.endOffset;return n===i&&M(n)?a>0&&a<n.nodeValue.length&&(i=Ig(n,a),n=i.previousSibling,s>a?(s=s-a,n=i=Ig(i,s).previousSibling,s=i.nodeValue.length,a=0):s=0):(M(n)&&a>0&&a<n.nodeValue.length&&(n=Ig(n,a),a=0),M(i)&&s>0&&s<i.nodeValue.length&&(i=Ig(i,s).previousSibling,s=i.nodeValue.length)),{startContainer:n,startOffset:a,endContainer:i,endOffset:s}},dm=function(e){var n=function(s,f){return Uv(e,s,f)},a=Ff,i=function(s){return $g(e,s).fold(hn,function(f){return s.setStart(f.startContainer,f.startOffset),s.setEnd(f.endContainer,f.endOffset),!0})};return{walk:n,split:a,normalize:i}};dm.compareRanges=Fl,dm.getCaretRangeFromPoint=jv,dm.getSelectedNode=Ud,dm.getNode=yf;var $p=function(e,n){var a=function(b,y){if(!Vt(y)&&!y.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+y);var E=b.dom;ji(E)&&(E.style[e]=y+"px")},i=function(b){var y=n(b);if(y<=0||y===null){var E=yl(b,e);return parseFloat(E)||0}return y},s=i,f=function(b,y){return Rn(y,function(E,P){var R=yl(b,P),N=R===void 0?0:parseInt(R,10);return isNaN(N)?E:E+N},0)},g=function(b,y,E){var P=f(b,E),R=y>P?y-P:0;return R};return{set:a,get:i,getOuter:s,aggregate:f,max:g}},Gv=$p("height",function(e){var n=e.dom;return gl(e)?n.getBoundingClientRect().height:n.offsetHeight}),M0=function(e){return Gv.get(e)},I2=function(e,n){var a=e.view(n);return a.fold(We([]),function(i){var s=e.owner(i),f=I2(e,s);return[i].concat(f)})},OT=function(e,n){var a=n.owner(e);return I2(n,a)},DT=function(e){var n,a=e.dom===document?z.none():z.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement);return a.map(L.fromDom)},zg=function(e){return fa(e)},mm=Object.freeze({__proto__:null,view:DT,owner:zg}),_T=function(e){var n=L.fromDom(document),a=ev(n),i=OT(e,mm),s=Qf(e),f=ir(i,function(g,b){var y=Qf(b);return{left:g.left+y.left,top:g.top+y.top}},{left:0,top:0});return hl(f.left+s.left+a.left,f.top+s.top+a.top)},Lg=function(e){return Na(e)==="textarea"},BT=function(e,n){var a=e.fire("ScrollIntoView",n);return a.isDefaultPrevented()},z2=function(e,n){e.fire("AfterScrollIntoView",n)},RT=function(e,n){var a=Yo(e);if(a.length===0||Lg(e))return{element:e,offset:n};if(n<a.length&&!Lg(a[n]))return{element:a[n],offset:0};var i=a[a.length-1];return Lg(i)?{element:e,offset:n}:Na(i)==="img"?{element:i,offset:1}:Ao(i)?{element:i,offset:_0(i).length}:{element:i,offset:Yo(i).length}},F0=function(e,n){var a=Zf(e),i=M0(e);return{element:e,bottom:a.top+i,height:i,pos:a,cleanup:n}},PT=function(e,n){var a=RT(e,n),i=L.fromHtml('<span data-mce-bogus="all">'+Pi+"</span>");return Ya(a.element,i),F0(i,function(){return Zo(i)})},gm=function(e){return F0(L.fromDom(e),te)},$0=function(e,n,a,i){L2(e,function(s,f){return Ip(e,n,a,i)},a)},Hg=function(e,n,a,i,s){var f={elm:i.element.dom,alignToTop:s};if(!BT(e,f)){var g=ev(n).top;a(n,g,i,s),z2(e,f)}},Ip=function(e,n,a,i){var s=L.fromDom(e.getBody()),f=L.fromDom(e.getDoc());nu(s);var g=PT(L.fromDom(a.startContainer),a.startOffset);Hg(e,f,n,g,i),g.cleanup()},Kv=function(e,n,a,i){var s=L.fromDom(e.getDoc());Hg(e,s,a,gm(n),i)},L2=function(e,n,a){var i=a.startContainer,s=a.startOffset,f=a.endContainer,g=a.endOffset;n(L.fromDom(i),L.fromDom(f));var b=e.dom.createRng();b.setStart(i,s),b.setEnd(f,g),e.selection.setRng(a)},Vg=function(e,n,a,i){var s=e.pos;if(a)Ou(s.left,s.top,i);else{var f=s.top-n+e.height;Ou(s.left,f,i)}},I0=function(e,n,a,i,s){var f=a+n,g=i.pos.top,b=i.bottom,y=b-g>=a;if(g<n)Vg(i,a,s!==!1,e);else if(g>f){var E=y?s!==!1:s===!0;Vg(i,a,E,e)}else b>f&&!y&&Vg(i,a,s===!0,e)},Xv=function(e,n,a,i){var s=e.dom.defaultView.innerHeight;I0(e,n,s,a,i)},z0=function(e,n,a,i){var s=e.dom.defaultView.innerHeight;I0(e,n,s,a,i);var f=_T(a.element),g=tf(window);f.top<g.y?Wi(a.element,i!==!1):f.top>g.bottom&&Wi(a.element,i===!0)},Yv=function(e,n,a){return $0(e,Xv,n,a)},Ug=function(e,n,a){return Kv(e,n,Xv,a)},H2=function(e,n,a){return $0(e,z0,n,a)},L0=function(e,n,a){return Kv(e,n,z0,a)},V2=function(e,n,a){var i=e.inline?Ug:L0;i(e,n,a)},Wg=function(e,n,a){var i=e.inline?Yv:H2;i(e,n,a)},H0=function(){return L.fromDom(document)},V0=function(e){return e.dom.focus()},U2=function(e){var n=Au(e).dom;return e.dom===n.activeElement},U0=function(e){return e===void 0&&(e=H0()),z.from(e.dom.activeElement).map(L.fromDom)},W2=function(e){return U0(Au(e)).filter(function(n){return e.dom.contains(n.dom)})},NT=function(e,n,a,i){return{start:e,soffset:n,finish:a,foffset:i}},MT={create:NT},zp=xs.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),j2=function(e,n,a,i){return e.fold(n,a,i)},Jv=function(e){return e.fold(dn,dn,dn)},W0=zp.before,q2=zp.on,G2=zp.after,K2={before:W0,on:q2,after:G2,cata:j2,getStart:Jv},Lp=xs.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Hp=function(e){return Lp.exact(e.start,e.soffset,e.finish,e.foffset)},FT=function(e){return e.match({domRange:function(n){return L.fromDom(n.startContainer)},relative:function(n,a){return K2.getStart(n)},exact:function(n,a,i,s){return n}})},$T=Lp.domRange,IT=Lp.relative,Vp=Lp.exact,hm=function(e){var n=FT(e);return Mo(n)},zT=MT.create,Up={domRange:$T,relative:IT,exact:Vp,exactFromRange:Hp,getWin:hm,range:zT},LT=la().browser,jg=function(e,n){var a=Ao(n)?_0(n).length:Yo(n).length+1;return e>a?a:e<0?0:e},Wp=function(e){return Up.range(e.start,jg(e.soffset,e.start),e.finish,jg(e.foffset,e.finish))},j0=function(e,n){return!ws(n.dom)&&(ia(e,n)||xr(e,n))},q0=function(e){return function(n){return j0(e,n.start)&&j0(e,n.finish)}},X2=function(e){return e.inline===!0||LT.isIE()},Y2=function(e){return Up.range(L.fromDom(e.startContainer),e.startOffset,L.fromDom(e.endContainer),e.endOffset)},HT=function(e){var n=e.getSelection(),a=!n||n.rangeCount===0?z.none():z.from(n.getRangeAt(0));return a.map(Y2)},Zv=function(e){var n=Mo(e);return HT(n.dom).filter(q0(e))},qg=function(e,n){return z.from(n).filter(q0(e)).map(Wp)},G0=function(e){var n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),z.some(n)}catch{return z.none()}},Gg=function(e){var n=X2(e)?Zv(L.fromDom(e.getBody())):z.none();e.bookmark=n.isSome()?n:e.bookmark},J2=function(e,n){var a=L.fromDom(e.getBody()),i=X2(e)?z.from(n):z.none(),s=i.map(Y2).filter(q0(a));e.bookmark=s.isSome()?s:e.bookmark},K0=function(e){var n=e.bookmark?e.bookmark:z.none();return n.bind(function(a){return qg(L.fromDom(e.getBody()),a)}).bind(G0)},jp=function(e){K0(e).each(function(n){return e.selection.setRng(n)})},Z2=function(e){var n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1},X0={isEditorUIElement:Z2},Q2=function(e){return e.type==="nodechange"&&e.selectionChange},$l=function(e,n){var a=function(){n.throttle()};Ja.DOM.bind(document,"mouseup",a),e.on("remove",function(){Ja.DOM.unbind(document,"mouseup",a)})},VT=function(e){e.on("focusout",function(){Gg(e)})},el=function(e,n){e.on("mouseup touchend",function(a){n.throttle()})},UT=function(e,n){var a=la().browser;a.isIE()?VT(e):el(e,n),e.on("keyup NodeChange",function(i){Q2(i)||Gg(e)})},eC=function(e){var n=rp(function(){Gg(e)},0);e.on("init",function(){e.inline&&$l(e,n),UT(e,n)}),e.on("remove",function(){n.cancel()})},Kg,Y0=Ja.DOM,qp=function(e){return X0.isEditorUIElement(e)},tC=function(e){var n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},Xg=function(e,n){var a=wu(e),i=Y0.getParent(n,function(s){return qp(s)||(a?e.dom.is(s,a):!1)});return i!==null},WT=function(e){try{var n=Au(L.fromDom(e.getElement()));return U0(n).fold(function(){return document.body},function(a){return a.dom})}catch{return document.body}},J0=function(e,n){var a=n.editor;eC(a),a.on("focusin",function(){var i=e.focusedEditor;i!==a&&(i&&i.fire("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.fire("focus",{blurredEditor:i}),a.focus(!0))}),a.on("focusout",function(){Lr.setEditorTimeout(a,function(){var i=e.focusedEditor;!Xg(a,WT(a))&&i===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Kg||(Kg=function(i){var s=e.activeEditor;s&&Ql(i).each(function(f){f.ownerDocument===document&&f!==document.body&&!Xg(s,f)&&e.focusedEditor===s&&(s.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},Y0.bind(document,"focusin",Kg))},jT=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(Y0.unbind(document,"focusin",Kg),Kg=null)},qT=function(e){e.on("AddEditor",Xe(J0,e)),e.on("RemoveEditor",Xe(jT,e))},GT=function(e,n){return e.dom.getParent(n,function(a){return e.dom.getContentEditable(a)==="true"})},nC=function(e){return e.collapsed?z.from(yf(e.startContainer,e.startOffset)).map(L.fromDom):z.none()},pm=function(e,n){return nC(n).bind(function(a){return nS(a)?z.some(a):ia(e,a)===!1?z.some(e):z.none()})},rC=function(e,n){pm(L.fromDom(e.getBody()),n).bind(function(a){return Cu(a.dom)}).fold(function(){e.selection.normalize()},function(a){return e.selection.setRng(a.toRange())})},Gp=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Kp=function(e){return U2(e)||W2(e).isSome()},aC=function(e){return e.iframeElement&&U2(L.fromDom(e.iframeElement))},oC=function(e){var n=e.getBody();return n&&Kp(L.fromDom(n))},KT=function(e){var n=Au(L.fromDom(e.getElement()));return U0(n).filter(function(a){return!tC(a.dom)&&Xg(e,a.dom)}).isSome()},Qv=function(e){return e.inline?oC(e):aC(e)},XT=function(e){return Qv(e)||KT(e)},iC=function(e){var n=e.selection,a=e.getBody(),i=n.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&Qv(e)===!1&&K0(e).each(function(f){e.selection.setRng(f),i=f});var s=GT(e,n.getNode());if(e.$.contains(a,s)){Gp(s),rC(e,i),Xp(e);return}e.inline||(Ln.opera||Gp(a),e.getWin().focus()),(Ln.gecko||e.inline)&&(Gp(a),rC(e,i)),Xp(e)},Xp=function(e){return e.editorManager.setActive(e)},YT=function(e,n){e.removed||(n?Xp(e):iC(e))},uC=function(e,n,a,i,s){var f=a?n.startContainer:n.endContainer,g=a?n.startOffset:n.endOffset;return z.from(f).map(L.fromDom).map(function(b){return!i||!n.collapsed?Oo(b,s(b,g)).getOr(b):b}).bind(function(b){return $e(b)?z.some(b):ii(b).filter($e)}).map(function(b){return b.dom}).getOr(e)},Z0=function(e,n,a){return uC(e,n,!0,a,function(i,s){return Math.min(zm(i),s)})},sC=function(e,n,a){return uC(e,n,!1,a,function(i,s){return s>0?s-1:s})},Q0=function(e,n){for(var a=e;e&&M(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||a},JT=function(e,n){var a,i,s;if(!n)return e;i=n.startContainer,s=n.endContainer;var f=n.startOffset,g=n.endOffset;return a=n.commonAncestorContainer,!n.collapsed&&(i===s&&g-f<2&&i.hasChildNodes()&&(a=i.childNodes[f]),i.nodeType===3&&s.nodeType===3&&(i.length===f?i=Q0(i.nextSibling,!0):i=i.parentNode,g===0?s=Q0(s.previousSibling,!1):s=s.parentNode,i&&i===s))?i:a&&a.nodeType===3?a.parentNode:a},cC=function(e,n,a,i){var s,f=[],g=e.getRoot();if(a=e.getParent(a||Z0(g,n,n.collapsed),e.isBlock),i=e.getParent(i||sC(g,n,n.collapsed),e.isBlock),a&&a!==g&&f.push(a),a&&i&&a!==i){s=a;for(var b=new jo(a,g);(s=b.next())&&s!==i;)e.isBlock(s)&&f.push(s)}return i&&a!==i&&i!==g&&f.push(i),f},lC=function(e,n,a){return z.from(n).map(function(i){var s=e.nodeIndex(i),f=e.createRng();return f.setStart(i.parentNode,s),f.setEnd(i.parentNode,s+1),a&&(O0(e,f,i,!0),O0(e,f,i,!1)),f})},$f=function(e,n){return ke(n,function(a){var i=e.fire("GetSelectionRange",{range:a});return i.range!==a?i.range:a})},ey={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},ed=function(e,n,a){var i=a?"lastChild":"firstChild",s=a?"prev":"next";if(e[i])return e[i];if(e!==n){var f=e[s];if(f)return f;for(var g=e.parent;g&&g!==n;g=g.parent)if(f=g[s],f)return f}},ty=function(e){if(!cv(e.value))return!1;var n=e.parent;return!(n&&(n.name!=="span"||n.attr("style"))&&/^[ ]+$/.test(e.value))},br=function(e){var n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n},rc=function(){function e(n,a){this.name=n,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(n,a){var i=new e(n,ey[n]||1);return a&&Or(a,function(s,f){i.attr(f,s)}),i},e.prototype.replace=function(n){var a=this;return n.parent&&n.remove(),a.insert(n,a),a.remove(),a},e.prototype.attr=function(n,a){var i=this,s;if(typeof n!="string")return n!=null&&Or(n,function(g,b){i.attr(b,g)}),i;if(s=i.attributes){if(a!==void 0){if(a===null){if(n in s.map){delete s.map[n];for(var f=s.length;f--;)if(s[f].name===n)return s.splice(f,1),i}return i}if(n in s.map){for(var f=s.length;f--;)if(s[f].name===n){s[f].value=a;break}}else s.push({name:n,value:a});return s.map[n]=a,i}return s.map[n]}},e.prototype.clone=function(){var n=this,a=new e(n.name,n.type),i;if(i=n.attributes){var s=[];s.map={};for(var f=0,g=i.length;f<g;f++){var b=i[f];b.name!=="id"&&(s[s.length]={name:b.name,value:b.value},s.map[b.name]=b.value)}a.attributes=s}return a.value=n.value,a.shortEnded=n.shortEnded,a},e.prototype.wrap=function(n){var a=this;return a.parent.insert(n,a),n.append(a),a},e.prototype.unwrap=function(){for(var n=this,a=n.firstChild;a;){var i=a.next;n.insert(a,n,!0),a=i}n.remove()},e.prototype.remove=function(){var n=this,a=n.parent,i=n.next,s=n.prev;return a&&(a.firstChild===n?(a.firstChild=i,i&&(i.prev=null)):s.next=i,a.lastChild===n?(a.lastChild=s,s&&(s.next=null)):i.prev=s,n.parent=n.next=n.prev=null),n},e.prototype.append=function(n){var a=this;n.parent&&n.remove();var i=a.lastChild;return i?(i.next=n,n.prev=i,a.lastChild=n):a.lastChild=a.firstChild=n,n.parent=a,n},e.prototype.insert=function(n,a,i){n.parent&&n.remove();var s=a.parent||this;return i?(a===s.firstChild?s.firstChild=n:a.prev.next=n,n.prev=a.prev,n.next=a,a.prev=n):(a===s.lastChild?s.lastChild=n:a.next.prev=n,n.next=a.next,n.prev=a,a.next=n),n.parent=s,n},e.prototype.getAll=function(n){for(var a=this,i=[],s=a.firstChild;s;s=ed(s,a))s.name===n&&i.push(s);return i},e.prototype.empty=function(){var n=this;if(n.firstChild){for(var a=[],i=n.firstChild;i;i=ed(i,n))a.push(i);for(var s=a.length;s--;){var i=a[s];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return n.firstChild=n.lastChild=null,n},e.prototype.isEmpty=function(n,a,i){a===void 0&&(a={});var s=this,f=s.firstChild;if(br(s))return!1;if(f)do{if(f.type===1){if(f.attr("data-mce-bogus"))continue;if(n[f.name]||br(f))return!1}if(f.type===8||f.type===3&&!ty(f)||f.type===3&&f.parent&&a[f.parent.name]&&cv(f.value)||i&&i(f))return!1}while(f=ed(f,s));return!0},e.prototype.walk=function(n){return ed(this,null,n)},e}(),ny=function(e){for(var n=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,a=[],i={},s=$b("img"),f,g=0,b=0;f=n.exec(e);){var y=f[0],E=s+"_"+b++;i[E]=y,g<f.index&&a.push(e.substr(g,f.index-g)),a.push(E),g=f.index+y.length}var P=new RegExp(s+"_[0-9]+","g");return g===0?{prefix:s,uris:i,html:e,re:P}:(g<e.length&&a.push(e.substr(g)),{prefix:s,uris:i,html:a.join(""),re:P})},ry=function(e,n){return e.replace(n.re,function(a){return Nr(n.uris,a).getOr(a)})},ay=function(e){var n=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e);return n?z.some({type:n[1],data:decodeURIComponent(n[2])}):z.none()},td=["img","video"],Yp=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},fC=function(e,n){var a=Re(e)?Ue(td,n):e;return!a},ZT=function(e,n,a){return e.allow_html_data_urls?!1:/^data:image\//i.test(n)?fC(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n)},oy=function(e,n,a){var i=1,s,f,g=e.getShortEndedElements(),b=/<([!?\/])?([A-Za-z0-9\-_:.]+)(\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g;for(b.lastIndex=s=a;f=b.exec(n);){if(s=b.lastIndex,f[1]==="/")i--;else if(!f[1]){if(f[2]in g)continue;i++}if(i===0)break}return s},Mr=function(e,n){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n))},QT=function(e,n,a){a===void 0&&(a=0);var i=e.toLowerCase();if(i.indexOf("[if ",a)!==-1&&Mr(i,a)){var s=i.indexOf("[endif]",a);return i.indexOf(">",s)}else if(n){var f=i.indexOf(">",a);return f!==-1?f:i.length}else{var g=/--!?>/g;g.lastIndex=a;var b=g.exec(e);return b?b.index+b[0].length:i.length}},qr=function(e,n){var a=e.exec(n);if(a){var i=a[1],s=a[2];return typeof i=="string"&&i.toLowerCase()==="data-mce-bogus"?s:null}else return null},Yg=function(e,n){n===void 0&&(n=lf()),e=e||{},e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var a=e.comment?e.comment:te,i=e.cdata?e.cdata:te,s=e.text?e.text:te,f=e.start?e.start:te,g=e.end?e.end:te,b=e.pi?e.pi:te,y=e.doctype?e.doctype:te,E=function(R,N){N===void 0&&(N="html");for(var X=R.html,J,Q=0,G,me,fe=[],be,Te,Ve,Tt,jt,nn,Kn,er,Mt,Ar,Cn,Yn,en,En,Hn,Ht,Un,pa=0,eo=Ru.decode,La=dt.makeMap("src,href,data,background,formaction,poster,xlink:href"),_o=/((java|vb)script|mhtml):/i,ni=N==="html"?0:1,Wn=function(co){var Xa,Ui;for(Xa=fe.length;Xa--&&fe[Xa].name!==co;);if(Xa>=0){for(Ui=fe.length-1;Ui>=Xa;Ui--)co=fe[Ui],co.valid&&g(co.name);fe.length=Xa}},Xn=function(co,Xa){return s(ry(co,R),Xa)},An=function(co){co!==""&&(co.charAt(0)===">"&&(co=" "+co),!e.allow_conditional_comments&&co.substr(0,3).toLowerCase()==="[if"&&(co=" "+co),a(ry(co,R)))},ln=function(co){return ry(co,R)},ot=function(co,Xa){var Ui=co||"",ql=!tt(Ui,"--"),Gl=QT(X,ql,Xa);return co=X.substr(Xa,Gl-Xa),An(ql?Ui+co:co),Gl+1},sn=function(co,Xa,Ui,ql,Gl){var ic,Bm,P1=/[\s\u0000-\u001F]+/g;if(Xa=Xa.toLowerCase(),Ui=ln(Xa in pi?Xa:eo(Ui||ql||Gl||"")),lu&&!jt&&Yp(Xa)===!1){if(ic=Cn[Xa],!ic&&Yn){for(Bm=Yn.length;Bm--&&(ic=Yn[Bm],!ic.pattern.test(Xa)););Bm===-1&&(ic=null)}if(!ic||ic.validValues&&!(Ui in ic.validValues))return}if(La[Xa]&&!e.allow_script_urls){var Rm=Ui.replace(P1,"");try{Rm=decodeURIComponent(Rm)}catch{Rm=unescape(Rm)}if(_o.test(Rm)||ZT(e,Rm,co))return}jt&&(Xa in La||Xa.indexOf("on")===0)||(be.map[Xa]=Ui,be.push({name:Xa,value:Ui}))},xn=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),$r=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,hr=n.getShortEndedElements(),to=e.self_closing_elements||n.getSelfClosingElements(),pi=n.getBoolAttrs(),lu=e.validate,Uu=e.remove_internals,Is=e.fix_self_closing,Wu=n.getSpecialElements(),ri=X+">";J=xn.exec(ri);){var tu=J[0];if(Q<J.index&&Xn(eo(X.substr(Q,J.index-Q))),G=J[7])G=G.toLowerCase(),G.charAt(0)===":"&&(G=G.substr(1)),Wn(G);else if(G=J[8]){if(J.index+tu.length>X.length){Xn(eo(X.substr(J.index))),Q=J.index+tu.length;continue}G=G.toLowerCase(),G.charAt(0)===":"&&(G=G.substr(1)),nn=G in hr,Is&&to[G]&&fe.length>0&&fe[fe.length-1].name===G&&Wn(G);var zs=qr($r,J[9]);if(zs!==null){if(zs==="all"){Q=oy(n,X,xn.lastIndex),xn.lastIndex=Q;continue}er=!1}if(!lu||(Kn=n.getElementRule(G))){if(er=!0,lu&&(Cn=Kn.attributes,Yn=Kn.attributePatterns),(Ar=J[9])?(jt=Ar.indexOf("data-mce-type")!==-1,jt&&Uu&&(er=!1),be=[],be.map={},Ar.replace($r,function(co,Xa,Ui,ql,Gl){return sn(G,Xa,Ui,ql,Gl),""})):(be=[],be.map={}),lu&&!jt){if(en=Kn.attributesRequired,En=Kn.attributesDefault,Hn=Kn.attributesForced,Ht=Kn.removeEmptyAttrs,Ht&&!be.length&&(er=!1),Hn)for(Te=Hn.length;Te--;)Mt=Hn[Te],Tt=Mt.name,Un=Mt.value,Un==="{$uid}"&&(Un="mce_"+pa++),be.map[Tt]=Un,be.push({name:Tt,value:Un});if(En)for(Te=En.length;Te--;)Mt=En[Te],Tt=Mt.name,Tt in be.map||(Un=Mt.value,Un==="{$uid}"&&(Un="mce_"+pa++),be.map[Tt]=Un,be.push({name:Tt,value:Un}));if(en){for(Te=en.length;Te--&&!(en[Te]in be.map););Te===-1&&(er=!1)}if(Mt=be.map["data-mce-bogus"]){if(Mt==="all"){Q=oy(n,X,xn.lastIndex),xn.lastIndex=Q;continue}er=!1}}er&&f(G,be,nn)}else er=!1;if(me=Wu[G]){me.lastIndex=Q=J.index+tu.length,(J=me.exec(X))?(er&&(Ve=X.substr(Q,J.index-Q)),Q=J.index+J[0].length):(Ve=X.substr(Q),Q=X.length),er&&(Ve.length>0&&Xn(Ve,!0),g(G)),xn.lastIndex=Q;continue}nn||(!Ar||Ar.indexOf("/")!==Ar.length-1?fe.push({name:G,valid:er}):er&&g(G))}else if(G=J[1])An(G);else if(G=J[2]){var fl=ni===1||e.preserve_cdata||fe.length>0&&n.isValidChild(fe[fe.length-1].name,"#cdata");if(fl)i(G);else{Q=ot("",J.index+2),xn.lastIndex=Q;continue}}else if(G=J[3])y(G);else if((G=J[4])||tu==="<!"){Q=ot(G,J.index+tu.length),xn.lastIndex=Q;continue}else if(G=J[5])if(ni===1)b(G,J[6]);else{Q=ot("?",J.index+2),xn.lastIndex=Q;continue}Q=J.index+tu.length}for(Q<X.length&&Xn(eo(X.substr(Q))),Te=fe.length-1;Te>=0;Te--)G=fe[Te],G.valid&&g(G.name)},P=function(R,N){N===void 0&&(N="html"),E(ny(R),N)};return{parse:P}};Yg.findEndTag=oy;var ek=function(e,n){var a=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(a,"")},vC=function(e,n){var a=n,i=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,s,f,g,b,y=e.schema;a=ek(e.getTempAttrs(),a);for(var E=y.getShortEndedElements();b=i.exec(a);)f=i.lastIndex,g=b[0].length,E[b[1]]?s=f:s=Yg.findEndTag(y,a,f),a=a.substring(0,f-g)+a.substring(s),i.lastIndex=f-g;return ks(a)},tk=vC,nk=function(e,n){var a=di(e),i=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/"+a+`>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},iy=function(e,n,a,i){var s;return n.format=a,n.get=!0,n.getInner=!0,n.no_events||e.fire("BeforeGetContent",n),n.format==="raw"?s=dt.trim(tk(e.serializer,i.innerHTML)):n.format==="text"?s=e.dom.isEmpty(i)?"":ks(i.innerText||i.textContent):n.format==="tree"?s=e.serializer.serialize(i,n):s=nk(e,e.serializer.serialize(i,n)),!Ue(["text","tree"],n.format)&&!Ju(L.fromDom(i))?n.content=dt.trim(s):n.content=s,n.no_events||e.fire("GetContent",n),n.content},rk=function(e,n,a){return z.from(e.getBody()).fold(We(n.format==="tree"?new rc("body",11):""),function(i){return iy(e,n,a,i)})},ak=dt.each,Br=function(e){var n=function(a,i){if(a.nodeName!==i.nodeName)return!1;var s=function(g){var b={};return ak(e.getAttribs(g),function(y){var E=y.nodeName.toLowerCase();E.indexOf("_")!==0&&E!=="style"&&E.indexOf("data-")!==0&&(b[E]=e.getAttrib(g,E))}),b},f=function(g,b){var y,E;for(E in g)if(g.hasOwnProperty(E)){if(y=b[E],typeof y=="undefined"||g[E]!==y)return!1;delete b[E]}for(E in b)if(b.hasOwnProperty(E))return!1;return!0};return!f(s(a),s(i))||!f(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(i,"style")))?!1:!$u(a)&&!$u(i)};return{compare:n}},dC=dt.makeMap,uy=function(e){var n=[];e=e||{};var a=e.indent,i=dC(e.indent_before||""),s=dC(e.indent_after||""),f=Ru.getEncodeFunc(e.entity_encoding||"raw",e.entities),g=e.element_format==="html";return{start:function(b,y,E){var P,R,N,X;if(a&&i[b]&&n.length>0&&(X=n[n.length-1],X.length>0&&X!==`
`&&n.push(`
`)),n.push("<",b),y)for(P=0,R=y.length;P<R;P++)N=y[P],n.push(" ",N.name,'="',f(N.value,!0),'"');!E||g?n[n.length]=">":n[n.length]=" />",E&&a&&s[b]&&n.length>0&&(X=n[n.length-1],X.length>0&&X!==`
`&&n.push(`
`))},end:function(b){var y;n.push("</",b,">"),a&&s[b]&&n.length>0&&(y=n[n.length-1],y.length>0&&y!==`
`&&n.push(`
`))},text:function(b,y){b.length>0&&(n[n.length]=y?b:f(b))},cdata:function(b){n.push("<![CDATA[",b,"]]>")},comment:function(b){n.push("<!--",b,"-->")},pi:function(b,y){y?n.push("<?",b," ",f(y),"?>"):n.push("<?",b,"?>"),a&&n.push(`
`)},doctype:function(b){n.push("<!DOCTYPE",b,">",a?`
`:"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}},nd=function(e,n){n===void 0&&(n=lf());var a=uy(e);e=e||{},e.validate="validate"in e?e.validate:!0;var i=function(s){var f=e.validate,g={3:function(y){a.text(y.value,y.raw)},8:function(y){a.comment(y.value)},7:function(y){a.pi(y.name,y.value)},10:function(y){a.doctype(y.value)},4:function(y){a.cdata(y.value)},11:function(y){if(y=y.firstChild)do b(y);while(y=y.next)}};a.reset();var b=function(y){var E=g[y.type],P,R,N,X,J,Q,G,me,fe;if(E)E(y);else{if(P=y.name,R=y.shortEnded,N=y.attributes,f&&N&&N.length>1&&(Q=[],Q.map={},fe=n.getElementRule(y.name),fe)){for(G=0,me=fe.attributesOrder.length;G<me;G++)X=fe.attributesOrder[G],X in N.map&&(J=N.map[X],Q.map[X]=J,Q.push({name:X,value:J}));for(G=0,me=N.length;G<me;G++)X=N[G].name,X in Q.map||(J=N.map[X],Q.map[X]=J,Q.push({name:X,value:J}));N=Q}if(a.start(y.name,N,R),!R){if(y=y.firstChild)do b(y);while(y=y.next);a.end(P)}}};return s.type===1&&!e.inner?b(s):g[11](s),a.getContent()};return{serialize:i}},sy=function(e,n,a){return z.from(a.container()).filter(M).exists(function(i){var s=e?0:-1;return n(i.data.charAt(a.offset()+s))})},u=Xe(sy,!0,Jc),l=Xe(sy,!1,Jc),d=function(e){var n=e.container();return M(n)&&(n.data.length===0||Ts(n.data)&&Mg.isBookmarkNode(n.parentNode))},h=function(e,n){return function(a){return z.from(yp(e?0:-1,a)).filter(n).isSome()}},C=function(e){return ar(e)&&yl(L.fromDom(e),"display")==="block"},T=function(e){return _r(e)&&!z1(e)},D=h(!0,C),U=h(!1,C),H=h(!0,Vr),se=h(!1,Vr),Se=h(!0,nf),At=h(!1,nf),xt=h(!0,T),Ot=h(!1,T),Ke=function(e){for(var n=[],a=e.dom;a;)n.push(L.fromDom(a)),a=a.lastChild;return n},nt=function(e){var n=yu(e,"br"),a=St(Ke(e).slice(-1),Yu);n.length===a.length&&he(a,Zo)},Rt=function(e){ef(e),Jo(e,L.fromHtml('<br data-mce-bogus="1">'))},rr=function(e){ps(e).each(function(n){Zt(n).each(function(a){Gi(e)&&Yu(n)&&Gi(a)&&Zo(n)})})},ta=function(e){return e.slice(0,-1)},Dr=function(e,n,a){return ia(n,e)?ta(qu(e,function(i){return a(i)||xr(i,n)})):[]},ca=function(e,n){return Dr(e,n,hn)},Ra=function(e,n){return[e].concat(ca(e,n))},Za=function(e,n,a){return Sp(e,n,a,d)},If=function(e,n){return Ir(Ra(L.fromDom(n.container()),e),Gi)},bm=function(e,n,a){return Za(e,n.dom,a).forall(function(i){return If(n,a).fold(function(){return Gc(i,a,n.dom)===!1},function(s){return Gc(i,a,n.dom)===!1&&ia(s,L.fromDom(i.container()))})})},Il=function(e,n,a){return If(n,a).fold(function(){return Za(e,n.dom,a).forall(function(i){return Gc(i,a,n.dom)===!1})},function(i){return Za(e,i.dom,a).isNone()})},ha=Xe(Il,!1),Si=Xe(Il,!0),Ti=Xe(bm,!1),us=Xe(bm,!0),Qa=function(e){return Ag(e).exists(Yu)},mi=function(e,n,a){var i=St(Ra(L.fromDom(a.container()),n),Gi),s=lt(i).getOr(n);return Ps(e,s.dom,a).filter(Qa)},gi=function(e,n){return Ag(n).exists(Yu)||mi(!0,e,n).isSome()},Bc=function(e,n){return h2(n).exists(Yu)||mi(!1,e,n).isSome()},rd=Xe(mi,!1),ad=Xe(mi,!0),Jp=function(e){return gt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},cy=function(e,n){var a=St(Ra(L.fromDom(n.container()),e),Gi);return lt(a).getOr(e)},mC=function(e,n){return Jp(n)?l(n):l(n)||Oc(cy(e,n).dom,n).exists(l)},zl=function(e,n){return Jp(n)?u(n):u(n)||tc(cy(e,n).dom,n).exists(u)},ok=function(e){return Ue(["pre","pre-wrap"],e)},Zp=function(e){return Ag(e).bind(function(n){return nv(n,$e)}).exists(function(n){return ok(yl(n,"white-space"))})},ly=function(e,n){return Oc(e.dom,n).isNone()},Jg=function(e,n){return tc(e.dom,n).isNone()},Zg=function(e,n){return ly(e,n)||Jg(e,n)||ha(e,n)||Si(e,n)||Bc(e,n)||gi(e,n)},Qp=function(e,n){return Zp(n)?!1:Zg(e,n)||mC(e,n)||zl(e,n)},gC=function(e,n){return Zp(n)?!1:ha(e,n)||Ti(e,n)||Bc(e,n)||mC(e,n)},pB=function(e){var n=e.container(),a=e.offset();return M(n)&&a<n.data.length?gt(n,a+1):e},hC=function(e,n){return Zp(n)?!1:Si(e,n)||us(e,n)||gi(e,n)||zl(e,n)},cA=function(e,n){return gC(e,n)||hC(e,pB(n))},lA=function(e,n){return im(e.charAt(n))},Qg=function(e){var n=e.container();return M(n)&&Pe(n.data,ui)},bB=function(e){var n=e.split("");return ke(n,function(a,i){return im(a)&&i>0&&i<n.length-1&&zv(n[i-1])&&zv(n[i+1])?" ":a}).join("")},yB=function(e,n){var a=n.data,i=gt(n,0);return lA(a,0)&&!cA(e,i)?(n.data=" "+a.slice(1),!0):!1},So=function(e){var n=e.data,a=bB(n);return a!==n?(e.data=a,!0):!1},fA=function(e,n){var a=n.data,i=gt(n,a.length-1);return lA(a,a.length-1)&&!cA(e,i)?(n.data=a.slice(0,-1)+" ",!0):!1},vA=function(e,n){return z.some(n).filter(Qg).bind(function(a){var i=a.container(),s=yB(e,i)||So(i)||fA(e,i);return s?z.some(a):z.none()})},ik=function(e){var n=L.fromDom(e.getBody());e.selection.isCollapsed()&&vA(n,gt.fromRangeStart(e.selection.getRng())).each(function(a){e.selection.setRng(a.toRange())})},uk=function(e,n,a){var i=Rn(e,function(s,f){return Jc(f)||im(f)?s.previousCharIsSpace||s.str===""&&n||s.str.length===e.length-1&&a?{previousCharIsSpace:!1,str:s.str+ui}:{previousCharIsSpace:!0,str:s.str+" "}:{previousCharIsSpace:!1,str:s.str+f}},{previousCharIsSpace:!1,str:""});return i.str},pC=function(e,n,a){if(a!==0){var i=L.fromDom(e),s=of(i,Gi).getOr(i),f=e.data.slice(n,n+a),g=n+a>=e.data.length&&hC(s,gt(e,e.data.length)),b=n===0&&gC(s,gt(e,0));e.replaceData(n,a,uk(f,b,g))}},od=function(e,n){var a=e.data.slice(n),i=a.length-ye(a).length;return pC(e,n,i)},ym=function(e,n){var a=e.data.slice(0,n),i=a.length-ue(a).length;return pC(e,n-i,i)},id=function(e,n,a,i){i===void 0&&(i=!0);var s=ue(e.data).length,f=i?e:n,g=i?n:e;return i?f.appendData(g.data):f.insertData(0,g.data),Zo(L.fromDom(g)),a&&od(f,s),f},eh=function(e,n){var a=e.container(),i=e.offset();return gt.isTextPosition(e)===!1&&a===n.parentNode&&i>gt.before(n).offset()},ud=function(e,n){return eh(n,e)?gt(n.container(),n.offset()-1):n},th=function(e){return M(e)?gt(e,0):gt.before(e)},zf=function(e){return M(e)?gt(e,e.data.length):gt.after(e)},dA=function(e){return Hc(e.previousSibling)?z.some(zf(e.previousSibling)):e.previousSibling?Xc(e.previousSibling):z.none()},Su=function(e){return Hc(e.nextSibling)?z.some(th(e.nextSibling)):e.nextSibling?Cu(e.nextSibling):z.none()},_a=function(e,n){var a=gt.before(n.previousSibling?n.previousSibling:n.parentNode);return Oc(e,a).fold(function(){return tc(e,gt.after(n))},z.some)},sk=function(e,n){return tc(e,gt.after(n)).fold(function(){return Oc(e,gt.before(n))},z.some)},ss=function(e,n){return dA(n).orThunk(function(){return Su(n)}).orThunk(function(){return _a(e,n)})},wB=function(e,n){return Su(n).orThunk(function(){return dA(n)}).orThunk(function(){return sk(e,n)})},CB=function(e,n,a){return e?wB(n,a):ss(n,a)},xB=function(e,n,a){return CB(e,n,a).map(Xe(ud,a))},mA=function(e,n,a){a.fold(function(){e.focus()},function(i){e.selection.setRng(i.toRange(),n)})},ck=function(e){return function(n){return n.dom===e}},SB=function(e,n){return n&&kr(e.schema.getBlockElements(),Na(n))},TB=function(e){if(Zu(e)){var n=L.fromHtml('<br data-mce-bogus="1">');return ef(e),Jo(e,n),z.some(gt.before(n.dom))}else return z.none()},gA=function(e,n,a){var i=Zt(e).filter(Ao),s=gs(e).filter(Ao);return Zo(e),bf(i,s,n,function(f,g,b){var y=f.dom,E=g.dom,P=y.data.length;return id(y,E,a),b.container()===E?gt(y,P):b}).orThunk(function(){return a&&(i.each(function(f){return ym(f.dom,f.dom.length)}),s.each(function(f){return od(f.dom,0)})),n})},kB=function(e,n){return kr(e.schema.getTextInlineElements(),Na(n))},nh=function(e,n,a,i){i===void 0&&(i=!0);var s=xB(n,e.getBody(),a.dom),f=of(a,Xe(SB,e),ck(e.getBody())),g=gA(a,s,kB(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):f.bind(TB).fold(function(){i&&mA(e,n,g)},function(b){i&&mA(e,n,z.some(b))})},e1=function(e,n){return{start:e,end:n}},EB=function(e,n,a){return{rng:e,table:n,cells:a}},lk=xs.generate([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),bC=function(e){return function(n){return xr(e,n)}},yC=function(e,n){return kl(L.fromDom(e),"td,th",n)},t1=function(e,n){return uf(e,"table",n)},fk=function(e){return!xr(e.start,e.end)},fy=function(e,n){return t1(e.start,n).bind(function(a){return t1(e.end,n).bind(function(i){return Lb(xr(a,i),a)})})},AB=function(e,n){return!fk(e)&&fy(e,n).exists(function(a){var i=a.dom.rows;return i.length===1&&i[0].cells.length===1})},wC=function(e){return yu(e,"td,th")},vk=function(e,n){var a=yC(e.startContainer,n),i=yC(e.endContainer,n);return Mu(a,i,e1)},OB=function(e,n){return t1(e.start,n).bind(function(a){return Tn(wC(a)).map(function(i){return e1(e.start,i)})})},DB=function(e,n){var a=yC(n.startContainer,e),i=yC(n.endContainer,e);return n.collapsed?z.none():Mu(a,i,e1).fold(function(){return a.fold(function(){return i.bind(function(s){return t1(s,e).bind(function(f){return lt(wC(f)).map(function(g){return e1(g,s)})})})},function(s){return t1(s,e).bind(function(f){return Tn(wC(f)).map(function(g){return e1(s,g)})})})},function(s){return n1(e,s)?z.none():OB(s,e)})},n1=function(e,n){return fy(n,e).isSome()},dk=function(e,n){return fy(e,n).map(function(a){return EB(e,a,wC(a))})},_B=function(e,n,a){return e.filter(function(i){return fk(i)&&n1(a,i)}).orThunk(function(){return DB(a,n)}).bind(function(i){return dk(i,a)})},hA=function(e,n){return ba(e,function(a){return xr(a,n)})},pA=function(e){return Mu(hA(e.cells,e.rng.start),hA(e.cells,e.rng.end),function(n,a){return e.cells.slice(n,a+1)})},bA=function(e,n,a){return e.filter(function(i){return AB(i,a)&&Pf(i.start,n)}).map(function(i){return i.start})},BB=function(e){return pA(e).map(function(n){var a=e.cells;return n.length===a.length?lk.removeTable(e.table):lk.emptyCells(n)})},RB=function(e,n){var a=bC(e),i=vk(n,a);return bA(i,n,a).map(function(s){return lk.deleteCellSelection(n,s)}).orThunk(function(){return _B(i,n,a).bind(BB)})},yA=function(e){var n=yd(e)?Zt(e):ps(e);return n.bind(yA).orThunk(function(){return z.some(e)})},wA=function(e,n){return he(n,Rt),e.selection.setCursorLocation(n[0].dom,0),!0},mk=function(e,n,a){n.deleteContents();var i=yA(a).getOr(a),s=L.fromDom(e.dom.getParent(i.dom,e.dom.isBlock));if(Zu(s)&&(Rt(s),e.selection.setCursorLocation(s.dom,0)),!xr(a,s)){var f=ii(s).is(a)?[]:Co(s);he(f.concat(Yo(a)),function(g){!xr(g,s)&&!ia(g,s)&&Zo(g)})}return!0},CA=function(e,n){return nh(e,!1,n),!0},PB=function(e,n,a){return RB(n,a).map(function(i){return i.fold(Xe(CA,e),Xe(wA,e),Xe(mk,e))})},NB=function(e,n){return CC(e,n)},MB=function(e,n,a,i){return gk(n,i).fold(function(){return PB(e,n,a)},function(s){return NB(e,s)}).getOr(!1)},FB=function(e,n){var a=L.fromDom(e.getBody()),i=e.selection.getRng(),s=Nl(e);return s.length!==0?wA(e,s):MB(e,a,i,n)},xA=function(e,n){return Ir(Ra(n,e),Ss)},gk=function(e,n){return Ir(Ra(n,e),function(a){return Na(a)==="caption"})},vy=function(e,n,a,i,s){return xp(a,e.getBody(),s).bind(function(f){return xA(n,L.fromDom(f.getNode())).map(function(g){return xr(g,i)===!1})})},CC=function(e,n){return Rt(n),e.selection.setCursorLocation(n.dom,0),z.some(!0)},SA=function(e,n,a,i){return Cu(e.dom).bind(function(s){return Xc(e.dom).map(function(f){return n?a.isEqual(s)&&i.isEqual(f):a.isEqual(f)&&i.isEqual(s)})}).getOr(!0)},hk=function(e,n){return CC(e,n)},$B=function(e,n,a){return gk(e,L.fromDom(a.getNode())).map(function(i){return xr(i,n)===!1})},TA=function(e,n,a,i,s){return xp(a,e.getBody(),s).bind(function(f){return SA(i,a,s,f)?hk(e,i):$B(n,i,f)}).or(z.some(!0))},kA=function(e,n,a,i){var s=gt.fromRangeStart(e.selection.getRng());return xA(a,i).bind(function(f){return Zu(f)?CC(e,f):vy(e,a,n,f,s)}).getOr(!1)},IB=function(e,n,a,i){var s=gt.fromRangeStart(e.selection.getRng());return Zu(i)?CC(e,i):TA(e,a,n,i,s)},EA=function(e,n){return e?Se(n):At(n)},zB=function(e,n){var a=gt.fromRangeStart(e.selection.getRng());return EA(n,a)||Ps(n,e.getBody(),a).exists(function(i){return EA(n,i)})},LB=function(e,n,a){var i=L.fromDom(e.getBody());return gk(i,a).fold(function(){return kA(e,n,i,a)||zB(e,n)},function(s){return IB(e,n,i,s).getOr(!1)})},xC=function(e,n){var a=L.fromDom(e.selection.getStart(!0)),i=Nl(e);return e.selection.isCollapsed()&&i.length===0?LB(e,n,a):FB(e,a)},HB=function(e,n,a,i){var s=document.createRange();return s.setStart(e,n),s.setEnd(a,i),s},VB=function(e){var n=gt.fromRangeStart(e),a=gt.fromRangeEnd(e),i=e.commonAncestorContainer;return Ps(!1,i,a).map(function(s){return!Gc(n,a,i)&&Gc(n,s,i)?HB(n.container(),n.offset(),s.container(),s.offset()):e}).getOr(e)},pk=function(e){return e.collapsed?e:VB(e)},UB=function(e){return e.firstChild&&e.firstChild===e.lastChild},WB=function(e){return e.name==="br"||e.value===ui},jB=function(e,n){var a=e.getBlockElements();return a[n.name]&&UB(n)&&WB(n.firstChild)},bk=function(e,n){var a=e.getNonEmptyElements();return n&&(n.isEmpty(a)||jB(e,n))},Ll=function(e,n){var a=n.firstChild,i=n.lastChild;return a&&a.name==="meta"&&(a=a.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),bk(e,i)&&(i=i.prev),!a||a!==i?!1:a.name==="ul"||a.name==="ol"},yk=function(e){var n=e.firstChild,a=e.lastChild;return n&&n.nodeName==="META"&&n.parentNode.removeChild(n),a&&a.id==="mce_marker"&&a.parentNode.removeChild(a),e},wk=function(e,n,a){var i=n.serialize(a),s=e.createFragment(i);return yk(s)},Ck=function(e){return dt.grep(e.childNodes,function(n){return n.nodeName==="LI"})},qB=function(e){return e.data===ui||Dt(e)},AA=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&qB(e.firstChild)},GB=function(e){return!e.firstChild||AA(e)},KB=function(e){return e.length>0&&GB(e[e.length-1])?e.slice(0,-1):e},dy=function(e,n){var a=e.getParent(n,e.isBlock);return a&&a.nodeName==="LI"?a:null},XB=function(e,n){return!!dy(e,n)},OA=function(e,n){var a=n.cloneRange(),i=n.cloneRange();return a.setStartBefore(e),i.setEndAfter(e),[a.cloneContents(),i.cloneContents()]},YB=function(e,n){var a=gt.before(e),i=Ac(n),s=i.next(a);return s?s.toRange():null},r1=function(e,n){var a=gt.after(e),i=Ac(n),s=i.prev(a);return s?s.toRange():null},JB=function(e,n,a,i){var s=OA(e,i),f=e.parentNode;return f.insertBefore(s[0],e),dt.each(n,function(g){f.insertBefore(g,e)}),f.insertBefore(s[1],e),f.removeChild(e),r1(n[n.length-1],a)},DA=function(e,n,a){var i=e.parentNode;return dt.each(n,function(s){i.insertBefore(s,e)}),YB(e,a)},ZB=function(e,n,a,i){return i.insertAfter(n.reverse(),e),r1(n[0],a)},_A=function(e,n,a,i){var s=wk(n,e,i),f=dy(n,a.startContainer),g=KB(Ck(s.firstChild)),b=1,y=2,E=n.getRoot(),P=function(R){var N=gt.fromRangeStart(a),X=Ac(n.getRoot()),J=R===b?X.prev(N):X.next(N);return J?dy(n,J.getNode())!==f:!0};return P(b)?DA(f,g,E):P(y)?ZB(f,g,E,n):JB(f,g,E,a)},QB=function(e,n,a){var i=L.fromDom(e.getRoot());return gC(i,gt.fromRangeStart(n))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),hC(i,gt.fromRangeEnd(n))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},xk=Ea,eR=function(e,n,a){if(a!==null){var i=e.getParent(n.endContainer,xk);return a===i&&Pf(L.fromDom(a),n)}else return!1},tR=function(e,n,a){if(a.getAttribute("data-mce-bogus")==="all")a.parentNode.insertBefore(e.dom.createFragment(n),a);else{var i=a.firstChild,s=a.lastChild;!i||i===s&&i.nodeName==="BR"?e.dom.setHTML(a,n):e.selection.setContent(n)}},nR=function(e,n){z.from(e.getParent(n,"td,th")).map(L.fromDom).each(rr)},BA=function(e,n){var a=e.schema.getTextInlineElements(),i=e.dom;if(n){var s=e.getBody(),f=Br(i);dt.each(i.select("*[data-mce-fragment]"),function(g){for(var b=g.parentNode;b&&b!==s;b=b.parentNode)a[g.nodeName.toLowerCase()]&&f.compare(b,g)&&i.remove(g,!0)})}},rR=function(e){for(var n=e;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},Sk=function(e){dt.each(e.getElementsByTagName("*"),function(n){n.removeAttribute("data-mce-fragment")})},a1=function(e){return!!e.getAttribute("data-mce-fragment")},aR=function(e,n){return n&&!e.schema.getShortEndedElements()[n.nodeName]},oR=function(e,n){var a,i=e.dom,s=e.selection,f,g=function(N){for(var X=e.getBody();N&&N!==X;N=N.parentNode)if(i.getContentEditable(N)==="false")return N;return null};if(!!n){s.scrollIntoView(n);var b=g(n);if(b){i.remove(n),s.select(b);return}var y=i.createRng(),E=n.previousSibling;E&&E.nodeType===3?(y.setStart(E,E.nodeValue.length),Ln.ie||(f=n.nextSibling,f&&f.nodeType===3&&(E.appendData(f.data),f.parentNode.removeChild(f)))):(y.setStartBefore(n),y.setEndBefore(n));var P=function(N){var X=gt.fromRangeStart(N),J=Ac(e.getBody());if(X=J.next(X),X)return X.toRange()},R=i.getParent(n,i.isBlock);i.remove(n),R&&i.isEmpty(R)&&(e.$(R).empty(),y.setStart(R,0),y.setEnd(R,0),!xk(R)&&!a1(R)&&(a=P(y))?(y=a,i.remove(R)):i.add(R,i.create("br",{"data-mce-bogus":"1"}))),s.setRng(y)}},SC=function(e){var n=e.dom,a=pk(e.selection.getRng());e.selection.setRng(a);var i=n.getParent(a.startContainer,xk);eR(n,a,i)?mk(e,a,L.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)},Tk=function(e,n,a){var i,s,f,g,b,y,E=e.selection,P=e.dom;/^ | $/.test(n)&&(n=QB(P,E.getRng(),n));var R=e.parser,N=a.merge,X=nd({validate:US(e)},e.schema),J='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';if(f={content:n,format:"html",selection:!0,paste:a.paste},f=e.fire("BeforeSetContent",f),f.isDefaultPrevented()){e.fire("SetContent",{content:f.content,format:"html",selection:!0,paste:a.paste});return}n=f.content,n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,J),b=E.getRng();var Q=b.startContainer||(b.parentElement?b.parentElement():null),G=e.getBody();Q===G&&E.isCollapsed()&&P.isBlock(G.firstChild)&&aR(e,G.firstChild)&&P.isEmpty(G.firstChild)&&(b=P.createRng(),b.setStart(G.firstChild,0),b.setEnd(G.firstChild,0),E.setRng(b)),E.isCollapsed()||SC(e),i=E.getNode();var me={context:i.nodeName.toLowerCase(),data:a.data,insert:!0},fe=R.parse(n,me);if(a.paste===!0&&Ll(e.schema,fe)&&XB(P,i)){b=_A(X,P,E.getRng(),fe),E.setRng(b),e.fire("SetContent",f);return}if(rR(fe),y=fe.lastChild,y.attr("id")==="mce_marker"){for(g=y,y=y.prev;y;y=y.walk(!0))if(y.type===3||!P.isBlock(y.name)){e.schema.isValidChild(y.parent.name,"span")&&y.parent.insert(g,y,y.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(i),!me.invalid)n=X.serialize(fe),tR(e,n,i);else{for(e.selection.setContent(J),i=E.getNode(),s=e.getBody(),i.nodeType===9?i=y=s:y=i;y!==s;)i=y,y=y.parentNode;n=i===s?s.innerHTML:P.getOuterHTML(i),n=X.serialize(R.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return X.serialize(fe)}))),i===s?P.setHTML(s,n):P.setOuterHTML(i,n)}BA(e,N),oR(e,P.get("mce_marker")),Sk(e.getBody()),nR(P,E.getStart()),e.fire("SetContent",f),e.addVisual()},kk=function(e,n){n(e),e.firstChild&&kk(e.firstChild,n),e.next&&kk(e.next,n)},iR=function(e,n,a){var i={},s={},f=[];a.firstChild&&kk(a.firstChild,function(y){he(e,function(E){E.name===y.name&&(i[E.name]?i[E.name].nodes.push(y):i[E.name]={filter:E,nodes:[y]})}),he(n,function(E){typeof y.attr(E.name)=="string"&&(s[E.name]?s[E.name].nodes.push(y):s[E.name]={filter:E,nodes:[y]})})});for(var g in i)i.hasOwnProperty(g)&&f.push(i[g]);for(var b in s)s.hasOwnProperty(b)&&f.push(s[b]);return f},RA=function(e,n,a){var i=iR(e,n,a);he(i,function(s){he(s.filter.callbacks,function(f){f(s.nodes,s.filter.name,{})})})},Ek="html",Ak=function(e){return e instanceof rc},TC=function(e){Qv(e)&&Cu(e.getBody()).each(function(n){var a=n.getNode(),i=nf(a)?Cu(a).getOr(n):n;e.selection.setRng(i.toRange())})},Hl=function(e,n){e.dom.setHTML(e.getBody(),n),TC(e)},uR=function(e,n,a,i){var s,f;return a.length===0||/^\s+$/.test(a)?(f='<br data-mce-bogus="1">',n.nodeName==="TABLE"?a="<tr><td>"+f+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(a="<li>"+f+"</li>"),s=di(e),s&&e.schema.isValidChild(n.nodeName.toLowerCase(),s.toLowerCase())?(a=f,a=e.dom.createHTML(s,Sf(e),a)):a||(a='<br data-mce-bogus="1">'),Hl(e,a),e.fire("SetContent",i)):(i.format!=="raw"&&(a=nd({validate:e.validate},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0}))),i.content=Ju(L.fromDom(n))?a:dt.trim(a),Hl(e,i.content),i.no_events||e.fire("SetContent",i)),i.content},Ok=function(e,n,a,i){RA(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);var s=nd({validate:e.validate},e.schema).serialize(a);return i.content=Ju(L.fromDom(n))?s:dt.trim(s),Hl(e,i.content),i.no_events||e.fire("SetContent",i),a},sR=function(e,n,a){return a.format=a.format?a.format:Ek,a.set=!0,a.content=Ak(n)?"":n,a.no_events||e.fire("BeforeSetContent",a),Ak(n)||(n=a.content),z.from(e.getBody()).fold(We(n),function(i){return Ak(n)?Ok(e,i,n,a):uR(e,i,n,a)})},cR=function(e,n){return tS(e,n).isSome()},PA=function(e){return kt(e)?e:hn},lR=function(e,n,a){for(var i=e.dom,s=PA(a);i.parentNode;){i=i.parentNode;var f=L.fromDom(i),g=n(f);if(g.isSome())return g;if(s(f))break}return z.none()},kC=function(e,n,a){var i=n(e),s=PA(a);return i.orThunk(function(){return s(e)?z.none():lR(e,n,s)})},Dk=w0,rh=function(e,n,a){var i=e.formatter.get(a);if(i){for(var s=0;s<i.length;s++)if(i[s].inherit===!1&&e.dom.is(n,i[s].selector))return!0}return!1},_k=function(e,n,a,i){var s=e.dom.getRoot();return n===s?!1:(n=e.dom.getParent(n,function(f){return rh(e,f,a)?!0:f.parentNode===s||!!Lf(e,f,a,i,!0)}),Lf(e,n,a,i))},NA=function(e,n,a){if(Dk(n,a.inline)||Dk(n,a.block))return!0;if(a.selector)return n.nodeType===1&&e.is(n,a.selector)},MA=function(e,n,a,i,s,f){var g,b,y=a[i],E;if(a.onmatch)return a.onmatch(n,a,i);if(y){if(typeof y.length=="undefined"){for(g in y)if(y.hasOwnProperty(g)&&(i==="attributes"?b=e.getAttrib(n,g):b=Pg(e,n,g),s&&!b&&!a.exact||(!s||a.exact)&&!Dk(b,Rg(e,_f(y[g],f),g))))return}else for(E=0;E<y.length;E++)if(i==="attributes"?e.getAttrib(n,y[E]):Pg(e,n,y[E]))return a}return a},Lf=function(e,n,a,i,s){var f=e.formatter.get(a),g,b,y,E,P=e.dom;if(f&&n){for(b=0;b<f.length;b++)if(g=f[b],NA(e.dom,n,g)&&MA(P,n,g,"attributes",s,i)&&MA(P,n,g,"styles",s,i)){if(E=g.classes){for(y=0;y<E.length;y++)if(!e.dom.hasClass(n,E[y]))return}return g}}},Bk=function(e,n,a,i){if(i)return _k(e,i,n,a);if(i=e.selection.getNode(),_k(e,i,n,a))return!0;var s=e.selection.getStart();return!!(s!==i&&_k(e,s,n,a))},fR=function(e,n,a){var i=[],s={},f=e.selection.getStart();return e.dom.getParent(f,function(g){for(var b=0;b<n.length;b++){var y=n[b];!s[y]&&Lf(e,g,y,a)&&(s[y]=!0,i.push(y))}},e.dom.getRoot()),i},vR=function(e,n){var a=function(s){return xr(s,L.fromDom(e.getBody()))},i=function(s,f){return Lf(e,s.dom,f)?z.some(f):z.none()};return z.from(e.selection.getStart(!0)).bind(function(s){return kC(L.fromDom(s),function(f){return zr(n,function(g){return i(f,g)})},a)}).getOrNull()},dR=function(e,n){var a=e.formatter.get(n),i,s,f,g,b,y=e.dom;if(a)for(i=e.selection.getStart(),s=Lv(y,i),g=a.length-1;g>=0;g--){if(b=a[g].selector,!b||a[g].defaultBlock)return!0;for(f=s.length-1;f>=0;f--)if(y.is(s[f],b))return!0}return!1},mR=function(e,n,a){return Rn(a,function(i,s){var f=Li(e,s);return e.formatter.matchNode(n,s,{},f)?i.concat([s]):i},[])},o1=Pi,FA="_mce_caret",gR=function(e,n){return e.importNode(n,!0)},hR=function(e){for(var n=[];e;){if(e.nodeType===3&&e.nodeValue!==o1||e.childNodes.length>1)return[];e.nodeType===1&&n.push(e),e=e.firstChild}return n},EC=function(e){return hR(e).length>0},Rk=function(e){if(e){var n=new jo(e,e);for(e=n.current();e;e=n.next())if(M(e))return e}return null},Pk=function(e){var n=L.fromTag("span");return mc(n,{id:FA,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Jo(n,L.fromText(o1)),n},AC=function(e){var n=Rk(e);return n&&n.nodeValue.charAt(0)===o1&&n.deleteData(0,1),n},OC=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,s=e.selection;if(EC(n))nh(e,!1,L.fromDom(n),a);else{var f=s.getRng(),g=i.getParent(n,i.isBlock),b=f.startContainer,y=f.startOffset,E=f.endContainer,P=f.endOffset,R=AC(n);i.remove(n,!0),b===R&&y>0&&f.setStart(R,y-1),E===R&&P>0&&f.setEnd(R,P-1),g&&i.isEmpty(g)&&Rt(L.fromDom(g)),s.setRng(f)}},ah=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,s=e.selection;if(n)OC(e,n,a);else if(n=$v(e.getBody(),s.getStart()),!n)for(;n=i.get(FA);)OC(e,n,!1)},my=function(e,n,a){var i=e.dom,s=i.getParent(a,Xe(um,e));s&&i.isEmpty(s)?a.parentNode.replaceChild(n,a):(nt(L.fromDom(a)),i.isEmpty(a)?a.parentNode.replaceChild(n,a):i.insertAfter(n,a))},Nk=function(e,n){return e.appendChild(n),n},$A=function(e,n){var a=ir(e,function(i,s){return Nk(i,s.cloneNode(!1))},n);return Nk(a,a.ownerDocument.createTextNode(o1))},pR=function(e,n,a,i,s,f){var g=e.formatter,b=e.dom,y=St(Pr(g.get()),function(N){return N!==i&&!Pe(N,"removeformat")}),E=mR(e,a,y),P=St(E,function(N){return!nc(e,N,i)});if(P.length>0){var R=a.cloneNode(!1);return b.add(n,R),g.remove(i,s,R,f),b.remove(R),z.some(R)}else return z.none()},bR=function(e,n,a){var i,s,f=e.selection,g=f.getRng(),b=g.startOffset,y=g.startContainer,E=y.nodeValue;i=$v(e.getBody(),f.getStart()),i&&(s=Rk(i));var P=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(E&&b>0&&b<E.length&&P.test(E.charAt(b))&&P.test(E.charAt(b-1))){var R=f.getBookmark();g.collapse(!0);var N=Rf(e,g,e.formatter.get(n));N=Ff(N),e.formatter.apply(n,a,N),f.moveToBookmark(R)}else(!i||s.nodeValue!==o1)&&(i=gR(e.getDoc(),Pk(!0).dom),s=i.firstChild,g.insertNode(i),b=1),e.formatter.apply(n,a,i),f.setCursorLocation(s,b)},yR=function(e,n,a,i){var s=e.dom,f=e.selection,g,b,y,E=[],P=f.getRng(),R=P.startContainer,N=P.startOffset;for(b=R,R.nodeType===3&&(N!==R.nodeValue.length&&(g=!0),b=b.parentNode);b;){if(Lf(e,b,n,a,i)){y=b;break}b.nextSibling&&(g=!0),E.push(b),b=b.parentNode}if(!!y)if(g){var X=f.getBookmark();P.collapse(!0);var J=Rf(e,P,e.formatter.get(n),!0);J=Ff(J),e.formatter.remove(n,a,J,i),f.moveToBookmark(X)}else{var Q=$v(e.getBody(),y),G=Pk(!1).dom;my(e,G,Q!==null?Q:y);var me=pR(e,G,y,n,a,i),fe=$A(E.concat(me.toArray()),G);OC(e,Q,!1),f.setCursorLocation(fe,1),s.isEmpty(y)&&s.remove(y)}},wR=function(e,n){var a=e.selection,i=e.getBody();ah(e,null,!1),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===o1&&ah(e,$v(i,a.getStart())),(n===37||n===39)&&ah(e,$v(i,a.getStart()))},CR=function(e){e.on("mouseup keydown",function(n){wR(e,n.keyCode)})},xR=function(e,n){var a=Pk(!1),i=$A(n,a.dom);return Ya(L.fromDom(e),a),Zo(L.fromDom(e)),gt(i,0)},IA=function(e,n){var a=e.schema.getTextInlineElements();return a.hasOwnProperty(Na(n))&&!Yc(n.dom)&&!bl(n.dom)},SR=function(e){return Yc(e.dom)&&EC(e.dom)},wm={},ac=ao,zA=Oa,LA=function(e,n){var a=wm[e];a||(wm[e]=[]),wm[e].push(n)},Mk=function(e,n){zA(wm[e],function(a){a(n)})};LA("pre",function(e){var n=e.selection.getRng(),a,i=function(g){return f(g.previousSibling)&&ur(a,g.previousSibling)!==-1},s=function(g,b){Ur(b).remove(),Ur(g).append("<br><br>").append(b.childNodes)},f=Ku(["pre"]);n.collapsed||(a=e.selection.getSelectedBlocks(),zA(ac(ac(a,f),i),function(g){s(g.previousSibling,g)}))});var Fk=dt.each,$k=function(e){return Hr(e)&&!$u(e)&&!Yc(e)&&!bl(e)},HA=function(e,n){var a;for(a=e;a;a=a[n]){if(M(a)&&a.nodeValue.length!==0)return e;if(Hr(a)&&!$u(a))return a}return e},VA=function(e,n,a){var i,s,f=Br(e);if(n&&a&&(n=HA(n,"previousSibling"),a=HA(a,"nextSibling"),f.compare(n,a))){for(i=n.nextSibling;i&&i!==a;)s=i,i=i.nextSibling,n.appendChild(s);return e.remove(a),dt.each(dt.grep(a.childNodes),function(g){n.appendChild(g)}),n}return a},UA=function(e,n,a,i){if(i&&n.merge_siblings!==!1){var s=VA(e,b0(i),i);VA(e,s,b0(s,!0))}},TR=function(e,n,a){if(n.clear_child_styles){var i=n.links?"*:not(a)":"*";Fk(e.select(i,a),function(s){$k(s)&&Fk(n.styles,function(f,g){e.setStyle(s,g,"")})})}},gy=function(e,n,a){Fk(e.childNodes,function(i){$k(i)&&(n(i)&&a(i),i.hasChildNodes()&&gy(i,n,a))})},Ik=function(e,n){n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},zk=function(e,n){return function(a){return!!(a&&Pg(e,a,n))}},WA=function(e,n,a){return function(i){e.setStyle(i,n,a),i.getAttribute("style")===""&&i.removeAttribute("style"),Ik(e,i)}},hy=xs.generate([{keep:[]},{rename:["name"]},{removed:[]}]),kR=/^(src|href|style)$/,Lk=dt.each,i1=w0,ER=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},wr=function(e,n,a){return e.isChildOf(n,a)&&n!==a&&!e.isBlock(a)},jA=function(e,n,a){var i,s;if(i=n[a?"startContainer":"endContainer"],s=n[a?"startOffset":"endOffset"],Hr(i)){var f=i.childNodes.length-1;!a&&s&&s--,i=i.childNodes[s>f?f:s]}return M(i)&&a&&s>=i.nodeValue.length&&(i=new jo(i,e.getBody()).next()||i),M(i)&&!a&&s===0&&(i=new jo(i,e.getBody()).prev()||i),i},qA=function(e,n){var a=n?"firstChild":"lastChild";if(ER(e)&&e[a]){var i=e[a];return e.nodeName==="TR"&&i[a]||i}return e},Hk=function(e,n,a,i){var s=e.create(a,i);return n.parentNode.insertBefore(s,n),s.appendChild(n),s},GA=function(e,n,a,i,s){var f=L.fromDom(n),g=L.fromDom(e.create(i,s)),b=a?ml(f):hs(f);return io(g,b),a?(Ya(f,g),Oh(g,f)):(Vs(f,g),Jo(g,f)),g.dom},KA=function(e,n,a){if(i1(n,a.inline)||i1(n,a.block))return!0;if(a.selector)return Hr(n)&&e.is(n,a.selector)},XA=function(e,n){return n.links&&e.nodeName==="A"},py=function(e,n,a,i){return n=b0(n,a,i),!n||n.nodeName==="BR"||e.isBlock(n)},YA=function(e,n,a){var i=n.parentNode,s,f=e.dom,g=di(e);a.block&&(g?i===f.getRoot()&&(!a.list_block||!i1(n,a.list_block))&&he(or(n.childNodes),function(b){Pl(e,g,b.nodeName.toLowerCase())?s?s.appendChild(b):(s=Hk(f,b,g),f.setAttribs(s,e.settings.forced_root_block_attrs)):s=0}):f.isBlock(n)&&!f.isBlock(i)&&(!py(f,n,!1)&&!py(f,n.firstChild,!0,!0)&&n.insertBefore(f.create("br"),n.firstChild),!py(f,n,!0)&&!py(f,n.lastChild,!1,!0)&&n.appendChild(f.create("br")))),!(a.selector&&a.inline&&!i1(a.inline,n))&&f.remove(n,!0)},DC=function(e,n,a,i,s){var f,g=e.dom;if(!KA(g,i,n)&&!XA(i,n))return hy.keep();var b=i;if(n.inline&&n.remove==="all"&&mt(n.preserve_attributes)){var y=St(g.getAttribs(b),function(N){return Ue(n.preserve_attributes,N.name.toLowerCase())});if(g.removeAllAttribs(b),he(y,function(N){return g.setAttrib(b,N.name,N.value)}),y.length>0)return hy.rename("span")}if(n.remove!=="all"){Lk(n.styles,function(N,X){N=Rg(g,_f(N,a),X+""),Vt(X)&&(X=N,s=null),(n.remove_similar||!s||i1(Pg(g,s,X),N))&&g.setStyle(b,X,""),f=!0}),f&&g.getAttrib(b,"style")===""&&(b.removeAttribute("style"),b.removeAttribute("data-mce-style")),Lk(n.attributes,function(N,X){var J;if(N=_f(N,a),Vt(X)&&(X=N,s=null),n.remove_similar||!s||i1(g.getAttrib(s,X),N)){if(X==="class"&&(N=g.getAttrib(b,X),N&&(J="",he(N.split(/\s+/),function(Q){/mce\-\w+/.test(Q)&&(J+=(J?" ":"")+Q)}),J))){g.setAttrib(b,X,J);return}X==="class"&&b.removeAttribute("className"),kR.test(X)&&b.removeAttribute("data-mce-"+X),b.removeAttribute(X)}}),Lk(n.classes,function(N){N=_f(N,a),(!s||g.hasClass(s,N))&&g.removeClass(b,N)});for(var E=g.getAttribs(b),P=0;P<E.length;P++){var R=E[P].nodeName;if(R.indexOf("_")!==0&&R.indexOf("data-")!==0)return hy.keep()}}return n.remove!=="none"?(YA(e,b,n),hy.removed()):hy.keep()},oh=function(e,n,a,i,s){return DC(e,n,a,i,s).fold(hn,function(f){return e.dom.rename(i,f),!0},an)},AR=function(e,n,a,i,s){var f;return he(Lv(e.dom,n.parentNode).reverse(),function(g){if(!f&&g.id!=="_start"&&g.id!=="_end"){var b=Lf(e,g,a,i,s);b&&b.split!==!1&&(f=g)}}),f},OR=function(e,n,a,i){return DC(e,n,a,i,i).fold(We(i),function(s){var f=e.dom.createFragment();return f.appendChild(i),e.dom.rename(i,s)},We(null))},DR=function(e,n,a,i,s,f,g,b){var y,E,P,R=e.dom;if(a){for(var N=a.parentNode,X=i.parentNode;X&&X!==N;X=X.parentNode){y=R.clone(X,!1);for(var J=0;J<n.length&&(y=OR(e,n[J],b,y),y!==null);J++);y&&(E&&y.appendChild(E),P||(P=y),E=y)}f&&(!g.mixed||!R.isBlock(a))&&(i=R.split(a,i)),E&&(s.parentNode.insertBefore(E,s),P.appendChild(s),g.inline&&UA(R,g,b,E))}return i},JA=function(e,n,a,i,s){var f=e.formatter.get(n),g=f[0],b=!0,y=e.dom,E=e.selection,P=function(me){var fe=AR(e,me,n,a,s);return DR(e,f,fe,me,me,!0,g,a)},R=function(me){return $u(me)&&Hr(me)&&(me.id==="_start"||me.id==="_end")},N=function(me){var fe,be;Hr(me)&&y.getContentEditable(me)&&(fe=b,b=y.getContentEditable(me)==="true",be=!0);var Te=or(me.childNodes);if(b&&!be)for(var Ve=0;Ve<f.length&&!oh(e,f[Ve],a,me,me);Ve++);if(g.deep&&Te.length){for(var Ve=0;Ve<Te.length;Ve++)N(Te[Ve]);be&&(b=fe)}},X=function(me){var fe=y.get(me?"_start":"_end"),be=fe[me?"firstChild":"lastChild"];return R(be)&&(be=be[me?"firstChild":"lastChild"]),M(be)&&be.data.length===0&&(be=me?fe.previousSibling||fe.nextSibling:fe.nextSibling||fe.previousSibling),y.remove(fe,!0),be},J=function(me){var fe,be,Te=Rf(e,me,f,me.collapsed);if(g.split){if(Te=Ff(Te),fe=jA(e,Te,!0),be=jA(e,Te),fe!==be){if(fe=qA(fe,!0),be=qA(be,!1),wr(y,fe,be)){var Ve=z.from(fe.firstChild).getOr(fe);P(GA(y,Ve,!0,"span",{id:"_start","data-mce-type":"bookmark"})),X(!0);return}if(wr(y,be,fe)){var Ve=z.from(be.lastChild).getOr(be);P(GA(y,Ve,!1,"span",{id:"_end","data-mce-type":"bookmark"})),X(!1);return}fe=Hk(y,fe,"span",{id:"_start","data-mce-type":"bookmark"}),be=Hk(y,be,"span",{id:"_end","data-mce-type":"bookmark"});var Tt=y.createRng();Tt.setStartAfter(fe),Tt.setEndBefore(be),Uv(y,Tt,function(jt){he(jt,function(nn){!$u(nn)&&!$u(nn.parentNode)&&P(nn)})}),P(fe),P(be),fe=X(!0),be=X()}else fe=be=P(fe);Te.startContainer=fe.parentNode?fe.parentNode:fe,Te.startOffset=y.nodeIndex(fe),Te.endContainer=be.parentNode?be.parentNode:be,Te.endOffset=y.nodeIndex(be)+1}Uv(y,Te,function(jt){he(jt,function(nn){N(nn);var Kn=["underline","line-through","overline"];he(Kn,function(er){Hr(nn)&&e.dom.getStyle(nn,"text-decoration")===er&&nn.parentNode&&A2(y,nn.parentNode)===er&&oh(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:er}},null,nn)})})})};if(i){if(Dc(i)){var Q=y.createRng();Q.setStartBefore(i),Q.setEndAfter(i),J(Q)}else J(i);return}if(y.getContentEditable(E.getNode())==="false"){i=E.getNode();for(var G=0;G<f.length&&!(f[G].ceFalseOverride&&oh(e,f[G],a,i,i));G++);return}!E.isCollapsed()||!g.inline||Nl(e).length?(D0(E,!0,function(){Zc(e,J)}),g.inline&&Bk(e,n,a,E.getStart())&&kp(y,E,E.getRng()),e.nodeChanged()):yR(e,n,a,s)},_C=dt.each,Vk=function(e,n,a,i){var s=function(f){if(f.nodeType===1&&f.parentNode&&f.parentNode.nodeType===1){var g=A2(e,f.parentNode);e.getStyle(f,"color")&&g?e.setStyle(f,"text-decoration",g):e.getStyle(f,"text-decoration")===g&&e.setStyle(f,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(dt.walk(i,s,"childNodes"),s(i))},ZA=function(e,n,a,i){n.styles&&n.styles.backgroundColor&&gy(i,zk(e,"fontSize"),WA(e,"backgroundColor",_f(n.styles.backgroundColor,a)))},BC=function(e,n,a,i){(n.inline==="sub"||n.inline==="sup")&&(gy(i,zk(e,"fontSize"),WA(e,"fontSize","")),e.remove(e.select(n.inline==="sup"?"sub":"sup",i),!0))},oc=function(e,n,a,i){_C(n,function(s){_C(e.dom.select(s.inline,i),function(f){!$k(f)||oh(e,s,a,f,s.exact?f:null)}),TR(e.dom,s,i)})},by=function(e,n,a,i,s){Lf(e,s.parentNode,a,i)&&oh(e,n,i,s)||n.merge_with_parents&&e.dom.getParent(s.parentNode,function(f){if(Lf(e,f,a,i))return oh(e,n,i,s),!0})},zu=dt.each,QA=function(e,n){return qa(e,n)},e4=function(e){return e&&e.nodeType===1&&!$u(e)&&!Yc(e)&&!bl(e)},t4=function(e,n,a,i){if(jS(e)&&Hv(n)){var s=Gn(Gn({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),f=cR(L.fromDom(a),function(g){return Yc(g.dom)});return qa(s,i)&&Zu(L.fromDom(a.parentNode),!1)&&!f}else return!1},Uk=function(e,n,a,i){var s=e.formatter.get(n),f=s[0],g=!i&&e.selection.isCollapsed(),b=e.dom,y=e.selection,E=function(fe,be){if(be=be||f,fe){if(be.onformat&&be.onformat(fe,be,a,i),zu(be.styles,function(Ve,Tt){b.setStyle(fe,Tt,_f(Ve,a))}),be.styles){var Te=b.getAttrib(fe,"style");Te&&b.setAttrib(fe,"data-mce-style",Te)}zu(be.attributes,function(Ve,Tt){b.setAttrib(fe,Tt,_f(Ve,a))}),zu(be.classes,function(Ve){Ve=_f(Ve,a),b.hasClass(fe,Ve)||b.addClass(fe,Ve)})}},P=function(fe,be){var Te=!1;return sm(f)?(zu(fe,function(Ve){if(!("collapsed"in Ve&&Ve.collapsed!==g)&&b.is(be,Ve.selector)&&!Yc(be))return E(be,Ve),Te=!0,!1}),Te):!1},R=function(fe,be,Te,Ve){var Tt=[],jt=!0,nn=f.inline||f.block,Kn=fe.create(nn);E(Kn),Uv(fe,be,function(er){var Mt,Ar=function(Cn){var Yn=!1,en=jt,En=Cn.nodeName.toLowerCase(),Hn=Cn.parentNode.nodeName.toLowerCase();if(Hr(Cn)&&fe.getContentEditable(Cn)&&(en=jt,jt=fe.getContentEditable(Cn)==="true",Yn=!0),Dt(Cn)&&!t4(e,f,Cn,Hn)){Mt=null,Ns(f)&&fe.remove(Cn);return}if(f.wrapper&&Lf(e,Cn,n,a)){Mt=null;return}if(jt&&!Yn&&Ns(f)&&!f.wrapper&&um(e,En)&&Pl(e,Hn,nn)){var Ht=fe.rename(Cn,nn);E(Ht),Tt.push(Ht),Mt=null;return}if(sm(f)){var Un=P(s,Cn);if(!QA(f,"inline")||Un){Mt=null;return}}jt&&!Yn&&Pl(e,nn,En)&&Pl(e,Hn,nn)&&!(!Ve&&Cn.nodeType===3&&Cn.nodeValue.length===1&&Cn.nodeValue.charCodeAt(0)===65279)&&!Yc(Cn)&&(!QA(f,"inline")||!fe.isBlock(Cn))?(Mt||(Mt=fe.clone(Kn,!1),Cn.parentNode.insertBefore(Mt,Cn),Tt.push(Mt)),Mt.appendChild(Cn)):(Mt=null,zu(dt.grep(Cn.childNodes),Ar),Yn&&(jt=en),Mt=null)};zu(er,Ar)}),f.links===!0&&zu(Tt,function(er){var Mt=function(Ar){Ar.nodeName==="A"&&E(Ar,f),zu(dt.grep(Ar.childNodes),Mt)};Mt(er)}),zu(Tt,function(er){var Mt=function(en){var En=0;return zu(en.childNodes,function(Hn){!gT(Hn)&&!$u(Hn)&&En++}),En},Ar=function(en){var En=!1;return zu(en.childNodes,function(Hn){if(e4(Hn))return En=Hn,!1}),En},Cn=function(en){var En,Hn=Ar(en);return Hn&&!$u(Hn)&&NA(fe,Hn,f)&&(En=fe.clone(Hn,!1),E(En),fe.replace(En,en,!0),fe.remove(Hn,!0)),En||en},Yn=Mt(er);if((Tt.length>1||!fe.isBlock(er))&&Yn===0){fe.remove(er,!0);return}(Hv(f)||f.wrapper)&&(!f.exact&&Yn===1&&(er=Cn(er)),oc(e,s,a,er),by(e,f,n,a,er),ZA(fe,f,a,er),Vk(fe,f,a,er),BC(fe,f,a,er),UA(fe,f,a,er))})};if(b.getContentEditable(y.getNode())==="false"){i=y.getNode();for(var N=0,X=s.length;N<X;N++){var J=s[N];if(J.ceFalseOverride&&sm(J)&&b.is(i,J.selector)){E(i,J);return}}return}if(f){if(i)if(Dc(i)){if(!P(s,i)){var Q=b.createRng();Q.setStartBefore(i),Q.setEndAfter(i),R(b,Rf(e,Q,s),null,!0)}}else R(b,i,null,!0);else if(!g||!Hv(f)||Nl(e).length){var G=y.getNode(),me=s[0];!e.settings.forced_root_block&&me.defaultBlock&&!b.getParent(G,b.isBlock)&&Uk(e,me.defaultBlock),y.setRng(pk(y.getRng())),D0(y,!0,function(fe){Zc(e,function(be,Te){var Ve=Te?be:Rf(e,be,s);R(b,Ve)})}),kp(b,y,y.getRng()),e.nodeChanged()}else bR(e,n,a);Mk(n,e)}},_R=function(e,n){var a=Ia({});e.set({}),n.on("NodeChange",function(i){n4(n,i.element,a,e.get())})},n4=function(e,n,a,i){var s=Pr(a.get()),f={},g={},b=St(Lv(e.dom,n),function(E){return E.nodeType===1&&!E.getAttribute("data-mce-bogus")});Or(i,function(E,P){dt.each(b,function(R){if(e.formatter.matchNode(R,P,{},E.similar))return s.indexOf(P)===-1&&(he(E.callbacks,function(N){N(!0,{node:R,format:P,parents:b})}),f[P]=E.callbacks),g[P]=E.callbacks,!1;if(rh(e,R,P))return!1})});var y=RC(a.get(),g,n,b);a.set(Gn(Gn({},f),y))},RC=function(e,n,a,i){return Fn(e,function(s,f){return kr(n,f)?!0:(he(s,function(g){g(!1,{node:a,format:f,parents:i})}),!1)}).t},r4=function(e,n,a,i){var s=e.get();he(n.split(","),function(f){s[f]||(s[f]={similar:i,callbacks:[]}),s[f].callbacks.push(a)}),e.set(s)},a4=function(e,n,a){var i=e.get();he(n.split(","),function(s){i[s].callbacks=St(i[s].callbacks,function(f){return f!==a}),i[s].callbacks.length===0&&delete i[s]}),e.set(i)},PC=function(e,n,a,i,s){return n.get()===null&&_R(n,e),r4(n,a,i,s),{unbind:function(){return a4(n,a,i)}}},BR=function(e,n,a,i){var s=e.formatter.get(n);Bk(e,n,a,i)&&(!("toggle"in s[0])||s[0].toggle)?JA(e,n,a,i):Uk(e,n,a,i)},Wk=function(e,n){var a=n||document,i=a.createDocumentFragment();return he(e,function(s){i.appendChild(s.dom)}),L.fromDom(i)},jk=function(e,n,a){return{element:e,width:n,rows:a}},o4=function(e,n){return{element:e,cells:n}},RR=function(e,n){return{x:e,y:n}},i4=function(e,n){var a=parseInt(kd(e,n),10);return isNaN(a)?1:a},PR=function(e,n,a,i,s){for(var f=i4(s,"rowspan"),g=i4(s,"colspan"),b=e.rows,y=a;y<a+f;y++){b[y]||(b[y]=o4(ip(i),[]));for(var E=n;E<n+g;E++){var P=b[y].cells;P[E]=y===a&&E===n?s:Tv(s)}}},NR=function(e,n,a){var i=e.rows,s=i[a]?i[a].cells:[];return!!s[n]},MR=function(e,n,a){for(;NR(e,n,a);)n++;return n},u4=function(e){return Rn(e,function(n,a){return a.cells.length>n?a.cells.length:n},0)},s4=function(e,n){for(var a=e.rows,i=0;i<a.length;i++)for(var s=a[i].cells,f=0;f<s.length;f++)if(xr(s[f],n))return z.some(RR(f,i));return z.none()},NC=function(e,n,a,i,s){for(var f=[],g=e.rows,b=a;b<=s;b++){var y=g[b].cells,E=n<i?y.slice(n,i+1):y.slice(i,n+1);f.push(o4(g[b].element,E))}return f},FR=function(e,n,a){var i=n.x,s=n.y,f=a.x,g=a.y,b=s<g?NC(e,i,s,f,g):NC(e,i,g,f,s);return jk(e.element,u4(b),b)},u1=function(e,n){var a=Tv(e.element),i=L.fromTag("tbody");return io(i,n),Jo(a,i),a},c4=function(e){return ke(e.rows,function(n){var a=ke(n.cells,function(s){var f=ip(s);return mu(f,"colspan"),mu(f,"rowspan"),f}),i=Tv(n.element);return io(i,a),i})},ti=function(e){var n=jk(Tv(e),0,[]);return he(yu(e,"tr"),function(a,i){he(yu(a,"td,th"),function(s,f){PR(n,MR(n,f,i),i,a,s)})}),jk(n.element,u4(n.rows),n.rows)},$R=function(e){return u1(e,c4(e))},IR=function(e,n,a){return s4(e,n).bind(function(i){return s4(e,a).map(function(s){return FR(e,i,s)})})},zR=function(e){return Ir(e,function(n){return Na(n)==="ul"||Na(n)==="ol"})},LR=function(e,n){return Ir(e,function(a){return Na(a)==="li"&&Pf(a,n)}).fold(We([]),function(a){return zR(e).map(function(i){var s=L.fromTag(Na(i)),f=un(rf(i),function(g,b){return tt(b,"list-style")});return Zx(s,f),[L.fromTag("li"),s]}).getOr([])})},tl=function(e,n){var a=Rn(n,function(i,s){return Jo(s,i),s},e);return n.length>0?Wk([a]):a},MC=function(e){return au(e)?ii(e).filter(so).fold(We([]),function(n){return[e,n]}):so(e)?[e]:[]},yy=function(e,n){var a=L.fromDom(n.commonAncestorContainer),i=Ra(a,e),s=St(i,function(b){return Lc(b)||nw(b)}),f=LR(i,n),g=s.concat(f.length?f:MC(a));return ke(g,Tv)},s1=function(){return Wk([])},qk=function(e,n){return tl(L.fromDom(n.cloneContents()),yy(e,n))},HR=function(e,n){return uf(n,"table",Xe(xr,e))},VR=function(e,n){return HR(e,n[0]).bind(function(a){var i=n[0],s=n[n.length-1],f=ti(a);return IR(f,i,s).map(function(g){return Wk([$R(g)])})}).getOrThunk(s1)},c1=function(e,n){return n.length>0&&n[0].collapsed?s1():qk(e,n[0])},l1=function(e,n){var a=Hi(n,e);return a.length>0?VR(e,a):c1(e,n)},f1=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},v1=function(e,n){return n>=0&&n<e.length&&Jc(e.charAt(n))},l4=function(e,n){var a=ks(e.innerText);return n?f1(a):a},UR=function(e){return e.map(function(n){return n.nodeName}).getOr("div").toLowerCase()},f4=function(e){return z.from(e.selection.getRng()).map(function(n){var a=z.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),s=UR(a),f=Ln.browser.isIE()&&s!=="pre",g=e.dom.add(i,s,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},n.cloneContents()),b=l4(g,f),y=ks(g.textContent);if(e.dom.remove(g),v1(y,0)||v1(y,y.length-1)){var E=a.getOr(i),P=l4(E,f),R=P.indexOf(b);if(R===-1)return b;var N=v1(P,R-1),X=v1(P,R+b.length);return(N?" ":"")+b+(X?" ":"")}else return b}).getOr("")},v4=function(e,n){var a=e.selection.getRng(),i=e.dom.create("body"),s=e.selection.getSel(),f=$f(e,E0(s)),g=n.contextual?l1(L.fromDom(e.getBody()),f).dom:a.cloneContents();return g&&i.appendChild(g),e.selection.serializer.serialize(i,n)},WR=function(e,n,a){if(a===void 0&&(a={}),a.get=!0,a.format=n,a.selection=!0,a=e.fire("BeforeGetContent",a),a.isDefaultPrevented())return e.fire("GetContent",a),a.content;if(a.format==="text")return f4(e);a.getInner=!0;var i=v4(e,a);return a.format==="tree"?i:(a.content=e.selection.isCollapsed()?"":i,e.fire("GetContent",a),a.content)},Gk=0,Kk=1,d4=2,jR=function(e,n){var a=e.length+n.length+2,i=new Array(a),s=new Array(a),f=function(P,R,N){return{start:P,end:R,diag:N}},g=function(P,R,N,X,J){var Q=y(P,R,N,X);if(Q===null||Q.start===R&&Q.diag===R-X||Q.end===P&&Q.diag===P-N)for(var G=P,me=N;G<R||me<X;)G<R&&me<X&&e[G]===n[me]?(J.push([Gk,e[G]]),++G,++me):R-P>X-N?(J.push([d4,e[G]]),++G):(J.push([Kk,n[me]]),++me);else{g(P,Q.start,N,Q.start-Q.diag,J);for(var fe=Q.start;fe<Q.end;++fe)J.push([Gk,e[fe]]);g(Q.end,R,Q.end-Q.diag,X,J)}},b=function(P,R,N,X){for(var J=P;J-R<X&&J<N&&e[J]===n[J-R];)++J;return f(P,J,R)},y=function(P,R,N,X){var J=R-P,Q=X-N;if(J===0||Q===0)return null;var G=J-Q,me=Q+J,fe=(me%2===0?me:me+1)/2;i[1+fe]=P,s[1+fe]=R+1;var be,Te,Ve,Tt,jt;for(be=0;be<=fe;++be){for(Te=-be;Te<=be;Te+=2){for(Ve=Te+fe,Te===-be||Te!==be&&i[Ve-1]<i[Ve+1]?i[Ve]=i[Ve+1]:i[Ve]=i[Ve-1]+1,Tt=i[Ve],jt=Tt-P+N-Te;Tt<R&&jt<X&&e[Tt]===n[jt];)i[Ve]=++Tt,++jt;if(G%2!==0&&G-be<=Te&&Te<=G+be&&s[Ve-G]<=i[Ve])return b(s[Ve-G],Te+P-N,R,X)}for(Te=G-be;Te<=G+be;Te+=2){for(Ve=Te+fe-G,Te===G-be||Te!==G+be&&s[Ve+1]<=s[Ve-1]?s[Ve]=s[Ve+1]-1:s[Ve]=s[Ve-1],Tt=s[Ve]-1,jt=Tt-P+N-Te;Tt>=P&&jt>=N&&e[Tt]===n[jt];)s[Ve]=Tt--,jt--;if(G%2===0&&-be<=Te&&Te<=be&&s[Ve]<=i[Ve+G])return b(s[Ve],Te+P-N,R,X)}}},E=[];return g(0,e.length,0,n.length,E),E},m4=function(e){return Hr(e)?e.outerHTML:M(e)?Ru.encodeRaw(e.data,!1):V(e)?"<!--"+e.data+"-->":""},qR=function(e){var n,a=document.createElement("div"),i=document.createDocumentFragment();for(e&&(a.innerHTML=e);n=a.firstChild;)i.appendChild(n);return i},GR=function(e,n,a){var i=qR(n);if(e.hasChildNodes()&&a<e.childNodes.length){var s=e.childNodes[a];s.parentNode.insertBefore(i,s)}else e.appendChild(i)},g4=function(e,n){if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.removeChild(a)}},KR=function(e,n){var a=0;he(e,function(i){i[0]===Gk?a++:i[0]===Kk?(GR(n,i[1],a),a++):i[0]===d4&&g4(n,a)})},XR=function(e){return St(ke(or(e.childNodes),m4),function(n){return n.length>0})},YR=function(e,n){var a=ke(or(n.childNodes),m4);return KR(jR(a,e),n),n},d1=Ia(z.none()),h4=function(){return d1.get().getOrThunk(function(){var e=document.implementation.createHTMLDocument("undo");return d1.set(z.some(e)),e})},JR=function(e){return e.indexOf("</iframe>")!==-1},p4=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},ZR=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},FC=function(e){var n=XR(e.getBody()),a=pt(n,function(s){var f=vC(e.serializer,s);return f.length>0?[f]:[]}),i=a.join("");return JR(i)?p4(a):ZR(i)},Xk=function(e,n,a){n.type==="fragmented"?YR(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw"}),e.selection.moveToBookmark(a?n.beforeBookmark:n.bookmark)},Yk=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},Jk=function(e){var n=L.fromTag("body",h4());return Dw(n,Yk(e)),he(yu(n,"*[data-mce-bogus]"),xd),TS(n)},b4=function(e,n){return Yk(e)===Yk(n)},y4=function(e,n){return Jk(e)===Jk(n)},wy=function(e,n){return!e||!n?!1:b4(e,n)?!0:y4(e,n)},Zk=function(e){return e.get()===0},$C=function(e,n,a){Zk(a)&&(e.typing=n)},w4=function(e,n){e.typing&&($C(e,!1,n),e.add())},Qk=function(e){e.typing&&(e.typing=!1,e.add())},IC=function(e,n,a){Zk(n)&&a.set(z.some(bg(e.selection)))},C4=function(e,n,a,i,s,f,g){var b=FC(e);if(f=f||{},f=dt.extend(f,b),Zk(i)===!1||e.removed)return null;var y=n.data[a.get()];if(e.fire("BeforeAddUndo",{level:f,lastLevel:y,originalEvent:g}).isDefaultPrevented()||y&&wy(y,f))return null;n.data[a.get()]&&s.get().each(function(N){n.data[a.get()].beforeBookmark=N});var E=r0(e);if(E&&n.data.length>E){for(var P=0;P<n.data.length-1;P++)n.data[P]=n.data[P+1];n.data.length--,a.set(n.data.length)}f.bookmark=bg(e.selection),a.get()<n.data.length-1&&(n.data.length=a.get()+1),n.data.push(f),a.set(n.data.length-1);var R={level:f,lastLevel:y,originalEvent:g};return a.get()>0?(e.setDirty(!0),e.fire("AddUndo",R),e.fire("change",R)):e.fire("AddUndo",R),f},x4=function(e,n,a){n.data=[],a.set(0),n.typing=!1,e.fire("ClearUndos")},zC=function(e,n,a,i,s){if(n.transact(i)){var f=n.data[a.get()].bookmark,g=n.data[a.get()-1];Xk(e,g,!0),n.transact(s)&&(n.data[a.get()-1].beforeBookmark=f)}},QR=function(e,n,a){var i;return n.get()<a.length-1&&(n.set(n.get()+1),i=a[n.get()],Xk(e,i,!1),e.setDirty(!0),e.fire("Redo",{level:i})),i},eP=function(e,n,a,i){var s;return n.typing&&(n.add(),n.typing=!1,$C(n,!1,a)),i.get()>0&&(i.set(i.get()-1),s=n.data[i.get()],Xk(e,s,!0),e.setDirty(!0),e.fire("Undo",{level:s})),s},ih=function(e){e.clear(),e.add()},eE=function(e,n,a){return a.get()>0||n.typing&&n.data[0]&&!wy(FC(e),n.data[0])},S4=function(e,n){return n.get()<e.data.length-1&&!e.typing},tE=function(e,n,a){return w4(e,n),e.beforeChange(),e.ignore(a),e.add()},T4=function(e,n){try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},tP=function(e,n){var a=e.dom,i=ut(n)?n:e.getBody();yr(e.hasVisual)&&(e.hasVisual=mp(e)),he(a.select("table,a",i),function(s){switch(s.nodeName){case"TABLE":var f=Rv(e),g=a.getAttrib(s,"border");(!g||g==="0")&&e.hasVisual?a.addClass(s,f):a.removeClass(s,f);break;case"A":if(!a.getAttrib(s,"href")){var b=a.getAttrib(s,"name")||s.id,y=gp(e);b&&e.hasVisual?a.addClass(s,y):a.removeClass(s,y)}break}}),e.fire("VisualAid",{element:n,hasVisual:e.hasVisual})},nE=function(e){return{undoManager:{beforeChange:function(n,a){return IC(e,n,a)},addUndoLevel:function(n,a,i,s,f,g){return C4(e,n,a,i,s,f,g)},undo:function(n,a,i){return eP(e,n,a,i)},redo:function(n,a){return QR(e,n,a)},clear:function(n,a){return x4(e,n,a)},reset:function(n){return ih(n)},hasUndo:function(n,a){return eE(e,n,a)},hasRedo:function(n,a){return S4(n,a)},transact:function(n,a,i){return tE(n,a,i)},ignore:function(n,a){return T4(n,a)},extra:function(n,a,i,s){return zC(e,n,a,i,s)}},formatter:{match:function(n,a,i){return Bk(e,n,a,i)},matchAll:function(n,a){return fR(e,n,a)},matchNode:function(n,a,i,s){return Lf(e,n,a,i,s)},canApply:function(n){return dR(e,n)},closest:function(n){return vR(e,n)},apply:function(n,a,i){return Uk(e,n,a,i)},remove:function(n,a,i,s){return JA(e,n,a,i,s)},toggle:function(n,a,i){return BR(e,n,a,i)},formatChanged:function(n,a,i,s){return PC(e,n,a,i,s)}},editor:{getContent:function(n,a){return rk(e,n,a)},setContent:function(n,a){return sR(e,n,a)},insertContent:function(n,a){return Tk(e,n,a)},addVisual:function(n){return tP(e,n)}},selection:{getContent:function(n,a){return WR(e,n,a)}},raw:{getModel:function(){return z.none()}}}},k4=function(e){var n=function(E){return yt(E)?E:{}},a=S("Unimplemented feature for rtc"),i=e.undoManager,s=e.formatter,f=e.editor,g=e.selection,b=e.raw,y=te;return{undoManager:{beforeChange:y,addUndoLevel:a,undo:function(){return i.undo()},redo:function(){return i.redo()},clear:function(){return i.clear()},reset:function(){return i.reset()},hasUndo:function(){return i.hasUndo()},hasRedo:function(){return i.hasRedo()},transact:function(E,P,R){return i.transact(R)},ignore:function(E,P){return i.ignore(P)},extra:function(E,P,R,N){return i.extra(R,N)}},formatter:{match:function(E,P,R){return s.match(E,n(P))},matchAll:a,matchNode:a,canApply:function(E){return s.canApply(E)},closest:function(E){return s.closest(E)},apply:function(E,P,R){return s.apply(E,n(P))},remove:function(E,P,R,N){return s.remove(E,n(P))},toggle:function(E,P,R){return s.toggle(E,n(P))},formatChanged:function(E,P,R,N){return s.formatChanged(P,R,N)}},editor:{getContent:function(E,P){return f.getContent(E)},setContent:function(E,P){return f.setContent(E,P)},insertContent:function(E,P){return f.insertContent(E)},addVisual:y},selection:{getContent:function(E,P){return g.getContent(P)}},raw:{getModel:function(){return z.some(b.getRawModel())}}}},nP=function(){var e=We(null),n=We("");return{undoManager:{beforeChange:te,addUndoLevel:e,undo:e,redo:e,clear:te,reset:te,hasUndo:hn,hasRedo:hn,transact:e,ignore:te,extra:te},formatter:{match:hn,matchAll:We([]),matchNode:hn,canApply:hn,closest:n,apply:te,remove:te,toggle:te,formatChanged:We({unbind:te})},editor:{getContent:n,setContent:n,insertContent:te,addVisual:te},selection:{getContent:n},raw:{getModel:We(z.none())}}},LC=function(e){return kr(e.plugins,"rtc")},rP=function(e){var n=e;return Nr(e.plugins,"rtc").fold(function(){return n.rtcInstance=nE(e),z.none()},function(a){return z.some(a.setup().then(function(i){return n.rtcInstance=k4(i),i.rtc.isRemote},function(i){return n.rtcInstance=nP(),Fo.reject(i)}))})},Cy=function(e){return e.rtcInstance?e.rtcInstance:nE(e)},ki=function(e){var n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},aP=function(e,n,a){ki(e).undoManager.beforeChange(n,a)},HC=function(e,n,a,i,s,f,g){return ki(e).undoManager.addUndoLevel(n,a,i,s,f,g)},E4=function(e,n,a,i){return ki(e).undoManager.undo(n,a,i)},oP=function(e,n,a){return ki(e).undoManager.redo(n,a)},hi=function(e,n,a){ki(e).undoManager.clear(n,a)},iP=function(e,n){ki(e).undoManager.reset(n)},A4=function(e,n,a){return ki(e).undoManager.hasUndo(n,a)},uP=function(e,n,a){return ki(e).undoManager.hasRedo(n,a)},sP=function(e,n,a,i){return ki(e).undoManager.transact(n,a,i)},O4=function(e,n,a){ki(e).undoManager.ignore(n,a)},cP=function(e,n,a,i,s){ki(e).undoManager.extra(n,a,i,s)},rE=function(e,n,a,i){return ki(e).formatter.match(n,a,i)},lP=function(e,n,a){return ki(e).formatter.matchAll(n,a)},D4=function(e,n,a,i,s){return ki(e).formatter.matchNode(n,a,i,s)},fP=function(e,n){return ki(e).formatter.canApply(n)},vP=function(e,n){return ki(e).formatter.closest(n)},dP=function(e,n,a,i){ki(e).formatter.apply(n,a,i)},mP=function(e,n,a,i,s){ki(e).formatter.remove(n,a,i,s)},gP=function(e,n,a,i){ki(e).formatter.toggle(n,a,i)},_4=function(e,n,a,i,s){return s===void 0&&(s=!1),ki(e).formatter.formatChanged(n,a,i,s)},hP=function(e,n,a){return Cy(e).editor.getContent(n,a)},aE=function(e,n,a){return Cy(e).editor.setContent(n,a)},B4=function(e,n,a){return Cy(e).editor.insertContent(n,a)},R4=function(e,n,a){return ki(e).selection.getContent(n,a)},P4=function(e,n){return ki(e).editor.addVisual(n)},N4=function(e,n){n===void 0&&(n={});var a=n.format?n.format:"html";return R4(e,a,n)},oE=function(e){return e.dom.length===0?(Zo(e),z.none()):z.some(e)},M4=function(e,n){return e.filter(function(a){return Mg.isBookmarkNode(a.dom)}).bind(n?gs:Zt)},pP=function(e,n,a,i){var s=e.dom,f=n.dom,g=i?s.length:f.length;i?(id(s,f,!1,!i),a.setStart(f,g)):(id(f,s,!1,!i),a.setEnd(f,g))},iE=function(e,n){ii(e).each(function(a){var i=e.dom;n&&gC(a,gt(i,0))?od(i,0):!n&&hC(a,gt(i,i.length))&&ym(i,i.length)})},F4=function(e,n,a,i){e.bind(function(s){var f=i?ym:od;return f(s.dom,i?s.dom.length:0),n.filter(Ao).map(function(g){return pP(s,g,a,i)})}).orThunk(function(){var s=M4(n,i).or(n).filter(Ao);return s.map(function(f){return iE(f,i)})})},VC=function(e,n){var a=z.from(n.firstChild).map(L.fromDom),i=z.from(n.lastChild).map(L.fromDom);e.deleteContents(),e.insertNode(n);var s=a.bind(Zt).filter(Ao).bind(oE),f=i.bind(gs).filter(Ao).bind(oE);F4(s,a,e,!0),F4(f,i,e,!1),e.collapse(!1)},bP=function(e,n){return Gn(Gn({format:"html"},e),{set:!0,selection:!0,content:n})},yP=function(e,n){if(n.format!=="raw"){var a=e.selection.getRng(),i=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),s=i?{context:i.nodeName.toLowerCase()}:{},f=e.parser.parse(n.content,Gn(Gn({isRootContent:!0,forced_root_block:!1},s),n));return nd({validate:e.validate},e.schema).serialize(f)}else return n.content},$4=function(e,n,a){a===void 0&&(a={});var i=bP(a,n);if(!i.no_events&&(i=e.fire("BeforeSetContent",i),i.isDefaultPrevented())){e.fire("SetContent",i);return}a.content=yP(e,i);var s=e.selection.getRng();VC(s,s.createContextualFragment(a.content)),e.selection.setRng(s),Wg(e,s),i.no_events||e.fire("SetContent",i)},uE=function(e,n,a){if(e&&e.hasOwnProperty(n)){var i=St(e[n],function(s){return s!==a});i.length===0?delete e[n]:e[n]=i}};function wP(e,n){var a,i;return{selectorChangedWithUnbind:function(s,f){return a||(a={},i={},n.on("NodeChange",function(g){var b=g.element,y=e.getParents(b,null,e.getRoot()),E={};dt.each(a,function(P,R){dt.each(y,function(N){if(e.is(N,R))return i[R]||(dt.each(P,function(X){X(!0,{node:N,selector:R,parents:y})}),i[R]=P),E[R]=P,!1})}),dt.each(i,function(P,R){E[R]||(delete i[R],dt.each(P,function(N){N(!1,{node:b,selector:R,parents:y})}))})})),a[s]||(a[s]=[]),a[s].push(f),{unbind:function(){uE(a,s,f),uE(i,s,f)}}}}}var I4=function(e){return!!e.select},z4=function(e){return!!(e&&e.ownerDocument)&&ia(L.fromDom(e.ownerDocument),L.fromDom(e))},CP=function(e){return e?I4(e)?!0:z4(e.startContainer)&&z4(e.endContainer):!1},L4=function(e,n,a,i){var s,f,g=wP(e,i).selectorChangedWithUnbind,b=function(Ht,Un){var pa=e.createRng();ut(Ht)&&ut(Un)?(pa.setStart(Ht,Un),pa.setEnd(Ht,Un),be(pa),G(!1)):(O0(e,pa,i.getBody(),!0),be(pa))},y=function(Ht){return N4(i,Ht)},E=function(Ht,Un){return $4(i,Ht,Un)},P=function(Ht){return Z0(i.getBody(),fe(),Ht)},R=function(Ht){return sC(i.getBody(),fe(),Ht)},N=function(Ht,Un){return En.getBookmark(Ht,Un)},X=function(Ht){return En.moveToBookmark(Ht)},J=function(Ht,Un){return lC(e,Ht,Un).each(be),Ht},Q=function(){var Ht=fe(),Un=me();return!Ht||Ht.item?!1:Ht.compareEndPoints?Ht.compareEndPoints("StartToEnd",Ht)===0:!Un||Ht.collapsed},G=function(Ht){var Un=fe();Un.collapse(!!Ht),be(Un)},me=function(){return n.getSelection?n.getSelection():n.document.selection},fe=function(){var Ht,Un,pa,eo=function(ni,Wn,Xn){try{return Wn.compareBoundaryPoints(ni,Xn)}catch{return-1}},La=n.document;if(i.bookmark!==void 0&&Qv(i)===!1){var _o=K0(i);if(_o.isSome())return _o.map(function(ni){return $f(i,[ni])[0]}).getOr(La.createRange())}try{(Ht=me())&&!ws(Ht.anchorNode)&&(Ht.rangeCount>0?Un=Ht.getRangeAt(0):Un=Ht.createRange?Ht.createRange():La.createRange(),Un=$f(i,[Un])[0])}catch{}return Un||(Un=La.createRange?La.createRange():La.body.createTextRange()),Un.setStart&&Un.startContainer.nodeType===9&&Un.collapsed&&(pa=e.getRoot(),Un.setStart(pa,0),Un.setEnd(pa,0)),s&&f&&(eo(Un.START_TO_START,Un,s)===0&&eo(Un.END_TO_END,Un,s)===0?Un=f:(s=null,f=null)),Un},be=function(Ht,Un){var pa;if(!!CP(Ht)){var eo=I4(Ht)?Ht:null;if(eo){f=null;try{eo.select()}catch{}return}var La=me(),_o=i.fire("SetSelectionRange",{range:Ht,forward:Un});if(Ht=_o.range,La){f=Ht;try{La.removeAllRanges(),La.addRange(Ht)}catch{}Un===!1&&La.extend&&(La.collapse(Ht.endContainer,Ht.endOffset),La.extend(Ht.startContainer,Ht.startOffset)),s=La.rangeCount>0?La.getRangeAt(0):null}!Ht.collapsed&&Ht.startContainer===Ht.endContainer&&La.setBaseAndExtent&&!Ln.ie&&Ht.endOffset-Ht.startOffset<2&&Ht.startContainer.hasChildNodes()&&(pa=Ht.startContainer.childNodes[Ht.startOffset],pa&&pa.tagName==="IMG"&&(La.setBaseAndExtent(Ht.startContainer,Ht.startOffset,Ht.endContainer,Ht.endOffset),(La.anchorNode!==Ht.startContainer||La.focusNode!==Ht.endContainer)&&La.setBaseAndExtent(pa,0,pa,1))),i.fire("AfterSetSelectionRange",{range:Ht,forward:Un})}},Te=function(Ht){return E(e.getOuterHTML(Ht)),Ht},Ve=function(){return JT(i.getBody(),fe())},Tt=function(Ht,Un){return cC(e,fe(),Ht,Un)},jt=function(){var Ht=me(),Un=Ht==null?void 0:Ht.anchorNode,pa=Ht==null?void 0:Ht.focusNode;if(!Ht||!Un||!pa||ws(Un)||ws(pa))return!0;var eo=e.createRng();eo.setStart(Un,Ht.anchorOffset),eo.collapse(!0);var La=e.createRng();return La.setStart(pa,Ht.focusOffset),La.collapse(!0),eo.compareBoundaryPoints(eo.START_TO_START,La)<=0},nn=function(){var Ht=fe(),Un=me();if(!hT(Un)&&Bp(i)){var pa=$g(e,Ht);return pa.each(function(eo){be(eo,jt())}),pa.getOr(Ht)}return Ht},Kn=function(Ht,Un){return g(Ht,Un),en},er=function(){for(var Ht,Un=e.getRoot();Un&&Un.nodeName!=="BODY";){if(Un.scrollHeight>Un.clientHeight){Ht=Un;break}Un=Un.parentNode}return Ht},Mt=function(Ht,Un){return V2(i,Ht,Un)},Ar=function(Ht,Un){return be(jv(Ht,Un,i.getDoc()))},Cn=function(){var Ht=fe();return Ht.collapsed?gt.fromRangeStart(Ht).getClientRects()[0]:Ht.getBoundingClientRect()},Yn=function(){n=s=f=null,Hn.destroy()},en={bookmarkManager:null,controlSelection:null,dom:e,win:n,serializer:a,editor:i,collapse:G,setCursorLocation:b,getContent:y,setContent:E,getBookmark:N,moveToBookmark:X,select:J,isCollapsed:Q,isForward:jt,setNode:Te,getNode:Ve,getSel:me,setRng:be,getRng:fe,getStart:P,getEnd:R,getSelectedBlocks:Tt,normalize:nn,selectorChanged:Kn,selectorChangedWithUnbind:g,getScrollContainer:er,scrollIntoView:Mt,placeCaretAt:Ar,getBoundingClientRect:Cn,destroy:Yn},En=Mg(en),Hn=Ml(en,i);return en.bookmarkManager=En,en.controlSelection=Hn,en},xP=function(e,n){he(n,function(a){e.attr(a,null)})},SP=function(e,n,a){e.addNodeFilter("font",function(i){he(i,function(s){var f=n.parse(s.attr("style")),g=s.attr("color"),b=s.attr("face"),y=s.attr("size");g&&(f.color=g),b&&(f["font-family"]=b),y&&(f["font-size"]=a[parseInt(s.attr("size"),10)-1]),s.name="span",s.attr("style",n.serialize(f)),xP(s,["color","face","size"])})})},TP=function(e,n){e.addNodeFilter("strike",function(a){he(a,function(i){var s=n.parse(i.attr("style"));s["text-decoration"]="line-through",i.name="span",i.attr("style",n.serialize(s))})})},kP=function(e,n){var a=Md();n.convert_fonts_to_spans&&SP(e,a,dt.explode(n.font_size_legacy_values)),TP(e,a)},EP=function(e,n){n.inline_styles&&kP(e,n)},AP=function(e){return new Fo(function(n,a){var i=function(){a("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType="blob",s.onload=function(){s.status===200?n(s.response):i()},s.onerror=i,s.send()}catch{i()}})},sE=function(e){var n,a=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(n=i[1]),{type:n,data:a[1]}},H4=function(e,n){var a;try{a=atob(n)}catch{return z.none()}for(var i=new Uint8Array(a.length),s=0;s<i.length;s++)i[s]=a.charCodeAt(s);return z.some(new Blob([i],{type:e}))},OP=function(e){return new Fo(function(n){var a=sE(e),i=a.type,s=a.data;H4(i,s).fold(function(){return n(new Blob([]))},n)})},cE=function(e){return e.indexOf("blob:")===0?AP(e):e.indexOf("data:")===0?OP(e):null},DP=function(e){return new Fo(function(n){var a=new FileReader;a.onloadend=function(){n(a.result)},a.readAsDataURL(e)})},_P=0,lE=function(e){return(e||"blobid")+_P++},BP=function(e,n,a,i){var s,f;if(n.src.indexOf("blob:")===0){f=e.getByUri(n.src),f?a({image:n,blobInfo:f}):cE(n.src).then(function(E){DP(E).then(function(P){s=sE(P).data,f=e.create(lE(),E,s),e.add(f),a({image:n,blobInfo:f})})},function(E){i(E)});return}var g=sE(n.src),b=g.data,y=g.type;s=b,f=e.getByData(s,y),f?a({image:n,blobInfo:f}):cE(n.src).then(function(E){f=e.create(lE(),E,s),e.add(f),a({image:n,blobInfo:f})},function(E){i(E)})},RP=function(e){return e?or(e.getElementsByTagName("img")):[]},xy=function(e,n){var a={},i=function(s,f){f||(f=an);var g=St(RP(s),function(y){var E=y.src;return!Ln.fileApi||y.hasAttribute("data-mce-bogus")||y.hasAttribute("data-mce-placeholder")||!E||E===Ln.transparentSrc?!1:E.indexOf("blob:")===0?!e.isUploaded(E)&&f(y):E.indexOf("data:")===0?f(y):!1}),b=ke(g,function(y){if(a[y.src]!==void 0)return new Fo(function(P){a[y.src].then(function(R){if(typeof R=="string")return R;P({image:y,blobInfo:R.blobInfo})})});var E=new Fo(function(P,R){BP(n,y,P,R)}).then(function(P){return delete a[P.image.src],P}).catch(function(P){return delete a[y.src],P});return a[y.src]=E,E});return Fo.all(b)};return{findAll:i}},V4=function(e,n,a,i){var s=e.padd_empty_with_br||n.insert;s&&a[i.name]?i.empty().append(new rc("br",1)).shortEnded=!0:i.empty().append(new rc("#text",3)).value=ui},PP=function(e){return fE(e,"#text")&&e.firstChild.value===ui},fE=function(e,n){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===n},U4=function(e,n){var a=e.getElementRule(n.name);return a&&a.paddEmpty},Sy=function(e,n,a,i){return i.isEmpty(n,a,function(s){return U4(e,s)})},NP=function(e,n){return e&&(n[e.name]||e.name==="br")},MP=function(e){return e.attr("data-mce-bogus")},W4=function(e){return e.attr("src")===Ln.transparentSrc||e.attr("data-mce-placeholder")},nl=function(e,n){if(n.images_dataimg_filter){var a=new Image;return a.src=e.attr("src"),Or(e.attributes.map,function(i,s){a.setAttribute(s,i)}),n.images_dataimg_filter(a)}else return!0},UC=function(e,n){var a=n.blob_cache,i=function(s){var f=s.attr("src");W4(s)||MP(s)||ay(f).filter(function(){return nl(s,n)}).bind(function(g){var b=g.type,y=g.data;return z.from(a.getByData(y,b)).orThunk(function(){return H4(b,y).map(function(E){var P=a.create(lE(),E,y);return a.add(P),P})})}).each(function(g){s.attr("src",g.blobUri())})};a&&e.addAttributeFilter("src",function(s){return he(s,i)})},j4=function(e,n){var a=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",function(i,s,f){var g,b=i.length,y,E=dt.extend({},a.getBlockElements()),P=a.getNonEmptyElements(),R,N,X,J,Q=a.getWhiteSpaceElements(),G,me;for(E.body=1,g=0;g<b;g++)if(y=i[g],R=y.parent,E[y.parent.name]&&y===R.lastChild){for(X=y.prev;X;){if(J=X.name,J!=="span"||X.attr("data-mce-type")!=="bookmark"){J==="br"&&(y=null);break}X=X.prev}y&&(y.remove(),Sy(a,P,Q,R)&&(G=a.getElementRule(R.name),G&&(G.removeEmpty?R.remove():G.paddEmpty&&V4(n,f,E,R))))}else{for(N=y;R&&R.firstChild===N&&R.lastChild===N&&(N=R,!E[R.name]);)R=R.parent;N===R&&n.padd_empty_with_br!==!0&&(me=new rc("#text",3),me.value=ui,y.replace(me))}}),e.addAttributeFilter("href",function(i){var s=i.length,f=function(y){var E=y.split(" ").filter(function(P){return P.length>0});return E.concat(["noopener"]).sort().join(" ")},g=function(y){var E=y?dt.trim(y):"";return/\b(noopener)\b/g.test(E)?E:f(E)};if(!n.allow_unsafe_link_target)for(;s--;){var b=i[s];b.name==="a"&&b.attr("target")==="_blank"&&b.attr("rel",g(b.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(i){for(var s=i.length,f,g,b,y;s--;)if(y=i[s],y.name==="a"&&y.firstChild&&!y.attr("href")){b=y.parent,f=y.lastChild;do g=f.prev,b.insert(f,y),f=g;while(f)}}),n.fix_list_elements&&e.addNodeFilter("ul,ol",function(i){for(var s=i.length,f,g;s--;)if(f=i[s],g=f.parent,g.name==="ul"||g.name==="ol")if(f.prev&&f.prev.name==="li")f.prev.append(f);else{var b=new rc("li",1);b.attr("style","list-style-type: none"),f.wrap(b)}}),n.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(i){for(var s=i.length,f,g,b,y,E,P=a.getValidClasses(),R,N;s--;){for(f=i[s],g=f.attr("class").split(" "),E="",b=0;b<g.length;b++)y=g[b],N=!1,R=P["*"],R&&R[y]&&(N=!0),R=P[f.name],!N&&R&&R[y]&&(N=!0),N&&(E&&(E+=" "),E+=y);E.length||(E=null),f.attr("class",E)}}),UC(e,n)},m1=dt.makeMap,vE=dt.each,dE=dt.explode,FP=dt.extend,WC=function(e,n){n===void 0&&(n=lf());var a={},i=[],s={},f={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var g=function(J){var Q,G,me,fe,be,Te,Ve,Tt,jt,nn,Kn,er=m1("tr,td,th,tbody,thead,tfoot,table"),Mt=n.getNonEmptyElements(),Ar=n.getWhiteSpaceElements(),Cn=n.getTextBlockElements(),Yn=n.getSpecialElements();for(Q=0;Q<J.length;Q++)if(G=J[Q],!(!G.parent||G.fixed)){if(Cn[G.name]&&G.parent.name==="li"){for(nn=G.next;nn&&Cn[nn.name];){nn.name="li",nn.fixed=!0,G.parent.insert(nn,G.parent);nn=nn.next}G.unwrap(G);continue}for(fe=[G],me=G.parent;me&&!n.isValidChild(me.name,G.name)&&!er[me.name];me=me.parent)fe.push(me);if(me&&fe.length>1){for(fe.reverse(),be=Te=b(fe[0].clone()),jt=0;jt<fe.length-1;jt++){for(n.isValidChild(Te.name,fe[jt].name)?(Ve=b(fe[jt].clone()),Te.append(Ve)):Ve=Te,Tt=fe[jt].firstChild;Tt&&Tt!==fe[jt+1];)Kn=Tt.next,Ve.append(Tt),Tt=Kn;Te=Ve}Sy(n,Mt,Ar,be)?me.insert(G,fe[0],!0):(me.insert(be,fe[0],!0),me.insert(G,be)),me=fe[0],(Sy(n,Mt,Ar,me)||fE(me,"br"))&&me.empty().remove()}else if(G.parent){if(G.name==="li"){if(nn=G.prev,nn&&(nn.name==="ul"||nn.name==="ol")){nn.append(G);continue}if(nn=G.next,nn&&(nn.name==="ul"||nn.name==="ol")){nn.insert(G,nn.firstChild,!0);continue}G.wrap(b(new rc("ul",1)));continue}n.isValidChild(G.parent.name,"div")&&n.isValidChild("div",G.name)?G.wrap(b(new rc("div",1))):Yn[G.name]?G.empty().remove():G.unwrap()}}},b=function(J){var Q,G,me;for(G=J.name,(G in a)&&(me=s[G],me?me.push(J):s[G]=[J]),Q=i.length;Q--;)G=i[Q].name,G in J.attributes.map&&(me=f[G],me?me.push(J):f[G]=[J]);return J},y=function(J,Q){vE(dE(J),function(G){var me=a[G];me||(a[G]=me=[]),me.push(Q)})},E=function(){var J=[];for(var Q in a)a.hasOwnProperty(Q)&&J.push({name:Q,callbacks:a[Q]});return J},P=function(J,Q){vE(dE(J),function(G){var me;for(me=0;me<i.length;me++)if(i[me].name===G){i[me].callbacks.push(Q);return}i.push({name:G,callbacks:[Q]})})},R=function(){return[].concat(i)},N=function(J,Q){var G,me,fe,be,Te,Ve,Tt,jt=[],nn,Kn,er=function(ln){return ln===!1?"":ln===!0?"p":ln};Q=Q||{},s={},f={};var Mt=FP(m1("script,style,head,html,body,title,meta,param"),n.getBlockElements()),Ar=n.getNonEmptyElements(),Cn=n.children,Yn=e.validate,en="forced_root_block"in Q?Q.forced_root_block:e.forced_root_block,En=er(en),Hn=n.getWhiteSpaceElements(),Ht=/^[ \t\r\n]+/,Un=/[ \t\r\n]+$/,pa=/[ \t\r\n]+/g,eo=/^[ \t\r\n]+$/;nn=Hn.hasOwnProperty(Q.context)||Hn.hasOwnProperty(e.root_name);var La=function(){var ln=An.firstChild,ot,sn,xn=function($r){$r&&(ln=$r.firstChild,ln&&ln.type===3&&(ln.value=ln.value.replace(Ht,"")),ln=$r.lastChild,ln&&ln.type===3&&(ln.value=ln.value.replace(Un,"")))};if(!!n.isValidChild(An.name,En.toLowerCase())){for(;ln;)ot=ln.next,ln.type===3||ln.type===1&&ln.name!=="p"&&!Mt[ln.name]&&!ln.attr("data-mce-type")?(sn||(sn=_o(En,1),sn.attr(e.forced_root_block_attrs),An.insert(sn,ln)),sn.append(ln)):(xn(sn),sn=null),ln=ot;xn(sn)}},_o=function(ln,ot){var sn=new rc(ln,ot),xn;return ln in a&&(xn=s[ln],xn?xn.push(sn):s[ln]=[sn]),sn},ni=function(ln){var ot,sn,xn,$r,hr=n.getBlockElements();for(ot=ln.prev;ot&&ot.type===3;){if(xn=ot.value.replace(Un,""),xn.length>0){ot.value=xn;return}if(sn=ot.next,sn){if(sn.type===3&&sn.value.length){ot=ot.prev;continue}if(!hr[sn.name]&&sn.name!=="script"&&sn.name!=="style"){ot=ot.prev;continue}}$r=ot.prev,ot.remove(),ot=$r}},Wn=function(ln){var ot,sn={};for(ot in ln)ot!=="li"&&ot!=="p"&&(sn[ot]=ln[ot]);return sn},Xn=Yg({validate:Yn,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:Wn(n.getSelfClosingElements()),cdata:function(ln){Kn.append(_o("#cdata",4)).value=ln},text:function(ln,ot){var sn;nn||(ln=ln.replace(pa," "),NP(Kn.lastChild,Mt)&&(ln=ln.replace(Ht,""))),ln.length!==0&&(sn=_o("#text",3),sn.raw=!!ot,Kn.append(sn).value=ln)},comment:function(ln){Kn.append(_o("#comment",8)).value=ln},pi:function(ln,ot){Kn.append(_o(ln,7)).value=ot,ni(Kn)},doctype:function(ln){var ot=Kn.append(_o("#doctype",10));ot.value=ln,ni(Kn)},start:function(ln,ot,sn){var xn,$r,hr,to,pi=Yn?n.getElementRule(ln):{};if(pi){for(xn=_o(pi.outputName||ln,1),xn.attributes=ot,xn.shortEnded=sn,Kn.append(xn),to=Cn[Kn.name],to&&Cn[xn.name]&&!to[xn.name]&&jt.push(xn),$r=i.length;$r--;)hr=i[$r].name,hr in ot.map&&(Ve=f[hr],Ve?Ve.push(xn):f[hr]=[xn]);Mt[ln]&&ni(xn),sn||(Kn=xn),!nn&&Hn[ln]&&(nn=!0)}},end:function(ln){var ot,sn,xn,$r,hr=Yn?n.getElementRule(ln):{};if(hr){if(Mt[ln]&&!nn){if(ot=Kn.firstChild,ot&&ot.type===3)if(sn=ot.value.replace(Ht,""),sn.length>0)ot.value=sn,ot=ot.next;else for(xn=ot.next,ot.remove(),ot=xn;ot&&ot.type===3;)sn=ot.value,xn=ot.next,(sn.length===0||eo.test(sn))&&(ot.remove(),ot=xn),ot=xn;if(ot=Kn.lastChild,ot&&ot.type===3)if(sn=ot.value.replace(Un,""),sn.length>0)ot.value=sn,ot=ot.prev;else for(xn=ot.prev,ot.remove(),ot=xn;ot&&ot.type===3;)sn=ot.value,xn=ot.prev,(sn.length===0||eo.test(sn))&&(ot.remove(),ot=xn),ot=xn}if(nn&&Hn[ln]&&(nn=!1),hr.removeEmpty&&Sy(n,Ar,Hn,Kn)){$r=Kn.parent,Mt[Kn.name]?Kn.empty().remove():Kn.unwrap(),Kn=$r;return}hr.paddEmpty&&(PP(Kn)||Sy(n,Ar,Hn,Kn))&&V4(e,Q,Mt,Kn),Kn=Kn.parent}}},n),An=Kn=new rc(Q.context||e.root_name,11);if(Xn.parse(J,Q.format),Yn&&jt.length&&(Q.context?Q.invalid=!0:g(jt)),En&&(An.name==="body"||Q.isRootContent)&&La(),!Q.invalid){for(Tt in s)if(!!s.hasOwnProperty(Tt)){for(Ve=a[Tt],G=s[Tt],be=G.length;be--;)G[be].parent||G.splice(be,1);for(me=0,fe=Ve.length;me<fe;me++)Ve[me](G,Tt,Q)}for(me=0,fe=i.length;me<fe;me++)if(Ve=i[me],Ve.name in f){for(G=f[Ve.name],be=G.length;be--;)G[be].parent||G.splice(be,1);for(be=0,Te=Ve.callbacks.length;be<Te;be++)Ve.callbacks[be](G,Ve.name,Q)}}return An},X={schema:n,addAttributeFilter:P,getAttributeFilters:R,addNodeFilter:y,getNodeFilters:E,filterNode:b,parse:N};return j4(X,e),EP(X,e),X},$P=function(e,n,a){e.addAttributeFilter("data-mce-tabindex",function(i,s){for(var f=i.length,g;f--;)g=i[f],g.attr("tabindex",g.attr("data-mce-tabindex")),g.attr(s,null)}),e.addAttributeFilter("src,href,style",function(i,s){for(var f=i.length,g,b,y="data-mce-"+s,E=n.url_converter,P=n.url_converter_scope;f--;)g=i[f],b=g.attr(y),b!==void 0?(g.attr(s,b.length>0?b:null),g.attr(y,null)):(b=g.attr(s),s==="style"?b=a.serializeStyle(a.parseStyle(b),g.name):E&&(b=E.call(P,b,s,g.name)),g.attr(s,b.length>0?b:null))}),e.addAttributeFilter("class",function(i){for(var s=i.length,f,g;s--;)f=i[s],g=f.attr("class"),g&&(g=f.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",g.length>0?g:null))}),e.addAttributeFilter("data-mce-type",function(i,s,f){for(var g=i.length,b;g--;)if(b=i[g],b.attr("data-mce-type")==="bookmark"&&!f.cleanup){var y=z.from(b.firstChild).exists(function(E){return!Ts(E.value)});y?b.unwrap():b.remove()}}),e.addNodeFilter("noscript",function(i){for(var s=i.length,f;s--;)f=i[s].firstChild,f&&(f.value=Ru.decode(f.value))}),e.addNodeFilter("script,style",function(i,s){for(var f=i.length,g,b,y,E=function(P){return P.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};f--;)g=i[f],b=g.firstChild?g.firstChild.value:"",s==="script"?(y=g.attr("type"),y&&g.attr("type",y==="mce-no/type"?null:y.replace(/^mce\-/,"")),n.element_format==="xhtml"&&b.length>0&&(g.firstChild.value=`// <![CDATA[
`+E(b)+`
// ]]>`)):n.element_format==="xhtml"&&b.length>0&&(g.firstChild.value=`<!--
`+E(b)+`
-->`)}),e.addNodeFilter("#comment",function(i){for(var s=i.length,f;s--;)f=i[s],n.preserve_cdata&&f.value.indexOf("[CDATA[")===0?(f.name="#cdata",f.type=4,f.value=a.decode(f.value.replace(/^\[CDATA\[|\]\]$/g,""))):f.value.indexOf("mce:protected ")===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(f.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(i,s){for(var f=i.length,g;f--;)g=i[f],g.type===7?g.remove():g.type===1&&s==="input"&&!g.attr("type")&&g.attr("type","text")}),e.addAttributeFilter("data-mce-type",function(i){he(i,function(s){s.attr("data-mce-type")==="format-caret"&&(s.isEmpty(e.schema.getNonEmptyElements())?s.remove():s.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(i,s){for(var f=i.length;f--;)i[f].attr(s,null)})},IP=function(e){var n=function(s){return s&&s.name==="br"},a=e.lastChild;if(n(a)){var i=a.prev;n(i)&&(a.remove(),i.remove())}},zP=function(e,n,a){var i,s,f=e.dom;n=n.cloneNode(!0);var g=document.implementation;return g.createHTMLDocument&&(i=g.createHTMLDocument(""),dt.each(n.nodeName==="BODY"?n.childNodes:[n],function(b){i.body.appendChild(i.importNode(b,!0))}),n.nodeName!=="BODY"?n=i.body.firstChild:n=i.body,s=f.doc,f.doc=i),wT(e,Gn(Gn({},a),{node:n})),s&&(f.doc=s),n},q4=function(e,n){return e&&e.hasEventListeners("PreProcess")&&!n.no_events},LP=function(e,n,a){return q4(e,a)?zP(e,n,a):n},HP=function(e,n,a){dt.inArray(n,a)===-1&&(e.addAttributeFilter(a,function(i,s){for(var f=i.length;f--;)i[f].attr(s,null)}),n.push(a))},VP=function(e,n,a){if(!n.no_events&&e){var i=Pp(e,Gn(Gn({},n),{content:a}));return i.content}else return a},UP=function(e,n,a){var i=ks(a.getInner?n.innerHTML:e.getOuterHTML(n));return a.selection||Ju(L.fromDom(n))?i:dt.trim(i)},G4=function(e,n,a){var i=a.selection?Gn({forced_root_block:!1},a):a,s=e.parse(n,i);return IP(s),s},WP=function(e,n,a){var i=nd(e,n);return i.serialize(a)},jP=function(e,n,a,i,s){var f=WP(n,a,i);return VP(e,s,f)},Ty=function(e,n){var a=["data-mce-selected"],i=n&&n.dom?n.dom:Ja.DOM,s=n&&n.schema?n.schema:lf(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var f=WC(e,s);$P(f,e,i);var g=function(b,y){y===void 0&&(y={});var E=Gn({format:"html"},y),P=LP(n,b,E),R=UP(i,P,E),N=G4(f,R,E);return E.format==="tree"?N:jP(n,e,s,N,E)};return{schema:s,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:g,addRules:function(b){s.addValidElements(b)},setRules:function(b){s.setValidElements(b)},addTempAttr:Xe(HP,f,a),getTempAttrs:We(a),getNodeFilters:f.getNodeFilters,getAttributeFilters:f.getAttributeFilters}},mE=function(e,n){var a=Ty(e,n);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}},K4="html",qP=function(e,n){n===void 0&&(n={});var a=n.format?n.format:K4;return hP(e,n,a)},gE=function(e,n,a){return a===void 0&&(a={}),aE(e,n,a)},jC=Ja.DOM,X4=function(e){jC.setStyle(e.id,"display",e.orgDisplay)},qC=function(e){return z.from(e).each(function(n){return n.destroy()})},GP=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},KP=function(e){var n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),jC.unbind(n,"submit reset",e.formEventDelegate))},XP=function(e){if(!e.removed){var n=e._selectionOverrides,a=e.editorUpload,i=e.getBody(),s=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&s&&jC.remove(s.nextSibling),CT(e),e.editorManager.remove(e),!e.inline&&i&&X4(e),xT(e),jC.remove(e.getContainer()),qC(n),qC(a),e.destroy()}},YP=function(e,n){var a=e.selection,i=e.dom;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),qC(a),qC(i)),KP(e),GP(e),e.destroyed=!0}},su=Object.prototype.hasOwnProperty,Y4=function(e,n){var a=yt(e)&&yt(n);return a?J4(e,n):n},JP=function(e){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(n.length===0)throw new Error("Can't merge zero objects");for(var i={},s=0;s<n.length;s++){var f=n[s];for(var g in f)su.call(f,g)&&(i[g]=e(i[g],f[g]))}return i}},J4=JP(Y4),ZP=function(e,n){return{sections:We(e),settings:We(n)}},hE=la().deviceType,Sa=hE.isTouch(),Z4=hE.isPhone(),QP=hE.isTablet(),eN=["lists","autolink","autosave"],Do={table_grid:!1,object_resizing:!1,resize:!1},ky=function(e){var n=mt(e)?e.join(" "):e,a=ke(jn(n)?n.split(" "):[],Z);return St(a,function(i){return i.length>0})},Ey=function(e){return St(e,Xe(Ue,eN))},tN=function(e,n){var a=Fn(n,function(i,s){return Ue(e,s)});return ZP(a.t,a.f)},nN=function(e,n,a){a===void 0&&(a={});var i=e.sections(),s=i.hasOwnProperty(n)?i[n]:{};return dt.extend({},a,s)},GC=function(e,n){return e.sections().hasOwnProperty(n)},Q4=function(e,n,a){var i=e.sections();return GC(e,n)&&i[n].theme===a},Cm=function(e,n){return GC(e,n)?e.sections()[n]:{}},Fs=function(e,n){return Nr(e,"toolbar_mode").orThunk(function(){return Nr(e,"toolbar_drawer").map(function(a){return a===!1?"wrap":a})}).getOr(n)},Ay=function(e,n,a,i,s){var f={id:n,theme:"silver",toolbar_mode:Fs(e,"floating"),plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:s.convertURL,url_converter_scope:s};return Gn(Gn({},f),i?Do:{})},uh=function(e,n){var a={resize:!1,toolbar_mode:Fs(e,"scrolling"),toolbar_sticky:!1},i={menubar:!1};return Gn(Gn(Gn({},Do),a),n?i:{})},Hf=function(e,n){var a=n.external_plugins?n.external_plugins:{};return e&&e.external_plugins?dt.extend({},e.external_plugins,a):a},Oy=function(e,n){return[].concat(ky(e)).concat(ky(n))},pE=function(e,n,a,i){return e&&Q4(n,"mobile","mobile")?Ey(i):e&&GC(n,"mobile")?i:a},bE=function(e,n,a,i){var s=ky(a.forced_plugins),f=ky(i.plugins),g=Cm(n,"mobile"),b=g.plugins?ky(g.plugins):f,y=pE(e,n,f,b),E=Oy(s,y);if(Ln.browser.isIE()&&Ue(E,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return dt.extend(i,{plugins:E.join(" ")})},eO=function(e,n){return e&&GC(n,"mobile")},tO=function(e,n,a,i,s){var f=e?{mobile:uh(s.mobile||{},n)}:{},g=tN(["mobile"],J4(f,s)),b=dt.extend(a,i,g.settings(),eO(e,g)?nN(g,"mobile"):{},{validate:!0,external_plugins:Hf(i,g.settings())});return bE(e,g,i,b)},rN=function(e,n,a,i,s){var f=Ay(s,n,a,Sa,e);return tO(Z4||QP,Z4,f,i,s)},xm=function(e,n,a){return z.from(n.settings[a]).filter(e)},nO=function(e){var n={};return typeof e=="string"?he(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(a){var i=a.split("=");i.length>1?n[dt.trim(i[0])]=dt.trim(i[1]):n[dt.trim(i[0])]=dt.trim(i[0])}):n=e,n},aN=function(e){return function(n){return mt(n)&&Jt(n,e)}},rO=function(e,n,a,i){var s=n in e.settings?e.settings[n]:a;return i==="hash"?nO(s):i==="string"?xm(jn,e,n).getOr(a):i==="number"?xm(Vt,e,n).getOr(a):i==="boolean"?xm(Yr,e,n).getOr(a):i==="object"?xm(yt,e,n).getOr(a):i==="array"?xm(mt,e,n).getOr(a):i==="string[]"?xm(aN(jn),e,n).getOr(a):i==="function"?xm(kt,e,n).getOr(a):s},oN=function(){var e={},n=function(s,f){e[s]=f},a=function(s){return e[s]?e[s]:{icons:{}}},i=function(s){return kr(e,s)};return{add:n,get:a,has:i}},Sm=oN(),yE=function(e,n){var a=n.dom;return a[e]},wE=function(e,n){return parseInt(yl(n,e),10)},aO=Xe(yE,"clientWidth"),CE=Xe(yE,"clientHeight"),iN=Xe(wE,"margin-top"),uN=Xe(wE,"margin-left"),sN=function(e){return e.dom.getBoundingClientRect()},g1=function(e,n,a){var i=aO(e),s=CE(e);return n>=0&&a>=0&&n<=i&&a<=s},cN=function(e,n,a,i){var s=sN(n),f=e?s.left+n.dom.clientLeft+uN(n):0,g=e?s.top+n.dom.clientTop+iN(n):0,b=a-f,y=i-g;return{x:b,y}},oO=function(e,n,a){var i=L.fromDom(e.getBody()),s=e.inline?i:no(i),f=cN(e.inline,s,n,a);return g1(s,f.x,f.y)},Qi=function(e){return z.from(e).map(L.fromDom)},lN=function(e){var n=e.inline?e.getBody():e.getContentAreaContainer();return Qi(n).map(gl).getOr(!1)},iO=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},xE=function(e){var n=[],a=function(){var N=e.theme;return N&&N.getNotificationManagerImpl?N.getNotificationManagerImpl():iO()},i=function(){return z.from(n[0])},s=function(N,X){return N.type===X.type&&N.text===X.text&&!N.progressBar&&!N.timeout&&!X.progressBar&&!X.timeout},f=function(){n.length>0&&a().reposition(n)},g=function(N){n.push(N)},b=function(N){ba(n,function(X){return X===N}).each(function(X){n.splice(X,1)})},y=function(N,X){if(X===void 0&&(X=!0),!(e.removed||!lN(e)))return X&&e.fire("BeforeOpenNotification",{notification:N}),Ir(n,function(J){return s(a().getArgs(J),N)}).getOrThunk(function(){e.editorManager.setActive(e);var J=a().open(N,function(){b(J),f(),i().fold(function(){return e.focus()},function(Q){return V0(L.fromDom(Q.getEl()))})});return g(J),f(),e.fire("OpenNotification",Gn({},J)),J})},E=function(){i().each(function(N){a().close(N),b(N),f()})},P=function(){return n},R=function(N){N.on("SkinLoaded",function(){var X=o2(N);X&&y({text:X,type:"warning",timeout:0},!1)}),N.on("ResizeEditor ResizeWindow NodeChange",function(){Lr.requestAnimationFrame(f)}),N.on("remove",function(){he(n.slice(),function(X){a().close(X)})})};return R(e),{open:y,close:E,getNotifications:P}},rl=bu.PluginManager,sd=bu.ThemeManager;function SE(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var uO=function(e){var n=[],a=function(){var Q=e.theme;return Q&&Q.getWindowManagerImpl?Q.getWindowManagerImpl():SE()},i=function(Q,G){return function(){for(var me=[],fe=0;fe<arguments.length;fe++)me[fe]=arguments[fe];return G?G.apply(Q,me):void 0}},s=function(Q){e.fire("OpenWindow",{dialog:Q})},f=function(Q){e.fire("CloseWindow",{dialog:Q})},g=function(Q){n.push(Q),s(Q)},b=function(Q){f(Q),n=St(n,function(G){return G!==Q}),n.length===0&&e.focus()},y=function(){return z.from(n[n.length-1])},E=function(Q){e.editorManager.setActive(e),Gg(e);var G=Q();return g(G),G},P=function(Q,G){return E(function(){return a().open(Q,G,b)})},R=function(Q){return E(function(){return a().openUrl(Q,b)})},N=function(Q,G,me){var fe=a();fe.alert(Q,i(me||fe,G))},X=function(Q,G,me){var fe=a();fe.confirm(Q,i(me||fe,G))},J=function(){y().each(function(Q){a().close(Q),b(Q)})};return e.on("remove",function(){he(n,function(Q){a().close(Q)})}),{open:P,openUrl:R,alert:N,confirm:X,close:J}},sO=function(e,n){e.notificationManager.open({type:"error",text:n})},KC=function(e,n){e._skinLoaded?sO(e,n):e.on("SkinLoaded",function(){sO(e,n)})},fN=function(e,n){KC(e,Rs.translate(["Failed to upload image: {0}",n]))},TE=function(e,n,a){$2(e,n,{message:a}),console.error(a)},al=function(e,n,a){return a?"Failed to load "+e+": "+a+" from url "+n:"Failed to load "+e+" url: "+n},kE=function(e,n,a){TE(e,"PluginLoadError",al("plugin",n,a))},vN=function(e,n,a){TE(e,"IconsLoadError",al("icons",n,a))},dN=function(e,n,a){TE(e,"LanguageLoadError",al("language",n,a))},mN=function(e,n,a){var i=Rs.translate(["Failed to initialize plugin: {0}",n]);$2(e,"PluginLoadError",{message:i}),XC(i,a),KC(e,i)},XC=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=window.console;i&&(i.error?i.error.apply(i,mo([e],n)):i.log.apply(i,mo([e],n)))},zo=function(e){return/^[a-z0-9\-]+$/i.test(e)},cO=function(e){return ol(e,Zw(e))},lO=function(e){return ol(e,t0(e))},ol=function(e,n){var a=e.editorManager.baseURL+"/skins/content",i=e.editorManager.suffix,s="content"+i+".css",f=e.inline===!0;return ke(n,function(g){return zo(g)&&!f?a+"/"+g+"/"+s:e.documentBaseURI.toAbsolute(g)})},fO=function(e){e.contentCSS=e.contentCSS.concat(cO(e),lO(e))},vO=function(){var e=1,n=2,a={},i=function(N,X){return{status:N,resultUri:X}},s=function(N){return N in a},f=function(N){var X=a[N];return X?X.resultUri:null},g=function(N){return s(N)?a[N].status===e:!1},b=function(N){return s(N)?a[N].status===n:!1},y=function(N){a[N]=i(e,null)},E=function(N,X){a[N]=i(n,X)},P=function(N){delete a[N]},R=function(){a={}};return{hasBlobUri:s,getResultUri:f,isPending:g,isUploaded:b,markPending:y,markUploaded:E,removeFailed:P,destroy:R}},gN=0,EE=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},n=new Date().getTime();return"s"+n.toString(36)+e()+e()+e()},dO=function(e){return e+gN+++EE()},h1=function(){var e=[],n=function(R){var N={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return N[R.toLowerCase()]||"dat"},a=function(R,N,X,J,Q){if(jn(R)){var G=R;return i({id:G,name:J,filename:Q,blob:N,base64:X})}else{if(yt(R))return i(R);throw new Error("Unknown input type")}},i=function(R){if(!R.blob||!R.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var N=R.id||dO("blobid"),X=R.name||N,J=R.blob;return{id:We(N),name:We(X),filename:We(R.filename||X+"."+n(J.type)),blob:We(J),base64:We(R.base64),blobUri:We(R.blobUri||URL.createObjectURL(J)),uri:We(R.uri)}},s=function(R){g(R.id())||e.push(R)},f=function(R){return Ir(e,R).getOrUndefined()},g=function(R){return f(function(N){return N.id()===R})},b=function(R){return f(function(N){return N.blobUri()===R})},y=function(R,N){return f(function(X){return X.base64()===R&&X.blob().type===N})},E=function(R){e=St(e,function(N){return N.blobUri()===R?(URL.revokeObjectURL(N.blobUri()),!1):!0})},P=function(){he(e,function(R){URL.revokeObjectURL(R.blobUri())}),e=[]};return{create:a,add:s,get:g,getByUri:b,getByData:y,findFirst:f,removeByUri:E,destroy:P}},hN=function(e,n){var a={},i=function(J,Q){return J?J.replace(/\/$/,"")+"/"+Q.replace(/^\//,""):Q},s=function(J,Q,G,me){var fe=new XMLHttpRequest;fe.open("POST",n.url),fe.withCredentials=n.credentials,fe.upload.onprogress=function(Te){me(Te.loaded/Te.total*100)},fe.onerror=function(){G("Image upload failed due to a XHR Transport error. Code: "+fe.status)},fe.onload=function(){if(fe.status<200||fe.status>=300){G("HTTP Error: "+fe.status);return}var Te=JSON.parse(fe.responseText);if(!Te||typeof Te.location!="string"){G("Invalid JSON: "+fe.responseText);return}Q(i(n.basePath,Te.location))};var be=new FormData;be.append("file",J.blob(),J.filename()),fe.send(be)},f=function(){return new Fo(function(J){J([])})},g=function(J,Q){return{url:Q,blobInfo:J,status:!0}},b=function(J,Q,G){return{url:"",blobInfo:J,status:!1,error:{message:Q,options:G}}},y=function(J,Q){dt.each(a[J],function(G){G(Q)}),delete a[J]},E=function(J,Q,G){return e.markPending(J.blobUri()),new Fo(function(me){var fe,be;try{var Te=function(){fe&&(fe.close(),be=te)},Ve=function(jt){Te(),e.markUploaded(J.blobUri(),jt),y(J.blobUri(),g(J,jt)),me(g(J,jt))},Tt=function(jt,nn){var Kn=nn||{};Te(),e.removeFailed(J.blobUri()),y(J.blobUri(),b(J,jt,Kn)),me(b(J,jt,Kn))};be=function(jt){jt<0||jt>100||z.from(fe).orThunk(function(){return z.from(G).map(mn)}).each(function(nn){fe=nn,nn.progressBar.value(jt)})},Q(J,Ve,Tt,be)}catch(jt){me(b(J,jt.message,{}))}})},P=function(J){return J===s},R=function(J){var Q=J.blobUri();return new Fo(function(G){a[Q]=a[Q]||[],a[Q].push(G)})},N=function(J,Q){return J=dt.grep(J,function(G){return!e.isUploaded(G.blobUri())}),Fo.all(dt.map(J,function(G){return e.isPending(G.blobUri())?R(G):E(G,n.handler,Q)}))},X=function(J,Q){return!n.url&&P(n.handler)?f():N(J,Q)};return kt(n.handler)===!1&&(n.handler=s),{upload:X}},AE=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},OE=function(e,n){return hN(n,{url:Yw(e),basePath:Qb(e),credentials:wg(e),handler:LS(e)})},DE=function(e){var n=vO(),a=OE(e,n);return{upload:function(i,s){return s===void 0&&(s=!0),a.upload(i,s?AE(e):void 0)}}},mO=function(e){var n=Ia(null);e.on("change AddUndo",function(i){n.set(Gn({},i.level))});var a=function(){var i=e.undoManager.data;Tn(i).filter(function(s){return!wy(n.get(),s)}).each(function(s){e.setDirty(!0),e.fire("change",{level:s,lastLevel:Nt(i,i.length-2).getOrNull()})})};return{fireIfChanged:a}},_E=function(e){var n=h1(),a,i,s=vO(),f=[],g=mO(e),b=function(Te){return function(Ve){return e.selection?Te(Ve):[]}},y=function(Te){return Te+(Te.indexOf("?")===-1?"?":"&")+new Date().getTime()},E=function(Te,Ve,Tt){var jt=0;do jt=Te.indexOf(Ve,jt),jt!==-1&&(Te=Te.substring(0,jt)+Tt+Te.substr(jt+Ve.length),jt+=Tt.length-Ve.length+1);while(jt!==-1);return Te},P=function(Te,Ve,Tt){var jt='src="'+Tt+'"'+(Tt===Ln.transparentSrc?' data-mce-placeholder="1"':"");return Te=E(Te,'src="'+Ve+'"',jt),Te=E(Te,'data-mce-src="'+Ve+'"','data-mce-src="'+Tt+'"'),Te},R=function(Te,Ve){he(e.undoManager.data,function(Tt){Tt.type==="fragmented"?Tt.fragments=ke(Tt.fragments,function(jt){return P(jt,Te,Ve)}):Tt.content=P(Tt.content,Te,Ve)})},N=function(Te,Ve){var Tt=e.convertURL(Ve,"src");R(Te.src,Ve),e.$(Te).attr({src:zS(e)?y(Ve):Ve,"data-mce-src":Tt})},X=function(Te){return a||(a=OE(e,s)),me().then(b(function(Ve){var Tt=ke(Ve,function(jt){return jt.blobInfo});return a.upload(Tt,AE(e)).then(b(function(jt){var nn=[],Kn=ke(jt,function(er,Mt){var Ar=Ve[Mt].blobInfo,Cn=Ve[Mt].image;return er.status&&Gw(e)?(n.removeByUri(Cn.src),N(Cn,er.url)):er.error&&(er.error.options.remove&&(R(Cn.getAttribute("src"),Ln.transparentSrc),nn.push(Cn)),fN(e,er.error.message)),{element:Cn,status:er.status,uploadUri:er.url,blobInfo:Ar}});return Kn.length>0&&g.fireIfChanged(),nn.length>0&&(LC(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){he(nn,function(er){e.dom.remove(er),n.removeByUri(er.src)})})),Te&&Te(Kn),Kn}))}))},J=function(Te){if(Zd(e))return X(Te)},Q=function(Te){if(Jt(f,function(Tt){return Tt(Te)})===!1)return!1;if(Te.getAttribute("src").indexOf("data:")===0){var Ve=Bl(e);return Ve(Te)}return!0},G=function(Te){f.push(Te)},me=function(){return i||(i=xy(s,n)),i.findAll(e.getBody(),Q).then(b(function(Te){return Te=St(Te,function(Ve){return typeof Ve=="string"?(KC(e,Ve),!1):!0}),he(Te,function(Ve){R(Ve.image.src,Ve.blobInfo.blobUri()),Ve.image.src=Ve.blobInfo.blobUri(),Ve.image.removeAttribute("data-mce-src")}),Te}))},fe=function(){n.destroy(),s.destroy(),i=a=null},be=function(Te){return Te.replace(/src="(blob:[^"]+)"/g,function(Ve,Tt){var jt=s.getResultUri(Tt);if(jt)return'src="'+jt+'"';var nn=n.getByUri(Tt);if(nn||(nn=Rn(e.editorManager.get(),function(er,Mt){return er||Mt.editorUpload&&Mt.editorUpload.blobCache.getByUri(Tt)},null)),nn){var Kn=nn.blob();return'src="data:'+Kn.type+";base64,"+nn.base64()+'"'}return Ve})};return e.on("SetContent",function(){Zd(e)?J():me()}),e.on("RawSaveContent",function(Te){Te.content=be(Te.content)}),e.on("GetContent",function(Te){Te.source_view||Te.format==="raw"||Te.format==="tree"||(Te.content=be(Te.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(Te){he(Te,function(Ve){var Tt=Ve.attr("src");if(!n.getByUri(Tt)){var jt=s.getResultUri(Tt);jt&&Ve.attr("src",jt)}})})}),{blobCache:n,addFilter:G,uploadImages:X,uploadImagesAuto:J,scanForImages:me,destroy:fe}},pN=function(e){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(a,i,s){return Hr(a)&&a.hasAttribute("href")},onformat:function(a,i,s){dt.each(s,function(f,g){e.setAttrib(a,g,f)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return dt.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(a){n[a]={block:a,remove:"all"}}),n},bN=function(e){var n={},a=function(g){return g?n[g]:n},i=function(g){return kr(n,g)},s=function(g,b){g&&(typeof g!="string"?dt.each(g,function(y,E){s(E,y)}):(mt(b)||(b=[b]),dt.each(b,function(y){typeof y.deep=="undefined"&&(y.deep=!y.selector),typeof y.split=="undefined"&&(y.split=!y.selector||y.inline),typeof y.remove=="undefined"&&y.selector&&!y.inline&&(y.remove="none"),y.selector&&y.inline&&(y.mixed=!0,y.block_expand=!0),typeof y.classes=="string"&&(y.classes=y.classes.split(/\s+/))}),n[g]=b))},f=function(g){return g&&n[g]&&delete n[g],n};return s(pN(e.dom)),s(em(e)),{get:a,has:i,register:s,unregister:f}},YC=dt.each,To=Ja.DOM,gO=function(e,n){var a,i,s,f=n&&n.schema||lf({}),g=function(P,R){R.classes.length&&To.addClass(P,R.classes.join(" ")),To.setAttribs(P,R.attrs)},b=function(P){i=typeof P=="string"?{name:P,classes:[],attrs:{}}:P;var R=To.create(i.name);return g(R,i),R},y=function(P,R){var N=typeof P!="string"?P.nodeName.toLowerCase():P,X=f.getElementRule(N),J=X&&X.parentsRequired;return J&&J.length?R&&dt.inArray(J,R)!==-1?R:J[0]:!1},E=function(P,R,N){var X,J,Q=R.length>0&&R[0],G=Q&&Q.name,me=y(P,G);if(me)G===me?(J=R[0],R=R.slice(1)):J=me;else if(Q)J=R[0],R=R.slice(1);else if(!N)return P;return J&&(X=b(J),X.appendChild(P)),N&&(X||(X=To.create("div"),X.appendChild(P)),dt.each(N,function(fe){var be=b(fe);X.insertBefore(be,P)})),E(X,R,J&&J.siblings)};return e&&e.length?(i=e[0],a=b(i),s=To.create("div"),s.appendChild(E(a,e.slice(1),i.siblings)),s):""},yN=function(e){var n,a={classes:[],attrs:{}};return e=a.selector=dt.trim(e),e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(i,s,f,g,b){switch(s){case"#":a.attrs.id=f;break;case".":a.classes.push(f);break;case":":dt.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(a.attrs[f]=f);break}if(g==="["){var y=b.match(/([\w\-]+)(?:\=\"([^\"]+))?/);y&&(a.attrs[y[1]]=y[2])}return""})),a.name=n||"div",a},wN=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),dt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(n){var a=dt.map(n.split(/(?:~\+|~|\+)/),yN),i=a.pop();return a.length&&(i.siblings=a),i}).reverse())},Dy=function(e,n){var a,i,s="",f,g=WS(e);if(g==="")return"";var b=function(R){return R.replace(/%(\w+)/g,"")};if(typeof n=="string"){if(n=e.formatter.get(n),!n)return;n=n[0]}if("preview"in n){var y=Nr(n,"preview");if(y.is(!1))return"";g=y.getOr(g)}a=n.block||n.inline||"span";var E=wN(n.selector);E.length?(E[0].name||(E[0].name=a),a=n.selector,i=gO(E,e)):i=gO([a],e);var P=To.select(a,i)[0]||i.firstChild;return YC(n.styles,function(R,N){var X=b(R);X&&To.setStyle(P,N,X)}),YC(n.attributes,function(R,N){var X=b(R);X&&To.setAttrib(P,N,X)}),YC(n.classes,function(R){var N=b(R);To.hasClass(P,N)||To.addClass(P,N)}),e.fire("PreviewFormats"),To.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),f=To.getStyle(e.getBody(),"fontSize",!0),f=/px$/.test(f)?parseInt(f,10):0,YC(g.split(" "),function(R){var N=To.getStyle(P,R,!0);if(!(R==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(N)&&(N=To.getStyle(e.getBody(),R,!0),To.toHex(N).toLowerCase()==="#ffffff"))&&!(R==="color"&&To.toHex(N).toLowerCase()==="#000000")){if(R==="font-size"&&/em|%$/.test(N)){if(f===0)return;var X=parseFloat(N)/(/%$/.test(N)?100:1);N=X*f+"px"}R==="border"&&N&&(s+="padding:0 2px;"),s+=R+":"+N+";"}}),e.fire("AfterPreviewFormats"),To.remove(i),s},CN=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},BE=function(e){var n=bN(e),a=Ia(null);return CN(e),CR(e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(i,s,f){dP(e,i,s,f)},remove:function(i,s,f,g){mP(e,i,s,f,g)},toggle:function(i,s,f){gP(e,i,s,f)},match:function(i,s,f){return rE(e,i,s,f)},closest:function(i){return vP(e,i)},matchAll:function(i,s){return lP(e,i,s)},matchNode:function(i,s,f,g){return D4(e,i,s,f,g)},canApply:function(i){return fP(e,i)},formatChanged:function(i,s,f){return _4(e,a,i,s,f)},getCssText:Xe(Dy,e)}},hO=function(e,n,a){var i=Ia(!1),s=function(y){$C(n,!1,a),n.add({},y)};e.on("init",function(){n.add()}),e.on("BeforeExecCommand",function(y){var E=y.command.toLowerCase();E!=="undo"&&E!=="redo"&&E!=="mcerepaint"&&(w4(n,a),n.beforeChange())}),e.on("ExecCommand",function(y){var E=y.command.toLowerCase();E!=="undo"&&E!=="redo"&&E!=="mcerepaint"&&s(y)}),e.on("ObjectResizeStart cut",function(){n.beforeChange()}),e.on("SaveContent ObjectResized blur",s),e.on("dragend",s),e.on("keyup",function(y){var E=y.keyCode;y.isDefaultPrevented()||((E>=33&&E<=36||E>=37&&E<=40||E===45||y.ctrlKey)&&(s(),e.nodeChanged()),(E===46||E===8)&&e.nodeChanged(),i.get()&&n.typing&&wy(FC(e),n.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:n.data[0],lastLevel:null})),e.fire("TypingUndo"),i.set(!1),e.nodeChanged()))}),e.on("keydown",function(y){var E=y.keyCode;if(!y.isDefaultPrevented()){if(E>=33&&E<=36||E>=37&&E<=40||E===45){n.typing&&s(y);return}var P=y.ctrlKey&&!y.altKey||y.metaKey;(E<16||E>20)&&E!==224&&E!==91&&!n.typing&&!P&&(n.beforeChange(),$C(n,!0,a),n.add({},y),i.set(!0))}}),e.on("mousedown",function(y){n.typing&&s(y)});var f=function(y){return y.inputType==="insertReplacementText"},g=function(y){return y.inputType==="insertText"&&y.data===null},b=function(y){return y.inputType==="insertFromPaste"||y.inputType==="insertFromDrop"};e.on("input",function(y){y.inputType&&(f(y)||g(y)||b(y))&&s(y)}),e.on("AddUndo Undo Redo ClearUndos",function(y){y.isDefaultPrevented()||e.nodeChanged()})},pO=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},bO=function(e){var n=Ia(z.none()),a=Ia(0),i=Ia(0),s={data:[],typing:!1,beforeChange:function(){aP(e,a,n)},add:function(f,g){return HC(e,s,i,a,n,f,g)},undo:function(){return E4(e,s,a,i)},redo:function(){return oP(e,i,s.data)},clear:function(){hi(e,s,i)},reset:function(){iP(e,s)},hasUndo:function(){return A4(e,s,i)},hasRedo:function(){return uP(e,s,i)},transact:function(f){return sP(e,s,a,f)},ignore:function(f){O4(e,a,f)},extra:function(f,g){cP(e,s,i,f,g)}};return LC(e)||hO(e,s,a),pO(e),s},JC=[9,27,Bn.HOME,Bn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Bn.DOWN,Bn.UP,Bn.LEFT,Bn.RIGHT].concat(Ln.browser.isFirefox()?[224]:[]),yO="data-mce-placeholder",wO=function(e){return e.type==="keydown"||e.type==="keyup"},CO=function(e){var n=e.keyCode;return n===Bn.BACKSPACE||n===Bn.DELETE},xO=function(e){if(wO(e)){var n=e.keyCode;return!CO(e)&&(Bn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||Ue(JC,n))}else return!1},SO=function(e){return wO(e)&&!(CO(e)||e.type==="keyup"&&e.keyCode===229)},xN=function(e,n,a){if(Zu(L.fromDom(n),!1)){var i=a==="",s=n.firstElementChild;return s?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:i?!e.isBlock(s):a===s.nodeName.toLowerCase():!0}else return!1},Tm=function(e){var n=e.dom,a=di(e),i=r2(e),s=function(f,g){if(!xO(f)){var b=e.getBody(),y=SO(f)?!1:xN(n,b,a),E=n.getAttrib(b,yO)!=="";(E!==y||g)&&(n.setAttrib(b,yO,y?i:null),n.setAttrib(b,"aria-placeholder",y?i:null),F2(e,y),e.on(y?"keydown":"keyup",s),e.off(y?"keyup":"keydown",s))}};i&&e.on("init",function(f){s(f,!0),e.on("change SetContent ExecCommand",s),e.on("paste",function(g){return Lr.setEditorTimeout(e,function(){return s(g)})})})},SN=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,TN=function(e){return SN.test(e)},p1=function(e,n){return _i(L.fromDom(n),e2(e))},kN=function(e){return Ja.DOM.getStyle(e,"direction",!0)==="rtl"||TN(e.textContent)},EN=function(e,n,a){return St(Ja.DOM.getParents(a.container(),"*",n),e)},km=function(e,n,a){var i=EN(e,n,a);return z.from(i[i.length-1])},AN=function(e,n,a){var i=Af(n,e),s=Af(a,e);return i&&i===s},ON=function(e){return Jm(e)||K1(e)},Rc=function(e,n){if(!n)return n;var a=n.container(),i=n.offset();return e?Bd(a)?M(a.nextSibling)?gt(a.nextSibling,0):gt.after(a):Jm(n)?gt(a,i+1):n:Bd(a)?M(a.previousSibling)?gt(a.previousSibling,a.previousSibling.data.length):gt.before(a):K1(n)?gt(a,i-1):n},TO=Xe(Rc,!0),kO=Xe(Rc,!1),DN=function(e){return function(n){return xr(e,L.fromDom(n.dom.parentNode))}},Em=function(e,n){return ia(e,n)?nv(n,function(a){return ov(a)||au(a)},DN(e)):z.none()},_N=function(e){var n=e.getBody(),a=n.firstChild&&e.dom.isBlock(n.firstChild)?n.firstChild:n;e.selection.setCursorLocation(a,0)},ZC=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),_N(e))},BN=function(e,n,a){return Mu(Cu(a),Xc(a),function(i,s){var f=Rc(!0,i),g=Rc(!1,s),b=Rc(!1,n);return e?tc(a,b).exists(function(y){return y.isEqual(g)&&n.isEqual(f)}):Oc(a,b).exists(function(y){return y.isEqual(f)&&n.isEqual(g)})}).getOr(!0)},RN=function(e,n){return{block:e,position:n}},PN=function(e,n){return{from:e,to:n}},RE=function(e,n){var a=L.fromDom(e),i=L.fromDom(n.container());return Em(a,i).map(function(s){return RN(s,n)})},sh=function(e){return xr(e.from.block,e.to.block)===!1},ch=function(e){return ii(e.from.block).bind(function(n){return ii(e.to.block).filter(function(a){return xr(n,a)})}).isSome()},QC=function(e){return _r(e.from.block.dom)===!1&&_r(e.to.block.dom)===!1},ex=function(e,n,a){return Dt(a.position.getNode())&&Zu(a.block)===!1?Fv(!1,a.block.dom).bind(function(i){return i.isEqual(a.position)?Ps(n,e,i).bind(function(s){return RE(e,s)}):z.some(a)}).getOr(a):a},lh=function(e,n,a){var i=RE(e,gt.fromRangeStart(a)),s=i.bind(function(f){return Ps(n,e,f.position).bind(function(g){return RE(e,g).map(function(b){return ex(e,n,b)})})});return Mu(i,s,PN).filter(function(f){return sh(f)&&ch(f)&&QC(f)})},fh=function(e,n,a){return a.collapsed?lh(e,n,a):z.none()},tx=function(e){var n=Yo(e);return ba(n,Gi).fold(function(){return n},function(a){return n.slice(0,a)})},_y=function(e){var n=tx(e);return he(n,Zo),n},PE=function(e,n){var a=Ra(n,e);return Ir(a.reverse(),function(i){return Zu(i)}).each(Zo)},NE=function(e){return St(hs(e),function(n){return!Zu(n)}).length===0},ME=function(e,n,a,i){if(Zu(a))return Rt(a),Cu(a.dom);NE(i)&&Zu(n)&&Ya(i,L.fromTag("br"));var s=Oc(a.dom,gt.before(i.dom));return he(_y(n),function(f){Ya(i,f)}),PE(e,n),s},EO=function(e,n,a){if(Zu(a))return Zo(a),Zu(n)&&Rt(n),Cu(n.dom);var i=Xc(a.dom);return he(_y(n),function(s){Jo(a,s)}),PE(e,n),i},AO=function(e,n){var a=Ra(n,e);return z.from(a[a.length-1])},b1=function(e,n){return ia(n,e)?AO(n,e):z.none()},FE=function(e,n){Fv(e,n.dom).map(function(a){return a.getNode()}).map(L.fromDom).filter(Yu).each(Zo)},$E=function(e,n,a){return FE(!0,n),FE(!1,a),b1(n,a).fold(Xe(EO,e,n,a),Xe(ME,e,n,a))},IE=function(e,n,a,i){return n?$E(e,i,a):$E(e,a,i)},vh=function(e,n){var a=L.fromDom(e.getBody()),i=fh(a.dom,n,e.selection.getRng()).bind(function(s){return IE(a,n,s.from.block,s.to.block)});return i.each(function(s){e.selection.setRng(s.toRange())}),i.isSome()},OO=function(e,n){var a=n.getRng();return Mu(Em(e,L.fromDom(a.startContainer)),Em(e,L.fromDom(a.endContainer)),function(i,s){return xr(i,s)===!1?(a.deleteContents(),IE(e,!0,i,s).each(function(f){n.setRng(f.toRange())}),!0):!1}).getOr(!1)},zE=function(e,n){var a=L.fromDom(n),i=Xe(xr,e);return of(a,Ss,i).isSome()},DO=function(e,n){return zE(e,n.startContainer)||zE(e,n.endContainer)},_O=function(e,n){var a=Oc(e.dom,gt.fromRangeStart(n)).isNone(),i=tc(e.dom,gt.fromRangeEnd(n)).isNone();return!DO(e,n)&&a&&i},cd=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},BO=function(e){var n=L.fromDom(e.getBody()),a=e.selection.getRng();return _O(n,a)?cd(e):OO(n,e.selection)},By=function(e,n){return e.selection.isCollapsed()?!1:BO(e)},Am=Rr,il=_r,ld=function(e,n,a,i,s){return z.from(n._selectionOverrides.showCaret(e,a,i,s))},NN=function(e){var n=e.ownerDocument.createRange();return n.selectNode(e),n},y1=function(e,n){var a=e.fire("BeforeObjectSelected",{target:n});return a.isDefaultPrevented()?z.none():z.some(NN(n))},RO=function(e,n,a){var i=Eg(1,e.getBody(),n),s=gt.fromRangeStart(i),f=s.getNode();if(am(f))return ld(1,e,f,!s.isAtEnd(),!1);var g=s.getNode(!0);if(am(g))return ld(1,e,g,!1,!1);var b=e.dom.getParent(s.getNode(),function(y){return il(y)||Am(y)});return am(b)?ld(1,e,b,!1,a):z.none()},LE=function(e,n,a){return n.collapsed?RO(e,n,a).getOr(n):n},MN=function(e){return xt(e)||H(e)},FN=function(e){return Ot(e)||se(e)},$N=function(e,n){M(n)&&n.data.length===0&&e.remove(n)},PO=function(e,n,a,i,s,f){return ld(i,e,f.getNode(!s),s,!0).each(function(g){if(n.collapsed){var b=n.cloneRange();s?b.setEnd(g.startContainer,g.startOffset):b.setStart(g.endContainer,g.endOffset),b.deleteContents()}else n.deleteContents();e.selection.setRng(g)}),$N(e.dom,a),!0},IN=function(e,n){var a=e.selection.getRng();if(!M(a.commonAncestorContainer))return!1;var i=n?Qo.Forwards:Qo.Backwards,s=Ac(e.getBody()),f=Xe(f0,n?s.next:s.prev),g=n?MN:FN,b=Mv(i,e.getBody(),a),y=Rc(n,f(b));if(!y||!Og(b,y))return!1;if(g(y))return PO(e,a,b.getNode(),i,n,y);var E=f(y);return E&&g(E)&&Og(y,E)?PO(e,a,b.getNode(),i,n,E):!1},nx=function(e,n){return IN(e,n)},zN=function(e){return Ss(L.fromDom(e))||au(L.fromDom(e))},cs=xs.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),HE=function(e,n){var a=n.getNode(e===!1),i=e?"after":"before";return Hr(a)&&a.getAttribute("data-mce-caret")===i},NO=function(e,n,a,i){var s=function(f){return Lc(L.fromDom(f))&&!Gc(a,i,e)};return g2(!n,a).fold(function(){return g2(n,i).fold(hn,s)},s)},MO=function(e,n,a,i){var s=i.getNode(n===!1);return Em(L.fromDom(e),L.fromDom(a.getNode())).map(function(f){return Zu(f)?cs.remove(f.dom):cs.moveToElement(s)}).orThunk(function(){return z.some(cs.moveToElement(s))})},FO=function(e,n,a){return Ps(n,e,a).bind(function(i){return zN(i.getNode())||NO(e,n,a,i)?z.none():n&&_r(i.getNode())||n===!1&&_r(i.getNode(!0))?MO(e,n,a,i):n&&Ot(a)||n===!1&&xt(a)?z.some(cs.moveToPosition(i)):z.none()})},$O=function(e,n){return e&&_r(n.nextSibling)?z.some(cs.moveToElement(n.nextSibling)):e===!1&&_r(n.previousSibling)?z.some(cs.moveToElement(n.previousSibling)):z.none()},IO=function(e,n,a){return a.fold(function(i){return z.some(cs.remove(i))},function(i){return z.some(cs.moveToElement(i))},function(i){return Gc(n,i,e)?z.none():z.some(cs.moveToPosition(i))})},VE=function(e,n,a){return HE(n,a)?$O(n,a.getNode(n===!1)).fold(function(){return FO(e,n,a)},z.some):FO(e,n,a).bind(function(i){return IO(e,a,i)})},zO=function(e,n,a){var i=Eg(n?1:-1,e,a),s=gt.fromRangeStart(i),f=L.fromDom(e);return n===!1&&Ot(s)?z.some(cs.remove(s.getNode(!0))):n&&xt(s)?z.some(cs.remove(s.getNode())):n===!1&&xt(s)&&Bc(f,s)?rd(f,s).map(function(g){return cs.remove(g.getNode())}):n&&Ot(s)&&gi(f,s)?ad(f,s).map(function(g){return cs.remove(g.getNode())}):VE(e,n,s)},LO=function(e,n){return function(a){return e._selectionOverrides.hideFakeCaret(),nh(e,n,L.fromDom(a)),!0}},UE=function(e,n){return function(a){var i=n?gt.before(a):gt.after(a);return e.selection.setRng(i.toRange()),!0}},LN=function(e){return function(n){return e.selection.setRng(n.toRange()),!0}},HO=function(e,n){return z.from(Wv(e.getBody(),n))},Vf=function(e,n){var a=e.selection.getNode();return HO(e,a).filter(_r).fold(function(){return zO(e.getBody(),n,e.selection.getRng()).exists(function(i){return i.fold(LO(e,n),UE(e,n),LN(e))})},an)},ul=function(e){he(yu(e,".mce-offscreen-selection"),Zo)},rx=function(e,n){var a=e.selection.getNode();if(_r(a)){var i=HO(e,a.parentNode).filter(_r);return i.fold(function(){return ul(L.fromDom(e.getBody())),nh(e,n,L.fromDom(e.selection.getNode())),ZC(e),!0},an)}return!1},WE=function(e){var n=e.dom,a=e.selection,i=Wv(e.getBody(),a.getNode());if(Rr(i)&&n.isBlock(i)&&n.isEmpty(i)){var s=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(s),a.setRng(gt.before(s).toRange())}return!0},dh=function(e,n){return e.selection.isCollapsed()?Vf(e,n):rx(e,n)},VO=function(e,n){var a=gt.fromRangeStart(e.selection.getRng());return Ps(n,e.getBody(),a).filter(function(i){return n?D(i):U(i)}).bind(function(i){return z.from(yp(n?0:-1,i))}).exists(function(i){return e.selection.select(i),!0})},Ry=function(e,n){return e.selection.isCollapsed()?VO(e,n):!1},mh=M,jE=function(e){return mh(e)&&e.data[0]===Pi},qE=function(e){return mh(e)&&e.data[e.data.length-1]===Pi},GE=function(e){return e.ownerDocument.createTextNode(Pi)},ax=function(e){if(mh(e.previousSibling))return qE(e.previousSibling)||e.previousSibling.appendData(Pi),e.previousSibling;if(mh(e))return jE(e)||e.insertData(0,Pi),e;var n=GE(e);return e.parentNode.insertBefore(n,e),n},ox=function(e){if(mh(e.nextSibling))return jE(e.nextSibling)||e.nextSibling.insertData(0,Pi),e.nextSibling;if(mh(e))return qE(e)||e.appendData(Pi),e;var n=GE(e);return e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n},w1=function(e,n){return e?ax(n):ox(n)},HN=Xe(w1,!0),VN=Xe(w1,!1),UO=function(e,n){return M(e.container())?w1(n,e.container()):w1(n,e.getNode())},WO=function(e,n){var a=n.get();return a&&e.container()===a&&Bd(a)},KE=function(e,n){return n.fold(function(a){jc(e.get());var i=HN(a);return e.set(i),z.some(gt(i,i.length-1))},function(a){return Cu(a).map(function(i){if(WO(i,e))return gt(e.get(),1);jc(e.get());var s=UO(i,!0);return e.set(s),gt(s,1)})},function(a){return Xc(a).map(function(i){if(WO(i,e))return gt(e.get(),e.get().length-1);jc(e.get());var s=UO(i,!1);return e.set(s),gt(s,s.length-1)})},function(a){jc(e.get());var i=VN(a);return e.set(i),z.some(gt(i,1))})},jO=function(e,n){for(var a=0;a<e.length;a++){var i=e[a].apply(null,n);if(i.isSome())return i}return z.none()},Lu=xs.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),ix=function(e,n){var a=Af(n,e);return a||e},UN=function(e,n,a){var i=TO(a),s=ix(n,i.container());return km(e,s,i).fold(function(){return tc(s,i).bind(Xe(km,e,s)).map(function(f){return Lu.before(f)})},z.none)},WN=function(e,n){return $v(e,n)===null},qO=function(e,n,a){return km(e,n,a).filter(Xe(WN,n))},jN=function(e,n,a){var i=kO(a);return qO(e,n,i).bind(function(s){var f=Oc(s,i);return f.isNone()?z.some(Lu.start(s)):z.none()})},qN=function(e,n,a){var i=TO(a);return qO(e,n,i).bind(function(s){var f=tc(s,i);return f.isNone()?z.some(Lu.end(s)):z.none()})},GN=function(e,n,a){var i=kO(a),s=ix(n,i.container());return km(e,s,i).fold(function(){return Oc(s,i).bind(Xe(km,e,s)).map(function(f){return Lu.after(f)})},z.none)},GO=function(e){return kN(C1(e))===!1},sl=function(e,n,a){var i=jO([UN,jN,qN,GN],[e,n,a]);return i.filter(GO)},C1=function(e){return e.fold(dn,dn,dn,dn)},ux=function(e){return e.fold(We("before"),We("start"),We("end"),We("after"))},XE=function(e){return e.fold(Lu.before,Lu.before,Lu.after,Lu.after)},YE=function(e){return e.fold(Lu.start,Lu.start,Lu.end,Lu.end)},KN=function(e,n){return ux(e)===ux(n)&&C1(e)===C1(n)},XN=function(e,n,a,i,s,f){return Mu(km(n,a,i),km(n,a,s),function(g,b){return g!==b&&AN(a,g,b)?Lu.after(e?g:b):f}).getOr(f)},KO=function(e,n){return e.fold(an,function(a){return!KN(a,n)})},YN=function(e,n,a,i,s){var f=Rc(e,s),g=Ps(e,a,f).map(Xe(Rc,e)),b=g.fold(function(){return i.map(XE)},function(y){return sl(n,a,y).map(Xe(XN,e,n,a,f,y)).filter(Xe(KO,i))});return b.filter(GO)},JN=function(e,n){return e?n.fold(vt(z.some,Lu.start),z.none,vt(z.some,Lu.after),z.none):n.fold(z.none,vt(z.some,Lu.before),z.none,vt(z.some,Lu.end))},Py=function(e,n,a,i){var s=Rc(e,i),f=sl(n,a,s);return sl(n,a,s).bind(Xe(JN,e)).orThunk(function(){return YN(e,n,a,f,i)})};Xe(Py,!1),Xe(Py,!0);var ZN=function(e){return kt(e.selection.getSel().modify)},XO=function(e,n,a){var i=e?1:-1;return n.setRng(gt(a.container(),a.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},QN=function(e,n){var a=n.selection.getRng(),i=e?gt.fromRangeEnd(a):gt.fromRangeStart(a);return ZN(n)?e&&Jm(i)?XO(!0,n.selection,i):!e&&K1(i)?XO(!1,n.selection,i):!1:!1},JE=function(e,n){var a=e.dom.createRng();a.setStart(n.container(),n.offset()),a.setEnd(n.container(),n.offset()),e.selection.setRng(a)},YO=function(e,n){e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},JO=function(e,n,a){return KE(n,a).map(function(i){return JE(e,i),a})},e5=function(e,n,a){var i=e.getBody(),s=gt.fromRangeStart(e.selection.getRng()),f=Xe(p1,e),g=Py(a,f,i,s);return g.bind(function(b){return JO(e,n,b)})},sx=function(e,n,a){var i=ke(yu(L.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(g){return g.dom}),s=St(i,e),f=St(a,e);he(Xt(s,f),Xe(YO,!1)),he(Xt(f,s),Xe(YO,!0))},cx=function(e,n){if(e.selection.isCollapsed()&&e.composing!==!0&&n.get()){var a=gt.fromRangeStart(e.selection.getRng());gt.isTextPosition(a)&&ON(a)===!1&&(JE(e,eT(n.get(),a)),n.set(null))}},t5=function(e,n,a,i){if(n.selection.isCollapsed()){var s=St(i,e);he(s,function(f){var g=gt.fromRangeStart(n.selection.getRng());sl(e,n.getBody(),g).bind(function(b){return JO(n,a,b)})})}},ZO=function(e,n,a){return xg(e)?e5(e,n,a).isSome():!1},Ny=function(e,n,a){return xg(n)?QN(e,n):!1},n5=function(e){var n=Ia(null),a=Xe(p1,e);return e.on("NodeChange",function(i){xg(e)&&!(Ln.browser.isIE()&&i.initial)&&(sx(a,e.dom,i.parents),cx(e,n),t5(a,e,n,i.parents))}),n},r5=Xe(Ny,!0),a5=Xe(Ny,!1),o5=function(e,n){var a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(n.container(),n.offset()),a},i5=function(e){return Mu(Cu(e),Xc(e),function(n,a){var i=Rc(!0,n),s=Rc(!1,a);return tc(e,i).forall(function(f){return f.isEqual(s)})}).getOr(!0)},QO=function(e,n){return function(a){return KE(n,a).exists(function(i){return JE(e,i),!0})}},eD=function(e,n,a,i){var s=e.getBody(),f=Xe(p1,e);e.undoManager.ignore(function(){e.selection.setRng(o5(a,i)),e.execCommand("Delete"),sl(f,s,gt.fromRangeStart(e.selection.getRng())).map(YE).map(QO(e,n))}),e.nodeChanged()},u5=function(e,n){var a=Af(n,e);return a||e},s5=function(e,n,a,i){var s=u5(e.getBody(),i.container()),f=Xe(p1,e),g=sl(f,s,i);return g.bind(function(b){return a?b.fold(We(z.some(YE(b))),z.none,We(z.some(XE(b))),z.none):b.fold(z.none,We(z.some(XE(b))),z.none,We(z.some(YE(b))))}).map(QO(e,n)).getOrThunk(function(){var b=xp(a,s,i),y=b.bind(function(E){return sl(f,s,E)});return Mu(g,y,function(){return km(f,s,i).exists(function(E){return i5(E)?(nh(e,a,L.fromDom(E)),!0):!1})}).orThunk(function(){return y.bind(function(E){return b.map(function(P){return a?eD(e,n,i,P):eD(e,n,P,i),!0})})}).getOr(!1)})},lx=function(e,n,a){if(e.selection.isCollapsed()&&xg(e)){var i=gt.fromRangeStart(e.selection.getRng());return s5(e,n,a,i)}return!1},c5=function(e,n){var a=Ra(n,e);return ba(a,Gi).fold(We(a),function(i){return a.slice(0,i)})},l5=function(e){return Yo(e).length===1},Uf=function(e,n,a,i){var s=Xe(IA,n),f=ke(St(i,s),function(b){return b.dom});if(f.length===0)nh(n,e,a);else{var g=xR(a.dom,f);n.selection.setRng(g.toRange())}},f5=function(e,n){var a=L.fromDom(e.getBody()),i=L.fromDom(e.selection.getStart()),s=St(c5(a,i),l5);return Tn(s).exists(function(f){var g=gt.fromRangeStart(e.selection.getRng());return BN(n,g,f.dom)&&!SR(f)?(Uf(n,e,f,s),!0):!1})},My=function(e,n){return e.selection.isCollapsed()?f5(e,n):!1},ZE=function(e,n,a){return e._selectionOverrides.hideFakeCaret(),nh(e,n,L.fromDom(a)),!0},tD=function(e,n){var a=n?H:se,i=n?Qo.Forwards:Qo.Backwards,s=Mv(i,e.getBody(),e.selection.getRng());return a(s)?ZE(e,n,s.getNode(!n)):z.from(Rc(n,s)).filter(function(f){return a(f)&&Og(s,f)}).exists(function(f){return ZE(e,n,f.getNode(!n))})},v5=function(e,n){var a=e.selection.getNode();return Vr(a)?ZE(e,n,a):!1},fx=function(e,n){return e.selection.isCollapsed()?tD(e,n):v5(e,n)},d5=function(e){return nv(e,function(n){return Rr(n.dom)||_r(n.dom)}).exists(function(n){return Rr(n.dom)})},Om=function(e){var n=parseInt(e,10);return isNaN(n)?0:n},QE=function(e,n){var a=e||Mh(n)?"margin":"padding",i=yl(n,"direction")==="rtl"?"-right":"-left";return a+i},nD=function(e,n,a,i,s,f){var g=QE(a,L.fromDom(f));if(n==="outdent"){var b=Math.max(0,Om(f.style[g])-i);e.setStyle(f,g,b?b+s:"")}else{var b=Om(f.style[g])+i+s;e.setStyle(f,g,b)}},rD=function(e,n){return Jt(n,function(a){var i=QE(Jw(e),a),s=qi(a,i).map(Om).getOr(0),f=e.dom.getContentEditable(a.dom);return f!=="false"&&s>0})},vx=function(e){var n=oD(e);return!e.mode.isReadOnly()&&(n.length>1||rD(e,n))},aD=function(e){return so(e)||au(e)},m5=function(e){return ii(e).map(aD).getOr(!1)},oD=function(e){return St(ke(e.selection.getSelectedBlocks(),L.fromDom),function(n){return!aD(n)&&!m5(n)&&d5(n)})},iD=function(e,n){var a=e.dom,i=e.selection,s=e.formatter,f=Qd(e),g=/[a-z%]+$/i.exec(f)[0],b=parseInt(f,10),y=Jw(e),E=di(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&E===""&&!a.getParent(i.getNode(),a.isBlock)&&s.apply("div"),he(oD(e),function(P){nD(a,n,y,b,g,P.dom)})},uD=function(e,n){if(e.selection.isCollapsed()&&vx(e)){var a=e.dom,i=e.selection.getRng(),s=gt.fromRangeStart(i),f=a.getParent(i.startContainer,a.isBlock);if(f!==null&&ha(L.fromDom(f),s))return iD(e,"outdent"),!0}return!1},sD=function(e,n){e.getDoc().execCommand(n,!1,null)},Vl=function(e,n){if(!uD(e)){if(dh(e,!1))return;if(nx(e,!1))return;if(lx(e,n,!1))return;if(vh(e,!1))return;if(xC(e))return;if(Ry(e,!1))return;if(fx(e,!1))return;if(By(e))return;if(My(e,!1))return;sD(e,"Delete"),ZC(e)}},g5=function(e,n){if(!dh(e,!0)){if(nx(e,!0))return;if(lx(e,n,!0))return;if(vh(e,!0))return;if(xC(e))return;if(Ry(e,!0))return;if(fx(e,!0))return;if(By(e))return;if(My(e,!0))return;sD(e,"ForwardDelete")}},h5=function(e,n){e.addCommand("delete",function(){Vl(e,n)}),e.addCommand("forwardDelete",function(){g5(e,n)})},cD=5,p5=400,lD=function(e){return e.touches===void 0||e.touches.length!==1?z.none():z.some(e.touches[0])},b5=function(e,n){var a=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return a>cD||i>cD},y5=function(e){var n=Ia(z.none()),a=Ia(!1),i=_b(function(s){e.fire("longpress",Gn(Gn({},s),{type:"longpress"})),a.set(!0)},p5);e.on("touchstart",function(s){lD(s).each(function(f){i.cancel();var g={x:f.clientX,y:f.clientY,target:s.target};i.throttle(s),a.set(!1),n.set(z.some(g))})},!0),e.on("touchmove",function(s){i.cancel(),lD(s).each(function(f){n.get().each(function(g){b5(f,g)&&(n.set(z.none()),a.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(s){i.cancel(),s.type!=="touchcancel"&&n.get().filter(function(f){return f.target.isEqualNode(s.target)}).each(function(){a.get()?s.preventDefault():e.fire("tap",Gn(Gn({},s),{type:"tap"}))})},!0)},eu=function(e,n){return e.hasOwnProperty(n.nodeName)},w5=function(e,n){return M(n)?!0:Hr(n)?!eu(e,n)&&!$u(n):!1},C5=function(e,n,a){return ee(ca(L.fromDom(a),L.fromDom(n)),function(i){return eu(e,i.dom)})},fD=function(e,n){if(M(n)){if(n.nodeValue.length===0)return!0;if(/^\s+$/.test(n.nodeValue)&&(!n.nextSibling||eu(e,n.nextSibling)))return!0}return!1},e3=function(e){var n=e.dom,a=e.selection,i=e.schema,s=i.getBlockElements(),f=a.getStart(),g=e.getBody(),b,y,E,P=di(e);if(!(!f||!Hr(f)||!P)){var R=g.nodeName.toLowerCase();if(!(!i.isValidChild(R,P.toLowerCase())||C5(s,g,f))){var N=a.getRng(),X=N.startContainer,J=N.startOffset,Q=N.endContainer,G=N.endOffset,me=Qv(e);for(f=g.firstChild;f;)if(w5(s,f)){if(fD(s,f)){y=f,f=f.nextSibling,n.remove(y);continue}b||(b=n.create(P,Sf(e)),f.parentNode.insertBefore(b,f),E=!0),y=f,f=f.nextSibling,b.appendChild(y)}else b=null,f=f.nextSibling;E&&me&&(N.setStart(X,J),N.setEnd(Q,G),a.setRng(N),e.nodeChanged())}}},x5=function(e){di(e)&&e.on("NodeChange",Xe(e3,e))},S5=function(e){return Tl(L.fromDom(e.getBody()),"*[data-mce-caret]").fold(We(null),function(n){return n.dom})},T5=function(e){e.selection.setRng(e.selection.getRng())},Dm=function(e,n){n.hasAttribute("data-mce-caret")&&(J1(n),T5(e),e.selection.scrollIntoView(n))},k5=function(e,n){var a=S5(e);if(!!a){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),Dm(e,a);return}Ym(a)&&(Dm(e,a),e.undoManager.add())}},E5=function(e){e.on("keyup compositionstart",Xe(k5,e))},Wf;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Wf||(Wf={}));var dx=function(e,n){return e===Qo.Backwards?Kt(n):n},t3=function(e,n,a){return e===Qo.Forwards?n.next(a):n.prev(a)},n3=function(e,n,a,i){return Dt(i.getNode(n===Qo.Forwards))?Wf.Br:Gc(a,i)===!1?Wf.Block:Wf.Wrap},r3=function(e,n,a,i){for(var s=Ac(a),f=i,g,b=[];f&&(g=t3(n,s,f),!!g);){if(Dt(g.getNode(!1)))return n===Qo.Forwards?{positions:dx(n,b).concat([g]),breakType:Wf.Br,breakAt:z.some(g)}:{positions:dx(n,b),breakType:Wf.Br,breakAt:z.some(g)};if(!g.isVisible()){f=g;continue}if(e(f,g)){var y=n3(a,n,f,g);return{positions:dx(n,b),breakType:y,breakAt:z.some(g)}}b.push(g),f=g}return{positions:dx(n,b),breakType:Wf.Eol,breakAt:z.none()}},a3=function(e,n,a,i){return n(a,i).breakAt.map(function(s){var f=n(a,s).positions;return e===Qo.Backwards?f.concat(s):[s].concat(f)}).getOr([])},mx=function(e,n){return Rn(e,function(a,i){return a.fold(function(){return z.some(i)},function(s){return Mu(lt(s.getClientRects()),lt(i.getClientRects()),function(f,g){var b=Math.abs(n-f.left),y=Math.abs(n-g.left);return y<=b?i:s}).or(a)})},z.none())},vD=function(e,n){return lt(n.getClientRects()).bind(function(a){return mx(e,a.left)})},fd=Xe(r3,gt.isAbove,-1),Fy=Xe(r3,gt.isBelow,1),A5=function(e,n){return fd(e,n).breakAt.isNone()},O5=function(e,n){return Fy(e,n).breakAt.isNone()},x1=Xe(a3,-1,fd),D5=Xe(a3,1,Fy),vd=function(e){return Cu(e).map(function(n){return[n].concat(Fy(e,n).positions)}).getOr([])},dD=function(e){return Xc(e).map(function(n){return fd(e,n).positions.concat(n)}).getOr([])},o3=function(e){var n=function(i){return ke(i,function(s){return s=kv(s),s.node=e,s})};if(Hr(e))return n(e.getClientRects());if(M(e)){var a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),n(a.getClientRects())}},$y=function(e){return pt(e,o3)},gh;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(gh||(gh={}));var hh=function(e,n,a,i){for(;i=Nv(i,e,Rd,n);)if(a(i))return},mD=function(e,n,a,i,s,f){var g=0,b=[],y=function(R){var N,X,J;for(J=$y([R]),e===-1&&(J=J.reverse()),N=0;N<J.length;N++)if(X=J[N],!a(X,E)){if(b.length>0&&n(X,Ga(b))&&g++,X.line=g,s(X))return!0;b.push(X)}},E=Ga(f.getClientRects());if(!E)return b;var P=f.getNode();return y(P),hh(e,i,y,P),b},_5=function(e,n){return n.line>e},B5=function(e,n){return n.line===e},gD=Xe(mD,gh.Up,Ev,zi),R5=Xe(mD,gh.Down,zi,Ev),P5=function(e,n,a,i){var s=Ac(n),f,g,b,y,E=[],P=0,R,N=function(J){return Ga(J.getClientRects())};e===1?(f=s.next,g=zi,b=Ev,y=gt.after(i)):(f=s.prev,g=Ev,b=zi,y=gt.before(i));var X=N(y);do if(!!y.isVisible()&&(R=N(y),!b(R,X))){if(E.length>0&&g(R,Ga(E))&&P++,R=kv(R),R.position=y,R.line=P,a(R))return E;E.push(R)}while(y=f(y));return E},hD=function(e){return function(n){return _5(e,n)}},i3=function(e){return function(n){return B5(e,n)}},pD=_r,bD=Nv,dd=function(e,n){return Math.abs(e.left-n)},u3=function(e,n){return Math.abs(e.right-n)},S1=function(e,n){return e>=n.left&&e<=n.right},yD=function(e,n){return e>=n.top&&e<=n.bottom},T1=function(e,n){return ua(e,function(a,i){var s=Math.min(dd(a,n),u3(a,n)),f=Math.min(dd(i,n),u3(i,n));return S1(n,i)?i:S1(n,a)?a:f===s&&pD(i.node)||f<s?i:a})},gx=function(e,n,a,i,s){var f=bD(i,e,Rd,n,!s);do if(!f||a(f))return;while(f=bD(f,e,Rd,n))},N5=function(e,n,a){a===void 0&&(a=!0);var i=[],s=function(f,g){var b=St($y([g]),function(y){return!f(y,n)});return i=i.concat(b),b.length===0};return i.push(n),gx(gh.Up,e,Xe(s,Ev),n.node,a),gx(gh.Down,e,Xe(s,zi),n.node,a),i},M5=function(e){return St(or(e.getElementsByTagName("*")),Rl)},F5=function(e,n){return{node:e.node,before:dd(e,n)<u3(e,n)}},s3=function(e,n,a){var i=$y(M5(e)),s=St(i,Xe(yD,a)),f=T1(s,n);if(f){var g=!nf(f.node)&&!Vr(f.node);if(f=T1(N5(e,f,g),n),f&&Rl(f.node))return F5(f,n)}return null},md=function(e,n){e.selection.setRng(n),Wg(e,e.selection.getRng())},c3=function(e,n,a){return z.some(LE(e,n,a))},wD=function(e,n,a,i,s,f){var g=n===Qo.Forwards,b=Ac(e.getBody()),y=Xe(f0,g?b.next:b.prev),E=g?i:s;if(!a.collapsed){var P=Ud(a);if(f(P))return ld(n,e,P,n===Qo.Backwards,!1)}var R=Mv(n,e.getBody(),a);if(E(R))return y1(e,R.getNode(!g));var N=Rc(g,y(R)),X=aw(a);if(!N)return X?z.some(a):z.none();if(E(N))return ld(n,e,N.getNode(!g),g,!1);var J=y(N);return J&&E(J)&&Og(N,J)?ld(n,e,J.getNode(!g),g,!1):X?c3(e,N.toRange(),!1):z.none()},CD=function(e,n,a,i,s,f){var g=Mv(n,e.getBody(),a),b=Ga(g.getClientRects()),y=n===gh.Down;if(!b)return z.none();var E=y?R5:gD,P=E(e.getBody(),hD(1),g),R=St(P,i3(1)),N=b.left,X=T1(R,N);if(X&&f(X.node)){var J=Math.abs(N-X.left),Q=Math.abs(N-X.right);return ld(n,e,X.node,J<Q,!1)}var G;if(i(g)?G=g.getNode():s(g)?G=g.getNode(!0):G=Ud(a),G){var me=P5(n,e.getBody(),hD(1),G),fe=T1(St(me,i3(1)),N);if(fe||(fe=Ga(St(me,i3(0))),fe))return c3(e,fe.position.toRange(),!1)}return R.length===0?l3(e,y).filter(y?s:i).map(function(be){return LE(e,be.toRange(),!1)}):z.none()},l3=function(e,n){var a=e.selection.getRng(),i=e.getBody();if(n){var s=gt.fromRangeEnd(a),f=Fy(i,s);return Tn(f.positions)}else{var s=gt.fromRangeStart(a),f=fd(i,s);return lt(f.positions)}},xD=function(e,n,a){return l3(e,n).filter(a).exists(function(i){return e.selection.setRng(i.toRange()),!0})},SD=_r,$5=function(e,n,a){return wD(n,e,a,xt,Ot,SD)},I5=function(e,n,a){var i=function(f){return xt(f)||Se(f)},s=function(f){return Ot(f)||At(f)};return CD(n,e,a,i,s,SD)},z5=function(e){var n=e.dom.create(di(e));return(!Ln.ie||Ln.ie>=11)&&(n.innerHTML='<br data-mce-bogus="1">'),n},TD=function(e,n,a){var i=Ac(e.getBody()),s=Xe(f0,n===1?i.next:i.prev);if(a.collapsed&&tm(e)){var f=e.dom.getParent(a.startContainer,"PRE");if(!f)return;var g=s(gt.fromRangeStart(a));if(!g){var b=z5(e);n===1?e.$(f).after(b):e.$(f).before(b),e.selection.select(b,!0),e.selection.collapse()}}},L5=function(e,n){var a=n?Qo.Forwards:Qo.Backwards,i=e.selection.getRng();return $5(a,e,i).orThunk(function(){return TD(e,a,i),z.none()})},H5=function(e,n){var a=n?1:-1,i=e.selection.getRng();return I5(a,e,i).orThunk(function(){return TD(e,a,i),z.none()})},f3=function(e,n){return L5(e,n).exists(function(a){return md(e,a),!0})},kD=function(e,n){return H5(e,n).exists(function(a){return md(e,a),!0})},ED=function(e,n){var a=n?Ot:xt;return xD(e,n,a)},V5=function(e){return Ue(["figcaption"],Na(e))},AD=function(e){var n=document.createRange();return n.setStartBefore(e.dom),n.setEndBefore(e.dom),n},OD=function(e,n,a){a?Jo(e,n):Oh(e,n)},U5=function(e,n){var a=L.fromTag("br");return OD(e,a,n),AD(a)},W5=function(e,n,a,i){var s=L.fromTag(a),f=L.fromTag("br");return mc(s,i),Jo(s,f),OD(e,s,n),AD(f)},j5=function(e,n,a,i){return n===""?U5(e,i):W5(e,i,n,a)},q5=function(e,n){var a=Xe(xr,n);return nv(L.fromDom(e.container()),Gi,a).filter(V5)},G5=function(e,n,a){return n?O5(e.dom,a):A5(e.dom,a)},K5=function(e,n){var a=L.fromDom(e.getBody()),i=gt.fromRangeStart(e.selection.getRng()),s=di(e),f=Sf(e);return q5(i,a).exists(function(){if(G5(a,n,i)){var g=j5(a,s,f,n);return e.selection.setRng(g),!0}else return!1})},DD=function(e,n){return e.selection.isCollapsed()?K5(e,n):!1},X5=function(e){return ke(e,function(n){return Gn({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:te},n)})},Y5=function(e,n){return n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey},_D=function(e,n){return pt(X5(e),function(a){return Y5(a,n)?[a]:[]})},ka=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){return e.apply(null,n)}},Iy=function(e,n){return Ir(_D(e,n),function(a){return a.action()})},v3=function(e,n){var a=n?Qo.Forwards:Qo.Backwards,i=e.selection.getRng();return wD(e,a,i,H,se,Vr).exists(function(s){return md(e,s),!0})},d3=function(e,n){var a=n?1:-1,i=e.selection.getRng();return CD(e,a,i,H,se,Vr).exists(function(s){return md(e,s),!0})},zy=function(e,n){var a=n?se:H;return xD(e,n,a)},BD=function(e,n){return{left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}},m3=function(e,n){return pt(n,function(a){var i=BD(kv(a.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:a},{x:i.right,y:e(i),cell:a}]})},g3=function(e,n,a){return Rn(e,function(i,s){return i.fold(function(){return z.some(s)},function(f){var g=Math.sqrt(Math.abs(f.x-n)+Math.abs(f.y-a)),b=Math.sqrt(Math.abs(s.x-n)+Math.abs(s.y-a));return z.some(b<g?s:f)})},z.none())},h3=function(e,n,a,i,s){var f=yu(L.fromDom(a),"td,th,caption").map(function(b){return b.dom}),g=St(m3(e,f),function(b){return n(b,s)});return g3(g,i,s).map(function(b){return b.cell})},J5=function(e){return e.bottom},RD=function(e){return e.top},k1=function(e,n){return e.y<n},PD=function(e,n){return e.y>n},p3=Xe(h3,J5,k1),Z5=Xe(h3,RD,PD),b3=function(e,n){return lt(n.getClientRects()).bind(function(a){return p3(e,a.left,a.top)}).bind(function(a){return vD(dD(a),n)})},Q5=function(e,n){return Tn(n.getClientRects()).bind(function(a){return Z5(e,a.left,a.top)}).bind(function(a){return vD(vd(a),n)})},eM=function(e,n,a){return a.breakAt.exists(function(i){return e(n,i).breakAt.isSome()})},tM=function(e){return e.breakType===Wf.Wrap&&e.positions.length===0},nM=function(e){return e.breakType===Wf.Br&&e.positions.length===1},ND=function(e,n,a){var i=e(n,a);return tM(i)||!Dt(a.getNode())&&nM(i)?!eM(e,n,i):i.breakAt.isNone()},rM=Xe(ND,fd),MD=Xe(ND,Fy),E1=function(e,n,a){var i=gt.fromRangeStart(n);return Fv(!e,a).exists(function(s){return s.isEqual(i)})},aM=function(e,n,a,i){var s=e.selection.getRng(),f=n?1:-1;return pp()&&E1(n,s,a)?(ld(f,e,a,!n,!1).each(function(g){md(e,g)}),!0):!1},y3=function(e,n,a){return b3(n,a).orThunk(function(){return lt(a.getClientRects()).bind(function(i){return mx(x1(e,gt.before(n)),i.left)})}).getOr(gt.before(n))},oM=function(e,n,a){return Q5(n,a).orThunk(function(){return lt(a.getClientRects()).bind(function(i){return mx(D5(e,gt.after(n)),i.left)})}).getOr(gt.after(n))},w3=function(e,n){var a=n.getNode(e);return Hr(a)&&a.nodeName==="TABLE"?z.some(a):z.none()},FD=function(e,n,a,i){var s=di(n);s?n.undoManager.transact(function(){var f=L.fromTag(s);mc(f,Sf(n)),Jo(f,L.fromTag("br")),e?Vs(L.fromDom(a),f):Ya(L.fromDom(a),f);var g=n.dom.createRng();g.setStart(f.dom,0),g.setEnd(f.dom,0),md(n,g)}):md(n,i.toRange())},C3=function(e,n,a){var i=w3(!!n,a),s=n===!1;i.fold(function(){return md(e,a.toRange())},function(f){return Fv(s,e.getBody()).filter(function(g){return g.isEqual(a)}).fold(function(){return md(e,a.toRange())},function(g){return FD(n,e,f,a)})})},$D=function(e,n,a,i){var s=e.selection.getRng(),f=gt.fromRangeStart(s),g=e.getBody();if(!n&&rM(i,f)){var b=y3(g,a,f);return C3(e,n,b),!0}else if(n&&MD(i,f)){var b=oM(g,a,f);return C3(e,n,b),!0}else return!1},hx=function(e,n,a){return z.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(i){return z.from(e.dom.getParent(i,"table")).map(function(s){return a(e,n,s,i)})}).getOr(!1)},x3=function(e,n){return hx(e,n,aM)},ID=function(e,n){return hx(e,n,$D)},iM=function(e,n,a){var i=la().os;Iy([{keyCode:Bn.RIGHT,action:ka(f3,e,!0)},{keyCode:Bn.LEFT,action:ka(f3,e,!1)},{keyCode:Bn.UP,action:ka(kD,e,!1)},{keyCode:Bn.DOWN,action:ka(kD,e,!0)},{keyCode:Bn.RIGHT,action:ka(x3,e,!0)},{keyCode:Bn.LEFT,action:ka(x3,e,!1)},{keyCode:Bn.UP,action:ka(ID,e,!1)},{keyCode:Bn.DOWN,action:ka(ID,e,!0)},{keyCode:Bn.RIGHT,action:ka(v3,e,!0)},{keyCode:Bn.LEFT,action:ka(v3,e,!1)},{keyCode:Bn.UP,action:ka(d3,e,!1)},{keyCode:Bn.DOWN,action:ka(d3,e,!0)},{keyCode:Bn.RIGHT,action:ka(ZO,e,n,!0)},{keyCode:Bn.LEFT,action:ka(ZO,e,n,!1)},{keyCode:Bn.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:ka(r5,e,n)},{keyCode:Bn.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:ka(a5,e,n)},{keyCode:Bn.UP,action:ka(DD,e,!1)},{keyCode:Bn.DOWN,action:ka(DD,e,!0)}],a).each(function(s){a.preventDefault()})},px=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&iM(e,n,a)})},uM=function(e,n,a){Iy([{keyCode:Bn.BACKSPACE,action:ka(uD,e,!1)},{keyCode:Bn.BACKSPACE,action:ka(dh,e,!1)},{keyCode:Bn.DELETE,action:ka(dh,e,!0)},{keyCode:Bn.BACKSPACE,action:ka(nx,e,!1)},{keyCode:Bn.DELETE,action:ka(nx,e,!0)},{keyCode:Bn.BACKSPACE,action:ka(lx,e,n,!1)},{keyCode:Bn.DELETE,action:ka(lx,e,n,!0)},{keyCode:Bn.BACKSPACE,action:ka(xC,e,!1)},{keyCode:Bn.DELETE,action:ka(xC,e,!0)},{keyCode:Bn.BACKSPACE,action:ka(Ry,e,!1)},{keyCode:Bn.DELETE,action:ka(Ry,e,!0)},{keyCode:Bn.BACKSPACE,action:ka(fx,e,!1)},{keyCode:Bn.DELETE,action:ka(fx,e,!0)},{keyCode:Bn.BACKSPACE,action:ka(By,e,!1)},{keyCode:Bn.DELETE,action:ka(By,e,!0)},{keyCode:Bn.BACKSPACE,action:ka(vh,e,!1)},{keyCode:Bn.DELETE,action:ka(vh,e,!0)},{keyCode:Bn.BACKSPACE,action:ka(My,e,!1)},{keyCode:Bn.DELETE,action:ka(My,e,!0)}],a).each(function(i){a.preventDefault()})},sM=function(e,n){Iy([{keyCode:Bn.BACKSPACE,action:ka(WE,e)},{keyCode:Bn.DELETE,action:ka(WE,e)}],n)},cM=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&uM(e,n,a)}),e.on("keyup",function(a){a.isDefaultPrevented()===!1&&sM(e,a)})},zD=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},Ly=function(e,n){var a,i=n,s=e.dom,f=e.schema.getMoveCaretBeforeOnEnterElements();if(!!n){if(/^(LI|DT|DD)$/.test(n.nodeName)){var g=zD(n.firstChild);g&&/^(UL|OL|DL)$/.test(g.nodeName)&&n.insertBefore(s.doc.createTextNode(ui),n.firstChild)}var b=s.createRng();if(n.normalize(),n.hasChildNodes()){for(var y=new jo(n,n);a=y.current();){if(M(a)){b.setStart(a,0),b.setEnd(a,0);break}if(f[a.nodeName.toLowerCase()]){b.setStartBefore(a),b.setEndBefore(a);break}i=a,a=y.next()}a||(b.setStart(i,0),b.setEnd(i,0))}else Dt(n)?n.nextSibling&&s.isBlock(n.nextSibling)?(b.setStartBefore(n),b.setEndBefore(n)):(b.setStartAfter(n),b.setEndAfter(n)):(b.setStart(n,0),b.setEnd(n,0));e.selection.setRng(b),Wg(e,b)}},lM=function(e,n){var a=e.getRoot(),i,s;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(s=i),i=i.parentNode;return i!==a?s:a},ls=function(e){return z.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},fM=function(e){return ls(e).fold(We(""),function(n){return n.nodeName.toUpperCase()})},S3=function(e){return ls(e).filter(function(n){return au(L.fromDom(n))}).isSome()},LD=function(e,n){return e.firstChild&&e.firstChild.nodeName===n},T3=function(e){var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},HD=function(e,n){return e&&e.parentNode&&e.parentNode.nodeName===n},VD=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},UD=function(e){return VD(e)&&VD(e.parentNode)},bx=function(e){var n=e.parentNode;return/^(LI|DT|DD)$/.test(n.nodeName)?n:e},yx=function(e,n,a){for(var i=e[a?"firstChild":"lastChild"];i&&!Hr(i);)i=i[a?"nextSibling":"previousSibling"];return i===n},vM=function(e,n,a,i,s){var f=e.dom,g=e.selection.getRng();if(a!==e.getBody()){UD(a)&&(s="LI");var b=s?n(s):f.create("BR");if(yx(a,i,!0)&&yx(a,i,!1))if(HD(a,"LI")){var y=bx(a);f.insertAfter(b,y),T3(a)?f.remove(y):f.remove(a)}else f.replace(b,a);else if(yx(a,i,!0))HD(a,"LI")?(f.insertAfter(b,bx(a)),b.appendChild(f.doc.createTextNode(" ")),b.appendChild(a)):a.parentNode.insertBefore(b,a),f.remove(i);else if(yx(a,i,!1))f.insertAfter(b,bx(a)),f.remove(i);else{a=bx(a);var E=g.cloneRange();E.setStartAfter(i),E.setEndAfter(a);var P=E.extractContents();s==="LI"&&LD(P,"LI")?(b=P.firstChild,f.insertAfter(P,a)):(f.insertAfter(P,a),f.insertAfter(b,a)),f.remove(i)}Ly(e,b)}},dM=function(e){he(Pb(L.fromDom(e),Ao),function(n){var a=n.dom;a.nodeValue=ks(a.nodeValue)})},mM=function(e,n){return n&&n.nodeName==="A"&&e.isEmpty(n)},gM=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},k3=function(e){e.innerHTML='<br data-mce-bogus="1">'},E3=function(e,n){return e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n},WD=function(e,n){return n&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.getContentEditable(n)!=="true"},cu=function(e,n,a){var i=a,s=[],f;if(!!i){for(;i=i.firstChild;){if(e.isBlock(i))return;Hr(i)&&!n[i.nodeName.toLowerCase()]&&s.push(i)}for(f=s.length;f--;)i=s[f],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild.nodeValue===""||mM(e,i))&&e.remove(i)}},A3=function(e,n,a){return M(n)===!1?a:e?a===1&&n.data.charAt(a-1)===Pi?0:a:a===n.data.length-1&&n.data.charAt(a)===Pi?n.data.length:a},hM=function(e){var n=e.cloneRange();return n.setStart(e.startContainer,A3(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,A3(!1,e.endContainer,e.endOffset)),n},pM=function(e){do M(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},Hu=function(e,n){var a=e.getRoot(),i,s;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(s=i),i=i.parentNode;return i!==a?s:a},bM=function(e,n,a){var i=e.dom;z.from(a.style).map(i.parseStyle).each(function(y){var E=rf(L.fromDom(n)),P=Gn(Gn({},E),y);i.setStyles(n,P)});var s=z.from(a.class).map(function(y){return y.split(/\s+/)}),f=z.from(n.className).map(function(y){return St(y.split(/\s+/),function(E){return E!==""})});Mu(s,f,function(y,E){var P=St(E,function(N){return!Ue(y,N)}),R=mo(y,P);i.setAttrib(n,"class",R.join(" "))});var g=["style","class"],b=un(a,function(y,E){return!Ue(g,E)});i.setAttribs(n,b)},A1=function(e,n){var a=di(e);if(a&&a.toLowerCase()===n.tagName.toLowerCase()){var i=Sf(e);bM(e,n,i)}},$s=function(e,n,a,i,s){var f,g,b,y,E,P,R=n||"P",N=e.dom,X=Hu(N,i);if(g=N.getParent(i,N.isBlock),!g||!WD(N,g)){if(g=g||X,g===e.getBody()||gM(g)?P=g.nodeName.toLowerCase():P=g.parentNode.nodeName.toLowerCase(),!g.hasChildNodes())return f=N.create(R),A1(e,f),g.appendChild(f),a.setStart(f,0),a.setEnd(f,0),f;for(y=i;y.parentNode!==g;)y=y.parentNode;for(;y&&!N.isBlock(y);)b=y,y=y.previousSibling;if(b&&e.schema.isValidChild(P,R.toLowerCase())){for(f=N.create(R),A1(e,f),b.parentNode.insertBefore(f,b),y=b;y&&!N.isBlock(y);)E=y.nextSibling,f.appendChild(y),y=E;a.setStart(i,s),a.setEnd(i,s)}}return i},yM=function(e,n){n.normalize();var a=n.lastChild;(!a||/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(n,"br")},O1=function(e,n){var a,i,s,f,g,b,y,E,P,R,N=e.dom,X=e.schema,J=X.getNonEmptyElements(),Q=e.selection.getRng(),G=function(jt){var nn=i,Kn,er,Mt,Ar=X.getTextInlineElements();if(jt||E==="TABLE"||E==="HR"?Kn=N.create(jt||P):Kn=f.cloneNode(!1),Mt=Kn,qw(e)===!1)N.setAttrib(Kn,"style",null),N.setAttrib(Kn,"class",null);else do if(Ar[nn.nodeName]){if(Yc(nn)||$u(nn))continue;er=nn.cloneNode(!1),N.setAttrib(er,"id",""),Kn.hasChildNodes()?(er.appendChild(Kn.firstChild),Kn.appendChild(er)):(Mt=er,Kn.appendChild(er))}while((nn=nn.parentNode)&&nn!==Ve);return A1(e,Kn),k3(Mt),Kn},me=function(jt){var nn,Kn,er=A3(jt,i,s);if(M(i)&&(jt?er>0:er<i.nodeValue.length))return!1;if(i.parentNode===f&&R&&!jt||jt&&Hr(i)&&i===f.firstChild)return!0;if(E3(i,"TABLE")||E3(i,"HR"))return R&&!jt||!R&&jt;var Mt=new jo(i,f);for(M(i)&&(jt&&er===0?Mt.prev():!jt&&er===i.nodeValue.length&&Mt.next());nn=Mt.current();){if(Hr(nn)){if(!nn.getAttribute("data-mce-bogus")&&(Kn=nn.nodeName.toLowerCase(),J[Kn]&&Kn!=="br"))return!1}else if(M(nn)&&!cv(nn.nodeValue))return!1;jt?Mt.prev():Mt.next()}return!0},fe=function(){/^(H[1-6]|PRE|FIGURE)$/.test(E)&&Tt!=="HGROUP"?g=G(P):g=G(),FS(e)&&WD(N,y)&&N.isEmpty(f)?g=N.split(y,f):N.insertAfter(g,f),Ly(e,g)};$g(N,Q).each(function(jt){Q.setStart(jt.startContainer,jt.startOffset),Q.setEnd(jt.endContainer,jt.endOffset)}),i=Q.startContainer,s=Q.startOffset,P=di(e);var be=!!(n&&n.shiftKey),Te=!!(n&&n.ctrlKey);Hr(i)&&i.hasChildNodes()&&(R=s>i.childNodes.length-1,i=i.childNodes[Math.min(s,i.childNodes.length-1)]||i,R&&M(i)?s=i.nodeValue.length:s=0);var Ve=Hu(N,i);if(!!Ve){(P&&!be||!P&&be)&&(i=$s(e,P,Q,i,s)),f=N.getParent(i,N.isBlock),y=f?N.getParent(f.parentNode,N.isBlock):null,E=f?f.nodeName.toUpperCase():"";var Tt=y?y.nodeName.toUpperCase():"";if(Tt==="LI"&&!Te&&(f=y,y=y.parentNode,E=Tt),/^(LI|DT|DD)$/.test(E)&&N.isEmpty(f)){vM(e,G,y,f,P);return}P&&f===e.getBody()||(P=P||"P",wi(f)?(g=J1(f),N.isEmpty(f)&&k3(f),A1(e,g),Ly(e,g)):me()?fe():me(!0)?(g=f.parentNode.insertBefore(G(),f),Ly(e,E3(f,"HR")?g:f)):(a=hM(Q).cloneRange(),a.setEndAfter(f),b=a.extractContents(),dM(b),pM(b),g=b.firstChild,N.insertAfter(b,f),cu(N,J,g),yM(N,f),N.isEmpty(f)&&k3(f),g.normalize(),N.isEmpty(g)?(N.remove(g),fe()):(A1(e,g),Ly(e,g))),N.setAttrib(g,"id",""),e.fire("NewBlock",{newBlock:g}))}},wM=function(e,n,a){for(var i=new jo(n,a),s,f=e.getNonEmptyElements();s=i.next();)if(f[s.nodeName.toLowerCase()]||s.length>0)return!0},wx=function(e,n,a){var i=e.dom.createRng();a?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),Wg(e,i)},CM=function(e,n){var a=e.selection,i=e.dom,s=a.getRng(),f,g;$g(i,s).each(function(J){s.setStart(J.startContainer,J.startOffset),s.setEnd(J.endContainer,J.endOffset)});var b=s.startOffset,y=s.startContainer;if(y.nodeType===1&&y.hasChildNodes()){var E=b>y.childNodes.length-1;y=y.childNodes[Math.min(b,y.childNodes.length-1)]||y,E&&y.nodeType===3?b=y.nodeValue.length:b=0}var P=i.getParent(y,i.isBlock),R=P?i.getParent(P.parentNode,i.isBlock):null,N=R?R.nodeName.toUpperCase():"",X=!!(n&&n.ctrlKey);N==="LI"&&!X&&(P=R),y&&y.nodeType===3&&b>=y.nodeValue.length&&(wM(e.schema,y,P)||(f=i.create("br"),s.insertNode(f),s.setStartAfter(f),s.setEndAfter(f),g=!0)),f=i.create("br"),hg(i,s,f),wx(e,f,g),e.undoManager.add()},xM=function(e,n){var a=L.fromTag("br");Ya(L.fromDom(n),a),e.undoManager.add()},SM=function(e,n){kM(e.getBody(),n)||Vs(L.fromDom(n),L.fromTag("br"));var a=L.fromTag("br");Vs(L.fromDom(n),a),wx(e,a.dom,!1),e.undoManager.add()},TM=function(e){return Dt(e.getNode())},kM=function(e,n){return TM(gt.after(n))?!0:tc(e,gt.after(n)).map(function(a){return Dt(a.getNode())}).getOr(!1)},jD=function(e){return e&&e.nodeName==="A"&&"href"in e},Cx=function(e){return e.fold(hn,jD,jD,hn)},qD=function(e){var n=Xe(p1,e),a=gt.fromRangeStart(e.selection.getRng());return sl(n,e.getBody(),a).filter(Cx)},EM=function(e,n){n.fold(te,Xe(xM,e),Xe(SM,e),te)},GD=function(e,n){var a=qD(e);a.isSome()?a.each(Xe(EM,e)):CM(e,n)},KD=function(e,n){return ls(e).filter(function(a){return n.length>0&&_i(L.fromDom(a),n)}).isSome()},AM=function(e){return KD(e,jw(e))},OM=function(e){return KD(e,MS(e))},fs=xs.generate([{br:[]},{block:[]},{none:[]}]),XD=function(e,n){return OM(e)},xx=function(e){return function(n,a){var i=di(n)==="";return i===e}},O3=function(e){return function(n,a){return S3(n)===e}},YD=function(e,n){return function(a,i){var s=fM(a)===e.toUpperCase();return s===n}},Sx=function(e){return YD("pre",e)},DM=function(){return YD("summary",!0)},Tx=function(e){return function(n,a){return NS(n)===e}},_M=function(e,n){return AM(e)},Hy=function(e,n){return n},D3=function(e){var n=di(e),a=lM(e.dom,e.selection.getStart());return a&&e.schema.isValidChild(a.nodeName,n||"P")},Pc=function(e,n){return function(a,i){var s=Rn(e,function(f,g){return f&&g(a,i)},!0);return s?z.some(n):z.none()}},BM=function(e,n){return jO([Pc([XD],fs.none()),Pc([DM()],fs.br()),Pc([Sx(!0),Tx(!1),Hy],fs.br()),Pc([Sx(!0),Tx(!1)],fs.block()),Pc([Sx(!0),Tx(!0),Hy],fs.block()),Pc([Sx(!0),Tx(!0)],fs.br()),Pc([O3(!0),Hy],fs.br()),Pc([O3(!0)],fs.block()),Pc([xx(!0),Hy,D3],fs.block()),Pc([xx(!0)],fs.br()),Pc([_M],fs.br()),Pc([xx(!1),Hy],fs.br()),Pc([D3],fs.block())],[e,!!(n&&n.shiftKey)]).getOr(fs.none())},JD=function(e,n){BM(e,n).fold(function(){GD(e,n)},function(){O1(e,n)},te)},RM=function(e,n){n.isDefaultPrevented()||(n.preventDefault(),Qk(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),JD(e,n)}))},ZD=function(e){e.on("keydown",function(n){n.keyCode===Bn.ENTER&&RM(e,n)})},PM=function(e,n){Iy([{keyCode:Bn.END,action:ka(ED,e,!0)},{keyCode:Bn.HOME,action:ka(ED,e,!1)},{keyCode:Bn.END,action:ka(zy,e,!0)},{keyCode:Bn.HOME,action:ka(zy,e,!1)}],n).each(function(a){n.preventDefault()})},NM=function(e){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&PM(e,n)})},MM=la().browser,FM=function(e){var n=rp(function(){e.composing||ik(e)},0);MM.isIE()&&(e.on("keypress",function(a){n.throttle()}),e.on("remove",function(a){n.cancel()}))},QD=function(e){FM(e),e.on("input",function(n){n.isComposing===!1&&ik(e)})},Vy=function(e,n){var a=n.container(),i=n.offset();return M(a)?(a.insertData(i,e),z.some(gt(a,i+e.length))):Ag(n).map(function(s){var f=L.fromText(e);return n.isAtEnd()?Vs(s,f):Ya(s,f),gt(f.dom,e.length)})},e_=Xe(Vy,ui),t_=Xe(Vy," "),$M=function(e){return function(n){return n.fold(function(a){return Oc(e.dom,gt.before(a))},function(a){return Cu(a)},function(a){return Xc(a)},function(a){return tc(e.dom,gt.after(a))})}},IM=function(e,n){return function(a){return Qp(e,a)?e_(n):t_(n)}},_3=function(e){return function(n){return e.selection.setRng(n.toRange()),e.nodeChanged(),!0}},zM=function(e){var n=gt.fromRangeStart(e.selection.getRng()),a=L.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=Xe(p1,e),s=gt.fromRangeStart(e.selection.getRng());return sl(i,e.getBody(),s).bind($M(a)).bind(IM(a,n)).exists(_3(e))}else return!1},LM=function(e,n){Iy([{keyCode:Bn.SPACEBAR,action:ka(zM,e)}],n).each(function(a){n.preventDefault()})},HM=function(e){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&LM(e,n)})},VM=function(e){var n=n5(e);return E5(e),px(e,n),cM(e,n),ZD(e),HM(e),QD(e),NM(e),n},cl=function(e){return LC(e)?Ia(null):VM(e)},n_=function(){function e(n){this.lastPath=[],this.editor=n;var a,i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",function(s){var f=n.selection.getRng(),g={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(s.type==="nodechange"||!Fl(g,a))&&n.fire("SelectionChange"),a=g}),n.on("contextmenu",function(){n.fire("SelectionChange")}),n.on("SelectionChange",function(){var s=n.selection.getStart(!0);!s||!Ln.range&&n.selection.isCollapsed()||Bp(n)&&!i.isSameElementPath(s)&&n.dom.isChildOf(s,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",function(s){!s.isDefaultPrevented()&&Bp(n)&&(n.selection.getNode().nodeName==="IMG"?Lr.setEditorTimeout(n,function(){n.nodeChanged()}):n.nodeChanged())})}return e.prototype.nodeChanged=function(n){var a=this.editor.selection,i,s,f;this.editor.initialized&&a&&!s2(this.editor)&&!this.editor.mode.isReadOnly()&&(f=this.editor.getBody(),i=a.getStart(!0)||f,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,f))&&(i=f),s=[],this.editor.dom.getParent(i,function(g){if(g===f)return!0;s.push(g)}),n=n||{},n.element=i,n.parents=s,this.editor.fire("NodeChange",n))},e.prototype.isSameElementPath=function(n){var a,i=this.editor.$(n).parentsUntil(this.editor.getBody()).add(n);if(i.length===this.lastPath.length){for(a=i.length;a>=0&&i[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=i,!0}return this.lastPath=i,!1},e}(),r_=function(e){e.on("click",function(n){e.dom.getParent(n.target,"details")&&n.preventDefault()})},UM=function(e){e.parser.addNodeFilter("details",function(n){he(n,function(a){a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",function(n){he(n,function(a){var i=a.attr("data-mce-open");a.attr("open",jn(i)?i:null),a.attr("data-mce-open",null)})})},WM=function(e){r_(e),UM(e)},a_=function(e){return Hr(e)&&ov(L.fromDom(e))},jM=function(e){var n=e.selection.getRng(),a=gt.fromRangeStart(n),i=gt.fromRangeEnd(n);if(gt.isElementPosition(a)){var s=a.container();a_(s)&&Cu(s).each(function(f){return n.setStart(f.container(),f.offset())})}if(gt.isElementPosition(i)){var s=a.container();a_(s)&&Xc(s).each(function(g){return n.setEnd(g.container(),g.offset())})}e.selection.setRng(pk(n))},qM=function(e){e.on("click",function(n){n.detail>=3&&jM(e)})},GM=function(){var e=Ia(z.none()),n=function(){return e.set(z.none())},a=function(f){return e.set(z.some(f))},i=function(){return e.get().isSome()},s=function(f){return e.get().each(f)};return{clear:n,set:a,isSet:i,on:s}},o_=function(e){var n=e.getBoundingClientRect(),a=e.ownerDocument,i=a.documentElement,s=a.defaultView;return{top:n.top+s.pageYOffset-i.clientTop,left:n.left+s.pageXOffset-i.clientLeft}},B3=function(e){return e.inline?o_(e.getBody()):{left:0,top:0}},KM=function(e){var n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},XM=function(e){var n=e.getBody(),a=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},s={left:n.scrollLeft||a.scrollLeft,top:n.scrollTop||a.scrollTop};return e.inline?i:s},i_=function(e,n){if(n.target.ownerDocument!==e.getDoc()){var a=o_(e.getContentAreaContainer()),i=XM(e);return{left:n.pageX-a.left+i.left,top:n.pageY-a.top+i.top}}return{left:n.pageX,top:n.pageY}},YM=function(e,n,a){return{pageX:a.left-e.left+n.left,pageY:a.top-e.top+n.top}},JM=function(e,n){return YM(B3(e),KM(e),i_(e,n))},kx=_r,ZM=Rr,QM=function(e,n){return kx(n)&&n!==e},eF=function(e,n,a){return n===a||e.dom.isChildOf(n,a)?!1:!kx(n)},R3=function(e){var n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},tF=function(e,n,a,i){var s=e.dom,f=n.cloneNode(!0);s.setStyles(f,{width:a,height:i}),s.setAttrib(f,"data-mce-selected",null);var g=s.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return s.setStyles(g,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:i}),s.setStyles(f,{margin:0,boxSizing:"border-box"}),g.appendChild(f),g},u_=function(e,n){e.parentNode!==n&&n.appendChild(e)},nF=function(e,n,a,i,s,f){var g=0,b=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+a>s&&(g=n.pageX+a-s),n.pageY+i>f&&(b=n.pageY+i-f),e.style.width=a-g+"px",e.style.height=i-b+"px"},s_=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},rF=function(e){return e.button===0},aF=function(e,n){return{pageX:n.pageX-e.relX,pageY:n.pageY+5}},Ei=function(e,n){return function(a){if(rF(a)){var i=Ir(n.dom.getParents(a.target),Ub(kx,ZM)).getOr(null);if(QM(n.getBody(),i)){var s=n.dom.getPos(i),f=n.getBody(),g=n.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(n.inline?f.scrollWidth:g.offsetWidth)-2,maxY:(n.inline?f.scrollHeight:g.offsetHeight)-2,relX:a.pageX-s.x,relY:a.pageY-s.y,width:i.offsetWidth,height:i.offsetHeight,ghost:tF(n,i,i.offsetWidth,i.offsetHeight)})}}}},oF=function(e,n){var a=Lr.throttle(function(i,s){n._selectionOverrides.hideFakeCaret(),n.selection.placeCaretAt(i,s)},0);return n.on("remove",a.stop),function(i){return e.on(function(s){var f=Math.max(Math.abs(i.screenX-s.screenX),Math.abs(i.screenY-s.screenY));if(!s.dragging&&f>10){var g=n.fire("dragstart",{target:s.element});if(g.isDefaultPrevented())return;s.dragging=!0,n.focus()}if(s.dragging){var b=aF(s,JM(n,i));u_(s.ghost,n.getBody()),nF(s.ghost,b,s.width,s.height,s.maxX,s.maxY),a(i.clientX,i.clientY)}})}},iF=function(e){var n=e.getSel().getRangeAt(0),a=n.startContainer;return a.nodeType===3?a.parentNode:a},uF=function(e,n){return function(a){e.on(function(i){if(i.dragging&&eF(n,iF(n.selection),i.element)){var s=R3(i.element),f=n.fire("drop",{clientX:a.clientX,clientY:a.clientY});f.isDefaultPrevented()||n.undoManager.transact(function(){s_(i.element),n.insertContent(n.dom.getOuterHTML(s)),n._selectionOverrides.hideFakeCaret()})}}),Ex(e)}},c_=function(e,n){return function(){e.on(function(a){a.dragging&&n.fire("dragend")}),Ex(e)}},Ex=function(e){e.on(function(n){s_(n.ghost)}),e.clear()},sF=function(e){var n=GM(),a=Ja.DOM,i=document,s=Ei(n,e),f=oF(n,e),g=uF(n,e),b=c_(n,e);e.on("mousedown",s),e.on("mousemove",f),e.on("mouseup",g),a.bind(i,"mousemove",f),a.bind(i,"mouseup",b),e.on("remove",function(){a.unbind(i,"mousemove",f),a.unbind(i,"mouseup",b)})},cF=function(e){e.on("drop",function(n){var a=typeof n.clientX!="undefined"?e.getDoc().elementFromPoint(n.clientX,n.clientY):null;(kx(a)||e.dom.getContentEditableParent(a)==="false")&&n.preventDefault()})},lF=function(e){var n=function(s){if(!s.isDefaultPrevented()){var f=s.dataTransfer;f&&(Ue(f.types,"Files")||f.files.length>0)&&(s.preventDefault(),s.type==="drop"&&KC(e,"Dropped file type is not supported"))}},a=function(s){Xg(e,s.target)&&n(s)},i=function(){var s=Ja.DOM,f=e.dom,g=document,b=e.inline?e.getBody():e.getDoc(),y=["drop","dragover"];he(y,function(E){s.bind(g,E,a),f.bind(b,E,n)}),e.on("remove",function(){he(y,function(E){s.unbind(g,E,a),f.unbind(b,E,n)})})};e.on("init",function(){Lr.setEditorTimeout(e,i,0)})},fF=function(e){sF(e),cF(e),Tf(e)&&lF(e)},vF=function(e){var n=rp(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var a=e.selection.getRng();if(a.collapsed){var i=LE(e,a,!1);e.selection.setRng(i)}}},0);e.on("focus",function(){n.throttle()}),e.on("blur",function(){n.cancel()})},dF=function(e){e.on("init",function(){e.on("focusin",function(n){var a=n.target;if(Vr(a)){var i=Wv(e.getBody(),a),s=_r(i)?i:a;e.selection.getNode()!==s&&y1(e,s).each(function(f){return e.selection.setRng(f)})}})})},l_=Rr,ph=_r,Ax=function(e,n){return Wv(e.getBody(),n)},mF=function(e){var n=e.selection,a=e.dom,i=a.isBlock,s=e.getBody(),f=rm(e,s,i,function(){return Qv(e)}),g="sel-"+a.uniqueId(),b="data-mce-selected",y,E=function(Mt){return a.hasClass(Mt,"mce-offscreen-selection")},P=function(Mt){return Mt!==s&&(ph(Mt)||Vr(Mt))&&a.isChildOf(Mt,s)},R=function(Mt){return xt(Mt)||Ot(Mt)||H(Mt)||se(Mt)},N=function(){var Mt=a.get(g);return Mt&&Mt.getElementsByTagName("*")[0]},X=function(Mt){Mt&&n.setRng(Mt)},J=n.getRng,Q=function(Mt,Ar,Cn,Yn){Yn===void 0&&(Yn=!0);var en=e.fire("ShowCaret",{target:Ar,direction:Mt,before:Cn});return en.isDefaultPrevented()?null:(Yn&&n.scrollIntoView(Ar,Mt===-1),f.show(Cn,Ar))},G=function(Mt){Mt.hasAttribute("data-mce-caret")&&(J1(Mt),X(J()),n.scrollIntoView(Mt))},me=function(){e.on("mouseup",function(en){var En=J();En.collapsed&&oO(e,en.clientX,en.clientY)&&RO(e,En,!1).each(X)}),e.on("click",function(en){var En=Ax(e,en.target);En&&(ph(En)&&(en.preventDefault(),e.focus()),l_(En)&&a.isChildOf(En,n.getNode())&&nn())}),e.on("blur NewBlock",nn),e.on("ResizeWindow FullscreenStateChanged",f.reposition);var Mt=function(en){var En=Ac(en);if(!en.firstChild)return!1;var Hn=gt.before(en.firstChild),Ht=En.next(Hn);return Ht&&!R(Ht)},Ar=function(en,En){var Hn=a.getParent(en,i),Ht=a.getParent(En,i);return Hn===Ht},Cn=function(en,En){var Hn=a.getParent(en,i),Ht=a.getParent(En,i);return Hn&&en!==Ht&&a.isChildOf(Hn,Ht)&&ph(Ax(e,Hn))===!1?!0:Hn&&!Ar(Hn,Ht)&&Mt(Hn)};e.on("tap",function(en){var En=en.target,Hn=Ax(e,En);ph(Hn)?(en.preventDefault(),y1(e,Hn).each(jt)):P(En)&&y1(e,En).each(jt)},!0),e.on("mousedown",function(en){var En=en.target;if(!(En!==s&&En.nodeName!=="HTML"&&!a.isChildOf(En,s))&&oO(e,en.clientX,en.clientY)!==!1){var Hn=Ax(e,En);if(Hn)ph(Hn)?(en.preventDefault(),y1(e,Hn).each(jt)):(nn(),!(l_(Hn)&&en.shiftKey)&&!Fg(en.clientX,en.clientY,n.getRng())&&(er(),n.placeCaretAt(en.clientX,en.clientY)));else if(P(En))y1(e,En).each(jt);else if(Rl(En)===!1){nn(),er();var Ht=s3(s,en.clientX,en.clientY);if(Ht&&!Cn(En,Ht.node)){en.preventDefault();var Un=Q(1,Ht.node,Ht.before,!1);e.getBody().focus(),X(Un)}}}}),e.on("keypress",function(en){Bn.modifierPressed(en)||ph(n.getNode())&&en.preventDefault()}),e.on("GetSelectionRange",function(en){var En=en.range;if(y){if(!y.parentNode){y=null;return}En=En.cloneRange(),En.selectNode(y),en.range=En}}),e.on("SetSelectionRange",function(en){en.range=Te(en.range);var En=jt(en.range,en.forward);En&&(en.range=En)});var Yn=function(en){return en.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(en){var En=en.range,Hn=En.startContainer.parentNode;!be(En)&&!Yn(Hn)&&er(),E(Hn)||nn()}),e.on("copy",function(en){var En=en.clipboardData;if(!en.isDefaultPrevented()&&en.clipboardData&&!Ln.ie){var Hn=N();Hn&&(en.preventDefault(),En.clearData(),En.setData("text/html",Hn.outerHTML),En.setData("text/plain",Hn.outerText||Hn.innerText))}}),fF(e),vF(e),dF(e)},fe=function(Mt){return gu(Mt)||Fh(Mt)||qo(Mt)},be=function(Mt){return fe(Mt.startContainer)||fe(Mt.endContainer)},Te=function(Mt){var Ar=e.schema.getShortEndedElements(),Cn=a.createRng(),Yn=Mt.startContainer,en=Mt.startOffset,En=Mt.endContainer,Hn=Mt.endOffset;return kr(Ar,Yn.nodeName.toLowerCase())?en===0?Cn.setStartBefore(Yn):Cn.setStartAfter(Yn):Cn.setStart(Yn,en),kr(Ar,En.nodeName.toLowerCase())?Hn===0?Cn.setEndBefore(En):Cn.setEndAfter(En):Cn.setEnd(En,Hn),Cn},Ve=function(Mt,Ar,Cn){var Yn=e.$,en=Tl(L.fromDom(e.getBody()),"#"+g).fold(function(){return Yn([])},function(Ht){return Yn([Ht.dom])});en.length===0&&(en=Yn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",g),en.appendTo(e.getBody()));var En=a.createRng();Ar===Cn&&Ln.ie?(en.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xA0</p>').append(Ar),En.setStartAfter(en[0].firstChild.firstChild),En.setEndAfter(Ar)):(en.empty().append(ui).append(Ar).append(ui),En.setStart(en[0].firstChild,1),En.setEnd(en[0].lastChild,0)),en.css({top:a.getPos(Mt,e.getBody()).y}),en[0].focus();var Hn=n.getSel();return Hn.removeAllRanges(),Hn.addRange(En),En},Tt=function(Mt){var Ar=Mt.cloneNode(!0),Cn=e.fire("ObjectSelected",{target:Mt,targetClone:Ar});if(Cn.isDefaultPrevented())return null;var Yn=Ve(Mt,Cn.targetClone,Ar),en=L.fromDom(Mt);return he(yu(L.fromDom(e.getBody()),"*[data-mce-selected]"),function(En){xr(en,En)||mu(En,b)}),a.getAttrib(Mt,b)||Mt.setAttribute(b,"1"),y=Mt,er(),Yn},jt=function(Mt,Ar){if(!Mt)return null;if(Mt.collapsed){if(!be(Mt)){var Cn=Ar?1:-1,Yn=Mv(Cn,s,Mt),en=Yn.getNode(!Ar);if(Rl(en))return Q(Cn,en,Ar?!Yn.isAtEnd():!1,!1);var En=Yn.getNode(Ar);if(Rl(En))return Q(Cn,En,Ar?!1:!Yn.isAtEnd(),!1)}return null}var Hn=Mt.startContainer,Ht=Mt.startOffset,Un=Mt.endOffset;if(Hn.nodeType===3&&Ht===0&&ph(Hn.parentNode)&&(Hn=Hn.parentNode,Ht=a.nodeIndex(Hn),Hn=Hn.parentNode),Hn.nodeType!==1)return null;if(Un===Ht+1&&Hn===Mt.endContainer){var pa=Hn.childNodes[Ht];if(P(pa))return Tt(pa)}return null},nn=function(){y&&y.removeAttribute(b),Tl(L.fromDom(e.getBody()),"#"+g).each(Zo),y=null},Kn=function(){f.destroy(),y=null},er=function(){f.hide()};return Ln.ceFalse&&me(),{showCaret:Q,showBlockCaretContainer:G,hideFakeCaret:er,destroy:Kn}},gF=function(e){var n=dt.each,a=Bn.BACKSPACE,i=Bn.DELETE,s=e.dom,f=e.selection,g=e.parser,b=Ln.gecko,y=Ln.ie,E=Ln.webkit,P="data:text/mce-internal,",R=y?"Text":"URL",N=function(Wn,Xn){try{e.getDoc().execCommand(Wn,!1,Xn)}catch{}},X=function(Wn){return Wn.isDefaultPrevented()},J=function(Wn){var Xn,An;Wn.dataTransfer&&(e.selection.isCollapsed()&&Wn.target.tagName==="IMG"&&f.select(Wn.target),Xn=e.selection.getContent(),Xn.length>0&&(An=P+escape(e.id)+","+escape(Xn),Wn.dataTransfer.setData(R,An)))},Q=function(Wn){var Xn;return Wn.dataTransfer&&(Xn=Wn.dataTransfer.getData(R),Xn&&Xn.indexOf(P)>=0)?(Xn=Xn.substr(P.length).split(","),{id:unescape(Xn[0]),html:unescape(Xn[1])}):null},G=function(Wn,Xn){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:Wn,internal:Xn}):e.execCommand("mceInsertContent",!1,Wn)},me=function(){var Wn=function(An){var ln=s.create("body"),ot=An.cloneContents();return ln.appendChild(ot),f.serializer.serialize(ln,{format:"html"})},Xn=function(An){var ln=Wn(An),ot=s.createRng();ot.selectNode(e.getBody());var sn=Wn(ot);return ln===sn};e.on("keydown",function(An){var ln=An.keyCode,ot,sn;if(!X(An)&&(ln===i||ln===a)){if(ot=e.selection.isCollapsed(),sn=e.getBody(),ot&&!s.isEmpty(sn)||!ot&&!Xn(e.selection.getRng()))return;An.preventDefault(),e.setContent(""),sn.firstChild&&s.isBlock(sn.firstChild)?e.selection.setCursorLocation(sn.firstChild,0):e.selection.setCursorLocation(sn,0),e.nodeChanged()}})},fe=function(){e.shortcuts.add("meta+a",null,"SelectAll")},be=function(){e.inline||s.bind(e.getDoc(),"mousedown mouseup",function(Wn){var Xn;if(Wn.target===e.getDoc().documentElement)if(Xn=f.getRng(),e.getBody().focus(),Wn.type==="mousedown"){if(gu(Xn.startContainer))return;f.placeCaretAt(Wn.clientX,Wn.clientY)}else f.setRng(Xn)})},Te=function(){e.on("keydown",function(Wn){if(!X(Wn)&&Wn.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){var Xn=f.getNode(),An=Xn.previousSibling;if(Xn.nodeName==="HR"){s.remove(Xn),Wn.preventDefault();return}An&&An.nodeName&&An.nodeName.toLowerCase()==="hr"&&(s.remove(An),Wn.preventDefault())}}})},Ve=function(){Range.prototype.getClientRects||e.on("mousedown",function(Wn){if(!X(Wn)&&Wn.target.nodeName==="HTML"){var Xn=e.getBody();Xn.blur(),Lr.setEditorTimeout(e,function(){Xn.focus()})}})},Tt=function(){e.on("click",function(Wn){var Xn=Wn.target;/^(IMG|HR)$/.test(Xn.nodeName)&&s.getContentEditableParent(Xn)!=="false"&&(Wn.preventDefault(),e.selection.select(Xn),e.nodeChanged()),Xn.nodeName==="A"&&s.hasClass(Xn,"mce-item-anchor")&&(Wn.preventDefault(),f.select(Xn))})},jt=function(){var Wn=function(){var An=s.getAttribs(f.getStart().cloneNode(!1));return function(){var ln=f.getStart();ln!==e.getBody()&&(s.setAttrib(ln,"style",null),n(An,function(ot){ln.setAttributeNode(ot.cloneNode(!0))}))}},Xn=function(){return!f.isCollapsed()&&s.getParent(f.getStart(),s.isBlock)!==s.getParent(f.getEnd(),s.isBlock)};e.on("keypress",function(An){var ln;if(!X(An)&&(An.keyCode===8||An.keyCode===46)&&Xn())return ln=Wn(),e.getDoc().execCommand("delete",!1,null),ln(),An.preventDefault(),!1}),s.bind(e.getDoc(),"cut",function(An){var ln;!X(An)&&Xn()&&(ln=Wn(),Lr.setEditorTimeout(e,function(){ln()}))})},nn=function(){e.on("keydown",function(Wn){if(!X(Wn)&&Wn.keyCode===a&&f.isCollapsed()&&f.getRng().startOffset===0){var Xn=f.getNode().previousSibling;if(Xn&&Xn.nodeName&&Xn.nodeName.toLowerCase()==="table")return Wn.preventDefault(),!1}})},Kn=function(){e.on("keydown",function(Wn){var Xn,An;if(!(X(Wn)||Wn.keyCode!==Bn.BACKSPACE)){Xn=f.getRng();var ln=Xn.startContainer,ot=Xn.startOffset,sn=s.getRoot();if(An=ln,!(!Xn.collapsed||ot!==0)){for(;An&&An.parentNode&&An.parentNode.firstChild===An&&An.parentNode!==sn;)An=An.parentNode;An.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,An),Xn=s.createRng(),Xn.setStart(ln,0),Xn.setEnd(ln,0),f.setRng(Xn))}}})},er=function(){var Wn=function(){N("StyleWithCSS",!1),N("enableInlineTableEditing",!1),t2(e)||N("enableObjectResizing",!1)};c2(e)||e.on("BeforeExecCommand mousedown",Wn)},Mt=function(){var Wn=function(){n(s.select("a"),function(Xn){var An=Xn.parentNode,ln=s.getRoot();if(An.lastChild===Xn){for(;An&&!s.isBlock(An);){if(An.parentNode.lastChild!==An||An===ln)return;An=An.parentNode}s.add(An,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(Xn){(Xn.type==="setcontent"||Xn.command==="mceInsertLink")&&Wn()})},Ar=function(){di(e)&&e.on("init",function(){N("DefaultParagraphSeparator",di(e))})},Cn=function(){e.on("keyup focusin mouseup",function(Wn){Bn.modifierPressed(Wn)||f.normalize()},!0)},Yn=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},en=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},En=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(Wn){var Xn;if(Wn.target.nodeName==="HTML"){if(Ln.ie>11){e.getBody().focus();return}Xn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Xn),e.selection.normalize(),e.nodeChanged()}}))},Hn=function(){Ln.mac&&e.on("keydown",function(Wn){if(Bn.metaKeyPressed(Wn)&&!Wn.shiftKey&&(Wn.keyCode===37||Wn.keyCode===39)){Wn.preventDefault();var Xn=e.selection.getSel();Xn.modify("move",Wn.keyCode===37?"backward":"forward","lineboundary")}})},Ht=function(){N("AutoUrlDetect",!1)},Un=function(){e.on("click",function(Wn){var Xn=Wn.target;do if(Xn.tagName==="A"){Wn.preventDefault();return}while(Xn=Xn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},pa=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(Wn){Wn.preventDefault()})})},eo=function(){g.addNodeFilter("br",function(Wn){for(var Xn=Wn.length;Xn--;)Wn[Xn].attr("class")==="Apple-interchange-newline"&&Wn[Xn].remove()})},La=function(){e.on("dragstart",function(Wn){J(Wn)}),e.on("drop",function(Wn){if(!X(Wn)){var Xn=Q(Wn);if(Xn&&Xn.id!==e.id){Wn.preventDefault();var An=jv(Wn.x,Wn.y,e.getDoc());f.setRng(An),G(Xn.html,!0)}}})},_o=te,ni=function(){if(!b||e.removed)return!1;var Wn=e.selection.getSel();return!Wn||!Wn.rangeCount||Wn.rangeCount===0};return Kn(),me(),Ln.windowsPhone||Cn(),E&&(be(),Tt(),Ar(),pa(),nn(),eo(),Ln.iOS?(en(),En(),Un()):fe()),Ln.ie>=11&&(En(),nn()),Ln.ie&&(fe(),Ht(),La()),b&&(Te(),Ve(),jt(),er(),Mt(),Yn(),Hn(),nn()),{refreshContentEditable:_o,isHidden:ni}},P3=Ja.DOM,hF=function(e,n){var a=L.fromDom(e.getBody()),i=wd(Au(a)),s=L.fromTag("style");Us(s,"type","text/css"),Jo(s,L.fromText(n)),Jo(i,s),e.on("remove",function(){Zo(s)})},pF=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},f_=function(e){return un(e,function(n){return yr(n)===!1})},N3=function(e){var n=e.settings,a=e.editorUpload.blobCache;return f_({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:pF(e),validate:!0,blob_cache:a,images_dataimg_filter:n.images_dataimg_filter})},bF=function(e){var n=e.settings;return Gn(Gn({},N3(e)),f_({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope,element_format:n.element_format,entities:n.entities,entity_encoding:n.entity_encoding,indent:n.indent,indent_after:n.indent_after,indent_before:n.indent_before,block_elements:n.block_elements,boolean_attributes:n.boolean_attributes,custom_elements:n.custom_elements,extended_valid_elements:n.extended_valid_elements,invalid_elements:n.invalid_elements,invalid_styles:n.invalid_styles,move_caret_before_on_enter_elements:n.move_caret_before_on_enter_elements,non_empty_elements:n.non_empty_elements,schema:n.schema,self_closing_elements:n.self_closing_elements,short_ended_elements:n.short_ended_elements,special:n.special,text_block_elements:n.text_block_elements,text_inline_elements:n.text_inline_elements,valid_children:n.valid_children,valid_classes:n.valid_classes,valid_elements:n.valid_elements,valid_styles:n.valid_styles,verify_html:n.verify_html,whitespace_elements:n.whitespace_elements}))},yF=function(e){var n=WC(N3(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",function(a,i){for(var s=a.length,f,g,b=e.dom,y="data-mce-"+i;s--;)if(f=a[s],g=f.attr(i),g&&!f.attr(y)){if(g.indexOf("data:")===0||g.indexOf("blob:")===0)continue;i==="style"?(g=b.serializeStyle(b.parseStyle(g),f.name),g.length||(g=null),f.attr(y,g),f.attr(i,g)):i==="tabindex"?(f.attr(y,g),f.attr(i,null)):f.attr(y,e.convertURL(g,i,f.name))}}),n.addNodeFilter("script",function(a){for(var i=a.length;i--;){var s=a[i],f=s.attr("type")||"no/type";f.indexOf("mce-")!==0&&s.attr("type","mce-"+f)}}),e.settings.preserve_cdata&&n.addNodeFilter("#cdata",function(a){for(var i=a.length;i--;){var s=a[i];s.type=8,s.name="#comment",s.value="[CDATA["+e.dom.encode(s.value)+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var i=a.length,s=e.schema.getNonEmptyElements();i--;){var f=a[i];f.isEmpty(s)&&f.getAll("br").length===0&&(f.append(new rc("br",1)).shortEnded=!0)}}),n},wF=function(e){e.settings.auto_focus&&Lr.setEditorTimeout(e,function(){var n;e.settings.auto_focus===!0?n=e:n=e.editorManager.get(e.settings.auto_focus),n.destroyed||n.focus()},100)},CF=function(e){var n=e.dom.getRoot();!e.inline&&(!Bp(e)||e.selection.getStart(!0)===n)&&Cu(n).each(function(a){var i=a.getNode(),s=nf(i)?Cu(i).getOr(a):a;Ln.browser.isIE()?J2(e,s.toRange()):e.selection.setRng(s.toRange())})},v_=function(e){e.bindPendingEventDelegates(),e.initialized=!0,P0(e),e.focus(!0),CF(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),wF(e)},d_=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},m_=function(e,n,a){var i=[new Fo(function(s,f){return d_(e).loadAll(n,s,f)})];return e.inline?i:i.concat([new Fo(function(s,f){return e.ui.styleSheetLoader.loadAll(a,s,f)})])},g_=function(e,n){var a=d_(e),i=t0(e),s=function(){a.unloadAll(n),e.inline||e.ui.styleSheetLoader.unloadAll(i)},f=function(){e.removed?s():(e.on("remove",s),v_(e))};Fo.all(m_(e,n,i)).then(f).catch(f)},Ox=function(e,n){var a=e.settings,i=e.getDoc(),s=e.getBody();!a.browser_spellcheck&&!a.gecko_spellcheck&&(i.body.spellcheck=!1,P3.setAttrib(s,"spellcheck","false")),e.quirks=gF(e),ST(e);var f=Qw(e);if(f!==void 0&&(s.dir=f),a.protect&&e.on("BeforeSetContent",function(b){dt.each(a.protect,function(y){b.content=b.content.replace(y,function(E){return"<!--mce:protected "+escape(E)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),n===!1&&e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(b){e.composing=b.type==="compositionstart"}),e.contentStyles.length>0){var g="";dt.each(e.contentStyles,function(b){g+=b+`\r
`}),e.dom.addStyle(g)}g_(e,e.contentCSS),a.content_style&&hF(e,a.content_style)},M3=function(e,n){var a=e.settings,i=e.getElement(),s=e.getDoc();a.inline||(e.getElement().style.visibility=e.orgVisibility),!n&&!e.inline&&(s.open(),s.write(e.iframeHTML),s.close()),e.inline&&(P3.addClass(i,"mce-content-body"),e.contentDocument=s=document,e.contentWindow=window,e.bodyElement=i,e.contentAreaContainer=i);var f=e.getBody();f.disabled=!0,e.readonly=!!a.readonly,e.readonly||(e.inline&&P3.getStyle(f,"position",!0)==="static"&&(f.style.position="relative"),f.contentEditable=e.getParam("content_editable_state",!0)),f.disabled=!1,e.editorUpload=_E(e),e.schema=lf(a),e.dom=Ja(s,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:a.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:HS(e),referrerPolicy:Bv(e),onSetAttrib:function(b){e.fire("SetAttrib",b)}}),e.parser=yF(e),e.serializer=mE(bF(e),e),e.selection=L4(e.dom,e.getWin(),e.serializer,e),e.annotator=vm(e),e.formatter=BE(e),e.undoManager=bO(e),e._nodeChangeDispatcher=new n_(e),e._selectionOverrides=mF(e),y5(e),WM(e),LC(e)||qM(e);var g=cl(e);h5(e,g),x5(e),Tm(e),M2(e),rP(e).fold(function(){Ox(e,!1)},function(b){e.setProgressState(!0),b.then(function(y){e.setProgressState(!1),Ox(e,y)},function(y){e.notificationManager.open({type:"error",text:String(y)}),Ox(e,!0)})})},Uy=Ja.DOM,xF=function(e,n){if(document.domain!==window.location.hostname&&Ln.browser.isIE()){var a=dO("mce");e[a]=function(){M3(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+a+"(true);})()";return Uy.setAttrib(n,"src",i),!0}return!1},h_=function(e,n,a,i){var s=L.fromTag("iframe");return mc(s,i),mc(s,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),fg(s,"tox-edit-area__iframe"),s},SF=function(e){var n=vp(e)+"<html><head>";RS(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var a=PS(e),i=xf(e);return yg(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+yg(e)+'" />'),n+='</head><body id="'+a+'" class="mce-content-body '+i+'" data-id="'+e.id+'"><br></body></html>',n},TF=function(e,n){var a=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),i=h_(e.id,a,n.height,Ww(e)).dom;i.onload=function(){i.onload=null,e.fire("load")};var s=xF(e,i);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=i,e.iframeHTML=SF(e),Uy.add(n.iframeContainer,i),s},p_=function(e,n){var a=TF(e,n);n.editorContainer&&(Uy.get(n.editorContainer).style.display=e.orgDisplay,e.hidden=Uy.isHidden(n.editorContainer)),e.getElement().style.display="none",Uy.setAttrib(e.id,"aria-hidden","true"),a||M3(e)},b_=Ja.DOM,y_=function(e,n,a){var i=rl.get(a),s=rl.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=dt.trim(a),i&&dt.inArray(n,a)===-1){if(dt.each(rl.dependencies(a),function(g){y_(e,n,g)}),e.plugins[a])return;try{var f=new i(e,s,e.$);e.plugins[a]=f,f.init&&(f.init(e,s),n.push(a))}catch(g){mN(e,a,g)}}},F3=function(e){return e.replace(/^\-/,"")},kF=function(e){var n=[];dt.each(dp(e).split(/[ ,]/),function(a){y_(e,n,F3(a))})},EF=function(e){var n=dt.trim(Kw(e)),a=e.ui.registry.getAll().icons,i=Gn(Gn({},Sm.get("default").icons),Sm.get(n).icons);Or(i,function(s,f){kr(a,f)||e.ui.registry.addIcon(f,s)})},AF=function(e){var n=Cg(e);if(jn(n)){e.settings.theme=F3(n);var a=sd.get(n);e.theme=new a(e,sd.urls[n]),e.theme.init&&e.theme.init(e,sd.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},w_=function(e){return e.theme.renderUI()},C_=function(e){var n=e.getElement(),a=Cg(e),i=a(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},x_=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},OF=function(e){var n=b_.create("div");return b_.insertAfter(n,e),x_(n)},DF=function(e){var n=e.getElement();return e.inline?x_(null):OF(n)},_F=function(e){var n=e.getElement();return e.orgDisplay=n.style.display,jn(Cg(e))?w_(e):kt(Cg(e))?C_(e):DF(e)},BF=function(e,n){var a={show:z.from(n.show).getOr(te),hide:z.from(n.hide).getOr(te),disable:z.from(n.disable).getOr(te),isDisabled:z.from(n.isDisabled).getOr(hn),enable:function(){e.mode.isReadOnly()||z.from(n.enable).map(Pn)}};e.ui=Gn(Gn({},e.ui),a)},S_=function(e){e.fire("ScriptsLoaded"),EF(e),AF(e),kF(e);var n=_F(e);BF(e,z.from(n.api).getOr({}));var a={editorContainer:n.editorContainer,iframeContainer:n.iframeContainer};return e.editorContainer=a.editorContainer?a.editorContainer:null,fO(e),e.inline?M3(e):p_(e,a)},bh=Ja.DOM,T_=function(e){return e.charAt(0)==="-"},RF=function(e,n){var a=e0(n),i=VS(n);if(Rs.hasCode(a)===!1&&a!=="en"){var s=i!==""?i:n.editorManager.baseURL+"/langs/"+a+".js";e.add(s,te,void 0,function(){dN(n,s,a)})}},PF=function(e,n,a,i){var s=Cg(n);if(jn(s)){if(!T_(s)&&!sd.urls.hasOwnProperty(s)){var f=i2(n);f?sd.load(s,n.documentBaseURI.toAbsolute(f)):sd.load(s,"themes/"+s+"/theme"+a+".js")}e.loadQueue(function(){sd.waitFor(s,i)})}else i()},Dx=function(e){return z.from(Xw(e)).filter(function(n){return n.length>0}).map(function(n){return{url:n,name:z.none()}})},$3=function(e,n,a){return z.from(n).filter(function(i){return i.length>0&&!Sm.has(i)}).map(function(i){return{url:e.editorManager.baseURL+"/icons/"+i+"/icons"+a+".js",name:z.some(i)}})},k_=function(e,n,a){var i=$3(n,"default",a),s=Dx(n).orThunk(function(){return $3(n,Kw(n),"")});he(kS([i,s]),function(f){e.add(f.url,te,void 0,function(){vN(n,f.url,f.name.getOrUndefined())})})},NF=function(e,n){dt.each(ec(e),function(a,i){rl.load(i,a,te,void 0,function(){kE(e,a,i)}),e.settings.plugins+=" "+i}),dt.each(dp(e).split(/[ ,]/),function(a){if(a=dt.trim(a),a&&!rl.urls[a])if(T_(a)){a=a.substr(1,a.length);var i=rl.dependencies(a);dt.each(i,function(f){var g={prefix:"plugins/",resource:f,suffix:"/plugin"+n+".js"},b=rl.createUrl(g,f);rl.load(b.resource,b,te,void 0,function(){kE(e,b.prefix+b.resource+b.suffix,b.resource)})})}else{var s={prefix:"plugins/",resource:a,suffix:"/plugin"+n+".js"};rl.load(a,s,te,void 0,function(){kE(e,s.prefix+s.resource+s.suffix,a)})}})},E_=function(e,n){var a=ea.ScriptLoader;PF(a,e,n,function(){RF(a,e),k_(a,e,n),NF(e,n),a.loadQueue(function(){e.removed||S_(e)},e,function(){e.removed||S_(e)})})},A_=function(e,n){return Xm.forElement(e,{contentCssCors:XS(n),referrerPolicy:Bv(n)})},MF=function(e){var n=e.id;Rs.setCode(e0(e));var a=function(){bh.unbind(window,"ready",a),e.render()};if(!ff.Event.domLoaded){bh.bind(window,"ready",a);return}if(!!e.getElement()&&!!Ln.contentEditable){var i=L.fromDom(e.getElement()),s=L1(i);e.on("remove",function(){Pt(i.dom.attributes,function(g){return mu(i,g.name)}),mc(i,s)}),e.ui.styleSheetLoader=A_(i,e),qS(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var f=e.getElement().form||bh.getParent(n,"form");f&&(e.formElement=f,Fu(e)&&!A(e.getElement())&&(bh.insertAfter(bh.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(g){e.fire(g.type,g)},bh.bind(f,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),u2(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)})),e.windowManager=uO(e),e.notificationManager=xE(e),GS(e)&&e.on("GetContent",function(g){g.save&&(g.content=bh.encode(g.content))}),KS(e)&&e.on("submit",function(){e.initialized&&e.save()}),n0(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),E_(e,e.suffix)}},FF=function(e,n){return P4(e,n)},$F={"font-size":"size","font-family":"face"},I3=function(e,n,a){var i=function(f){return qi(f,e).orThunk(function(){return Na(f)==="font"?Nr($F,e).bind(function(g){return Ed(f,g)}):z.none()})},s=function(f){return xr(L.fromDom(n),f)};return kC(L.fromDom(a),function(f){return i(f)},s)},IF=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},z3=function(e,n){return z.from(Ja.DOM.getStyle(n,e,!0))},O_=function(e){return function(n,a){return z.from(a).map(L.fromDom).filter($e).bind(function(i){return I3(e,n,i.dom).or(z3(e,i.dom))}).getOr("")}},zF=O_("font-size"),LF=vt(IF,O_("font-family")),D_=function(e){return Cu(e.getBody()).map(function(n){var a=n.container();return M(a)?a.parentNode:a})},HF=function(e){return z.from(e.selection.getRng()).bind(function(n){var a=e.getBody(),i=n.startContainer===a&&n.startOffset===0;return i?z.none():z.from(e.selection.getStart(!0))})},L3=function(e,n){return HF(e).orThunk(Xe(D_,e)).map(L.fromDom).filter($e).map(n)},__=function(e,n){if(/^[0-9.]+$/.test(n)){var a=parseInt(n,10);if(a>=1&&a<=7){var i=$S(e),s=IS(e);return s?s[a-1]||n:i[a-1]||n}else return n}else return n},VF=function(e){var n=e.split(/\s*,\s*/);return ke(n,function(a){return a.indexOf(" ")!==-1&&!(tt(a,'"')||tt(a,"'"))?"'"+a+"'":a}).join(",")},H3=function(e,n){var a=__(e,n);e.formatter.toggle("fontname",{value:VF(a)}),e.nodeChanged()},UF=function(e){return L3(e,function(n){return LF(e.getBody(),n.dom)}).getOr("")},B_=function(e,n){e.formatter.toggle("fontsize",{value:__(e,n)}),e.nodeChanged()},D1=function(e){return L3(e,function(n){return zF(e.getBody(),n.dom)}).getOr("")},WF=function(e){return L3(e,function(n){var a=L.fromDom(e.getBody()),i=kC(n,function(f){return qi(f,"line-height")},Xe(xr,a)),s=function(){var f=parseFloat(yl(n,"line-height")),g=parseFloat(yl(n,"font-size"));return String(f/g)};return i.getOrThunk(s)}).getOr("")},jF=function(e,n){e.undoManager.transact(function(){e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()})},qF=function(e){var n;return typeof e!="string"?(n=dt.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:n}):{content:e,details:{}}},Ul=function(e,n){var a=qF(n);B4(e,a.content,a.details)},_x=dt.each,V3=dt.map,R_=dt.inArray,Wy=function(){function e(n){this.commands={state:{},exec:{},value:{}},this.editor=n,this.setupCommands(n)}return e.prototype.execCommand=function(n,a,i,s){var f,g=!1,b=this;if(!b.editor.removed){if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(n)&&(!s||!s.skip_focus)?b.editor.focus():jp(b.editor),s=b.editor.fire("BeforeExecCommand",{command:n,ui:a,value:i}),s.isDefaultPrevented())return!1;var y=n.toLowerCase();if(f=b.commands.exec[y])return f(y,a,i),b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;if(_x(this.editor.plugins,function(E){if(E.execCommand&&E.execCommand(n,a,i))return b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),g=!0,!1}),g)return g;if(b.editor.theme&&b.editor.theme.execCommand&&b.editor.theme.execCommand(n,a,i))return b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;try{g=b.editor.getDoc().execCommand(n,a,i)}catch{}return g?(b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0):!1}},e.prototype.queryCommandState=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.state[n])return a(n);try{return this.editor.getDoc().queryCommandState(n)}catch{}return!1}},e.prototype.queryCommandValue=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.value[n])return a(n);try{return this.editor.getDoc().queryCommandValue(n)}catch{}}},e.prototype.addCommands=function(n,a){a===void 0&&(a="exec");var i=this;_x(n,function(s,f){_x(f.toLowerCase().split(","),function(g){i.commands[a][g]=s})})},e.prototype.addCommand=function(n,a,i){var s=this;n=n.toLowerCase(),this.commands.exec[n]=function(f,g,b,y){return a.call(i||s.editor,g,b,y)}},e.prototype.queryCommandSupported=function(n){if(n=n.toLowerCase(),this.commands.exec[n])return!0;try{return this.editor.getDoc().queryCommandSupported(n)}catch{}return!1},e.prototype.addQueryStateHandler=function(n,a,i){var s=this;n=n.toLowerCase(),this.commands.state[n]=function(){return a.call(i||s.editor)}},e.prototype.addQueryValueHandler=function(n,a,i){var s=this;n=n.toLowerCase(),this.commands.value[n]=function(){return a.call(i||s.editor)}},e.prototype.hasCustomCommand=function(n){return n=n.toLowerCase(),!!this.commands.exec[n]},e.prototype.execNativeCommand=function(n,a,i){return a===void 0&&(a=!1),i===void 0&&(i=null),this.editor.getDoc().execCommand(n,a,i)},e.prototype.isFormatMatch=function(n){return this.editor.formatter.match(n)},e.prototype.toggleFormat=function(n,a){this.editor.formatter.toggle(n,a?{value:a}:void 0),this.editor.nodeChanged()},e.prototype.storeSelection=function(n){this.selectionBookmark=this.editor.selection.getBookmark(n)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(n){var a=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":te,"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},"Cut,Copy,Paste":function(s){var f=n.getDoc(),g;try{a.execNativeCommand(s)}catch{g=!0}if(s==="paste"&&!f.queryCommandEnabled(s)&&(g=!0),g||!f.queryCommandSupported(s)){var b=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Ln.mac&&(b=b.replace(/Ctrl\+/g,"\u2318+")),n.notificationManager.open({text:b,type:"error"})}},unlink:function(){if(n.selection.isCollapsed()){var s=n.dom.getParent(n.selection.getStart(),"a");s&&n.dom.remove(s,!0);return}n.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(s){var f=s.substring(7);f==="full"&&(f="justify"),_x("left,center,right,justify".split(","),function(g){f!==g&&n.formatter.remove("align"+g)}),f!=="none"&&a.toggleFormat("align"+f)},"InsertUnorderedList,InsertOrderedList":function(s){var f;a.execNativeCommand(s);var g=n.dom.getParent(n.selection.getNode(),"ol,ul");g&&(f=g.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(f.nodeName)&&(a.storeSelection(),n.dom.split(f,g),a.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(s){a.toggleFormat(s)},"ForeColor,HiliteColor":function(s,f,g){a.toggleFormat(s,g)},FontName:function(s,f,g){H3(n,g)},FontSize:function(s,f,g){B_(n,g)},LineHeight:function(s,f,g){jF(n,g)},RemoveFormat:function(s){n.formatter.remove(s)},mceBlockQuote:function(){a.toggleFormat("blockquote")},FormatBlock:function(s,f,g){return a.toggleFormat(g||"p")},mceCleanup:function(){var s=n.selection.getBookmark();n.setContent(n.getContent()),n.selection.moveToBookmark(s)},mceRemoveNode:function(s,f,g){var b=g||n.selection.getNode();b!==n.getBody()&&(a.storeSelection(),n.dom.remove(b,!0),a.restoreSelection())},mceSelectNodeDepth:function(s,f,g){var b=0;n.dom.getParent(n.selection.getNode(),function(y){if(y.nodeType===1&&b++===g)return n.selection.select(y),!1},n.getBody())},mceSelectNode:function(s,f,g){n.selection.select(g)},mceInsertContent:function(s,f,g){Ul(n,g)},mceInsertRawHTML:function(s,f,g){n.selection.setContent("tiny_mce_marker");var b=n.getContent();n.setContent(b.replace(/tiny_mce_marker/g,function(){return g}))},mceInsertNewLine:function(s,f,g){JD(n,g)},mceToggleFormat:function(s,f,g){a.toggleFormat(g)},mceSetContent:function(s,f,g){n.setContent(g)},"Indent,Outdent":function(s){iD(n,s)},mceRepaint:te,InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(s,f,g){n.execCommand("mceInsertContent",!1,g.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceInsertLink:function(s,f,g){typeof g=="string"&&(g={href:g});var b=n.dom.getParent(n.selection.getNode(),"a");g.href=g.href.replace(/ /g,"%20"),(!b||!g.href)&&n.formatter.remove("link"),g.href&&n.formatter.apply("link",g,b)},selectAll:function(){var s=n.dom.getParent(n.selection.getStart(),Rr);if(s){var f=n.dom.createRng();f.selectNodeContents(s),n.selection.setRng(f)}},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(s,f,g){return GD(n,g),!0}});var i=function(s){return function(){var f=n.selection,g=f.isCollapsed()?[n.dom.getParent(f.getNode(),n.dom.isBlock)]:f.getSelectedBlocks(),b=V3(g,function(y){return!!n.formatter.matchNode(y,s)});return R_(b,!0)!==-1}};a.addCommands({JustifyLeft:i("alignleft"),JustifyCenter:i("aligncenter"),JustifyRight:i("alignright"),JustifyFull:i("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(s){return a.isFormatMatch(s)},mceBlockQuote:function(){return a.isFormatMatch("blockquote")},Outdent:function(){return vx(n)},"InsertUnorderedList,InsertOrderedList":function(s){var f=n.dom.getParent(n.selection.getNode(),"ul,ol");return f&&(s==="insertunorderedlist"&&f.tagName==="UL"||s==="insertorderedlist"&&f.tagName==="OL")}},"state"),a.addCommands({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}}),a.addQueryValueHandler("FontName",function(){return UF(n)},this),a.addQueryValueHandler("FontSize",function(){return D1(n)},this),a.addQueryValueHandler("LineHeight",function(){return WF(n)},this)},e}(),yh="data-mce-contenteditable",GF=function(e,n,a){op(e,n)&&a===!1?vg(e,n):a&&fg(e,n)},U3=function(e,n,a){try{e.getDoc().execCommand(n,!1,String(a))}catch{}},Bx=function(e,n){e.dom.contentEditable=n?"true":"false"},KF=function(e){he(yu(e,'*[contenteditable="true"]'),function(n){Us(n,yh,"true"),Bx(n,!1)})},P_=function(e){he(yu(e,"*["+yh+'="true"]'),function(n){mu(n,yh),Bx(n,!0)})},XF=function(e){z.from(e.selection.getNode()).each(function(n){n.removeAttribute("data-mce-selected")})},N_=function(e){e.selection.setRng(e.selection.getRng())},M_=function(e,n){var a=L.fromDom(e.getBody());GF(a,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),XF(e),e.readonly=!0,Bx(a,!1),KF(a)):(e.readonly=!1,Bx(a,!0),P_(a),U3(e,"StyleWithCSS",!1),U3(e,"enableInlineTableEditing",!1),U3(e,"enableObjectResizing",!1),XT(e)&&e.focus(),N_(e),e.nodeChanged())},wh=function(e){return e.readonly},F_=function(e){e.parser.addAttributeFilter("contenteditable",function(n){wh(e)&&he(n,function(a){a.attr(yh,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(yh,function(n){wh(e)&&he(n,function(a){a.attr("contenteditable",a.attr(yh))})}),e.serializer.addTempAttr(yh)},YF=function(e){e.serializer?F_(e):e.on("PreInit",function(){F_(e)})},JF=function(e){return e.type==="click"},$_=function(e,n){var a=function(i){return xr(i,L.fromDom(e.getBody()))};return kl(n,"a",a).bind(function(i){return Ed(i,"href")})},W3=function(e,n){if(JF(n)&&!Bn.metaKeyPressed(n)){var a=L.fromDom(n.target);$_(e,a).each(function(i){if(n.preventDefault(),/^#/.test(i)){var s=e.dom.select(i+',[name="'+De(i,"#")+'"]');s.length&&e.selection.scrollIntoView(s[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},I_=function(e){e.on("ShowCaret",function(n){wh(e)&&n.preventDefault()}),e.on("ObjectSelected",function(n){wh(e)&&n.preventDefault()})},ZF=dt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),j3=function(){function e(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||hn}return e.isNative=function(n){return!!ZF[n.toLowerCase()]},e.prototype.fire=function(n,a){var i=n.toLowerCase(),s=a||{};s.type=i,s.target||(s.target=this.scope),s.preventDefault||(s.preventDefault=function(){s.isDefaultPrevented=an},s.stopPropagation=function(){s.isPropagationStopped=an},s.stopImmediatePropagation=function(){s.isImmediatePropagationStopped=an},s.isDefaultPrevented=hn,s.isPropagationStopped=hn,s.isImmediatePropagationStopped=hn),this.settings.beforeFire&&this.settings.beforeFire(s);var f=this.bindings[i];if(f)for(var g=0,b=f.length;g<b;g++){var y=f[g];if(y.once&&this.off(i,y.func),s.isImmediatePropagationStopped())return s.stopPropagation(),s;if(y.func.call(this.scope,s)===!1)return s.preventDefault(),s}return s},e.prototype.on=function(n,a,i,s){if(a===!1&&(a=hn),a){var f={func:a};s&&dt.extend(f,s);for(var g=n.toLowerCase().split(" "),b=g.length;b--;){var y=g[b],E=this.bindings[y];E||(E=this.bindings[y]=[],this.toggleEvent(y,!0)),i?E.unshift(f):E.push(f)}}return this},e.prototype.off=function(n,a){var i=this;if(n)for(var s=n.toLowerCase().split(" "),f=s.length;f--;){var g=s[f],b=this.bindings[g];if(!g)return Or(this.bindings,function(E,P){i.toggleEvent(P,!1),delete i.bindings[P]}),this;if(b){if(!a)b.length=0;else for(var y=b.length;y--;)b[y].func===a&&(b=b.slice(0,y).concat(b.slice(y+1)),this.bindings[g]=b);b.length||(this.toggleEvent(n,!1),delete this.bindings[g])}}else Or(this.bindings,function(E,P){i.toggleEvent(P,!1)}),this.bindings={};return this},e.prototype.once=function(n,a,i){return this.on(n,a,i,{once:!0})},e.prototype.has=function(n){return n=n.toLowerCase(),!(!this.bindings[n]||this.bindings[n].length===0)},e}(),Wl=function(e){return e._eventDispatcher||(e._eventDispatcher=new j3({scope:e,toggleEvent:function(n,a){j3.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,a)}})),e._eventDispatcher},Rx={fire:function(e,n,a){var i=this;if(i.removed&&e!=="remove"&&e!=="detach")return n;var s=Wl(i).fire(e,n);if(a!==!1&&i.parent)for(var f=i.parent();f&&!s.isPropagationStopped();)f.fire(e,s,!1),f=f.parent();return s},on:function(e,n,a){return Wl(this).on(e,n,a)},off:function(e,n){return Wl(this).off(e,n)},once:function(e,n){return Wl(this).once(e,n)},hasEventListeners:function(e){return Wl(this).has(e)}},Px=Ja.DOM,Ch,xh=function(e,n){if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(n))return e.getDoc().documentElement;var a=a2(e);return a?(e.eventRoot||(e.eventRoot=Px.select(a)[0]),e.eventRoot):e.getBody()},z_=function(e){return!e.hidden&&!wh(e)},q3=function(e,n,a){z_(e)?e.fire(n,a):wh(e)&&W3(e,a)},L_=function(e,n){var a;if(e.delegates||(e.delegates={}),!(e.delegates[n]||e.removed)){var i=xh(e,n);if(a2(e)){if(Ch||(Ch={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||Ch&&(Or(Ch,function(s,f){e.dom.unbind(xh(e,f))}),Ch=null)})),Ch[n])return;a=function(s){for(var f=s.target,g=e.editorManager.get(),b=g.length;b--;){var y=g[b].getBody();(y===f||Px.isChildOf(f,y))&&q3(g[b],n,s)}},Ch[n]=a,Px.bind(i,n,a)}else a=function(s){q3(e,n,s)},Px.bind(i,n,a),e.delegates[n]=a}},G3=Gn(Gn({},Rx),{bindPendingEventDelegates:function(){var e=this;dt.each(e._pendingNativeEvents,function(n){L_(e,n)})},toggleNativeEvent:function(e,n){var a=this;e==="focus"||e==="blur"||(n?a.initialized?L_(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&(a.dom.unbind(xh(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents:function(){var e=this,n=e.getBody(),a=e.dom;e.delegates&&(Or(e.delegates,function(i,s){e.dom.unbind(xh(e,s),s,i)}),delete e.delegates),!e.inline&&n&&a&&(n.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(n),a.unbind(e.getContainer()))}}),jy=["design","readonly"],gd=function(e,n,a,i){var s=a[n.get()],f=a[i];try{f.activate()}catch(g){console.error("problem while activating editor mode "+i+":",g);return}s.deactivate(),s.editorReadOnly!==f.editorReadOnly&&M_(e,f.editorReadOnly),n.set(i),P2(e,i)},_1=function(e,n,a,i){if(i!==a.get()){if(!kr(n,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?gd(e,a,n,i):e.on("init",function(){return gd(e,a,n,i)})}},K3=function(e,n,a){var i;if(Ue(jy,n))throw new Error("Cannot override default mode "+n);return Gn(Gn({},e),(i={},i[n]=Gn(Gn({},a),{deactivate:function(){try{a.deactivate()}catch(s){console.error("problem while deactivating editor mode "+n+":",s)}}}),i))},X3=function(e){var n=Ia("design"),a=Ia({design:{activate:te,deactivate:te,editorReadOnly:!1},readonly:{activate:te,deactivate:te,editorReadOnly:!0}});return YF(e),I_(e),{isReadOnly:function(){return wh(e)},set:function(i){return _1(e,a.get(),n,i)},get:function(){return n.get()},register:function(i,s){a.set(K3(a.get(),i,s))}}},Nx=dt.each,Mx=dt.explode,QF={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Y3=dt.makeMap("alt,ctrl,shift,meta,access"),H_=function(e){var n,a={};Nx(Mx(e.toLowerCase(),"+"),function(s){s in Y3?a[s]=!0:/^[0-9]{2,}$/.test(s)?a.keyCode=parseInt(s,10):(a.charCode=s.charCodeAt(0),a.keyCode=QF[s]||s.toUpperCase().charCodeAt(0))});var i=[a.keyCode];for(n in Y3)a[n]?i.push(n):a[n]=!1;return a.id=i.join(","),a.access&&(a.alt=!0,Ln.mac?a.ctrl=!0:a.shift=!0),a.meta&&(Ln.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a},V_=function(){function e(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;var a=this;n.on("keyup keypress keydown",function(i){(a.hasModifier(i)||a.isFunctionKey(i))&&!i.isDefaultPrevented()&&(Nx(a.shortcuts,function(s){if(a.matchShortcut(i,s))return a.pendingPatterns=s.subpatterns.slice(0),i.type==="keydown"&&a.executeShortcutAction(s),!0}),a.matchShortcut(i,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&i.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}return e.prototype.add=function(n,a,i,s){var f=this,g=f.normalizeCommandFunc(i);return Nx(Mx(dt.trim(n)),function(b){var y=f.createShortcut(b,a,g,s);f.shortcuts[y.id]=y}),!0},e.prototype.remove=function(n){var a=this.createShortcut(n);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1},e.prototype.normalizeCommandFunc=function(n){var a=this,i=n;return typeof i=="string"?function(){a.editor.execCommand(i,!1,null)}:dt.isArray(i)?function(){a.editor.execCommand(i[0],i[1],i[2])}:i},e.prototype.createShortcut=function(n,a,i,s){var f=dt.map(Mx(n,">"),H_);return f[f.length-1]=dt.extend(f[f.length-1],{func:i,scope:s||this.editor}),dt.extend(f[0],{desc:this.editor.translate(a),subpatterns:f.slice(1)})},e.prototype.hasModifier=function(n){return n.altKey||n.ctrlKey||n.metaKey},e.prototype.isFunctionKey=function(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123},e.prototype.matchShortcut=function(n,a){return!a||a.ctrl!==n.ctrlKey||a.meta!==n.metaKey||a.alt!==n.altKey||a.shift!==n.shiftKey?!1:n.keyCode===a.keyCode||n.charCode&&n.charCode===a.charCode?(n.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(n){return n.func?n.func.call(n.scope):null},e}(),e$=function(){var e={},n={},a={},i={},s={},f={},g={},b=function(E,P){return function(R,N){return E[R.toLowerCase()]=Gn(Gn({},N),{type:P})}},y=function(E,P){return i[E.toLowerCase()]=P};return{addButton:b(e,"button"),addGroupToolbarButton:b(e,"grouptoolbarbutton"),addToggleButton:b(e,"togglebutton"),addMenuButton:b(e,"menubutton"),addSplitButton:b(e,"splitbutton"),addMenuItem:b(n,"menuitem"),addNestedMenuItem:b(n,"nestedmenuitem"),addToggleMenuItem:b(n,"togglemenuitem"),addAutocompleter:b(a,"autocompleter"),addContextMenu:b(s,"contextmenu"),addContextToolbar:b(f,"contexttoolbar"),addContextForm:b(f,"contextform"),addSidebar:b(g,"sidebar"),addIcon:y,getAll:function(){return{buttons:e,menuItems:n,icons:i,popups:a,contextMenus:s,contextToolbars:f,sidebars:g}}}},t$=function(){var e=e$();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},U_=dt.each,n$=dt.trim,r$="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),W_={ftp:21,http:80,https:443,mailto:25},_m=function(){function e(n,a){n=n$(n),this.settings=a||{};var i=this.settings.base_uri,s=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){s.source=n;return}var f=n.indexOf("//")===0;if(n.indexOf("/")===0&&!f&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){var g=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")n="//mce_host"+s.toAbsPath(g,n);else{var b=/([^#?]*)([#?]?.*)/.exec(n);n=(i&&i.protocol||"http")+"://mce_host"+s.toAbsPath(g,b[1])+b[2]}}n=n.replace(/@@/g,"(mce_at)");var y=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);U_(r$,function(E,P){var R=y[P];R&&(R=R.replace(/\(mce_at\)/g,"@@")),s[E]=R}),i&&(s.protocol||(s.protocol=i.protocol),s.userInfo||(s.userInfo=i.userInfo),!s.port&&s.host==="mce_host"&&(s.port=i.port),(!s.host||s.host==="mce_host")&&(s.host=i.host),s.source=""),f&&(s.protocol="")}return e.parseDataUri=function(n){var a,i=decodeURIComponent(n).split(","),s=/data:([^;]+)/.exec(i[0]);return s&&(a=s[1]),{type:a,data:i[1]}},e.getDocumentBaseUrl=function(n){var a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=n.href:a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a},e.prototype.setPath=function(n){var a=/^(.*?)\/?(\w+)?$/.exec(n);this.path=a[0],this.directory=a[1],this.file=a[2],this.source="",this.getURI()},e.prototype.toRelative=function(n){var a;if(n==="./")return n;var i=new e(n,{base_uri:this});if(i.host!=="mce_host"&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&i.protocol!=="")return i.getURI();var s=this.getURI(),f=i.getURI();return s===f||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===f?s:(a=this.toRelPath(this.path,i.path),i.query&&(a+="?"+i.query),i.anchor&&(a+="#"+i.anchor),a)},e.prototype.toAbsolute=function(n,a){var i=new e(n,{base_uri:this});return i.getURI(a&&this.isSameOrigin(i))},e.prototype.isSameOrigin=function(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;var a=W_[this.protocol];if(a&&(this.port||a)==(n.port||a))return!0}return!1},e.prototype.toRelPath=function(n,a){var i=0,s="",f,g,b=n.substring(0,n.lastIndexOf("/")).split("/"),y=a.split("/");if(b.length>=y.length){for(f=0,g=b.length;f<g;f++)if(f>=y.length||b[f]!==y[f]){i=f+1;break}}if(b.length<y.length){for(f=0,g=y.length;f<g;f++)if(f>=b.length||b[f]!==y[f]){i=f+1;break}}if(i===1)return a;for(f=0,g=b.length-(i-1);f<g;f++)s+="../";for(f=i-1,g=y.length;f<g;f++)f!==i-1?s+="/"+y[f]:s+=y[f];return s},e.prototype.toAbsPath=function(n,a){var i,s=0,f=[],g,b=/\/$/.test(a)?"/":"",y=n.split("/"),E=a.split("/");for(U_(y,function(P){P&&f.push(P)}),y=f,i=E.length-1,f=[];i>=0;i--)if(!(E[i].length===0||E[i]===".")){if(E[i]===".."){s++;continue}if(s>0){s--;continue}f.push(E[i])}return i=y.length-s,i<=0?g=Kt(f).join("/"):g=y.slice(0,i).join("/")+"/"+Kt(f).join("/"),g.indexOf("/")!==0&&(g="/"+g),b&&g.lastIndexOf("/")!==g.length-1&&(g+=b),g},e.prototype.getURI=function(n){n===void 0&&(n=!1);var a;return(!this.source||n)&&(a="",n||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source},e}(),Sh=Ja.DOM,j_=dt.extend,a$=dt.each,q_=dt.resolve,o$=Ln.ie,Fx=function(){function e(n,a,i){var s=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,j_(this,G3),this.settings=rN(this,n,this.documentBaseUrl,i.defaultSettings,a),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,this.settings.referrer_policy&&(ea.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ja.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),bu.languageLoad=this.settings.language_load,bu.baseURL=i.baseURL,this.id=n,this.setDirty(!1),this.documentBaseURI=new _m(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new V_(this),this.editorCommands=new Wy(this),this.settings.cache_suffix&&(Ln.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:t$(),styleSheetLoader:void 0,show:te,hide:te,enable:te,disable:te,isDisabled:hn};var f=this,g=X3(f);this.mode=g,this.setMode=g.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Ur.overrideDefaults(function(){return{context:s.inline?s.getBody():s.getDoc(),element:s.getBody()}})}return e.prototype.render=function(){MF(this)},e.prototype.focus=function(n){YT(this,n)},e.prototype.hasFocus=function(){return Qv(this)},e.prototype.execCallback=function(n){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];var s=this,f=s.settings[n],g;if(!!f)return s.callbackLookup&&(g=s.callbackLookup[n])&&(f=g.func,g=g.scope),typeof f=="string"&&(g=f.replace(/\.\w+$/,""),g=g?q_(g):0,f=q_(f),s.callbackLookup=s.callbackLookup||{},s.callbackLookup[n]={func:f,scope:g}),f.apply(g||s,a)},e.prototype.translate=function(n){return Rs.translate(n)},e.prototype.getParam=function(n,a,i){return rO(this,n,a,i)},e.prototype.hasPlugin=function(n,a){var i=Ue(dp(this).split(/[ ,]/),n);return i?a?rl.get(n)!==void 0:!0:!1},e.prototype.nodeChanged=function(n){this._nodeChangeDispatcher.nodeChanged(n)},e.prototype.addCommand=function(n,a,i){this.editorCommands.addCommand(n,a,i)},e.prototype.addQueryStateHandler=function(n,a,i){this.editorCommands.addQueryStateHandler(n,a,i)},e.prototype.addQueryValueHandler=function(n,a,i){this.editorCommands.addQueryValueHandler(n,a,i)},e.prototype.addShortcut=function(n,a,i,s){this.shortcuts.add(n,a,i,s)},e.prototype.execCommand=function(n,a,i,s){return this.editorCommands.execCommand(n,a,i,s)},e.prototype.queryCommandState=function(n){return this.editorCommands.queryCommandState(n)},e.prototype.queryCommandValue=function(n){return this.editorCommands.queryCommandValue(n)},e.prototype.queryCommandSupported=function(n){return this.editorCommands.queryCommandSupported(n)},e.prototype.show=function(){var n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Sh.show(n.getContainer()),Sh.hide(n.id)),n.load(),n.fire("show"))},e.prototype.hide=function(){var n=this,a=n.getDoc();n.hidden||(o$&&a&&!n.inline&&a.execCommand("SelectAll"),n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Sh.hide(n.getContainer()),Sh.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(n,a){this.fire("ProgressState",{state:n,time:a})},e.prototype.load=function(n){var a=this,i=a.getElement(),s;if(a.removed)return"";if(i){n=n||{},n.load=!0;var f=A(i)?i.value:i.innerHTML;return s=a.setContent(f,n),n.element=i,n.no_events||a.fire("LoadContent",n),n.element=i=null,s}},e.prototype.save=function(n){var a=this,i=a.getElement(),s,f;if(!(!i||!a.initialized||a.removed))return n=n||{},n.save=!0,n.element=i,s=n.content=a.getContent(n),n.no_events||a.fire("SaveContent",n),n.format==="raw"&&a.fire("RawSaveContent",n),s=n.content,A(i)?i.value=s:((n.is_removing||!a.inline)&&(i.innerHTML=s),(f=Sh.getParent(a.id,"form"))&&a$(f.elements,function(g){if(g.name===a.id)return g.value=s,!1})),n.element=i=null,n.set_dirty!==!1&&a.setDirty(!1),s},e.prototype.setContent=function(n,a){return gE(this,n,a)},e.prototype.getContent=function(n){return qP(this,n)},e.prototype.insertContent=function(n,a){a&&(n=j_({content:n},a)),this.execCommand("mceInsertContent",!1,n)},e.prototype.resetContent=function(n){n===void 0?gE(this,this.startContent,{format:"raw"}):gE(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(n){var a=!this.isNotDirty;this.isNotDirty=!n,n&&n!==a&&this.fire("dirty")},e.prototype.getContainer=function(){var n=this;return n.container||(n.container=Sh.get(n.editorContainer||n.id+"_parent")),n.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=Sh.get(this.id)),this.targetElm},e.prototype.getWin=function(){var n=this,a;return n.contentWindow||(a=n.iframeElement,a&&(n.contentWindow=a.contentWindow)),n.contentWindow},e.prototype.getDoc=function(){var n=this,a;return n.contentDocument||(a=n.getWin(),a&&(n.contentDocument=a.document)),n.contentDocument},e.prototype.getBody=function(){var n=this.getDoc();return this.bodyElement||(n?n.body:null)},e.prototype.convertURL=function(n,a,i){var s=this,f=s.settings;return f.urlconverter_callback?s.execCallback("urlconverter_callback",n,i,!0,a):!f.convert_urls||i&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:f.relative_urls?s.documentBaseURI.toRelative(n):(n=s.documentBaseURI.toAbsolute(n,f.remove_script_host),n)},e.prototype.addVisual=function(n){FF(this,n)},e.prototype.remove=function(){XP(this)},e.prototype.destroy=function(n){YP(this,n)},e.prototype.uploadImages=function(n){return this.editorUpload.uploadImages(n)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),ll=Ja.DOM,i$=dt.explode,jf=dt.each,jl=dt.extend,u$=0,G_=!1,$x,hd=[],Tu=[],s$=function(e){return e!=="length"},Ix=function(e){var n=e.type;jf(pd.get(),function(a){switch(n){case"scroll":a.fire("ScrollWindow",e);break;case"resize":a.fire("ResizeWindow",e);break}})},zx=function(e){e!==G_&&(e?Ur(window).on("resize scroll",Ix):Ur(window).off("resize scroll",Ix),G_=e)},J3=function(e){var n=Tu;delete hd[e.id];for(var a=0;a<hd.length;a++)if(hd[a]===e){hd.splice(a,1);break}return Tu=St(Tu,function(i){return e!==i}),pd.activeEditor===e&&(pd.activeEditor=Tu.length>0?Tu[0]:null),pd.focusedEditor===e&&(pd.focusedEditor=null),n.length!==Tu.length},Lx=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(J3(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},K_=document.compatMode!=="CSS1Compat",pd=Gn(Gn({},Rx),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Ur,majorVersion:"5",minorVersion:"7.0",releaseDate:"2021-02-10",editors:hd,i18n:Rs,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,n,a,i="";a=_m.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));var s=window.tinymce||window.tinyMCEPreInit;if(s)n=s.base||s.baseURL,i=s.suffix;else{for(var f=document.getElementsByTagName("script"),g=0;g<f.length;g++){var b=f[g].src||"";if(b!==""){var y=b.substring(b.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(b)){y.indexOf(".min")!==-1&&(i=".min"),n=b.substring(0,b.lastIndexOf("/"));break}}}if(!n&&document.currentScript){var b=document.currentScript.src;b.indexOf(".min")!==-1&&(i=".min"),n=b.substring(0,b.lastIndexOf("/"))}}e.baseURL=new _m(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new _m(e.baseURL),e.suffix=i,qT(e)},overrideDefaults:function(e){var n=e.base_url;n&&this._setBaseUrl(n);var a=e.suffix;e.suffix&&(this.suffix=a),this.defaultSettings=e;var i=e.plugin_base_urls;i!==void 0&&Or(i,function(s,f){bu.PluginManager.urls[f]=s})},init:function(e){var n=this,a,i=dt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),s=function(R,N){return R.inline&&N.tagName.toLowerCase()in i},f=function(R){var N=R.id;return N||(N=Nr(R,"name").filter(function(X){return!ll.get(X)}).getOrThunk(ll.uniqueId),R.setAttribute("id",N)),N},g=function(R){var N=e[R];if(!!N)return N.apply(n,[])},b=function(R,N){return N.constructor===RegExp?N.test(R.className):ll.hasClass(R,N)},y=function(R){var N=[];if(Ln.browser.isIE()&&Ln.browser.version.major<11)return XC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(K_)return XC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(R.types)return jf(R.types,function(J){N=N.concat(ll.select(J.selector))}),N;if(R.selector)return ll.select(R.selector);if(R.target)return[R.target];switch(R.mode){case"exact":var X=R.elements||"";X.length>0&&jf(i$(X),function(J){var Q=ll.get(J);Q?N.push(Q):jf(document.forms,function(G){jf(G.elements,function(me){me.name===J&&(J="mce_editor_"+u$++,ll.setAttrib(me,"id",J),N.push(me))})})});break;case"textareas":case"specific_textareas":jf(ll.select("textarea"),function(J){R.editor_deselector&&b(J,R.editor_deselector)||(!R.editor_selector||b(J,R.editor_selector))&&N.push(J)});break}return N},E=function(R){a=R},P=function(){var R=0,N=[],X,J=function(Q,G,me){var fe=new Fx(Q,G,n);N.push(fe),fe.on("init",function(){++R===X.length&&E(N)}),fe.targetElm=fe.targetElm||me,fe.render()};if(ll.unbind(window,"ready",P),g("onpageload"),X=Ur.unique(y(e)),e.types){jf(e.types,function(Q){dt.each(X,function(G){return ll.is(G,Q.selector)?(J(f(G),jl({},e,Q),G),!1):!0})});return}dt.each(X,function(Q){Lx(n.get(Q.id))}),X=dt.grep(X,function(Q){return!n.get(Q.id)}),X.length===0?E([]):jf(X,function(Q){s(e,Q)?XC("Could not initialize inline editor on invalid inline target element",Q):J(f(Q),e,Q)})};return n.settings=e,ll.bind(window,"ready",P),new Fo(function(R){a?R(a):E=function(N){R(N)}})},get:function(e){return arguments.length===0?Tu.slice(0):jn(e)?Ir(Tu,function(n){return n.id===e}).getOr(null):Vt(e)&&Tu[e]?Tu[e]:null},add:function(e){var n=this,a=hd[e.id];return a===e||(n.get(e.id)===null&&(s$(e.id)&&(hd[e.id]=e),hd.push(e),Tu.push(e)),zx(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),$x||($x=function(i){var s=n.fire("BeforeUnload");if(s.returnValue)return i.preventDefault(),i.returnValue=s.returnValue,s.returnValue},window.addEventListener("beforeunload",$x))),e},createEditor:function(e,n){return this.add(new Fx(e,n,this))},remove:function(e){var n=this,a,i;if(!e){for(a=Tu.length-1;a>=0;a--)n.remove(Tu[a]);return}if(jn(e)){jf(ll.select(e),function(s){i=n.get(s.id),i&&n.remove(i)});return}return i=e,fn(n.get(i.id))?null:(J3(i)&&n.fire("RemoveEditor",{editor:i}),Tu.length===0&&window.removeEventListener("beforeunload",$x),i.remove(),zx(Tu.length>0),i)},execCommand:function(e,n,a){var i=this,s=i.get(a);switch(e){case"mceAddEditor":return i.get(a)||new Fx(a,i.settings,i).render(),!0;case"mceRemoveEditor":return s&&s.remove(),!0;case"mceToggleEditor":return s?(s.isHidden()?s.show():s.hide(),!0):(i.execCommand("mceAddEditor",!1,a),!0)}return i.activeEditor?i.activeEditor.execCommand(e,n,a):!1},triggerSave:function(){jf(Tu,function(e){e.save()})},addI18n:function(e,n){Rs.add(e,n)},translate:function(e){return Rs.translate(e)},setActive:function(e){var n=this.activeEditor;this.activeEditor!==e&&(n&&n.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new _m(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new _m(this.baseURL)}});pd.setup();var X_=Math.min,B1=Math.max,Th=Math.round,Y_=function(e,n,a){var i=n.x,s=n.y,f=e.w,g=e.h,b=n.w,y=n.h,E=(a||"").split("");return E[0]==="b"&&(s+=y),E[1]==="r"&&(i+=b),E[0]==="c"&&(s+=Th(y/2)),E[1]==="c"&&(i+=Th(b/2)),E[3]==="b"&&(s-=g),E[4]==="r"&&(i-=f),E[3]==="c"&&(s-=Th(g/2)),E[4]==="c"&&(i-=Th(f/2)),R1(i,s,f,g)},c$=function(e,n,a,i){var s,f;for(f=0;f<i.length;f++)if(s=Y_(e,n,i[f]),s.x>=a.x&&s.x+s.w<=a.w+a.x&&s.y>=a.y&&s.y+s.h<=a.h+a.y)return i[f];return null},l$=function(e,n,a){return R1(e.x-n,e.y-a,e.w+n*2,e.h+a*2)},f$=function(e,n){var a=B1(e.x,n.x),i=B1(e.y,n.y),s=X_(e.x+e.w,n.x+n.w),f=X_(e.y+e.h,n.y+n.h);return s-a<0||f-i<0?null:R1(a,i,s-a,f-i)},J_=function(e,n,a){var i=e.x,s=e.y,f=e.x+e.w,g=e.y+e.h,b=n.x+n.w,y=n.y+n.h,E=B1(0,n.x-i),P=B1(0,n.y-s),R=B1(0,f-b),N=B1(0,g-y);return i+=E,s+=P,a&&(f+=E,g+=P,i-=R,s-=N),f-=R,g-=N,R1(i,s,f-i,g-s)},R1=function(e,n,a,i){return{x:e,y:n,w:a,h:i}},v$=function(e){return R1(e.left,e.top,e.width,e.height)},d$={inflate:l$,relativePosition:Y_,findBestRelativePosition:c$,intersect:f$,clamp:J_,create:R1,fromClientRect:v$},m$=function(e,n,a){a===void 0&&(a=1e3);var i=!1,s=null,f=function(E){return function(){for(var P=[],R=0;R<arguments.length;R++)P[R]=arguments[R];i||(i=!0,s!==null&&(clearTimeout(s),s=null),E.apply(null,P))}},g=f(e),b=f(n),y=function(){for(var E=[],P=0;P<arguments.length;P++)E[P]=arguments[P];!i&&s===null&&(s=setTimeout(function(){return b.apply(null,E)},a))};return{start:y,resolve:g,reject:b}},g$=function(){var e={},n={},a=function(s,f){var g='Script at URL "'+f+'" failed to load',b='Script at URL "'+f+"\" did not call `tinymce.Resource.add('"+s+"', data)` within 1 second";if(e[s]!==void 0)return e[s];var y=new Fo(function(E,P){var R=m$(E,P);n[s]=R.resolve,ea.ScriptLoader.loadScript(f,function(){return R.start(b)},function(){return R.reject(g)})});return e[s]=y,y},i=function(s,f){n[s]!==void 0&&(n[s](f),delete n[s]),e[s]=Fo.resolve(f)};return{load:a,add:i}},h$=g$(),Hx=dt.each,p$=dt.extend,Z_,Vu,Q_=function(){};Q_.extend=Z_=function(e){var n=this,a=n.prototype,i=function(){var b,y,E,P=this;if(!Vu&&(P.init&&P.init.apply(P,arguments),y=P.Mixins,y))for(b=y.length;b--;)E=y[b],E.init&&E.init.apply(P,arguments)},s=function(){return this},f=function(b,y){return function(){var E=this,P=E._super;E._super=a[b];var R=y.apply(E,arguments);return E._super=P,R}};Vu=!0;var g=new n;return Vu=!1,e.Mixins&&(Hx(e.Mixins,function(b){for(var y in b)y!=="init"&&(e[y]=b[y])}),a.Mixins&&(e.Mixins=a.Mixins.concat(e.Mixins))),e.Methods&&Hx(e.Methods.split(","),function(b){e[b]=s}),e.Properties&&Hx(e.Properties.split(","),function(b){var y="_"+b;e[b]=function(E){var P=this;return E!==void 0?(P[y]=E,P):P[y]}}),e.Statics&&Hx(e.Statics,function(b,y){i[y]=b}),e.Defaults&&a.Defaults&&(e.Defaults=p$({},a.Defaults,e.Defaults)),Or(e,function(b,y){typeof b=="function"&&a[y]?g[y]=f(y,b):g[y]=b}),i.prototype=g,i.constructor=i,i.extend=Z_,i};var Vx=Math.min,Ux=Math.max,kh=Math.round,b$=function(e){var n={},a=0,i=0,s=0,f=function(R,N,X){var J,Q,G;J=0,Q=0,G=0,R=R/255,N=N/255,X=X/255;var me=Vx(R,Vx(N,X)),fe=Ux(R,Ux(N,X));if(me===fe)return G=me,{h:0,s:0,v:G*100};var be=R===me?N-X:X===me?R-N:X-R;return J=R===me?3:X===me?1:5,J=60*(J-be/(fe-me)),Q=(fe-me)/fe,G=fe,{h:kh(J),s:kh(Q*100),v:kh(G*100)}},g=function(R,N,X){if(R=(parseInt(R,10)||0)%360,N=parseInt(N,10)/100,X=parseInt(X,10)/100,N=Ux(0,Vx(N,1)),X=Ux(0,Vx(X,1)),N===0){a=i=s=kh(255*X);return}var J=R/60,Q=X*N,G=Q*(1-Math.abs(J%2-1)),me=X-Q;switch(Math.floor(J)){case 0:a=Q,i=G,s=0;break;case 1:a=G,i=Q,s=0;break;case 2:a=0,i=Q,s=G;break;case 3:a=0,i=G,s=Q;break;case 4:a=G,i=0,s=Q;break;case 5:a=Q,i=0,s=G;break;default:a=i=s=0}a=kh(255*(a+me)),i=kh(255*(i+me)),s=kh(255*(s+me))},b=function(){var R=function(N){return N=parseInt(N,10).toString(16),N.length>1?N:"0"+N};return"#"+R(a)+R(i)+R(s)},y=function(){return{r:a,g:i,b:s}},E=function(){return f(a,i,s)},P=function(R){var N;return typeof R=="object"?"r"in R?(a=R.r,i=R.g,s=R.b):"v"in R&&g(R.h,R.s,R.v):(N=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(R))?(a=parseInt(N[1],10),i=parseInt(N[2],10),s=parseInt(N[3],10)):(N=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(R))?(a=parseInt(N[1],16),i=parseInt(N[2],16),s=parseInt(N[3],16)):(N=/#([0-F])([0-F])([0-F])/gi.exec(R))&&(a=parseInt(N[1]+N[1],16),i=parseInt(N[2]+N[2],16),s=parseInt(N[3]+N[3],16)),a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,n};return e&&P(e),n.toRgb=y,n.toHsv=E,n.toHex=b,n.parse=P,n},Wx=function(e){var n=JSON.stringify(e);return jn(n)?n.replace(/[\u0080-\uFFFF]/g,function(a){var i=a.charCodeAt(0).toString(16);return"\\u"+"0000".substring(i.length)+i}):n},Z3={serialize:Wx,parse:function(e){try{return JSON.parse(e)}catch{}}},y$={callbacks:{},count:0,send:function(e){var n=this,a=Ja.DOM,i=e.count!==void 0?e.count:n.count,s="tinymce_jsonp_"+i;n.callbacks[i]=function(f){a.remove(s),delete n.callbacks[i],e.callback(f)},a.add(a.doc.body,"script",{id:s,src:e.url,type:"text/javascript"}),n.count++}},qy=Gn(Gn({},Rx),{send:function(e){var n,a=0,i=function(){!e.async||n.readyState===4||a++>1e4?(e.success&&a<1e4&&n.status===200?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):Lr.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",qy.fire("beforeInitialize",{settings:e}),n=new XMLHttpRequest,n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&dt.each(e.requestheaders,function(s){n.setRequestHeader(s.key,s.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n=qy.fire("beforeSend",{xhr:n,settings:e}).xhr,n.send(e.data),!e.async)return i();Lr.setTimeout(i,10)}}),Q3=dt.extend,w$=function(){function e(n){this.settings=Q3({},n),this.count=0}return e.sendRPC=function(n){return new e().send(n)},e.prototype.send=function(n){var a=n.error,i=n.success,s=Q3(this.settings,n);s.success=function(f,g){f=Z3.parse(f),typeof f=="undefined"&&(f={error:"JSON Parse error."}),f.error?a.call(s.error_scope||s.scope,f.error,g):i.call(s.success_scope||s.scope,f.result)},s.error=function(f,g){a&&a.call(s.error_scope||s.scope,f,g)},s.data=Z3.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),s.content_type="application/json",qy.send(s)},e}(),C$=function(){return function(){var e={},n=[],a={getItem:function(i){var s=e[i];return s||null},setItem:function(i,s){n.push(i),e[i]=String(s)},key:function(i){return n[i]},removeItem:function(i){n=n.filter(function(s){return s===i}),delete e[i]},clear:function(){n=[],e={}},length:0};return Object.defineProperty(a,"length",{get:function(){return n.length},configurable:!1,enumerable:!1}),a}()},Eh;try{var eA="__storage_test__";Eh=window.localStorage,Eh.setItem(eA,eA),Eh.removeItem(eA)}catch{Eh=C$()}var eB=Eh,x$={geom:{Rect:d$},util:{Promise:Fo,Delay:Lr,Tools:dt,VK:Bn,URI:_m,Class:Q_,EventDispatcher:j3,Observable:Rx,I18n:Rs,XHR:qy,JSON:Z3,JSONRequest:w$,JSONP:y$,LocalStorage:eB,Color:b$,ImageUploader:DE},dom:{EventUtils:ff,Sizzle:Fa,DomQuery:Ur,TreeWalker:jo,TextSeeker:Bw,DOMUtils:Ja,ScriptLoader:ea,RangeUtils:dm,Serializer:mE,StyleSheetLoader:Sr,ControlSelection:Ml,BookmarkManager:Mg,Selection:L4,Event:ff.Event},html:{Styles:Md,Entities:Ru,Node:rc,Schema:lf,SaxParser:Yg,DomParser:WC,Writer:uy,Serializer:nd},Env:Ln,AddOnManager:bu,Annotator:vm,Formatter:BE,UndoManager:bO,EditorCommands:Wy,WindowManager:uO,NotificationManager:xE,EditorObservable:G3,Shortcuts:V_,Editor:Fx,FocusManager:X0,EditorManager:pd,DOM:Ja.DOM,ScriptLoader:ea.ScriptLoader,PluginManager:rl,ThemeManager:sd,IconManager:Sm,Resource:h$,trim:dt.trim,isArray:dt.isArray,is:dt.is,toArray:dt.toArray,makeMap:dt.makeMap,each:dt.each,map:dt.map,grep:dt.grep,inArray:dt.inArray,extend:dt.extend,create:dt.create,walk:dt.walk,createNS:dt.createNS,resolve:dt.resolve,explode:dt.explode,_addCacheSuffix:dt._addCacheSuffix,isOpera:Ln.opera,isWebKit:Ln.webkit,isIE:Ln.ie,isGecko:Ln.gecko,isMac:Ln.mac},tA=dt.extend(pd,x$),S$=function(e){try{Le.exports=e}catch{}},tB=function(e){window.tinymce=e,window.tinyMCE=e};tB(tA),S$(tA)})()})(K6);var K9=K6.exports;(function(){var Le=function(){},qn=function(t){return function(){return t()}},tn=function(t,r){return function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return t(r.apply(null,o))}},bt=function(t,r){return function(o){return t(r(o))}},ve=function(t){return function(){return t}},rt=function(t){return t};function gn(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var c=[],v=0;v<arguments.length;v++)c[v]=arguments[v];var m=r.concat(c);return t.apply(null,m)}}var vn=function(t){return function(r){return!t(r)}},Ct=function(t){return function(){throw new Error(t)}},Et=ve(!1),Qe=ve(!0),Ze=tinymce.util.Tools.resolve("tinymce.ThemeManager"),te=function(){return te=Object.assign||function(r){for(var o,c=1,v=arguments.length;c<v;c++){o=arguments[c];for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&(r[m]=o[m])}return r},te.apply(this,arguments)};function vt(t,r){var o={};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&r.indexOf(c)<0&&(o[c]=t[c]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,c=Object.getOwnPropertySymbols(t);v<c.length;v++)r.indexOf(c[v])<0&&Object.prototype.propertyIsEnumerable.call(t,c[v])&&(o[c[v]]=t[c[v]]);return o}function q(){for(var t=0,r=0,o=arguments.length;r<o;r++)t+=arguments[r].length;for(var c=Array(t),v=0,r=0;r<o;r++)for(var m=arguments[r],p=0,w=m.length;p<w;p++,v++)c[v]=m[p];return c}var We=function(){return dn},dn=function(){var t=function(v){return v.isNone()},r=function(v){return v()},o=function(v){return v},c={fold:function(v,m){return v()},is:Et,isSome:Et,isNone:Qe,getOr:o,getOrThunk:r,getOrDie:function(v){throw new Error(v||"error: getOrDie called on none.")},getOrNull:ve(null),getOrUndefined:ve(void 0),or:o,orThunk:r,map:We,each:Le,bind:We,exists:Et,forall:Qe,filter:We,equals:t,equals_:t,toArray:function(){return[]},toString:ve("none()")};return c}(),Xe=function(t){var r=ve(t),o=function(){return v},c=function(m){return m(t)},v={fold:function(m,p){return p(t)},is:function(m){return t===m},isSome:Qe,isNone:Et,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:o,orThunk:o,map:function(m){return Xe(m(t))},each:function(m){m(t)},bind:c,exists:c,forall:c,filter:function(m){return m(t)?v:dn},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(m){return m.is(t)},equals_:function(m,p){return m.fold(Et,function(w){return p(t,w)})}};return v},cr=function(t){return t==null?dn:Xe(t)},S={some:Xe,none:We,from:cr},mn=function(t){var r=typeof t;return t===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},Pn=function(t){return function(r){return mn(r)===t}},hn=function(t){return function(r){return typeof r===t}},an=function(t){return function(r){return t===r}},$n=Pn("string"),Cr=Pn("object"),lr=Pn("array"),Me=hn("boolean"),z=an(void 0),Yt=function(t){return t==null},It=function(t){return!Yt(t)},In=hn("function"),zn=hn("number"),jn=function(t,r){if(lr(t)){for(var o=0,c=t.length;o<c;++o)if(!r(t[o]))return!1;return!0}return!1},yt=Array.prototype.slice,mt=Array.prototype.indexOf,fn=Array.prototype.push,Yr=function(t,r){return mt.call(t,r)},yr=function(t,r){var o=Yr(t,r);return o===-1?S.none():S.some(o)},Re=function(t,r){return Yr(t,r)>-1},ut=function(t,r){for(var o=0,c=t.length;o<c;o++){var v=t[o];if(r(v,o))return!0}return!1},kt=function(t,r){for(var o=[],c=0;c<t;c++)o.push(r(c));return o},Vt=function(t,r){for(var o=[],c=0;c<t.length;c+=r){var v=yt.call(t,c,c+r);o.push(v)}return o},we=function(t,r){for(var o=t.length,c=new Array(o),v=0;v<o;v++){var m=t[v];c[v]=r(m,v)}return c},Ye=function(t,r){for(var o=0,c=t.length;o<c;o++){var v=t[o];r(v,o)}},rn=function(t,r){for(var o=t.length-1;o>=0;o--){var c=t[o];r(c,o)}},qe=function(t,r){for(var o=[],c=[],v=0,m=t.length;v<m;v++){var p=t[v],w=r(p,v)?o:c;w.push(p)}return{pass:o,fail:c}},de=function(t,r){for(var o=[],c=0,v=t.length;c<v;c++){var m=t[c];r(m,c)&&o.push(m)}return o},Ue=function(t,r,o){return rn(t,function(c){o=r(o,c)}),o},ee=function(t,r,o){return Ye(t,function(c){o=r(o,c)}),o},ke=function(t,r,o){for(var c=0,v=t.length;c<v;c++){var m=t[c];if(r(m,c))return S.some(m);if(o(m,c))break}return S.none()},he=function(t,r){return ke(t,r,Et)},Pt=function(t,r){for(var o=0,c=t.length;o<c;o++){var v=t[o];if(r(v,o))return S.some(o)}return S.none()},pn=function(t){for(var r=[],o=0,c=t.length;o<c;++o){if(!lr(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);fn.apply(r,t[o])}return r},St=function(t,r){return pn(we(t,r))},ir=function(t,r){for(var o=0,c=t.length;o<c;++o){var v=t[o];if(r(v,o)!==!0)return!1}return!0},Rn=function(t){var r=yt.call(t,0);return r.reverse(),r},Zr=function(t,r){return de(t,function(o){return!Re(r,o)})},Ir=function(t,r){for(var o={},c=0,v=t.length;c<v;c++){var m=t[c];o[String(m)]=r(m,c)}return o},ba=function(t,r){var o=yt.call(t,0);return o.sort(r),o},zt=function(t,r){return r>=0&&r<t.length?S.some(t[r]):S.none()},pt=function(t){return zt(t,0)},Jt=function(t){return zt(t,t.length-1)},Kt=In(Array.from)?Array.from:function(t){return yt.call(t)},Xt=function(t,r){for(var o=0;o<t.length;o++){var c=r(t[o],o);if(c.isSome())return c}return S.none()},Nn=function(t){var r=function(F){return t===F},o=function(F){return Nn(t)},c=function(F){return Nn(t)},v=function(F){return Nn(F(t))},m=function(F){return Nn(t)},p=function(F){F(t)},w=function(F){return F(t)},x=function(F,Y){return Y(t)},k=function(F){return F(t)},O=function(F){return F(t)},_=function(){return S.some(t)};return{is:r,isValue:Qe,isError:Et,getOr:ve(t),getOrThunk:ve(t),getOrDie:ve(t),or:o,orThunk:c,fold:x,map:v,mapError:m,each:p,bind:w,exists:k,forall:O,toOptional:_}},dr=function(t){var r=function(k){return k()},o=function(){return Ct(String(t))()},c=function(k){return k},v=function(k){return k()},m=function(k){return dr(t)},p=function(k){return dr(k(t))},w=function(k){return dr(t)},x=function(k,O){return k(t)};return{is:Et,isValue:Et,isError:Qe,getOr:rt,getOrThunk:r,getOrDie:o,or:c,orThunk:v,fold:x,map:m,mapError:p,each:Le,bind:w,exists:Et,forall:Qe,toOptional:S.none}},Nt=function(t,r){return t.fold(function(){return dr(r)},Nn)},lt={value:Nn,error:dr,fromOption:Nt},Tn;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Tn||(Tn={}));var or=function(t,r,o){return t.stype===Tn.Error?r(t.serror):o(t.svalue)},zr=function(t){var r=[],o=[];return Ye(t,function(c){or(c,function(v){return o.push(v)},function(v){return r.push(v)})}),{values:r,errors:o}},Pr=function(t,r){return t.stype===Tn.Error?{stype:Tn.Error,serror:r(t.serror)}:t},na=function(t,r){return t.stype===Tn.Value?{stype:Tn.Value,svalue:r(t.svalue)}:t},Or=function(t,r){return t.stype===Tn.Value?r(t.svalue):t},xa=function(t,r){return t.stype===Tn.Error?r(t.serror):t},Ce=function(t){return{stype:Tn.Value,svalue:t}},et=function(t){return{stype:Tn.Error,serror:t}},Wt=function(t){return or(t,lt.error,lt.value)},Fn=function(t){return t.fold(et,Ce)},un={fromResult:Fn,toResult:Wt,svalue:Ce,partition:zr,serror:et,bind:Or,bindError:xa,map:na,mapError:Pr,fold:or},fr=Object.keys,ya=Object.hasOwnProperty,Nr=function(t,r){for(var o=fr(t),c=0,v=o.length;c<v;c++){var m=o[c],p=t[m];r(p,m)}},kr=function(t,r){return qa(t,function(o,c){return{k:c,v:r(o,c)}})},qa=function(t,r){var o={};return Nr(t,function(c,v){var m=r(c,v);o[m.k]=m.v}),o},Ro=function(t){return function(r,o){t[o]=r}},Ta=function(t,r,o,c){var v={};return Nr(t,function(m,p){(r(m,p)?o:c)(m,p)}),v},Ko=function(t,r){var o={};return Ta(t,r,Ro(o),Le),o},Oa=function(t,r){var o=[];return Nr(t,function(c,v){o.push(r(c,v))}),o},ho=function(t,r){for(var o=fr(t),c=0,v=o.length;c<v;c++){var m=o[c],p=t[m];if(r(p,m,t))return S.some(p)}return S.none()},ao=function(t){return Oa(t,function(r){return r})},ur=function(t,r){return ua(t,r)?S.from(t[r]):S.none()},ua=function(t,r){return ya.call(t,r)},Pa=function(t,r){return ua(t,r)&&t[r]!==void 0&&t[r]!==null},Ga=function(t){if(!lr(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var r=[],o={};return Ye(t,function(c,v){var m=fr(c);if(m.length!==1)throw new Error("one and only one name per case");var p=m[0],w=c[p];if(o[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!lr(w))throw new Error("case arguments must be an array");r.push(p),o[p]=function(){for(var x=[],k=0;k<arguments.length;k++)x[k]=arguments[k];var O=x.length;if(O!==w.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+w.length+" ("+w+"), got "+O);var _=function(F){var Y=fr(F);if(r.length!==Y.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+Y.join(","));var ae=ir(r,function(ne){return Re(Y,ne)});if(!ae)throw new Error("Not all branches were specified when using match. Specified: "+Y.join(", ")+`
Required: `+r.join(", "));return F[p].apply(null,x)};return{fold:function(){for(var F=[],Y=0;Y<arguments.length;Y++)F[Y]=arguments[Y];if(F.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+F.length);var ae=F[v];return ae.apply(null,x)},match:_,log:function(F){console.log(F,{constructors:r,constructor:p,params:x})}}}}),o},Gn={generate:Ga},oo=Object.prototype.hasOwnProperty,mo=function(t,r){return r},Po=function(t,r){var o=Cr(t)&&Cr(r);return o?Gr(t,r):r},yo=function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(r.length===0)throw new Error("Can't merge zero objects");for(var c={},v=0;v<r.length;v++){var m=r[v];for(var p in m)oo.call(m,p)&&(c[p]=t(c[p],m[p]))}return c}},Gr=yo(Po),wo=yo(mo),lo=function(t){var r=!1,o;return function(){for(var c=[],v=0;v<arguments.length;v++)c[v]=arguments[v];return r||(r=!0,o=t.apply(null,c)),o}},po=Gn.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),Ho=function(t){return po.defaultedThunk(ve(t))},Vo=function(t){return po.mergeWithThunk(ve(t))},Wa=po.strict,No=po.asOption,ce=po.defaultedThunk;po.asDefaultedOptionThunk;var I=po.mergeWithThunk;Gn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var W=function(t){var r=[],o=[];return Ye(t,function(c){c.fold(function(v){r.push(v)},function(v){o.push(v)})}),{errors:r,values:o}},le=function(t,r){var o={};return Nr(t,function(c,v){Re(r,v)||(o[v]=c)}),o},De=function(t,r){var o;return o={},o[t]=r,o},Pe=function(t){var r={};return Ye(t,function(o){r[o.key]=o.value}),r},tt=function(t,r){return le(t,r)},$=function(t,r){return De(t,r)},Z=function(t){return Pe(t)},ye=function(t,r){return t.length===0?lt.value(r):lt.value(Gr(r,wo.apply(void 0,t)))},ue=function(t){return lt.error(pn(t))},Ge=function(t,r){var o=W(t);return o.errors.length>0?ue(o.errors):ye(o.values,r)},Je=function(t,r){return t.length>0?un.svalue(Gr(r,wo.apply(void 0,t))):un.svalue(r)},yn=function(t){return tn(un.serror,pn)(t)},Jn=function(t,r){var o=un.partition(t);return o.errors.length>0?yn(o.errors):Je(o.values,r)},$t=function(t){var r=un.partition(t);return r.errors.length>0?yn(r.errors):un.svalue(r.values)},Zn={consolidateObj:Jn,consolidateArr:$t},K=function(t){return Cr(t)&&fr(t).length>100?" removed due to size":JSON.stringify(t,null,2)},xe=function(t){var r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):t;return we(r,function(o){return"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo()})},Oe=function(t,r){return un.serror([{path:t,getErrorInfo:r}])},at=function(t,r,o){return Oe(t,function(){return'Could not find valid *strict* value for "'+r+'" in '+K(o)})},kn=function(t,r){return Oe(t,function(){return'Choice schema did not contain choice key: "'+r+'"'})},Dn=function(t,r,o){return Oe(t,function(){return'The chosen schema: "'+o+'" did not exist in branches: '+K(r)})},re=function(t,r){return Oe(t,function(){return"There are unsupported fields: ["+r.join(", ")+"] specified"})},_e=function(t,r){return Oe(t,function(){return r})},ct=Gn.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),Qt=function(t,r,o){return ur(r,o).fold(function(){return at(t,o,r)},un.svalue)},Sn=function(t,r,o){var c=ur(t,r).fold(function(){return o(t)},rt);return un.svalue(c)},Ut=function(t,r){return un.svalue(ur(t,r))},vr=function(t,r,o){var c=ur(t,r).map(function(v){return v===!0?o(t):v});return un.svalue(c)},gr=function(t,r,o,c){return o.fold(function(v,m,p,w){var x=function(O){var _=w.extract(t.concat([v]),c,O);return un.map(_,function(F){return De(m,c(F))})},k=function(O){return O.fold(function(){var _=De(m,c(S.none()));return un.svalue(_)},function(_){var F=w.extract(t.concat([v]),c,_);return un.map(F,function(Y){return De(m,c(S.some(Y)))})})};return function(){return p.fold(function(){return un.bind(Qt(t,r,v),x)},function(O){return un.bind(Sn(r,v,O),x)},function(){return un.bind(Ut(r,v),k)},function(O){return un.bind(vr(r,v,O),k)},function(O){var _=O(r),F=un.map(Sn(r,v,ve({})),function(Y){return Gr(_,Y)});return un.bind(F,x)})}()},function(v,m){var p=m(r);return un.svalue(De(v,c(p)))})},Fr=function(t,r,o,c){var v=we(o,function(m){return gr(t,r,m,c)});return Zn.consolidateObj(v,{})},wa=function(t){var r=function(c,v,m){return t().extract(c,v,m)},o=function(){return t().toString()};return{extract:r,toString:o}},j=function(t){var r=function(c,v,m){return un.bindError(t(m,v),function(p){return _e(c,p)})},o=function(){return"val"};return{extract:r,toString:o}},Fe=function(t){return fr(Ko(t,function(r){return r!=null}))},Ie=function(t){var r=Be(t),o=Ue(t,function(v,m){return m.fold(function(p){return Gr(v,$(p,!0))},ve(v))},{}),c=function(v,m,p){var w=Me(p)?[]:Fe(p),x=de(w,function(k){return!Pa(o,k)});return x.length===0?r.extract(v,m,p):re(v,x)};return{extract:c,toString:r.toString}},Be=function(t){var r=function(c,v,m){return Fr(c,m,t,v)},o=function(){var c=we(t,function(v){return v.fold(function(m,p,w,x){return m+" -> "+x.toString()},function(m,p){return"state("+m+")"})});return`obj{
`+c.join(`
`)+"}"};return{extract:r,toString:o}},qt=function(t){var r=function(c,v,m){var p=we(m,function(w,x){return t.extract(c.concat(["["+x+"]"]),v,w)});return Zn.consolidateArr(p)},o=function(){return"array("+t.toString()+")"};return{extract:r,toString:o}},mr=function(t){var r=function(c,v,m){for(var p=[],w=0,x=t;w<x.length;w++){var k=x[w],O=k.extract(c,v,m);if(O.stype===Tn.Value)return O;p.push(O)}return Zn.consolidateArr(p)},o=function(){return"oneOf("+we(t,function(c){return c.toString()}).join(", ")+")"};return{extract:r,toString:o}},sa=function(t,r){var o=function(m,p){return qt(j(t)).extract(m,rt,p)},c=function(m,p,w){var x=fr(w),k=o(m,x);return un.bind(k,function(O){var _=we(O,function(F){return ct.field(F,F,Wa(),r)});return Be(_).extract(m,p,w)})},v=function(){return"setOf("+r.toString()+")"};return{extract:c,toString:v}},la=function(t,r){var o=lo(function(){return r()}),c=function(m,p,w){return o().extract(m,p,w)},v=function(){return o().toString()};return{extract:c,toString:v}},Qr=ve(j(un.svalue)),uo=tn(qt,Be),oa=ct.state,ra=ct.field,bi=function(t,r,o,c,v){var m=ur(c,v);return m.fold(function(){return Dn(t,c,v)},function(p){return p.extract(t.concat(["branch: "+v]),r,o)})},Yl=function(t,r){var o=function(v,m,p){var w=ur(p,t);return w.fold(function(){return kn(v,t)},function(x){return bi(v,m,p,r,x)})},c=function(){return"chooseOn("+t+"). Possible values: "+fr(r)};return{extract:o,toString:c}},Jl=j(un.svalue),bd=function(t){return uo(t)},Ln=function(){return qt(Jl)},Kf=wa,Oi=function(t){return j(function(r){return t(r).fold(un.serror,un.svalue)})},Zl=function(t,r){return sa(function(o){return un.fromResult(t(o))},r)},Ls=function(t,r,o,c){var v=r.extract([t],o,c);return un.mapError(v,function(m){return{input:c,errors:m}})},Ba=function(t,r,o){return un.toResult(Ls(t,r,rt,o))},ju=function(t){return t.fold(function(r){throw new Error(ds(r))},rt)},Uo=function(t,r,o){return ju(Ba(t,r,o))},ds=function(t){return`Errors: 
`+xe(t.errors).join(`
`)+`

Input object: `+K(t.input)},fu=function(t,r){return Yl(t,r)},yi=function(t,r){return Yl(t,kr(r,Be))},$m=function(t,r){return la(t,r)},Di=ve(Jl),dt=function(t,r){return j(function(o){var c=typeof o;return t(o)?un.svalue(o):un.serror("Expected type: "+r+" but got: "+c)})},Xf=dt(zn,"number"),bo=dt($n,"string"),fc=dt(Me,"boolean"),B=dt(In,"function"),oe=function(t){var r=function(o,c){for(var v=o.next();!v.done;){if(!c(v.value))return!1;v=o.next()}return!0};if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(o){return oe(t[o])});case"Map":return r(t.keys(),oe)&&r(t.values(),oe);case"Set":return r(t.keys(),oe);default:return!1}},L=j(function(t){return oe(t)?un.svalue(t):un.serror("Expected value to be acceptable for sending via postMessage")}),st=function(t){return Oi(function(r){return Re(t,r)?lt.value(r):lt.error('Unsupported value: "'+r+'", choose one of "'+t.join(", ")+'".')})},Ee=function(t){return ra(t,t,Wa(),Qr())},sr=function(t,r){return ra(t,t,Wa(),r)},Da=function(t){return sr(t,Xf)},nr=function(t){return sr(t,bo)},ai=function(t,r){return ra(t,t,Wa(),st(r))},vu=function(t){return sr(t,fc)},Eo=function(t){return sr(t,B)},_i=function(t,r){return ra(t,t,No(),j(function(o){return un.serror("The field: "+t+" is forbidden. "+r)}))},ms=function(t,r){return ra(t,t,Wa(),Be(r))},Yf=function(t,r){return ra(t,t,Wa(),uo(r))},du=function(t,r){return ra(t,t,Wa(),qt(r))},xr=function(t){return ra(t,t,No(),Qr())},oi=function(t,r){return ra(t,t,No(),r)},Nc=function(t){return oi(t,Xf)},ia=function(t){return oi(t,bo)},Na=function(t){return oi(t,B)},Im=function(t,r){return oi(t,qt(r))},Xo=function(t,r){return oi(t,Be(r))},yd=function(t,r){return oi(t,Ie(r))},$e=function(t,r){return ra(t,t,Ho(r),Qr())},Ao=function(t,r,o){return ra(t,t,Ho(r),o)},vc=function(t,r){return Ao(t,r,Xf)},dl=function(t,r){return Ao(t,r,bo)},Eu=function(t,r,o){return Ao(t,r,st(o))},fa=function(t,r){return Ao(t,r,fc)},no=function(t,r){return Ao(t,r,B)},Mo=function(t,r){return Ao(t,r,L)},ii=function(t,r,o){return Ao(t,r,qt(o))},qu=function(t,r,o){return Ao(t,r,Be(o))},Co=function(t,r){return oa(t,r)},Zt=function(t){var r=t,o=function(){return r},c=function(v){r=v};return{get:o,set:c}},gs=function(t,r){var o=r||document,c=o.createElement("div");if(c.innerHTML=t,!c.hasChildNodes()||c.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Yo(c.childNodes[0])},hs=function(t,r){var o=r||document,c=o.createElement(t);return Yo(c)},ml=function(t,r){var o=r||document,c=o.createTextNode(t);return Yo(c)},Yo=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Oo=function(t,r,o){return S.from(t.dom.elementFromPoint(r,o)).map(Yo)},_n={fromHtml:gs,fromTag:hs,fromText:ml,fromDom:Yo,fromPoint:Oo},ps=function(t,r,o,c){var v=t.isiOS()&&/ipad/i.test(o)===!0,m=t.isiOS()&&!v,p=t.isiOS()||t.isAndroid(),w=p||c("(pointer:coarse)"),x=v||!m&&p&&c("(min-device-width:768px)"),k=m||p&&!x,O=r.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,_=!k&&!x&&!O;return{isiPad:ve(v),isiPhone:ve(m),isTablet:ve(x),isPhone:ve(k),isTouch:ve(w),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:ve(O),isDesktop:ve(_)}},zm=function(t,r){for(var o=0;o<t.length;o++){var c=t[o];if(c.test(r))return c}},Hs=function(t,r){var o=zm(t,r);if(!o)return{major:0,minor:0};var c=function(v){return Number(r.replace(o,"$"+v))};return bs(c(1),c(2))},Gu=function(t,r){var o=String(r).toLowerCase();return t.length===0?Lm():Hs(t,o)},Lm=function(){return bs(0,0)},bs=function(t,r){return{major:t,minor:r}},Au={nu:bs,detect:Gu,unknown:Lm},wd=function(t,r){var o=String(r).toLowerCase();return he(t,function(c){return c.search(o)})},Hm=function(t,r){return wd(t,r).map(function(o){var c=Au.detect(o.versionRegexes,r);return{current:o.name,version:c}})},Cd=function(t,r){return wd(t,r).map(function(o){var c=Au.detect(o.versionRegexes,r);return{current:o.name,version:c}})},Ql={detectBrowser:Hm,detectOs:Cd},Vm=function(t,r,o){return r===""||t.length>=r.length&&t.substr(o,o+r.length)===r},Ya=function(t,r){return t.indexOf(r)!==-1},Vs=function(t,r){return Vm(t,r,t.length-r.length)},Oh=function(t){return function(r){return r.replace(t,"")}},Jo=Oh(/^\s+|\s+$/g),dc=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ys=function(t){return function(r){return Ya(r,t)}},io=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Ya(t,"edge/")&&Ya(t,"chrome")&&Ya(t,"safari")&&Ya(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,dc],search:function(t){return Ya(t,"chrome")&&!Ya(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Ya(t,"msie")||Ya(t,"trident")}},{name:"Opera",versionRegexes:[dc,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ys("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ys("firefox")},{name:"Safari",versionRegexes:[dc,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Ya(t,"safari")||Ya(t,"mobile/"))&&Ya(t,"applewebkit")}}],ef=[{name:"Windows",search:ys("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Ya(t,"iphone")||Ya(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ys("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ys("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ys("linux"),versionRegexes:[]},{name:"Solaris",search:ys("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ys("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ys("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Zo={browsers:ve(io),oses:ve(ef)},xd="Edge",gl="Chrome",Jf="IE",hl="Opera",Sd="Firefox",Mc="Safari",Zf=function(){return Qf({current:void 0,version:Au.unknown()})},Qf=function(t){var r=t.current,o=t.version,c=function(v){return function(){return r===v}};return{current:r,version:o,isEdge:c(xd),isChrome:c(gl),isIE:c(Jf),isOpera:c(hl),isFirefox:c(Sd),isSafari:c(Mc)}},ev={unknown:Zf,nu:Qf,edge:ve(xd),chrome:ve(gl),ie:ve(Jf),opera:ve(hl),firefox:ve(Sd),safari:ve(Mc)},Ou="Windows",Wi="iOS",Du="Android",Bi="Linux",tf="OSX",Fc="Solaris",ws="FreeBSD",Hr="ChromeOS",Ku=function(){return pl({current:void 0,version:Au.unknown()})},pl=function(t){var r=t.current,o=t.version,c=function(v){return function(){return r===v}};return{current:r,version:o,isWindows:c(Ou),isiOS:c(Wi),isAndroid:c(Du),isOSX:c(tf),isLinux:c(Bi),isSolaris:c(Fc),isFreeBSD:c(ws),isChromeOS:c(Hr)}},Td={unknown:Ku,nu:pl,windows:ve(Ou),ios:ve(Wi),android:ve(Du),linux:ve(Bi),osx:ve(tf),solaris:ve(Fc),freebsd:ve(ws),chromeos:ve(Hr)},I1=function(t,r){var o=Zo.browsers(),c=Zo.oses(),v=Ql.detectBrowser(o,t).fold(ev.unknown,ev.nu),m=Ql.detectOs(c,t).fold(Td.unknown,Td.nu),p=ps(m,v,t,r);return{browser:v,os:m,deviceType:p}},bl={detect:I1},z1=function(t){return window.matchMedia(t).matches},nf=lo(function(){return bl.detect(navigator.userAgent,z1)}),Xu=function(){return nf()},A=function(t,r,o){return(t.compareDocumentPosition(r)&o)!==0},M=function(t,r){return A(t,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},V=9,ge=11,He=1,Dt=3,ar=function(t,r){var o=t.dom;if(o.nodeType!==He)return!1;var c=o;if(c.matches!==void 0)return c.matches(r);if(c.msMatchesSelector!==void 0)return c.msMatchesSelector(r);if(c.webkitMatchesSelector!==void 0)return c.webkitMatchesSelector(r);if(c.mozMatchesSelector!==void 0)return c.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},Rr=function(t){return t.nodeType!==He&&t.nodeType!==V&&t.nodeType!==ge||t.childElementCount===0},_r=function(t,r){var o=r===void 0?document:r.dom;return Rr(o)?[]:we(o.querySelectorAll(t),_n.fromDom)},Ea=function(t,r){var o=r===void 0?document:r.dom;return Rr(o)?S.none():S.from(o.querySelector(t)).map(_n.fromDom)},Vr=function(t,r){return t.dom===r.dom},ji=function(t,r){var o=t.dom,c=r.dom;return o===c?!1:o.contains(c)},Dh=function(t,r){return M(t.dom,r.dom)},Us=function(t,r){return Xu().browser.isIE()?Dh(t,r):ji(t,r)},mc=function(t){return In(t)?t:Et},kd=function(t,r,o){for(var c=t.dom,v=mc(o);c.parentNode;){c=c.parentNode;var m=_n.fromDom(c),p=r(m);if(p.isSome())return p;if(v(m))break}return S.none()},Ed=function(t,r,o){var c=r(t),v=mc(o);return c.orThunk(function(){return v(t)?S.none():kd(t,r,v)})},Um=function(t,r){return Vr(t.element,r.event.target)},mu=function(t){if(!Pa(t,"can")&&!Pa(t,"abort")&&!Pa(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return Uo("Extracting event.handler",Ie([$e("can",Qe),$e("abort",Et),$e("run",Le)]),t)},L1=function(t,r){return function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return ee(t,function(v,m){return v&&r(m).apply(void 0,o)},!0)}},Wo=function(t,r){return function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return ee(t,function(v,m){return v||r(m).apply(void 0,o)},!1)}},Zx=function(t){return In(t)?{can:Qe,abort:Et,run:t}:t},yl=function(t){var r=L1(t,function(v){return v.can}),o=Wo(t,function(v){return v.abort}),c=function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];Ye(t,function(p){p.run.apply(void 0,v)})};return mu({can:r,abort:o,run:c})},Ri=ve,qi=Ri("touchstart"),rf=Ri("touchmove"),nu=Ri("touchend"),Yy=Ri("touchcancel"),Cs=Ri("mousedown"),Ad=Ri("mousemove"),tv=Ri("mouseout"),_h=Ri("mouseup"),wl=Ri("mouseover"),Cl=Ri("focusin"),Wm=Ri("focusout"),Od=Ri("keydown"),Qx=Ri("keyup"),Dd=Ri("input"),jm=Ri("change"),$c=Ri("click"),H1=Ri("transitionend"),eS=Ri("selectstart"),xo=function(t){return ve("alloy."+t)},Jy={tap:xo("tap")},Ic=xo("focus"),af=xo("blur.post"),xl=xo("paste.post"),zc=xo("receive"),ru=xo("execute"),qm=xo("focus.item"),xs=Jy.tap,Zy=xo("longpress"),Gm=xo("sandbox.close"),of=xo("typeahead.cancel"),nv=xo("system.init"),tS=xo("system.touchmove"),Sl=xo("system.touchend"),uf=xo("system.scroll"),Tl=xo("system.resize"),kl=xo("system.attached"),Km=xo("system.detached"),Fo=xo("system.dismissRequested"),Bh=xo("system.repositionRequested"),Qy=xo("focusmanager.shifted"),_d=xo("slotcontainer.visibility"),Rh=xo("change.tab"),rv=xo("dismiss.tab"),ew=xo("highlight"),Ph=xo("dehighlight"),Lr=function(t,r){jo(t,t.element,r,{})},Sr=function(t,r,o){jo(t,t.element,r,o)},av=function(t){Lr(t,ru())},Xm=function(t,r,o){jo(t,r,o,{})},jo=function(t,r,o,c){var v=te({target:r},c);t.getSystem().triggerEvent(o,r,v)},V1=function(t,r,o,c){t.getSystem().triggerEvent(o,r,c.event)},ma=function(t){return Z(t)},Nh=function(t,r){return{key:t,value:mu({abort:r})}},U1=function(t,r){return{key:t,value:mu({can:r})}},W1=function(t){return{key:t,value:mu({run:function(r,o){o.event.prevent()}})}},_t=function(t,r){return{key:t,value:mu({run:r})}},j1=function(t,r,o){return{key:t,value:mu({run:function(c,v){r.apply(void 0,[c,v].concat(o))}})}},tw=function(t){return function(r){return _t(t,r)}},gc=function(t){return function(r){return{key:t,value:mu({run:function(o,c){Um(o,c)&&r(o,c)}})}}},nw=function(t,r){return _t(t,function(o,c){o.getSystem().getByUid(r).each(function(v){V1(v,v.element,t,c)})})},Gi=function(t,r,o){var c=r.partUids[o];return nw(t,c)},Mh=function(t,r){return _t(t,function(o,c){var v=c.event,m=o.getSystem().getByDom(v.target).fold(function(){var p=Ed(v.target,function(w){return o.getSystem().getByDom(w).toOptional()},Et);return p.getOr(o)},function(p){return p});r(o,m,c)})},Lc=function(t){return _t(t,function(r,o){o.cut()})},Yu=function(t){return _t(t,function(r,o){o.stop()})},ov=function(t,r){return gc(t)(r)},so=gc(kl()),au=gc(Km()),nS=gc(nv()),Ss=tw(ru());typeof window!="undefined"||Function("return this;")();var Ju=function(t){var r=t.dom.nodeName;return r.toLowerCase()},rw=function(t){return t.dom.nodeType},iv=function(t){return function(r){return rw(r)===t}},ui=iv(He),uv=iv(Dt),q1=iv(V),Pi=iv(ge),Ts=function(t){return _n.fromDom(t.dom.ownerDocument)},ks=function(t){return q1(t)?t:Ts(t)},G1=function(t){return _n.fromDom(ks(t).dom.documentElement)},hc=function(t){return _n.fromDom(ks(t).dom.defaultView)},wi=function(t){return S.from(t.dom.parentNode).map(_n.fromDom)},Bd=function(t){return wi(t)},gu=function(t){return S.from(t.dom.offsetParent).map(_n.fromDom)},Ym=function(t){return S.from(t.dom.nextSibling).map(_n.fromDom)},pc=function(t){return we(t.dom.childNodes,_n.fromDom)},Jm=function(t,r){var o=t.dom.childNodes;return S.from(o[r]).map(_n.fromDom)},K1=function(t){return Jm(t,0)},X1=function(t){return Pi(t)&&It(t.dom.host)},Y1=In(Element.prototype.attachShadow)&&In(Node.prototype.getRootNode),Fh=ve(Y1),qo=Y1?function(t){return _n.fromDom(t.dom.getRootNode())}:ks,$h=function(t){return X1(t)?t:_n.fromDom(ks(t).dom.body)},J1=function(t){return aw(t).isSome()},aw=function(t){var r=qo(t);return X1(r)?S.some(r):S.none()},Ih=function(t){return _n.fromDom(t.dom.host)},zh=function(t){if(Fh()&&It(t.target)){var r=_n.fromDom(t.target);if(ui(r)&&Z1(r)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return pt(o)}}return S.from(t.target)},Z1=function(t){return It(t.dom.shadowRoot)},Lh=function(t,r){var o=wi(t);o.each(function(c){c.dom.insertBefore(r.dom,t.dom)})},ow=function(t,r){var o=Ym(t);o.fold(function(){var c=wi(t);c.each(function(v){_u(v,r)})},function(c){Lh(c,r)})},Q1=function(t,r){var o=K1(t);o.fold(function(){_u(t,r)},function(c){t.dom.insertBefore(r.dom,c.dom)})},_u=function(t,r){t.dom.appendChild(r.dom)},rS=function(t,r,o){Jm(t,o).fold(function(){_u(t,r)},function(c){Lh(c,r)})},Hc=function(t,r){Ye(r,function(o){Lh(t,o)})},iw=function(t,r){Ye(r,function(o){_u(t,o)})},Zm=function(t){t.dom.textContent="",Ye(pc(t),function(r){sf(r)})},sf=function(t){var r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},sv=function(t){var r=pc(t);r.length>0&&Hc(t,r),sf(t)},uw=function(t,r){var o=r||document,c=o.createElement("div");return c.innerHTML=t,pc(_n.fromDom(c))},Rd=function(t){return t.dom.innerHTML},Qm=function(t,r){var o=Ts(t),c=o.dom,v=_n.fromDom(c.createDocumentFragment()),m=uw(r,c);iw(v,m),Zm(t),_u(t,v)},cv=function(t){var r=_n.fromTag("div"),o=_n.fromDom(t.dom.cloneNode(!0));return _u(r,o),Rd(r)},sw=function(t,r,o){if($n(o)||Me(o)||zn(o))t.setAttribute(r,o+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},ga=function(t,r,o){sw(t.dom,r,o)},cw=function(t,r){var o=t.dom;Nr(r,function(c,v){sw(o,v,c)})},Ci=function(t,r){var o=t.dom.getAttribute(r);return o===null?void 0:o},lv=function(t,r){return S.from(Ci(t,r))},lw=function(t,r){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(r):!1},Bu=function(t,r){t.dom.removeAttribute(r)},aS=function(t,r){return _n.fromDom(t.dom.cloneNode(r))},Zu=function(t){return aS(t,!1)},oS=function(t){if(X1(t))return"#shadow-root";var r=Zu(t);return cv(r)},El=function(t){return oS(t)},iS=function(t,r,o){return Vr(r,t.element)&&!Vr(r,o)},eb=ma([U1(Ic(),function(t,r){var o=r.event,c=o.originator,v=o.target;return iS(t,c,v)?(console.warn(Ic()+` did not get interpreted by the desired target. 
Originator: `+El(c)+`
Target: `+El(v)+`
Check the `+Ic()+" event handlers"),!1):!0})]),fw=Object.freeze({__proto__:null,events:eb}),vw=0,Qn=function(t){var r=new Date,o=r.getTime(),c=Math.floor(Math.random()*1e9);return vw++,t+"_"+c+vw+String(o)},tb=ve("alloy-id-"),dw=ve("data-alloy-id"),Hh=tb(),fv=dw(),nb=function(t,r){var o=Qn(Hh+t);return Vh(r,o),o},Vh=function(t,r){Object.defineProperty(t.dom,fv,{value:r,writable:!0})},eg=function(t){var r=ui(t)?t.dom[fv]:null;return S.from(r)},bc=function(t){return Qn(t)},rb=rt,tg=function(t){var r=function(o){return function(){throw new Error("The component must be in a context to send: "+o+(t?`
`+El(t().element)+" is not in context.":""))}};return{debugInfo:ve("fake"),triggerEvent:r("triggerEvent"),triggerFocus:r("triggerFocus"),triggerEscape:r("triggerEscape"),build:r("build"),addToWorld:r("addToWorld"),removeFromWorld:r("removeFromWorld"),addToGui:r("addToGui"),removeFromGui:r("removeFromGui"),getByUid:r("getByUid"),getByDom:r("getByDom"),broadcast:r("broadcast"),broadcastOn:r("broadcastOn"),broadcastEvent:r("broadcastEvent"),isConnected:Et}},mw=tg(),ab=function(t,r,o){var c=o.toString(),v=c.indexOf(")")+1,m=c.indexOf("("),p=c.substring(m+1,v-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:hu(p.slice(0,1).concat(p.slice(3)))}},t},hu=function(t){return we(t,function(r){return Vs(r,"/*")?r.substring(0,r.length-2):r})},Uh=function(t,r){var o=t.toString(),c=o.indexOf(")")+1,v=o.indexOf("("),m=o.substring(v+1,c-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:hu(m)}},t},ob=function(t,r){var o=r.toString(),c=o.indexOf(")")+1,v=o.indexOf("("),m=o.substring(v+1,c-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:hu(m.slice(1))}},t},Pd=Qn("alloy-premade"),gw=function(t){return $(Pd,t)},uS=function(t){return ur(t,Pd)},Ru=function(t){return ob(function(r){for(var o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];return t.apply(void 0,q([r.getApis(),r],o))},t)},Ki={init:function(){return Es({readState:function(){return"No State required"}})}},Es=function(t){return t},Nd=function(t,r){var o=we(r,function(v){return Xo(v.name(),[Ee("config"),$e("state",Ki)])}),c=Ba("component.behaviours",Be(o),t.behaviours).fold(function(v){throw new Error(ds(v)+`
Complete spec:
`+JSON.stringify(t,null,2))},function(v){return v});return{list:r,data:kr(c,function(v){var m=v.map(function(p){return{config:p.config,state:p.state.init(p.config)}});return function(){return m}})}},ou=function(t){return t.list},ib=function(t){return t.data},ub=function(t,r){var o={};return Nr(t,function(c,v){Nr(c,function(m,p){var w=ur(o,p).getOr([]);o[p]=w.concat([r(v,m)])})}),o},Ws=function(t){return{classes:t.classes!==void 0?t.classes:[],attributes:t.attributes!==void 0?t.attributes:{},styles:t.styles!==void 0?t.styles:{}}},xi=function(t,r){return te(te({},t),{attributes:te(te({},t.attributes),r.attributes),styles:te(te({},t.styles),r.styles),classes:t.classes.concat(r.classes)})},cf=function(t,r,o,c){var v=te({},r);Ye(o,function(O){v[O.name()]=O.exhibit(t,c)});var m=ub(v,function(O,_){return{name:O,modification:_}}),p=function(O){return Ue(O,function(_,F){return te(te({},F.modification),_)},{})},w=Ue(m.classes,function(O,_){return _.modification.concat(O)},[]),x=p(m.attributes),k=p(m.styles);return Ws({classes:w,attributes:x,styles:k})},sb=function(t,r,o,c){try{var v=ba(o,function(m,p){var w=m[r],x=p[r],k=c.indexOf(w),O=c.indexOf(x);if(k===-1)throw new Error("The ordering for "+t+" does not have an entry for "+w+`.
Order specified: `+JSON.stringify(c,null,2));if(O===-1)throw new Error("The ordering for "+t+" does not have an entry for "+x+`.
Order specified: `+JSON.stringify(c,null,2));return k<O?-1:O<k?1:0});return lt.value(v)}catch(m){return lt.error([m])}},lf=function(t,r){return{handler:t,purpose:r}},cb=function(t,r){return{cHandler:t,purpose:r}},Md=function(t,r){return cb(gn.apply(void 0,[t.handler].concat(r)),t.purpose)},ng=function(t){return t.cHandler},sS=function(t,r){return{name:t,handler:r}},cS=function(t,r){var o={};return Ye(t,function(c){o[c.name()]=c.handlers(r)}),o},lb=function(t,r,o){var c=te(te({},o),cS(r,t));return ub(c,sS)},Wh=function(t,r,o,c){var v=lb(t,o,c);return hw(v,r)},vv=function(t){var r=Zx(t);return function(o,c){for(var v=[],m=2;m<arguments.length;m++)v[m-2]=arguments[m];var p=[o,c].concat(v);r.abort.apply(void 0,p)?c.stop():r.can.apply(void 0,p)&&r.run.apply(void 0,p)}},fb=function(t,r){return lt.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(we(r,function(o){return o.name}),null,2)])},jh=function(t,r,o){var c=r[o];return c?sb("Event: "+o,"name",t,c).map(function(v){var m=we(v,function(p){return p.handler});return yl(m)}):fb(o,t)},hw=function(t,r){var o=Oa(t,function(c,v){var m=c.length===1?lt.value(c[0].handler):jh(c,r,v);return m.map(function(p){var w=vv(p),x=c.length>1?de(r[v],function(k){return ut(c,function(O){return O.name===k})}).join(" > "):c[0].name;return $(v,lf(w,x))})});return Ge(o,{})},js="alloy.base.behaviour",lS=function(t){var r;return Ba("custom.definition",Be([ra("dom","dom",Wa(),Be([Ee("tag"),$e("styles",{}),$e("classes",[]),$e("attributes",{}),xr("value"),xr("innerHtml")])),Ee("components"),Ee("uid"),$e("events",{}),$e("apis",{}),ra("eventOrder","eventOrder",Vo((r={},r[ru()]=["disabling",js,"toggling","typeaheadevents"],r[Ic()]=[js,"focusing","keying"],r[nv()]=[js,"disabling","toggling","representing"],r[Dd()]=[js,"representing","streaming","invalidating"],r[Km()]=[js,"representing","item-events","tooltipping"],r[Cs()]=["focusing",js,"item-type-events"],r[qi()]=["focusing",js,"item-type-events"],r[wl()]=["item-type-events","tooltipping"],r[zc()]=["receiving","reflecting","tooltipping"],r)),Di()),xr("domModification")]),t)},ff=function(t){return te(te({},t.dom),{uid:t.uid,domChildren:we(t.components,function(r){return r.element})})},si=function(t){return t.domModification.fold(function(){return Ws({})},Ws)},ro=function(t){return t.events},dv=function(t,r){var o=Ci(t,r);return o===void 0||o===""?[]:o.split(" ")},mv=function(t,r,o){var c=dv(t,r),v=c.concat([o]);return ga(t,r,v.join(" ")),!0},yc=function(t,r,o){var c=de(dv(t,r),function(v){return v!==o});return c.length>0?ga(t,r,c.join(" ")):Bu(t,r),!1},gv=function(t){return t.dom.classList!==void 0},vb=function(t){return dv(t,"class")},Fd=function(t,r){return mv(t,"class",r)},vf=function(t,r){return yc(t,"class",r)},ja=function(t,r){gv(t)?t.dom.classList.add(r):Fd(t,r)},Qu=function(t){var r=gv(t)?t.dom.classList:vb(t);r.length===0&&Bu(t,"class")},Va=function(t,r){if(gv(t)){var o=t.dom.classList;o.remove(r)}else vf(t,r);Qu(t)},es=function(t,r){return gv(t)&&t.dom.classList.contains(r)},ts=function(t,r){Ye(r,function(o){ja(t,o)})},go=function(t,r){Ye(r,function(o){Va(t,o)})},As=function(t){return t.style!==void 0&&In(t.style.getPropertyValue)},wc=function(t){var r=uv(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;var o=r.ownerDocument;return aw(_n.fromDom(r)).fold(function(){return o.body.contains(r)},bt(wc,Ih))},Os=function(){return ci(_n.fromDom(document))},ci=function(t){var r=t.dom.body;if(r==null)throw new Error("Body is not available yet");return _n.fromDom(r)},Ds=function(t,r,o){if(!$n(o))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);As(t)&&t.style.setProperty(r,o)},Cc=function(t,r){As(t)&&t.style.removeProperty(r)},Kr=function(t,r,o){var c=t.dom;Ds(c,r,o)},hv=function(t,r){var o=t.dom;Nr(r,function(c,v){Ds(o,v,c)})},$d=function(t,r){var o=t.dom;Nr(r,function(c,v){c.fold(function(){Cc(o,v)},function(m){Ds(o,v,m)})})},_s=function(t,r){var o=t.dom,c=window.getComputedStyle(o),v=c.getPropertyValue(r);return v===""&&!wc(t)?qh(o,r):v},qh=function(t,r){return As(t)?t.style.getPropertyValue(r):""},fo=function(t,r){var o=t.dom,c=qh(o,r);return S.from(c).filter(function(v){return v.length>0})},db=function(t){var r={},o=t.dom;if(As(o))for(var c=0;c<o.style.length;c++){var v=o.style.item(c);r[v]=o.style[v]}return r},Id=function(t,r,o){var c=_n.fromTag(t);Kr(c,r,o);var v=fo(c,r);return v.isSome()},Ma=function(t,r){var o=t.dom;Cc(o,r),lv(t,"style").map(Jo).is("")&&Bu(t,"style")},rg=function(t){return t.dom.offsetWidth},df=function(t){return t.dom.value},qs=function(t,r){if(r===void 0)throw new Error("Value.set was undefined");t.dom.value=r},pw=function(t){var r=_n.fromTag(t.tag);cw(r,t.attributes),ts(r,t.classes),hv(r,t.styles),t.innerHtml.each(function(c){return Qm(r,c)});var o=t.domChildren;if(iw(r,o),t.value.each(function(c){qs(r,c)}),!t.uid)debugger;return Vh(r,t.uid),r},pv=function(t){var r=ur(t,"behaviours").getOr({}),o=de(fr(r),function(c){return r[c]!==void 0});return we(o,function(c){return r[c].me})},fS=function(t,r){return Nd(t,r)},vo=function(t){var r=pv(t);return fS(t,r)},bv=function(t,r,o){var c=ff(t),v=si(t),m={"alloy.base.modification":v},p=r.length>0?cf(o,m,r,c):v;return xi(c,p)},bw=function(t,r,o){var c={"alloy.base.behaviour":ro(t)};return Wh(o,t.eventOrder,r,c).getOrDie()},mb=function(t){var r=function(){return Ae},o=Zt(mw),c=ju(lS(t)),v=vo(t),m=ou(v),p=ib(v),w=bv(c,m,p),x=pw(w),k=bw(c,m,p),O=Zt(c.components),_=function(ze){o.set(ze)},F=function(){o.set(tg(r))},Y=function(){var ze=pc(x),je=St(ze,function(ht){return o.get().getByDom(ht).fold(function(){return[]},function(Bt){return[Bt]})});O.set(je)},ae=function(ze){var je=p,ht=In(je[ze.name()])?je[ze.name()]:function(){throw new Error("Could not find "+ze.name()+" in "+JSON.stringify(t,null,2))};return ht()},ne=function(ze){return In(p[ze.name()])},pe=function(){return c.apis},ie=function(ze){return p[ze]().map(function(je){return je.state.readState()}).getOr("not enabled")},Ae={getSystem:o.get,config:ae,hasConfigured:ne,spec:t,readState:ie,getApis:pe,connect:_,disconnect:F,element:x,syncComponents:Y,components:O.get,events:k};return Ae},Gh=function(t){var r=ur(t,"components").getOr([]);return we(r,iu)},vS=function(t){var r=rb(t),o=r.events,c=vt(r,["events"]),v=Gh(c),m=te(te({},c),{events:te(te({},fw),o),components:v});return lt.value(mb(m))},mf=function(t){var r=_n.fromText(t);return gb({element:r})},gb=function(t){var r=Uo("external.component",Ie([Ee("element"),xr("uid")]),t),o=Zt(tg()),c=function(p){o.set(p)},v=function(){o.set(tg(function(){return m}))};r.uid.each(function(p){Vh(r.element,p)});var m={getSystem:o.get,config:S.none,hasConfigured:Et,connect:c,disconnect:v,getApis:function(){return{}},element:r.element,spec:t,readState:ve("No state"),syncComponents:Le,components:ve([]),events:{}};return gw(m)},dS=bc,iu=function(t){return uS(t).fold(function(){var r=t.hasOwnProperty("uid")?t:te({uid:dS("")},t);return vS(r).getOrDie()},function(r){return r})},Ni=gw,hb=function(t,r){var o=function(w,x){if(!zn(x)&&!x.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+x);var k=w.dom;As(k)&&(k.style[t]=x+"px")},c=function(w){var x=r(w);if(x<=0||x===null){var k=_s(w,t);return parseFloat(k)||0}return x},v=c,m=function(w,x){return ee(x,function(k,O){var _=_s(w,O),F=_===void 0?0:parseInt(_,10);return isNaN(F)?k:k+F},0)},p=function(w,x,k){var O=m(w,k),_=x>O?x-O:0;return _};return{set:o,get:c,getOuter:v,aggregate:m,max:p}},pb=hb("height",function(t){var r=t.dom;return wc(t)?r.getBoundingClientRect().height:r.offsetHeight}),Mi=function(t){return pb.get(t)},yv=function(t){return pb.getOuter(t)},zd=function(t,r){var o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],c=pb.max(t,r,o);Kr(t,"max-height",c+"px")},bb=function(t,r){var o=function(c,v){return bb(t+c,r+v)};return{left:t,top:r,translate:o}},Ka=bb,xc=function(t){var r=t.getBoundingClientRect();return Ka(r.left,r.top)},Fa=function(t,r){return t!==void 0?t:r!==void 0?r:0},Sc=function(t){var r=t.dom.ownerDocument,o=r.body,c=r.defaultView,v=r.documentElement;if(o===t.dom)return Ka(o.offsetLeft,o.offsetTop);var m=Fa(c==null?void 0:c.pageYOffset,v.scrollTop),p=Fa(c==null?void 0:c.pageXOffset,v.scrollLeft),w=Fa(v.clientTop,o.clientTop),x=Fa(v.clientLeft,o.clientLeft);return Pu(t).translate(p-x,m-w)},Pu=function(t){var r=t.dom,o=r.ownerDocument,c=o.body;return c===r?Ka(c.offsetLeft,c.offsetTop):wc(t)?xc(r):Ka(0,0)},ag=hb("width",function(t){return t.dom.offsetWidth}),mS=function(t,r){return ag.set(t,r)},pu=function(t){return ag.get(t)},Bs=function(t){return ag.getOuter(t)},wv=function(t,r){var o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],c=ag.max(t,r,o);Kr(t,"max-width",c+"px")},yb=function(t,r,o,c,v,m,p){return{target:t,x:r,y:o,stop:c,prevent:v,kill:m,raw:p}},og=function(t){var r=_n.fromDom(zh(t).getOr(t.target)),o=function(){return t.stopPropagation()},c=function(){return t.preventDefault()},v=tn(c,o);return yb(r,t.clientX,t.clientY,o,c,v,t)},Al=function(t,r){return function(o){t(o)&&r(og(o))}},Kh=function(t,r,o,c,v){var m=Al(o,c);return t.dom.addEventListener(r,m,v),{unbind:gn(wb,t,r,m,v)}},gS=function(t,r,o,c){return Kh(t,r,o,c,!1)},Xh=function(t,r,o,c){return Kh(t,r,o,c,!0)},wb=function(t,r,o,c){t.dom.removeEventListener(r,o,c)},Gs=function(t){var r=t!==void 0?t.dom:document,o=r.body.scrollLeft||r.documentElement.scrollLeft,c=r.body.scrollTop||r.documentElement.scrollTop;return Ka(o,c)},Yh=function(t,r,o){var c=o!==void 0?o.dom:document,v=c.defaultView;v&&v.scrollTo(t,r)},yw=function(t){var r=t===void 0?window:t;return S.from(r.visualViewport)},Jh=function(t,r,o,c){return{x:t,y:r,width:o,height:c,right:t+o,bottom:r+c}},ww=function(t){var r=t===void 0?window:t,o=r.document,c=Gs(_n.fromDom(o));return yw(r).fold(function(){var v=r.document.documentElement,m=v.clientWidth,p=v.clientHeight;return Jh(c.left,c.top,m,p)},function(v){return Jh(Math.max(v.pageLeft,c.left),Math.max(v.pageTop,c.top),v.width,v.height)})},Cw=function(t,r){var o=t.view(r);return o.fold(ve([]),function(c){var v=t.owner(c),m=Cw(t,v);return[c].concat(m)})},ig=function(t,r){var o=r.owner(t),c=Cw(r,o);return S.some(c)},hS=function(t){var r,o=t.dom===document?S.none():S.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return o.map(_n.fromDom)},ug=function(t){return Ts(t)},Zh=Object.freeze({__proto__:null,view:hS,owner:ug}),Qh=function(t){var r=_n.fromDom(document),o=Gs(r),c=ig(t,Zh);return c.fold(gn(Sc,t),function(v){var m=Pu(t),p=Ue(v,function(w,x){var k=Pu(x);return{left:w.left+k.left,top:w.top+k.top}},{left:0,top:0});return Ka(p.left+m.left+o.left,p.top+m.top+o.top)})},Cb=function(t,r,o){return{point:t,width:r,height:o}},Cv=function(t,r,o,c){return{x:t,y:r,width:o,height:c}},ns=function(t,r,o,c){return{x:t,y:r,width:o,height:c,right:t+o,bottom:r+c}},rs=function(t){var r=Sc(t),o=Bs(t),c=yv(t);return ns(r.left,r.top,o,c)},gf=function(t){var r=Qh(t),o=Bs(t),c=yv(t);return ns(r.left,r.top,o,c)},Fi=function(){return ww(window)};function hf(t,r,o,c,v){return t(o,c)?S.some(o):In(v)&&v(o)?S.none():r(o,c,v)}var xw=function(t,r,o){for(var c=t.dom,v=In(o)?o:Et;c.parentNode;){c=c.parentNode;var m=_n.fromDom(c);if(r(m))return S.some(m);if(v(m))break}return S.none()},pf=function(t,r,o){var c=function(v,m){return m(v)};return hf(c,xw,t,r,o)},xb=function(t,r){var o=function(c){for(var v=0;v<c.childNodes.length;v++){var m=_n.fromDom(c.childNodes[v]);if(r(m))return S.some(m);var p=o(c.childNodes[v]);if(p.isSome())return p}return S.none()};return o(t.dom)},as=function(t,r,o){return pf(t,r,o).isSome()},ep=function(t,r,o){return xw(t,function(c){return ar(c,r)},o)},$i=function(t,r){return Ea(r,t)},Ks=function(t,r,o){var c=function(v,m){return ar(v,m)};return hf(c,ep,t,r,o)},Ol=function(t){var r=pf(t,function(o){if(!ui(o))return!1;var c=Ci(o,"id");return c!==void 0&&c.indexOf("aria-owns")>-1});return r.bind(function(o){var c=Ci(o,"id"),v=qo(o);return $i(v,'[aria-owns="'+c+'"]')})},Sb=function(){var t=Qn("aria-owns"),r=function(c){ga(c,"aria-owns",t)},o=function(c){Bu(c,"aria-owns")};return{id:t,link:r,unlink:o}},Tb=function(t,r){return Ol(r).exists(function(o){return Vc(t,o)})},Vc=function(t,r){return as(r,function(o){return Vr(o,t.element)},Et)||Tb(t,r)},tp="unknown",xv;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(xv||(xv={}));var Ur=Zt({}),sg=function(t,r){var o=[],c=new Date().getTime();return{logEventCut:function(v,m,p){o.push({outcome:"cut",target:m,purpose:p})},logEventStopped:function(v,m,p){o.push({outcome:"stopped",target:m,purpose:p})},logNoParent:function(v,m,p){o.push({outcome:"no-parent",target:m,purpose:p})},logEventNoHandlers:function(v,m){o.push({outcome:"no-handlers-left",target:m})},logEventResponse:function(v,m,p){o.push({outcome:"response",purpose:p,target:m})},write:function(){var v=new Date().getTime();Re(["mousemove","mouseover","mouseout",nv()],t)||console.log(t,{event:t,time:v-c,target:r.dom,sequence:we(o,function(m){return Re(["cut","stopped","response"],m.outcome)?"{"+m.purpose+"} "+m.outcome+" at ("+El(m.target)+")":m.outcome})})}}},pS=function(t,r,o){var c=ur(Ur.get(),t).orThunk(function(){var p=fr(Ur.get());return Xt(p,function(w){return t.indexOf(w)>-1?S.some(Ur.get()[w]):S.none()})}).getOr(xv.NORMAL);switch(c){case xv.NORMAL:return o(Ld());case xv.LOGGING:{var v=sg(t,r),m=o(v);return v.write(),m}case xv.STOP:return!0}},Sw=["alloy/data/Fields","alloy/debugging/Debugging"],bS=function(){var t=new Error;if(t.stack!==void 0){var r=t.stack.split(`
`);return he(r,function(o){return o.indexOf("alloy")>0&&!ut(Sw,function(c){return o.indexOf(c)>-1})}).getOr(tp)}else return tp},yS={logEventCut:Le,logEventStopped:Le,logNoParent:Le,logEventNoHandlers:Le,logEventResponse:Le,write:Le},cg=function(t,r,o){return pS(t,r,o)},Ld=ve(yS),Ja=ve([Ee("menu"),Ee("selectedMenu")]),kb=ve([Ee("item"),Ee("selectedItem")]);ve(Be(kb().concat(Ja())));var Eb=ve(Be(kb())),wS=ms("initSize",[Ee("numColumns"),Ee("numRows")]),Hd=function(){return sr("markers",Eb())},Dl=function(){return ms("markers",[Ee("backgroundMenu")].concat(Ja()).concat(kb()))},Xs=function(t){return ms("markers",we(t,Ee))},lg=function(t,r,o){return bS(),ra(r,r,o,Oi(function(c){return lt.value(function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];return c.apply(void 0,v)})}))},ea=function(t){return lg("onHandler",t,Ho(Le))},Ia=function(t){return lg("onKeyboardHandler",t,Ho(S.none))},Sv=function(t){return lg("onHandler",t,Wa())},Ab=function(t){return lg("onKeyboardHandler",t,Wa())},za=function(t,r){return Co(t,ve(r))},Ys=function(t){return Co(t,rt)},Ob=ve(wS),Xi=function(t,r,o,c,v,m){return{x:t,y:r,bubble:o,direction:c,boundsRestriction:v,label:m}},Uc=Gn.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Tw=function(t,r,o,c,v,m,p,w,x){return t.fold(r,o,c,v,m,p,w,x)},CS=function(t,r,o,c){return t.fold(r,r,c,c,r,c,o,o)},kw=function(t,r,o,c){return t.fold(r,c,r,c,o,o,r,c)},np=Uc.southeast,Db=Uc.southwest,Rs=Uc.northeast,bu=Uc.northwest,rp=Uc.south,_b=Uc.north,Bb=Uc.east,xS=Uc.west,SS=function(t,r){switch(r){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},li=function(t,r){return Ir(["left","right","top","bottom"],function(o){return ur(r,o).map(function(c){return SS(t,c)})})},ap=function(t,r,o){var c=function(x,k){var O=x==="top"||x==="bottom"?o.top:o.left;return ur(r,x).bind(rt).bind(function(_){return x==="left"||x==="top"?_>=k?S.some(_):S.none():_<=k?S.some(_):S.none()}).map(function(_){return _+O}).getOr(k)},v=c("left",t.x),m=c("top",t.y),p=c("right",t.right),w=c("bottom",t.bottom);return ns(v,m,p-v,w-m)},Ew=function(t){return t.x},Aw=function(t,r){return t.x+t.width/2-r.width/2},fg=function(t,r){return t.x+t.width-r.width},Rb=function(t,r){return t.y-r.height},vg=function(t){return t.y+t.height},op=function(t,r){return t.y+t.height/2-r.height/2},Pb=function(t){return t.x+t.width},yu=function(t,r){return t.x-r.width},fi=function(t,r,o){return Xi(Ew(t),vg(t),o.southeast(),np(),li(t,{left:1,top:3}),"layout-se")},Go=function(t,r,o){return Xi(fg(t,r),vg(t),o.southwest(),Db(),li(t,{right:0,top:3}),"layout-sw")},vi=function(t,r,o){return Xi(Ew(t),Rb(t,r),o.northeast(),Rs(),li(t,{left:1,bottom:2}),"layout-ne")},Yi=function(t,r,o){return Xi(fg(t,r),Rb(t,r),o.northwest(),bu(),li(t,{right:0,bottom:2}),"layout-nw")},Nu=function(t,r,o){return Xi(Aw(t,r),Rb(t,r),o.north(),_b(),li(t,{bottom:2}),"layout-n")},Ii=function(t,r,o){return Xi(Aw(t,r),vg(t),o.south(),rp(),li(t,{top:3}),"layout-s")},Nb=function(t,r,o){return Xi(Pb(t),op(t,r),o.east(),Bb(),li(t,{left:0}),"layout-e")},Vd=function(t,r,o){return Xi(yu(t,r),op(t,r),o.west(),xS(),li(t,{right:1}),"layout-w")},Mb=function(){return[fi,Go,vi,Yi,Ii,Nu,Nb,Vd]},Ow=function(){return[Go,fi,Yi,vi,Ii,Nu,Nb,Vd]},Fb=function(){return[vi,Yi,fi,Go,Nu,Ii]},$b=function(){return[Yi,vi,Go,fi,Nu,Ii]},Ib=function(){return[fi,Go,vi,Yi,Ii,Nu]},zb=function(){return[Go,fi,Yi,vi,Ii,Nu]},TS=function(t,r){return r.universal?t:de(t,function(o){return Re(r.channels,o)})},Dw=function(t){return ma([_t(zc(),function(r,o){var c=t.channels,v=fr(c),m=o,p=TS(v,m);Ye(p,function(w){var x=c[w],k=x.schema,O=Uo("channel["+w+`] data
Receiver: `+El(r.element),k,m.data);x.onReceive(r,O)})})])},_w=Object.freeze({__proto__:null,events:Dw}),Tv=[sr("channels",Zl(lt.value,Ie([Sv("onReceive"),$e("schema",Di())])))],ip=function(t,r,o){return Ss(function(c){o(c,t,r)})},up=function(t,r,o){return nS(function(c,v){o(c,t,r)})},Bw=function(t,r,o,c,v,m){var p=Ie(t),w=Xo(r,[yd("config",t)]);return Lb(p,w,r,o,c,v,m)},kS=function(t,r,o,c,v,m){var p=t,w=Xo(r,[oi("config",t)]);return Lb(p,w,r,o,c,v,m)},Mu=function(t,r,o){var c=function(v){for(var m=[],p=1;p<arguments.length;p++)m[p-1]=arguments[p];var w=[v].concat(m);return v.config({name:ve(t)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+o)},function(x){var k=Array.prototype.slice.call(w,1);return r.apply(void 0,[v,x.config,x.state].concat(k))})};return ab(c,o,r)},bf=function(t){return{key:t,value:void 0}},Lb=function(t,r,o,c,v,m,p){var w=function(_){return Pa(_,o)?_[o]():S.none()},x=kr(v,function(_,F){return Mu(o,_,F)}),k=kr(m,function(_,F){return Uh(_,F)}),O=te(te(te({},k),x),{revoke:gn(bf,o),config:function(_){var F=Uo(o+"-config",t,_);return{key:o,value:{config:F,me:O,configAsRaw:lo(function(){return Uo(o+"-config",t,_)}),initialConfig:_,state:p}}},schema:ve(r),exhibit:function(_,F){return w(_).bind(function(Y){return ur(c,"exhibit").map(function(ae){return ae(F,Y.config,Y.state)})}).getOr(Ws({}))},name:ve(o),handlers:function(_){return w(_).map(function(F){var Y=ur(c,"events").getOr(function(){return{}});return Y(F.config,F.state)}).getOr({})}});return O},Lt=function(t){return Z(t)},kv=Ie([Ee("fields"),Ee("name"),$e("active",{}),$e("apis",{}),$e("state",Ki),$e("extra",{})]),$o=function(t){var r=Uo("Creating behaviour: "+t.name,kv,t);return Bw(r.fields,r.name,r.active,r.apis,r.extra,r.state)},ES=Ie([Ee("branchKey"),Ee("branches"),Ee("name"),$e("active",{}),$e("apis",{}),$e("state",Ki),$e("extra",{})]),Hb=function(t){var r=Uo("Creating behaviour: "+t.name,ES,t);return kS(yi(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},Ev=ve(void 0),zi=$o({fields:Tv,name:"receiving",active:_w}),Vb=function(t,r){return Ws({classes:[],styles:r.useFixed()?{}:{position:"relative"}})},Ud=Object.freeze({__proto__:null,exhibit:Vb}),yf=function(){return _n.fromDom(document)},wf=function(t){return t.dom.focus()},Rw=function(t){return t.dom.blur()},Ub=function(t){var r=qo(t).dom;return t.dom===r.activeElement},Tc=function(t){return t===void 0&&(t=yf()),S.from(t.dom.activeElement).map(_n.fromDom)},Ji=function(t){return Tc(qo(t)).filter(function(r){return t.dom.contains(r.dom)})},Pw=function(t,r){var o=qo(r),c=Tc(o).bind(function(m){var p=function(w){return Vr(m,w)};return p(r)?S.some(r):xb(r,p)}),v=t(r);return c.each(function(m){Tc(o).filter(function(p){return Vr(p,m)}).fold(function(){wf(m)},Le)}),v},Js=function(t,r,o,c,v){return{position:t,left:r,top:o,right:c,bottom:v}},Wd=function(t,r){var o=function(c){return c+"px"};$d(t,{position:S.some(r.position),left:r.left.map(o),top:r.top.map(o),right:r.right.map(o),bottom:r.bottom.map(o)})},Av=Gn.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Nw=function(t,r,o,c,v,m){var p=r.x-o,w=r.y-c,x=r.width,k=r.height,O=v-(p+x),_=m-(w+k),F=S.some(p),Y=S.some(w),ae=S.some(O),ne=S.some(_),pe=S.none();return Tw(r.direction,function(){return Js(t,F,Y,pe,pe)},function(){return Js(t,pe,Y,ae,pe)},function(){return Js(t,F,pe,pe,ne)},function(){return Js(t,pe,pe,ae,ne)},function(){return Js(t,F,Y,pe,pe)},function(){return Js(t,F,pe,pe,ne)},function(){return Js(t,F,Y,pe,pe)},function(){return Js(t,pe,Y,ae,pe)})},dg=function(t,r){return t.fold(function(){return Js("absolute",S.some(r.x),S.some(r.y),S.none(),S.none())},function(o,c,v,m){return Nw("absolute",r,o,c,v,m)},function(o,c,v,m){return Nw("fixed",r,o,c,v,m)})},Ov=function(t,r){var o=gn(Qh,r),c=t.fold(o,o,function(){var p=Gs();return Qh(r).translate(-p.left,-p.top)}),v=Bs(r),m=yv(r);return ns(c.left,c.top,v,m)},jd=function(t,r){return r.fold(function(){return t.fold(Fi,Fi,ns)},function(o){return t.fold(o,o,function(){var c=o(),v=Cf(t,c.x,c.y);return ns(v.left,v.top,c.width,c.height)})})},Cf=function(t,r,o){var c=Ka(r,o),v=function(){var m=Gs();return c.translate(-m.left,-m.top)};return t.fold(ve(c),ve(c),v)},Wb=function(t,r,o,c){return t.fold(r,o,c)};Av.none;var jb=Av.relative,qb=Av.fixed,mg=function(t,r){return{anchorBox:t,origin:r}},Mw=function(t,r){return mg(t,r)},Dv=function(t,r,o,c){var v=t+r;return v>c?o:v<o?c:v},kc=function(t,r,o){return Math.min(Math.max(t,r),o)},os=Gn.generate([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),Wc=function(t,r,o,c,v){var m=v.x,p=v.y,w=v.width,x=v.height,k=t>=m,O=r>=p,_=k&&O,F=t+o<=m+w,Y=r+c<=p+x,ae=F&&Y,ne=Math.abs(Math.min(o,k?m+w-t:m-(t+o))),pe=Math.abs(Math.min(c,O?p+x-r:p-(r+c))),ie=Math.max(v.x,v.right-o),Ae=Math.max(v.y,v.bottom-c),ze=kc(t,v.x,ie),je=kc(r,v.y,Ae);return{originInBounds:_,sizeInBounds:ae,limitX:ze,limitY:je,deltaW:ne,deltaH:pe}},sp=function(t,r,o,c){var v=t.x,m=t.y,p=t.bubble.offset,w=p.left,x=p.top,k=ap(c,t.boundsRestriction,p),O=k.y,_=k.bottom,F=k.x,Y=k.right,ae=v+w,ne=m+x,pe=Wc(ae,ne,r,o,k),ie=pe.originInBounds,Ae=pe.sizeInBounds,ze=pe.limitX,je=pe.limitY,ht=pe.deltaW,Bt=pe.deltaH,ft=ve(je+Bt-O),cn=ve(_-je),Er=CS(t.direction,cn,cn,ft),On=ve(ze+ht-F),wt=ve(Y-ze),Ft=kw(t.direction,wt,wt,On),Vn={x:ze,y:je,width:ht,height:Bt,maxHeight:Er,maxWidth:Ft,direction:t.direction,classes:{on:t.bubble.classesOn,off:t.bubble.classesOff},label:t.label,candidateYforTest:ne};return ie&&Ae?os.fit(Vn):os.nofit(Vn,ht,Bt)},gt=function(t,r,o,c,v){var m=o.width,p=o.height,w=function(k,O,_,F){var Y=k(r,o,c),ae=sp(Y,m,p,v);return ae.fold(os.fit,function(ne,pe,ie){var Ae=ie>F||pe>_;return Ae?os.nofit(ne,pe,ie):os.nofit(O,_,F)})},x=ee(t,function(k,O){var _=gn(w,O);return k.fold(os.fit,_)},os.nofit({x:r.x,y:r.y,width:o.width,height:o.height,maxHeight:o.height,maxWidth:o.width,direction:np(),classes:{on:[],off:[]},label:"none",candidateYforTest:r.y},-1,-1));return x.fold(rt,rt)},cp=function(t){return{width:Bs(t),height:yv(t)}},AS=function(t,r,o,c){Ma(r,"max-height"),Ma(r,"max-width");var v=cp(r);return gt(c.preference,t,v,o,c.bounds)},gg=function(t,r){var o=r.classes;go(t,o.off),ts(t,o.on)},hg=function(t,r,o){var c=o.maxHeightFunction;c(t,r.maxHeight)},Zs=function(t,r,o){var c=o.maxWidthFunction;c(t,r.maxWidth)},Fw=function(t,r,o){Wd(t,dg(o.origin,r))},Gb=function(t,r){zd(t,Math.floor(r))},$w=ve(function(t,r){Gb(t,r),hv(t,{"overflow-x":"hidden","overflow-y":"auto"})}),qd=ve(function(t,r){Gb(t,r)}),lp=function(t,r,o){return t[r]===void 0?o:t[r]},Kb=function(t,r,o,c,v,m){var p=lp(m,"maxHeightFunction",$w()),w=lp(m,"maxWidthFunction",Le),x=t.anchorBox,k=t.origin,O={bounds:jd(k,v),origin:k,preference:c,maxHeightFunction:p,maxWidthFunction:w};OS(x,r,o,O)},OS=function(t,r,o,c){var v=AS(t,r,o,c);Fw(r,v,c),gg(r,v),hg(r,v,c),Zs(r,v,c)},Gd=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],Kd=function(t,r,o){var c=function(m){return ur(o,m).getOr([])},v=function(m,p,w){var x=Zr(Gd,w);return{offset:Ka(m,p),classesOn:St(w,c),classesOff:St(x,c)}};return{southeast:function(){return v(-t,r,["top","alignLeft"])},southwest:function(){return v(t,r,["top","alignRight"])},south:function(){return v(-t/2,r,["top","alignCentre"])},northeast:function(){return v(-t,-r,["bottom","alignLeft"])},northwest:function(){return v(t,-r,["bottom","alignRight"])},north:function(){return v(-t/2,-r,["bottom","alignCentre"])},east:function(){return v(t,-r/2,["valignCentre","left"])},west:function(){return v(-t,-r/2,["valignCentre","right"])},innerNorthwest:function(){return v(-t,r,["top","alignRight"])},innerNortheast:function(){return v(t,r,["top","alignLeft"])},innerNorth:function(){return v(-t/2,r,["top","alignCentre"])},innerSouthwest:function(){return v(-t,-r,["bottom","alignRight"])},innerSoutheast:function(){return v(t,-r,["bottom","alignLeft"])},innerSouth:function(){return v(-t/2,-r,["bottom","alignCentre"])},innerWest:function(){return v(t,-r/2,["valignCentre","right"])},innerEast:function(){return v(-t,-r/2,["valignCentre","left"])}}},Xd=function(){return Kd(0,0,{})},pg=function(t){return t},Xb=function(t,r){return function(o){return Iw(o)==="rtl"?r:t}},Iw=function(t){return _s(t,"direction")==="rtl"?"rtl":"ltr"},Qs;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Qs||(Qs={}));var Yb="data-alloy-vertical-dir",Yd=function(t){return as(t,function(r){return ui(r)&&Ci(r,"data-alloy-vertical-dir")===Qs.BottomToTop})},_l=function(){return Xo("layouts",[Ee("onLtr"),Ee("onRtl"),xr("onBottomLtr"),xr("onBottomRtl")])},Jd=function(t,r,o,c,v,m,p){var w=p.map(Yd).getOr(!1),x=r.layouts.map(function(Y){return Y.onLtr(t)}),k=r.layouts.map(function(Y){return Y.onRtl(t)}),O=w?r.layouts.bind(function(Y){return Y.onBottomLtr.map(function(ae){return ae(t)})}).or(x).getOr(v):x.getOr(o),_=w?r.layouts.bind(function(Y){return Y.onBottomRtl.map(function(ae){return ae(t)})}).or(k).getOr(m):k.getOr(c),F=Xb(O,_);return F(t)},zw=function(t,r,o){var c=r.hotspot,v=Ov(o,c.element),m=Jd(t.element,r,Ib(),zb(),Fb(),$b(),S.some(r.hotspot.element));return S.some(pg({anchorBox:v,bubble:r.bubble.getOr(Xd()),overrides:r.overrides,layouts:m,placer:S.none()}))},Lw=[Ee("hotspot"),xr("bubble"),$e("overrides",{}),_l(),za("placement",zw)],Hw=function(t,r,o){var c=Cf(o,r.x,r.y),v=ns(c.left,c.top,r.width,r.height),m=Jd(t.element,r,Mb(),Ow(),Mb(),Ow(),S.none());return S.some(pg({anchorBox:v,bubble:r.bubble,overrides:r.overrides,layouts:m,placer:S.none()}))},DS=[Ee("x"),Ee("y"),$e("height",0),$e("width",0),$e("bubble",Xd()),$e("overrides",{}),_l(),za("placement",Hw)],fp=Gn.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),_S=function(t){return t.fold(rt,function(r,o,c){return r.translate(-o,-c)})},BS=function(t){return t.fold(rt,rt)},_v=function(t){return ee(t,function(r,o){return r.translate(o.left,o.top)},Ka(0,0))},Vw=function(t){var r=we(t,_S);return _v(r)},Uw=function(t){var r=we(t,BS);return _v(r)},bg=fp.screen,Jb=fp.absolute,Zb=function(t,r,o){var c=hc(o.root).dom,v=function(m){var p=Ts(m),w=Ts(t.element);return Vr(p,w)};return S.from(c.frameElement).map(_n.fromDom).filter(v).map(Sc)},uu=function(t,r,o){var c=Ts(t.element),v=Gs(c),m=Zb(t,r,o).getOr(v);return Jb(m,v.left,v.top)},Ww=function(t,r,o,c){var v=t,m=r,p=o,w=c;t<0&&(v=0,p=o+t),r<0&&(m=0,w=c+r);var x=bg(Ka(v,m));return S.some(Cb(x,p,w))},vp=function(t,r,o,c,v){return t.map(function(m){var p=[r,m.point],w=Wb(c,function(){return Uw(p)},function(){return Uw(p)},function(){return Vw(p)}),x=Cv(w.left,w.top,m.width,m.height),k=o.showAbove?Fb():Ib(),O=o.showAbove?$b():zb(),_=Jd(v,o,k,O,k,O,S.none());return pg({anchorBox:x,bubble:o.bubble.getOr(Xd()),overrides:o.overrides,layouts:_,placer:S.none()})})},RS=function(t,r,o){var c=uu(t,o,r);return r.node.filter(wc).bind(function(v){var m=v.dom.getBoundingClientRect(),p=Ww(m.left,m.top,m.width,m.height),w=r.node.getOr(t.element);return vp(p,c,r,o,w)})},PS=[Ee("node"),Ee("root"),xr("bubble"),_l(),$e("overrides",{}),$e("showAbove",!1),za("placement",RS)],xf="\uFEFF",yg="\xA0",NS=function(t,r,o,c){return{start:t,soffset:r,finish:o,foffset:c}},di={create:NS},Sf=Gn.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),jw=function(t,r,o,c){return t.fold(r,o,c)},MS=function(t){return t.fold(rt,rt,rt)},qw=Sf.before,FS=Sf.on,$S=Sf.after,IS={before:qw,on:FS,after:$S,cata:jw,getStart:MS},Bl=Gn.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Zd=function(t){return Bl.exact(t.start,t.soffset,t.finish,t.foffset)},zS=function(t){return t.match({domRange:function(r){return _n.fromDom(r.startContainer)},relative:function(r,o){return IS.getStart(r)},exact:function(r,o,c,v){return r}})},Gw=Bl.domRange,Kw=Bl.relative,Xw=Bl.exact,Yw=function(t){var r=zS(t);return hc(r)},Qb=di.create,wg={domRange:Gw,relative:Kw,exact:Xw,exactFromRange:Zd,getWin:Yw,range:Qb},LS=function(t,r){r.fold(function(o){t.setStartBefore(o.dom)},function(o,c){t.setStart(o.dom,c)},function(o){t.setStartAfter(o.dom)})},HS=function(t,r){r.fold(function(o){t.setEndBefore(o.dom)},function(o,c){t.setEnd(o.dom,c)},function(o){t.setEndAfter(o.dom)})},Bv=function(t,r,o){var c=t.document.createRange();return LS(c,r),HS(c,o),c},e0=function(t,r,o,c,v){var m=t.document.createRange();return m.setStart(r.dom,o),m.setEnd(c.dom,v),m},VS=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},Jw=function(t){var r=t.getClientRects(),o=r.length>0?r[0]:t.getBoundingClientRect();return o.width>0||o.height>0?S.some(o).map(VS):S.none()},Qd=Gn.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Zw=function(t,r,o){return r(_n.fromDom(o.startContainer),o.startOffset,_n.fromDom(o.endContainer),o.endOffset)},t0=function(t,r){return r.match({domRange:function(o){return{ltr:ve(o),rtl:S.none}},relative:function(o,c){return{ltr:lo(function(){return Bv(t,o,c)}),rtl:lo(function(){return S.some(Bv(t,c,o))})}},exact:function(o,c,v,m){return{ltr:lo(function(){return e0(t,o,c,v,m)}),rtl:lo(function(){return S.some(e0(t,v,m,o,c))})}}})},Qw=function(t,r){var o=r.ltr();if(o.collapsed){var c=r.rtl().filter(function(v){return v.collapsed===!1});return c.map(function(v){return Qd.rtl(_n.fromDom(v.endContainer),v.endOffset,_n.fromDom(v.startContainer),v.startOffset)}).getOrThunk(function(){return Zw(t,Qd.ltr,o)})}else return Zw(t,Qd.ltr,o)},e2=function(t,r){var o=t0(t,r);return Qw(t,o)},t2=function(t,r){var o=e2(t,r);return o.match({ltr:function(c,v,m,p){var w=t.document.createRange();return w.setStart(c.dom,v),w.setEnd(m.dom,p),w},rtl:function(c,v,m,p){var w=t.document.createRange();return w.setStart(m.dom,p),w.setEnd(c.dom,v),w}})};Qd.ltr,Qd.rtl;var n2=function(t,r){var o=function(m){if(!t(m))throw new Error("Can only get "+r+" value of a "+r+" node");return c(m).getOr("")},c=function(m){return t(m)?S.from(m.dom.nodeValue):S.none()},v=function(m,p){if(!t(m))throw new Error("Can only set raw "+r+" value of a "+r+" node");m.dom.nodeValue=p};return{get:o,getOption:c,set:v}},r2=n2(uv,"text"),a2=function(t){return r2.get(t)},o2=function(t){return r2.getOption(t)},Cg=function(t){return Ju(t)==="img"?1:o2(t).fold(function(){return pc(t).length},function(r){return r.length})},US=function(t){return o2(t).filter(function(r){return r.trim().length!==0||r.indexOf(yg)>-1}).isSome()},xg=["img","br"],em=function(t){var r=US(t);return r||Re(xg,Ju(t))},WS=function(t){return jS(t,em)},jS=function(t,r){var o=function(c){for(var v=pc(c),m=v.length-1;m>=0;m--){var p=v[m];if(r(p))return S.some(p);var w=o(p);if(w.isSome())return w}return S.none()};return o(t)},wu=function(t,r){return _r(r,t)},i2=function(t,r,o,c){var v=Ts(t),m=v.dom.createRange();return m.setStart(t.dom,r),m.setEnd(o.dom,c),m},qS=function(t,r,o,c){var v=i2(t,r,o,c),m=Vr(t,o)&&r===c;return v.collapsed&&!m},Fu=function(t){return S.from(t.getSelection())},u2=function(t){if(t.rangeCount>0){var r=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return S.some(di.create(_n.fromDom(r.startContainer),r.startOffset,_n.fromDom(o.endContainer),o.endOffset))}else return S.none()},GS=function(t){if(t.anchorNode===null||t.focusNode===null)return u2(t);var r=_n.fromDom(t.anchorNode),o=_n.fromDom(t.focusNode);return qS(r,t.anchorOffset,o,t.focusOffset)?S.some(di.create(r,t.anchorOffset,o,t.focusOffset)):u2(t)},KS=function(t){return Fu(t).filter(function(r){return r.rangeCount>0}).bind(GS)},n0=function(t,r){var o=t2(t,r);return Jw(o)},tm=function(t,r){return{element:t,offset:r}},r0=function(t,r){var o=pc(t);if(o.length===0)return tm(t,r);if(r<o.length)return tm(o[r],0);var c=o[o.length-1],v=uv(c)?a2(c).length:pc(c).length;return tm(c,v)},s2=function(t,r){return uv(t)?tm(t,r):r0(t,r)},c2=function(t,r){var o=r.getSelection.getOrThunk(function(){return function(){return KS(t)}});return o().map(function(c){var v=s2(c.start,c.soffset),m=s2(c.finish,c.foffset);return wg.range(v.element,v.offset,m.element,m.offset)})},XS=function(t,r,o){var c=hc(r.root).dom,v=uu(t,o,r),m=c2(c,r).bind(function(x){var k=n0(c,wg.exactFromRange(x)).orThunk(function(){var O=_n.fromText(xf);return Lh(x.start,O),n0(c,wg.exact(O,0,O,1)).map(function(_){return sf(O),_})});return k.bind(function(O){return Ww(O.left,O.top,O.width,O.height)})}),p=c2(c,r).bind(function(x){return ui(x.start)?S.some(x.start):Bd(x.start)}),w=p.getOr(t.element);return vp(m,v,r,o,w)},dp=[xr("getSelection"),Ee("root"),xr("bubble"),_l(),$e("overrides",{}),$e("showAbove",!1),za("placement",XS)],ec=function(t){return t.x+t.width},Tf=function(t,r){return t.x-r.width},mp=function(t,r){return t.y-r.height+t.height},Rv=function(t){return t.y},gp=function(t,r,o){return Xi(ec(t),Rv(t),o.southeast(),np(),li(t,{left:0,top:2}),"link-layout-se")},l2=function(t,r,o){return Xi(Tf(t,r),Rv(t),o.southwest(),Db(),li(t,{right:1,top:2}),"link-layout-sw")},a0=function(t,r,o){return Xi(ec(t),mp(t,r),o.northeast(),Rs(),li(t,{left:0,bottom:3}),"link-layout-ne")},o0=function(t,r,o){return Xi(Tf(t,r),mp(t,r),o.northwest(),bu(),li(t,{right:1,bottom:3}),"link-layout-nw")},i0=function(){return[gp,l2,a0,o0]},u0=function(){return[l2,gp,o0,a0]},f2=function(t,r,o){var c=Ov(o,r.item.element),v=Jd(t.element,r,i0(),u0(),i0(),u0(),S.none());return S.some(pg({anchorBox:c,bubble:Xd(),overrides:r.overrides,layouts:v,placer:S.none()}))},YS=[Ee("item"),_l(),$e("overrides",{}),za("placement",f2)],JS=yi("anchor",{selection:dp,node:PS,hotspot:Lw,submenu:YS,makeshift:DS}),ZS=function(){var t=document.documentElement;return qb(0,0,t.clientWidth,t.clientHeight)},QS=function(t){var r=Sc(t.element),o=t.element.dom.getBoundingClientRect();return jb(r.left,r.top,o.width,o.height)},eT=function(t,r,o,c,v){var m=Mw(o.anchorBox,r);Kb(m,v.element,o.bubble,o.layouts,c,o.overrides)},jc=function(t,r,o,c,v){hp(t,r,o,c,v,S.none())},hp=function(t,r,o,c,v,m){var p=m.map(rs);return v2(t,r,o,c,v,p)},v2=function(t,r,o,c,v,m){var p=Uo("positioning anchor.info",JS,c);Pw(function(){Kr(v.element,"position","fixed");var w=fo(v.element,"visibility");Kr(v.element,"visibility","hidden");var x=r.useFixed()?ZS():QS(t),k=p.placement,O=m.map(ve).or(r.getBounds);k(t,p,x).each(function(_){var F=_.placer.getOr(eT);F(t,x,_,O,v)}),w.fold(function(){Ma(v.element,"visibility")},function(_){Kr(v.element,"visibility",_)}),fo(v.element,"left").isNone()&&fo(v.element,"top").isNone()&&fo(v.element,"right").isNone()&&fo(v.element,"bottom").isNone()&&fo(v.element,"position").is("fixed")&&Ma(v.element,"position")},v.element)},tT=function(t,r,o){return r.useFixed()?"fixed":"absolute"},nT=Object.freeze({__proto__:null,position:jc,positionWithin:hp,positionWithinBounds:v2,getMode:tT}),rT=[$e("useFixed",Et),xr("getBounds")],Zi=$o({fields:rT,name:"positioning",active:Ud,apis:nT}),nm=function(t){Lr(t,Km());var r=t.components();Ye(r,nm)},rm=function(t){var r=t.components();Ye(r,rm),Lr(t,kl())},pp=function(t,r){_u(t.element,r.element)},am=function(t){Ye(t.components(),function(r){return sf(r.element)}),Zm(t.element),t.syncComponents()},Rl=function(t,r){var o=t.components();am(t);var c=Zr(o,r);Ye(c,function(v){nm(v),t.getSystem().removeFromWorld(v)}),Ye(r,function(v){v.getSystem().isConnected()?pp(t,v):(t.getSystem().addToWorld(v),pp(t,v),wc(t.element)&&rm(v)),t.syncComponents()})},qc=function(t,r){d2(t,r,_u)},d2=function(t,r,o){t.getSystem().addToWorld(r),o(t.element,r.element),wc(t.element)&&rm(r),t.syncComponents()},s0=function(t){nm(t),sf(t.element),t.getSystem().removeFromWorld(t)},kf=function(t){var r=wi(t.element).bind(function(o){return t.getSystem().getByDom(o).toOptional()});s0(t),r.each(function(o){o.syncComponents()})},c0=function(t){var r=t.components();Ye(r,s0),Zm(t.element),t.syncComponents()},bp=function(t,r){Pv(t,r,_u)},aT=function(t,r){Pv(t,r,ow)},Pv=function(t,r,o){o(t,r.element);var c=pc(r.element);Ye(c,function(v){r.getByDom(v).each(rm)})},Ef=function(t){var r=pc(t.element);Ye(r,function(o){t.getByDom(o).each(nm)}),sf(t.element)},Sg=function(t,r,o,c){o.get().each(function(p){c0(t)});var v=r.getAttachPoint(t);qc(v,t);var m=t.getSystem().build(c);return qc(t,m),o.set(m),m},Nv=function(t,r,o,c){var v=Sg(t,r,o,c);return r.onOpen(t,v),v},Af=function(t,r,o,c){return o.get().map(function(){return Sg(t,r,o,c)})},Gc=function(t,r,o,c,v){Eg(t,r),Nv(t,r,o,c),v(),Mv(t,r)},yp=function(t,r,o){o.get().each(function(c){c0(t),kf(t),r.onClose(t,c),o.clear()})},l0=function(t,r,o){return o.isOpen()},oT=function(t,r,o,c){return l0(t,r,o)&&o.get().exists(function(v){return r.isPartOf(t,v,c)})},m2=function(t,r,o){return o.get()},Tg=function(t,r,o,c){fo(t.element,r).fold(function(){Bu(t.element,o)},function(v){ga(t.element,o,v)}),Kr(t.element,r,c)},kg=function(t,r,o){lv(t.element,o).fold(function(){return Ma(t.element,r)},function(c){return Kr(t.element,r,c)})},Eg=function(t,r,o){var c=r.getAttachPoint(t);Kr(t.element,"position",Zi.getMode(c)),Tg(t,"visibility",r.cloakVisibilityAttr,"hidden")},g2=function(t){return ut(["top","left","right","bottom"],function(r){return fo(t,r).isSome()})},Mv=function(t,r,o){g2(t.element)||Ma(t.element,"position"),kg(t,"visibility",r.cloakVisibilityAttr)},Ag=Object.freeze({__proto__:null,cloak:Eg,decloak:Mv,open:Nv,openWhileCloaked:Gc,close:yp,isOpen:l0,isPartOf:oT,getState:m2,setContent:Af}),h2=function(t,r){return ma([_t(Gm(),function(o,c){yp(o,t,r)})])},f0=Object.freeze({__proto__:null,events:h2}),Og=[ea("onOpen"),ea("onClose"),Ee("isPartOf"),Ee("getAttachPoint"),$e("cloakVisibilityAttr","data-precloak-visibility")],Qo=function(){var t=Zt(S.none()),r=ve("not-implemented"),o=function(){return t.get().isSome()},c=function(p){t.set(S.some(p))},v=function(){return t.get()},m=function(){t.set(S.none())};return Es({readState:r,isOpen:o,clear:m,set:c,get:v})},p2=Object.freeze({__proto__:null,init:Qo}),jr=$o({fields:Og,name:"sandboxing",active:f0,apis:Ag,state:p2}),Of=ve("dismiss.popups"),Ec=ve("reposition.popups"),Kc=ve("mouse.released"),Dg=Ie([$e("isExtraPart",Et),Xo("fireEventInstead",[$e("event",Fo())])]),Df=function(t){var r,o=Uo("Dismissal",Dg,t);return r={},r[Of()]={schema:Ie([Ee("target")]),onReceive:function(c,v){if(jr.isOpen(c)){var m=jr.isPartOf(c,v.target)||o.isExtraPart(c,v.target);m||o.fireEventInstead.fold(function(){return jr.close(c)},function(p){return Lr(c,p.event)})}}},r},iT=Ie([Xo("fireEventInstead",[$e("event",Bh())]),Eo("doReposition")]),wp=function(t){var r,o=Uo("Reposition",iT,t);return r={},r[Ec()]={onReceive:function(c){jr.isOpen(c)&&o.fireEventInstead.fold(function(){return o.doReposition(c)},function(v){return Lr(c,v.event)})}},r},Cp=function(t,r,o){r.store.manager.onLoad(t,r,o)},b2=function(t,r,o){r.store.manager.onUnload(t,r,o)},v0=function(t,r,o,c){r.store.manager.setValue(t,r,o,c)},Ac=function(t,r,o){return r.store.manager.getValue(t,r,o)},uT=function(t,r,o){return o},y2=Object.freeze({__proto__:null,onLoad:Cp,onUnload:b2,setValue:v0,getValue:Ac,getState:uT}),w2=function(t,r){var o=t.resetOnDom?[so(function(c,v){Cp(c,t,r)}),au(function(c,v){b2(c,t,r)})]:[up(t,r,Cp)];return ma(o)},C2=Object.freeze({__proto__:null,events:w2}),d0=function(){var t=Zt(null),r=function(){return{mode:"memory",value:t.get()}},o=function(){return t.get()===null},c=function(){t.set(null)};return Es({set:t.set,get:t.get,isNotSet:o,clear:c,readState:r})},sT=function(){var t=Le;return Es({readState:t})},x2=function(){var t=Zt({}),r=Zt({}),o=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:r.get()}},c=function(){t.set({}),r.set({})},v=function(p){return ur(t.get(),p).orThunk(function(){return ur(r.get(),p)})},m=function(p){var w=t.get(),x=r.get(),k={},O={};Ye(p,function(_){k[_.value]=_,ur(_,"meta").each(function(F){ur(F,"text").each(function(Y){O[Y]=_})})}),t.set(te(te({},w),k)),r.set(te(te({},x),O))};return Es({readState:o,lookup:v,update:m,clear:c})},Ps=function(t){return t.store.manager.state(t)},xp=Object.freeze({__proto__:null,memory:d0,dataset:x2,manual:sT,init:Ps}),Sp=function(t,r,o,c){var v=r.store;o.update([c]),v.setValue(t,c),r.onSetValue(t,c)},Fv=function(t,r,o){var c=r.store,v=c.getDataKey(t);return o.lookup(v).fold(function(){return c.getFallbackEntry(v)},function(m){return m})},tc=function(t,r,o){var c=r.store;c.initialValue.each(function(v){Sp(t,r,o,v)})},Oc=function(t,r,o){o.clear()},Cu=[xr("initialValue"),Ee("getFallbackEntry"),Ee("getDataKey"),Ee("setValue"),za("manager",{setValue:Sp,getValue:Fv,onLoad:tc,onUnload:Oc,state:x2})],Xc=function(t,r,o){return r.store.getValue(t)},m0=function(t,r,o,c){r.store.setValue(t,c),r.onSetValue(t,c)},Yc=function(t,r,o){r.store.initialValue.each(function(c){r.store.setValue(t,c)})},$v=[Ee("getValue"),$e("setValue",Le),xr("initialValue"),za("manager",{setValue:m0,getValue:Xc,onLoad:Yc,onUnload:Le,state:Ki.init})],cT=function(t,r,o,c){o.set(c),r.onSetValue(t,c)},lT=function(t,r,o){return o.get()},S2=function(t,r,o){r.store.initialValue.each(function(c){o.isNotSet()&&o.set(c)})},g0=function(t,r,o){o.clear()},h0=[xr("initialValue"),za("manager",{setValue:cT,getValue:lT,onLoad:S2,onUnload:g0,state:d0})],T2=[Ao("store",{mode:"memory"},yi("mode",{memory:h0,manual:$v,dataset:Cu})),ea("onSetValue"),$e("resetOnDom",!1)],wn=$o({fields:T2,name:"representing",active:C2,apis:y2,extra:{setValueFrom:function(t,r){var o=wn.getValue(r);wn.setValue(t,o)}},state:xp}),ei=function(t,r){return qu(t,{},we(r,function(o){return _i(o.name(),"Cannot configure "+o.name()+" for "+t)}).concat([Co("dump",rt)]))},Tp=function(t){return t.dump},Io=function(t,r){return te(te({},t.dump),Lt(r))},xu={field:ei,augment:Io,get:Tp},_g="placeholder",Iv=Gn.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),om=function(t){return ua(t,"uiType")},k2=function(t,r,o,c){return t.exists(function(v){return v!==o.owner})?Iv.single(!0,ve(o)):ur(c,o.name).fold(function(){throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+fr(c)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},function(v){return v.replace()})},p0=function(t,r,o,c){return om(o)&&o.uiType===_g?k2(t,r,o,c):Iv.single(!1,ve(o))},E2=function(t,r,o,c){var v=p0(t,r,o,c);return v.fold(function(m,p){var w=om(o)?p(r,o.config,o.validated):p(r),x=ur(w,"components").getOr([]),k=St(x,function(O){return E2(t,r,O,c)});return[te(te({},w),{components:k})]},function(m,p){if(om(o)){var w=p(r,o.config,o.validated),x=o.validated.preprocess.getOr(rt);return x(w)}else return p(r)})},fT=function(t,r,o,c){return St(o,function(v){return E2(t,r,v,c)})},vT=function(t,r){var o=!1,c=function(){return o},v=function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,r},m=function(){return r.fold(function(p,w){return p},function(p,w){return p})};return{name:ve(t),required:m,used:c,replace:v}},dT=function(t,r,o,c){var v=kr(c,function(p,w){return vT(w,p)}),m=fT(t,r,o,v);return Nr(v,function(p){if(p.used()===!1&&p.required())throw new Error("Placeholder: "+p.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(r.components,null,2))}),m},$u=Iv.single,mT=Iv.multiple,im=ve(_g),Jc=Gn.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),zv=$e("factory",{sketch:rt}),Dc=$e("schema",[]),Bg=Ee("name"),kp=ra("pname","pname",ce(function(t){return"<alloy."+Qn(t.name)+">"}),Di()),b0=Co("schema",function(){return[xr("preprocess")]}),um=$e("defaults",ve({})),Pl=$e("overrides",ve({})),y0=Be([zv,Dc,Bg,kp,um,Pl]),gT=Be([zv,Dc,Bg,um,Pl]),_f=Be([zv,Dc,Bg,kp,um,Pl]),w0=Be([zv,b0,Bg,Ee("unit"),kp,um,Pl]),Rg=function(t){return t.fold(S.some,S.none,S.some,S.some)},Pg=function(t){var r=function(o){return o.name};return t.fold(r,r,r,r)},A2=function(t){return t.fold(rt,rt,rt,rt)},Lv=function(t,r){return function(o){var c=Uo("Converting part type",r,o);return t(c)}},Li=Lv(Jc.required,y0),nc=Lv(Jc.external,gT),Ns=Lv(Jc.optional,_f),sm=Lv(Jc.group,w0),Hv=ve("entirety"),cm=Object.freeze({__proto__:null,required:Li,external:nc,optional:Ns,group:sm,asNamedPart:Rg,name:Pg,asCommon:A2,original:Hv}),Ep=function(t,r,o,c){return Gr(r.defaults(t,o,c),o,{uid:t.partUids[r.name]},r.overrides(t,o,c))},C0=function(t,r,o){var c={},v={};return Ye(o,function(m){m.fold(function(p){c[p.pname]=$u(!0,function(w,x,k){return p.factory.sketch(Ep(w,p,x,k))})},function(p){var w=r.parts[p.name];v[p.name]=ve(p.factory.sketch(Ep(r,p,w[Hv()]),w))},function(p){c[p.pname]=$u(!1,function(w,x,k){return p.factory.sketch(Ep(w,p,x,k))})},function(p){c[p.pname]=mT(!0,function(w,x,k){var O=w[p.name];return we(O,function(_){return p.factory.sketch(Gr(p.defaults(w,_,k),_,p.overrides(w,_)))})})})}),{internals:ve(c),externals:ve(v)}},Ap=function(t,r){var o={};return Ye(r,function(c){Rg(c).each(function(v){var m=Op(t,v.pname);o[v.name]=function(p){var w=Uo("Part: "+v.name+" in "+t,Be(v.schema),p);return te(te({},m),{config:p,validated:w})}})}),o},Op=function(t,r){return{uiType:im(),owner:t,name:r}},Dp=function(t,r,o){return{uiType:im(),owner:t,name:r,config:o,validated:{}}},x0=function(t){return St(t,function(r){return r.fold(S.none,S.some,S.none,S.none).map(function(o){return ms(o.name,o.schema.concat([Ys(Hv())]))}).toArray()})},O2=function(t){return we(t,Pg)},S0=function(t,r,o){return C0(t,r,o)},_p=function(t,r,o){return dT(S.some(t),r,r.components,o)},$a=function(t,r,o){var c=r.partUids[o];return t.getSystem().getByUid(c).toOptional()},_c=function(t,r,o){return $a(t,r,o).getOrDie("Could not find part: "+o)},Bf=function(t,r,o){var c={},v=r.partUids,m=t.getSystem();return Ye(o,function(p){c[p]=ve(m.getByUid(v[p]))}),c},lm=function(t,r){var o=t.getSystem();return kr(r.partUids,function(c,v){return ve(o.getByUid(c))})},T0=function(t){return fr(t.partUids)},Rf=function(t,r,o){var c={},v=r.partUids,m=t.getSystem();return Ye(o,function(p){c[p]=ve(m.getByUid(v[p]).getOrDie())}),c},k0=function(t,r){var o=O2(r);return Z(we(o,function(c){return{key:c,value:t+"-"+c}}))},Vv=function(t){return ra("partUids","partUids",I(function(r){return k0(r.uid,t)}),Di())},Uv=Object.freeze({__proto__:null,generate:Ap,generateOne:Dp,schemas:x0,names:O2,substitutes:S0,components:_p,defaultUids:k0,defaultUidsSchema:Vv,getAllParts:lm,getAllPartNames:T0,getPart:$a,getPartOrDie:_c,getParts:Bf,getPartsOrDie:Rf}),E0=function(t,r){var o=t.length>0?[ms("parts",t)]:[];return o.concat([Ee("uid"),$e("dom",{}),$e("components",[]),Ys("originalSpec"),$e("debug.sketcher",{})]).concat(r)},D2=function(t,r,o,c,v){var m=E0(c,v);return Uo(t+" [SpecSchema]",Ie(m.concat(r)),o)},hT=function(t,r,o,c){var v=Hi(c),m=D2(t,r,v,[],[]);return o(m,v)},A0=function(t,r,o,c,v){var m=Hi(v),p=x0(o),w=Vv(o),x=D2(t,r,m,p,[w]),k=S0(t,x,o),O=_p(t,x,k.internals());return c(x,O,m,k.externals())},pT=function(t){return ua(t,"uid")},Hi=function(t){return pT(t)?t:te(te({},t),{uid:bc("uid")})},Nl=function(t){return t.uid!==void 0},bT=Ie([Ee("name"),Ee("factory"),Ee("configFields"),$e("apis",{}),$e("extraApis",{})]),yT=Ie([Ee("name"),Ee("factory"),Ee("configFields"),Ee("partFields"),$e("apis",{}),$e("extraApis",{})]),is=function(t){var r=Uo("Sketcher for "+t.name,bT,t),o=function(m){return hT(r.name,r.configFields,r.factory,m)},c=kr(r.apis,Ru),v=kr(r.extraApis,function(m,p){return Uh(m,p)});return te(te({name:r.name,configFields:r.configFields,sketch:o},c),v)},Vi=function(t){var r=Uo("Sketcher for "+t.name,yT,t),o=function(p){return A0(r.name,r.configFields,r.partFields,r.factory,p)},c=Ap(r.name,r.partFields),v=kr(r.apis,Ru),m=kr(r.extraApis,function(p,w){return Uh(p,w)});return te(te({name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:o,parts:c},v),m)},Pf=function(t){for(var r=[],o=function(v){r.push(v)},c=0;c<t.length;c++)t[c].each(o);return r},O0=function(t){for(var r=[],o=0;o<t.length;o++){var c=t[o];if(c.isSome())r.push(c.getOrDie());else return S.none()}return S.some(r)},Bp=function(t,r,o){return t.isSome()&&r.isSome()?S.some(o(t.getOrDie(),r.getOrDie())):S.none()},Zc=function(t,r,o,c){return t.isSome()&&r.isSome()&&o.isSome()?S.some(c(t.getOrDie(),r.getOrDie(),o.getOrDie())):S.none()},D0=function(t,r){return t!=null?S.some(r(t)):S.none()},_2=function(t,r){return t?S.some(r):S.none()},fm=function(t){return Ju(t)==="input"&&Ci(t,"type")!=="radio"||Ju(t)==="textarea"},_0=function(t,r,o){return r.find(t)},B2=Object.freeze({__proto__:null,getCurrent:_0}),Rp=[Ee("find")],va=$o({fields:Rp,name:"composing",apis:B2}),B0=function(t,r,o,c){var v=wu(t.element,"."+r.highlightClass);Ye(v,function(m){ut(c,function(p){return p.element===m})||(Va(m,r.highlightClass),t.getSystem().getByDom(m).each(function(p){r.onDehighlight(t,p),Lr(p,Ph())}))})},Ng=function(t,r,o){return B0(t,r,o,[])},R2=function(t,r,o,c){Pp(t,r,o,c)&&(Va(c.element,r.highlightClass),r.onDehighlight(t,c),Lr(c,Ph()))},vm=function(t,r,o,c){B0(t,r,o,[c]),Pp(t,r,o,c)||(ja(c.element,r.highlightClass),r.onHighlight(t,c),Lr(c,ew()))},Mg=function(t,r,o){P2(t,r).each(function(c){vm(t,r,o,c)})},Wv=function(t,r,o){R0(t,r).each(function(c){vm(t,r,o,c)})},Fg=function(t,r,o,c){xT(t,r,o,c).fold(function(v){throw v},function(v){vm(t,r,o,v)})},wT=function(t,r,o,c){var v=P0(t,r),m=he(v,c);m.each(function(p){vm(t,r,o,p)})},Pp=function(t,r,o,c){return es(c.element,r.highlightClass)},CT=function(t,r,o){return $i(t.element,"."+r.highlightClass).bind(function(c){return t.getSystem().getByDom(c).toOptional()})},xT=function(t,r,o,c){var v=wu(t.element,"."+r.itemClass);return S.from(v[c]).fold(function(){return lt.error(new Error("No element found with index "+c))},t.getSystem().getByDom)},P2=function(t,r,o){return $i(t.element,"."+r.itemClass).bind(function(c){return t.getSystem().getByDom(c).toOptional()})},R0=function(t,r,o){var c=wu(t.element,"."+r.itemClass),v=c.length>0?S.some(c[c.length-1]):S.none();return v.bind(function(m){return t.getSystem().getByDom(m).toOptional()})},N2=function(t,r,o,c){var v=wu(t.element,"."+r.itemClass),m=Pt(v,function(p){return es(p,r.highlightClass)});return m.bind(function(p){var w=Dv(p,c,0,v.length-1);return t.getSystem().getByDom(v[w]).toOptional()})},M2=function(t,r,o){return N2(t,r,o,-1)},ST=function(t,r,o){return N2(t,r,o,1)},P0=function(t,r,o){var c=wu(t.element,"."+r.itemClass);return Pf(we(c,function(v){return t.getSystem().getByDom(v).toOptional()}))},F2=Object.freeze({__proto__:null,dehighlightAll:Ng,dehighlight:R2,highlight:vm,highlightFirst:Mg,highlightLast:Wv,highlightAt:Fg,highlightBy:wT,isHighlighted:Pp,getHighlighted:CT,getFirst:P2,getLast:R0,getPrevious:M2,getNext:ST,getCandidates:P0}),$2=[Ee("highlightClass"),Ee("itemClass"),ea("onHighlight"),ea("onDehighlight")],Bn=$o({fields:$2,name:"highlighting",apis:F2}),TT=[8],Ml=[9],Qc=[13],Np=[27],Iu=[32],Mp=[37],jv=[38],Fl=[39],qv=[40],Fp=function(t,r,o){var c=Rn(t.slice(0,r)),v=Rn(t.slice(r+1));return he(c.concat(v),o)},kT=function(t,r,o){var c=Rn(t.slice(0,r));return he(c,o)},N0=function(t,r,o){var c=t.slice(0,r),v=t.slice(r+1);return he(v.concat(c),o)},ET=function(t,r,o){var c=t.slice(r+1);return he(c,o)},Jr=function(t){return function(r){var o=r.raw;return Re(t,o.which)}},Ms=function(t){return function(r){return ir(t,function(o){return o(r)})}},Nf=function(t){var r=t.raw;return r.shiftKey===!0},AT=function(t){var r=t.raw;return r.ctrlKey===!0},Mf=vn(Nf),aa=function(t,r){return{matches:t,classification:r}},$g=function(t,r){var o=he(t,function(c){return c.matches(r)});return o.map(function(c){return c.classification})},Ig=function(t,r,o){var c=r.exists(function(v){return o.exists(function(m){return Vr(m,v)})});c||Sr(t,Qy(),{prevFocus:r,newFocus:o})},Ff=function(){var t=function(o){return Ji(o.element)},r=function(o,c){var v=t(o);o.getSystem().triggerFocus(c,o.element);var m=t(o);Ig(o,v,m)};return{get:t,set:r}},dm=function(){var t=function(o){return Bn.getHighlighted(o).map(function(c){return c.element})},r=function(o,c){var v=t(o);o.getSystem().getByDom(c).fold(Le,function(p){Bn.highlight(o,p)});var m=t(o);Ig(o,v,m)};return{get:t,set:r}},$p;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})($p||($p={}));var Gv=function(t,r,o,c,v){var m=function(){return t.concat([$e("focusManager",Ff()),Ao("focusInside","onFocus",Oi(function(k){return Re(["onFocus","onEnterOrSpace","onApi"],k)?lt.value(k):lt.error("Invalid value for focusInside")})),za("handler",x),za("state",r),za("sendFocusIn",v)])},p=function(k,O,_,F,Y){var ae=_(k,O,F,Y);return $g(ae,O.event).bind(function(ne){return ne(k,O,F,Y)})},w=function(k,O){var _=k.focusInside!==$p.OnFocusMode?S.none():v(k).map(function(ae){return _t(Ic(),function(ne,pe){ae(ne,k,O),pe.stop()})}),F=function(ae,ne){var pe=Jr(Iu.concat(Qc))(ne.event);k.focusInside===$p.OnEnterOrSpaceMode&&pe&&Um(ae,ne)&&v(k).each(function(ie){ie(ae,k,O),ne.stop()})},Y=[_t(Od(),function(ae,ne){p(ae,ne,o,k,O).fold(function(){F(ae,ne)},function(pe){ne.stop()})}),_t(Qx(),function(ae,ne){p(ae,ne,c,k,O).each(function(pe){ne.stop()})})];return ma(_.toArray().concat(Y))},x={schema:m,processKey:p,toEvents:w};return x},M0=function(t){var r=[xr("onEscape"),xr("onEnter"),$e("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),$e("firstTabstop",0),$e("useTabstopAt",Qe),xr("visibilitySelector")].concat([t]),o=function(ne,pe){var ie=ne.visibilitySelector.bind(function(Ae){return Ks(pe,Ae)}).getOr(pe);return Mi(ie)>0},c=function(ne,pe){var ie=wu(ne.element,pe.selector),Ae=de(ie,function(ze){return o(pe,ze)});return S.from(Ae[pe.firstTabstop])},v=function(ne,pe){return pe.focusManager.get(ne).bind(function(ie){return Ks(ie,pe.selector)})},m=function(ne,pe){return o(ne,pe)&&ne.useTabstopAt(pe)},p=function(ne,pe,ie){c(ne,pe).each(function(Ae){pe.focusManager.set(ne,Ae)})},w=function(ne,pe,ie,Ae,ze){return ze(pe,ie,function(je){return m(Ae,je)}).fold(function(){return Ae.cyclic?S.some(!0):S.none()},function(je){return Ae.focusManager.set(ne,je),S.some(!0)})},x=function(ne,pe,ie,Ae){var ze=wu(ne.element,ie.selector);return v(ne,ie).bind(function(je){var ht=Pt(ze,gn(Vr,je));return ht.bind(function(Bt){return w(ne,ze,Bt,ie,Ae)})})},k=function(ne,pe,ie){var Ae=ie.cyclic?Fp:kT;return x(ne,pe,ie,Ae)},O=function(ne,pe,ie){var Ae=ie.cyclic?N0:ET;return x(ne,pe,ie,Ae)},_=function(ne,pe,ie){return ie.onEnter.bind(function(Ae){return Ae(ne,pe)})},F=function(ne,pe,ie){return ie.onEscape.bind(function(Ae){return Ae(ne,pe)})},Y=ve([aa(Ms([Nf,Jr(Ml)]),k),aa(Jr(Ml),O),aa(Jr(Np),F),aa(Ms([Mf,Jr(Qc)]),_)]),ae=ve([]);return Gv(r,Ki.init,Y,ae,function(){return S.some(p)})},I2=M0(Co("cyclic",Et)),OT=M0(Co("cyclic",Qe)),DT=function(t,r,o){return Xm(t,o,ru()),S.some(!0)},zg=function(t,r,o){var c=fm(o)&&Jr(Iu)(r.event);return c?S.none():DT(t,r,o)},mm=function(t,r){return S.some(!0)},_T=[$e("execute",zg),$e("useSpace",!1),$e("useEnter",!0),$e("useControlEnter",!1),$e("useDown",!1)],Lg=function(t,r,o){return o.execute(t,r,t.element)},BT=function(t,r,o,c){var v=o.useSpace&&!fm(t.element)?Iu:[],m=o.useEnter?Qc:[],p=o.useDown?qv:[],w=v.concat(m).concat(p);return[aa(Jr(w),Lg)].concat(o.useControlEnter?[aa(Ms([AT,Jr(Qc)]),Lg)]:[])},z2=function(t,r,o,c){return o.useSpace&&!fm(t.element)?[aa(Jr(Iu),mm)]:[]},RT=Gv(_T,Ki.init,BT,z2,function(){return S.none()}),F0=function(){var t=Zt(S.none()),r=function(v,m){t.set(S.some({numRows:v,numColumns:m}))},o=function(){return t.get().map(function(v){return v.numRows})},c=function(){return t.get().map(function(v){return v.numColumns})};return Es({readState:function(){return t.get().map(function(v){return{numRows:String(v.numRows),numColumns:String(v.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:r,getNumRows:o,getNumColumns:c})},PT=function(t){return t.state(t)},gm=Object.freeze({__proto__:null,flatgrid:F0,init:PT}),$0=function(t){return function(r,o,c,v){var m=t(r.element);return L2(m,r,o,c,v)}},Hg=function(t,r){var o=Xb(t,r);return $0(o)},Ip=function(t,r){var o=Xb(r,t);return $0(o)},Kv=function(t){return function(r,o,c,v){return L2(t,r,o,c,v)}},L2=function(t,r,o,c,v){var m=c.focusManager.get(r).bind(function(p){return t(r.element,p,c,v)});return m.map(function(p){return c.focusManager.set(r,p),!0})},Vg=Kv,I0=Kv,Xv=Kv,z0=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Yv=function(t){return!z0(t.dom)},Ug=function(t,r){return Pt(t,r).map(function(o){return{index:o,candidates:t}})},H2=function(t,r,o){var c=function(p){return Vr(p,r)},v=wu(t,o),m=de(v,Yv);return Ug(m,c)},L0=function(t,r){return Pt(t,function(o){return Vr(r,o)})},V2=function(t,r,o,c){var v=Math.floor(r/o),m=r%o;return c(v,m).bind(function(p){var w=p.row*o+p.column;return w>=0&&w<t.length?S.some(t[w]):S.none()})},Wg=function(t,r,o,c,v){return V2(t,r,c,function(m,p){var w=m===o-1,x=w?t.length-m*c:c,k=Dv(p,v,0,x-1);return S.some({row:m,column:k})})},H0=function(t,r,o,c,v){return V2(t,r,c,function(m,p){var w=Dv(m,v,0,o-1),x=w===o-1,k=x?t.length-w*c:c,O=kc(p,0,k-1);return S.some({row:w,column:O})})},V0=function(t,r,o,c){return Wg(t,r,o,c,1)},U2=function(t,r,o,c){return Wg(t,r,o,c,-1)},U0=function(t,r,o,c){return H0(t,r,o,c,-1)},W2=function(t,r,o,c){return H0(t,r,o,c,1)},NT=[Ee("selector"),$e("execute",zg),Ia("onEscape"),$e("captureTab",!1),Ob()],MT=function(t,r,o){$i(t.element,r.selector).each(function(c){r.focusManager.set(t,c)})},zp=function(t,r){return r.focusManager.get(t).bind(function(o){return Ks(o,r.selector)})},j2=function(t,r,o,c){return zp(t,o).bind(function(v){return o.execute(t,r,v)})},Jv=function(t){return function(r,o,c,v){return H2(r,o,c.selector).bind(function(m){return t(m.candidates,m.index,v.getNumRows().getOr(c.initSize.numRows),v.getNumColumns().getOr(c.initSize.numColumns))})}},W0=function(t,r,o){return o.captureTab?S.some(!0):S.none()},q2=function(t,r,o){return o.onEscape(t,r)},G2=Jv(U2),K2=Jv(V0),Lp=Jv(U0),Hp=Jv(W2),FT=ve([aa(Jr(Mp),Hg(G2,K2)),aa(Jr(Fl),Ip(G2,K2)),aa(Jr(jv),Vg(Lp)),aa(Jr(qv),I0(Hp)),aa(Ms([Nf,Jr(Ml)]),W0),aa(Ms([Mf,Jr(Ml)]),W0),aa(Jr(Np),q2),aa(Jr(Iu.concat(Qc)),j2)]),$T=ve([aa(Jr(Iu),mm)]),IT=Gv(NT,F0,FT,$T,function(){return S.some(MT)}),Vp=function(t,r,o,c){var v=function(p){return Ju(p)==="button"&&Ci(p,"disabled")==="disabled"},m=function(p,w,x){var k=Dv(w,c,0,x.length-1);return k===p?S.none():v(x[k])?m(p,k,x):S.from(x[k])};return H2(t,o,r).bind(function(p){var w=p.index,x=p.candidates;return m(w,w,x)})},hm=[Ee("selector"),$e("getInitial",S.none),$e("execute",zg),Ia("onEscape"),$e("executeOnMove",!1),$e("allowVertical",!0)],zT=function(t,r){return r.focusManager.get(t).bind(function(o){return Ks(o,r.selector)})},Up=function(t,r,o){return zT(t,o).bind(function(c){return o.execute(t,r,c)})},LT=function(t,r,o){r.getInitial(t).orThunk(function(){return $i(t.element,r.selector)}).each(function(c){r.focusManager.set(t,c)})},jg=function(t,r,o){return Vp(t,o.selector,r,-1)},Wp=function(t,r,o){return Vp(t,o.selector,r,1)},j0=function(t){return function(r,o,c,v){return t(r,o,c,v).bind(function(){return c.executeOnMove?Up(r,o,c):S.some(!0)})}},q0=function(t,r,o){return o.onEscape(t,r)},X2=function(t,r,o,c){var v=Mp.concat(o.allowVertical?jv:[]),m=Fl.concat(o.allowVertical?qv:[]);return[aa(Jr(v),j0(Hg(jg,Wp))),aa(Jr(m),j0(Ip(jg,Wp))),aa(Jr(Qc),Up),aa(Jr(Iu),Up),aa(Jr(Np),q0)]},Y2=ve([aa(Jr(Iu),mm)]),HT=Gv(hm,Ki.init,X2,Y2,function(){return S.some(LT)}),Zv=function(t,r,o){return S.from(t[r]).bind(function(c){return S.from(c[o]).map(function(v){return{rowIndex:r,columnIndex:o,cell:v}})})},qg=function(t,r,o,c){var v=t[r],m=v.length,p=Dv(o,c,0,m-1);return Zv(t,r,p)},G0=function(t,r,o,c){var v=Dv(o,c,0,t.length-1),m=t[v].length,p=kc(r,0,m-1);return Zv(t,v,p)},Gg=function(t,r,o,c){var v=t[r],m=v.length,p=kc(o+c,0,m-1);return Zv(t,r,p)},J2=function(t,r,o,c){var v=kc(o+c,0,t.length-1),m=t[v].length,p=kc(r,0,m-1);return Zv(t,v,p)},K0=function(t,r,o){return qg(t,r,o,1)},jp=function(t,r,o){return qg(t,r,o,-1)},Z2=function(t,r,o){return G0(t,o,r,-1)},X0=function(t,r,o){return G0(t,o,r,1)},Q2=function(t,r,o){return Gg(t,r,o,-1)},$l=function(t,r,o){return Gg(t,r,o,1)},VT=function(t,r,o){return J2(t,o,r,-1)},el=function(t,r,o){return J2(t,o,r,1)},UT=[ms("selectors",[Ee("row"),Ee("cell")]),$e("cycles",!0),$e("previousSelector",S.none),$e("execute",zg)],eC=function(t,r,o){var c=r.previousSelector(t).orThunk(function(){var v=r.selectors;return $i(t.element,v.cell)});c.each(function(v){r.focusManager.set(t,v)})},Kg=function(t,r,o){return Ji(t.element).bind(function(c){return o.execute(t,r,c)})},Y0=function(t,r){return we(t,function(o){return wu(o,r.selectors.cell)})},qp=function(t,r){return function(o,c,v){var m=v.cycles?t:r;return Ks(c,v.selectors.row).bind(function(p){var w=wu(p,v.selectors.cell);return L0(w,c).bind(function(x){var k=wu(o,v.selectors.row);return L0(k,p).bind(function(O){var _=Y0(k,v);return m(_,O,x).map(function(F){return F.cell})})})})}},tC=qp(jp,Q2),Xg=qp(K0,$l),WT=qp(Z2,VT),J0=qp(X0,el),jT=ve([aa(Jr(Mp),Hg(tC,Xg)),aa(Jr(Fl),Ip(tC,Xg)),aa(Jr(jv),Vg(WT)),aa(Jr(qv),I0(J0)),aa(Jr(Iu.concat(Qc)),Kg)]),qT=ve([aa(Jr(Iu),mm)]),GT=Gv(UT,Ki.init,jT,qT,function(){return S.some(eC)}),nC=[Ee("selector"),$e("execute",zg),$e("moveOnTab",!1)],pm=function(t,r,o){return o.focusManager.get(t).bind(function(c){return o.execute(t,r,c)})},rC=function(t,r,o){$i(t.element,r.selector).each(function(c){r.focusManager.set(t,c)})},Gp=function(t,r,o){return Vp(t,o.selector,r,-1)},Kp=function(t,r,o){return Vp(t,o.selector,r,1)},aC=function(t,r,o,c){return o.moveOnTab?Xv(Gp)(t,r,o,c):S.none()},oC=function(t,r,o,c){return o.moveOnTab?Xv(Kp)(t,r,o,c):S.none()},KT=ve([aa(Jr(jv),Xv(Gp)),aa(Jr(qv),Xv(Kp)),aa(Ms([Nf,Jr(Ml)]),aC),aa(Ms([Mf,Jr(Ml)]),oC),aa(Jr(Qc),pm),aa(Jr(Iu),pm)]),Qv=ve([aa(Jr(Iu),mm)]),XT=Gv(nC,Ki.init,KT,Qv,function(){return S.some(rC)}),iC=[Ia("onSpace"),Ia("onEnter"),Ia("onShiftEnter"),Ia("onLeft"),Ia("onRight"),Ia("onTab"),Ia("onShiftTab"),Ia("onUp"),Ia("onDown"),Ia("onEscape"),$e("stopSpaceKeyup",!1),xr("focusIn")],Xp=function(t,r,o){return[aa(Jr(Iu),o.onSpace),aa(Ms([Mf,Jr(Qc)]),o.onEnter),aa(Ms([Nf,Jr(Qc)]),o.onShiftEnter),aa(Ms([Nf,Jr(Ml)]),o.onShiftTab),aa(Ms([Mf,Jr(Ml)]),o.onTab),aa(Jr(jv),o.onUp),aa(Jr(qv),o.onDown),aa(Jr(Mp),o.onLeft),aa(Jr(Fl),o.onRight),aa(Jr(Iu),o.onSpace),aa(Jr(Np),o.onEscape)]},YT=function(t,r,o){return o.stopSpaceKeyup?[aa(Jr(Iu),mm)]:[]},uC=Gv(iC,Ki.init,Xp,YT,function(t){return t.focusIn}),Z0=I2.schema(),sC=OT.schema(),Q0=HT.schema(),JT=IT.schema(),cC=GT.schema(),lC=RT.schema(),$f=XT.schema(),ey=uC.schema(),ed=Object.freeze({__proto__:null,acyclic:Z0,cyclic:sC,flow:Q0,flatgrid:JT,matrix:cC,execution:lC,menu:$f,special:ey}),ty=function(t){return Pa(t,"setGridSize")},br=Hb({branchKey:"mode",branches:ed,name:"keying",active:{events:function(t,r){var o=t.handler;return o.toEvents(t,r)}},apis:{focusIn:function(t,r,o){r.sendFocusIn(r).fold(function(){t.getSystem().triggerFocus(t.element,t.element)},function(c){c(t,r,o)})},setGridSize:function(t,r,o,c,v){ty(o)?o.setGridSize(c,v):console.error("Layout does not support setGridSize")}},state:gm}),rc=function(t,r,o,c){Pw(function(){var v=we(c,t.getSystem().build);Rl(t,v)},t.element)},ny=function(t,r,o,c){var v=t.getSystem().build(c);d2(t,v,o)},ry=function(t,r,o,c){ny(t,r,_u,c)},ay=function(t,r,o,c){ny(t,r,Q1,c)},td=function(t,r,o,c){var v=Yp(t),m=he(v,function(p){return Vr(c.element,p.element)});m.each(kf)},Yp=function(t,r){return t.components()},fC=function(t,r,o,c,v){var m=Yp(t);return S.from(m[c]).map(function(p){return td(t,r,o,p),v.each(function(w){ny(t,r,function(x,k){rS(x,k,c)},w)}),p})},ZT=function(t,r,o,c,v){var m=Yp(t);return Pt(m,c).bind(function(p){return fC(t,r,o,p,v)})},oy=Object.freeze({__proto__:null,append:ry,prepend:ay,remove:td,replaceAt:fC,replaceBy:ZT,set:rc,contents:Yp}),Mr=$o({fields:[],name:"replacing",apis:oy}),QT=function(t,r){var o=ma(r);return $o({fields:[Ee("enabled")],name:t,active:{events:ve(o)}})},qr=function(t,r){var o=QT(t,r);return{key:t,value:{config:{},me:o,configAsRaw:ve({}),initialConfig:{},state:Ki}}},Yg=function(t,r){r.ignore||(wf(t.element),r.onFocus(t))},ek=function(t,r){r.ignore||Rw(t.element)},vC=function(t){return Ub(t.element)},tk=Object.freeze({__proto__:null,focus:Yg,blur:ek,isFocused:vC}),nk=function(t,r){var o=r.ignore?{}:{attributes:{tabindex:"-1"}};return Ws(o)},iy=function(t){return ma([_t(Ic(),function(r,o){Yg(r,t),o.stop()})].concat(t.stopMousedown?[_t(Cs(),function(r,o){o.event.prevent()})]:[]))},rk=Object.freeze({__proto__:null,exhibit:nk,events:iy}),ak=[ea("onFocus"),$e("stopMousedown",!1),$e("ignore",!1)],Br=$o({fields:ak,name:"focusing",active:rk,apis:tk}),dC=function(t){var r=function(){var o=Zt(t),c=function(){return o.get()},v=function(w){return o.set(w)},m=function(){return o.set(t)},p=function(){return o.get()};return{get:c,set:v,clear:m,readState:p}};return{init:r}},uy=function(t,r,o){var c=r.aria;c.update(t,c,o.get())},nd=function(t,r,o){r.toggleClass.each(function(c){o.get()?ja(t.element,c):Va(t.element,c)})},sy=function(t,r,o){d(t,r,o,!o.get())},u=function(t,r,o){o.set(!0),nd(t,r,o),uy(t,r,o)},l=function(t,r,o){o.set(!1),nd(t,r,o),uy(t,r,o)},d=function(t,r,o,c){var v=c?u:l;v(t,r,o)},h=function(t,r,o){return o.get()},C=function(t,r,o){d(t,r,o,r.selected)},T=Object.freeze({__proto__:null,onLoad:C,toggle:sy,isOn:h,on:u,off:l,set:d}),D=function(){return Ws({})},U=function(t,r){var o=ip(t,r,sy),c=up(t,r,C);return ma(pn([t.toggleOnExecute?[o]:[],[c]]))},H=Object.freeze({__proto__:null,exhibit:D,events:U}),se=function(t,r,o){ga(t.element,"aria-pressed",o),r.syncWithExpanded&&xt(t,r,o)},Se=function(t,r,o){ga(t.element,"aria-selected",o)},At=function(t,r,o){ga(t.element,"aria-checked",o)},xt=function(t,r,o){ga(t.element,"aria-expanded",o)},Ot=[$e("selected",!1),xr("toggleClass"),$e("toggleOnExecute",!0),Ao("aria",{mode:"none"},yi("mode",{pressed:[$e("syncWithExpanded",!1),za("update",se)],checked:[za("update",At)],expanded:[za("update",xt)],selected:[za("update",Se)],none:[za("update",Le)]}))],Ke=$o({fields:Ot,name:"toggling",active:H,apis:T,state:dC(!1)}),nt=function(){var t=function(r,o){o.stop(),av(r)};return[_t($c(),t),_t(xs(),t),Lc(qi()),Lc(Cs())]},Rt=function(t){var r=function(o){return Ss(function(c,v){o(c),v.stop()})};return ma(pn([t.map(r).toArray(),nt()]))},rr="alloy.item-hover",ta="alloy.item-focus",Dr=function(t){(Ji(t.element).isNone()||Br.isFocused(t))&&(Br.isFocused(t)||Br.focus(t),Sr(t,rr,{item:t}))},ca=function(t){Sr(t,ta,{item:t})},Ra=ve(rr),Za=ve(ta),If=function(t){return{dom:t.dom,domModification:te(te({},t.domModification),{attributes:te(te(te({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:xu.augment(t.itemBehaviours,[t.toggling.fold(Ke.revoke,function(r){return Ke.config(te({aria:{mode:"checked"}},r))}),Br.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(r){ca(r)}}),br.config({mode:"execution"}),wn.config({store:{mode:"memory",initialValue:t.data}}),qr("item-type-events",q(nt(),[_t(wl(),Dr),_t(qm(),Br.focus)]))]),components:t.components,eventOrder:t.eventOrder}},bm=[Ee("data"),Ee("components"),Ee("dom"),$e("hasSubmenu",!1),xr("toggling"),xu.field("itemBehaviours",[Ke,Br,br,wn]),$e("ignoreFocus",!1),$e("domModification",{}),za("builder",If),$e("eventOrder",{})],Il=function(t){return{dom:t.dom,components:t.components,events:ma([Yu(qm())])}},ha=[Ee("dom"),Ee("components"),za("builder",Il)],Si=ve("item-widget"),Ti=ve([Li({name:"widget",overrides:function(t){return{behaviours:Lt([wn.config({store:{mode:"manual",getValue:function(r){return t.data},setValue:Le}})])}}})]),us=function(t){var r=S0(Si(),t,Ti()),o=_p(Si(),t,r.internals()),c=function(m){return $a(m,t,"widget").map(function(p){return br.focusIn(p),p})},v=function(m,p){return fm(p.event.target)?S.none():function(){return t.autofocus&&p.setSource(m.element),S.none()}()};return{dom:t.dom,components:o,domModification:t.domModification,events:ma([Ss(function(m,p){c(m).each(function(w){p.stop()})}),_t(wl(),Dr),_t(qm(),function(m,p){t.autofocus?c(m):Br.focus(m)})]),behaviours:xu.augment(t.widgetBehaviours,[wn.config({store:{mode:"memory",initialValue:t.data}}),Br.config({ignore:t.ignoreFocus,onFocus:function(m){ca(m)}}),br.config({mode:"special",focusIn:t.autofocus?function(m){c(m)}:Ev(),onLeft:v,onRight:v,onEscape:function(m,p){return!Br.isFocused(m)&&!t.autofocus?(Br.focus(m),S.some(!0)):(t.autofocus&&p.setSource(m.element),S.none())}})])}},Qa=[Ee("uid"),Ee("data"),Ee("components"),Ee("dom"),$e("autofocus",!1),$e("ignoreFocus",!1),xu.field("widgetBehaviours",[wn,Br,br]),$e("domModification",{}),Vv(Ti()),za("builder",us)],mi=yi("type",{widget:Qa,item:bm,separator:ha}),gi=function(t,r){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:t.focusManager}},Bc=function(t,r){return{mode:"matrix",selectors:{row:r.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},rd=function(t,r){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:r.moveOnTab,focusManager:t.focusManager}},ad=ve([sm({factory:{sketch:function(t){var r=Uo("menu.spec item",mi,t);return r.builder(r)}},name:"items",unit:"item",defaults:function(t,r){return r.hasOwnProperty("uid")?r:te(te({},r),{uid:bc("item")})},overrides:function(t,r){return{type:r.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),Jp=ve([Ee("value"),Ee("items"),Ee("dom"),Ee("components"),$e("eventOrder",{}),ei("menuBehaviours",[Bn,wn,va,br]),Ao("movement",{mode:"menu",moveOnTab:!0},yi("mode",{grid:[Ob(),za("config",gi)],matrix:[za("config",Bc),Ee("rowSelector")],menu:[$e("moveOnTab",!0),za("config",rd)]})),Hd(),$e("fakeFocus",!1),$e("focusManager",Ff()),ea("onHighlight")]),cy=ve("alloy.menu-focus"),mC=function(t,r,o,c){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Io(t.menuBehaviours,[Bn.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),wn.config({store:{mode:"memory",initialValue:t.value}}),va.config({find:S.some}),br.config(t.movement.config(t,t.movement))]),events:ma([_t(Za(),function(v,m){var p=m.event;v.getSystem().getByDom(p.target).each(function(w){Bn.highlight(v,w),m.stop(),Sr(v,cy(),{menu:v,item:w})})}),_t(Ra(),function(v,m){var p=m.event.item;Bn.highlight(v,p)})]),components:r,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},zl=Vi({name:"Menu",configFields:Jp(),partFields:ad(),factory:mC}),ok=function(t){return qa(t,function(r,o){return{k:r,v:o}})},Zp=function(t,r,o,c){return ur(o,c).bind(function(v){return ur(t,v).bind(function(m){var p=Zp(t,r,o,m);return S.some([m].concat(p))})}).getOr([])},ly=function(t,r){var o={};Nr(t,function(p,w){Ye(p,function(x){o[x]=w})});var c=r,v=ok(r),m=kr(v,function(p,w){return[w].concat(Zp(o,c,v,w))});return kr(o,function(p){return ur(m,p).getOr([p])})},Jg=function(){var t=Zt({}),r=Zt({}),o=Zt({}),c=Zt(S.none()),v=Zt({}),m=function(){t.set({}),r.set({}),o.set({}),c.set(S.none())},p=function(){return c.get().isNone()},w=function(ht,Bt){var ft;r.set(te(te({},r.get()),(ft={},ft[ht]={type:"prepared",menu:Bt},ft)))},x=function(ht,Bt,ft,cn){c.set(S.some(ht)),t.set(ft),r.set(Bt),v.set(cn);var Er=ly(cn,ft);o.set(Er)},k=function(ht){return ho(t.get(),function(Bt,ft){return Bt===ht})},O=function(ht,Bt,ft){return ne(ht).bind(function(cn){return k(ht).bind(function(Er){return Bt(Er).map(function(On){return{triggeredMenu:cn,triggeringItem:On,triggeringPath:ft}})})})},_=function(ht,Bt){var ft=de(ie(ht).toArray(),function(cn){return ne(cn).isSome()});return ur(o.get(),ht).bind(function(cn){var Er=Rn(ft.concat(cn)),On=St(Er,function(wt,Ft){return O(wt,Bt,Er.slice(0,Ft+1)).fold(function(){return c.get().is(wt)?[]:[S.none()]},function(Vn){return[S.some(Vn)]})});return O0(On)})},F=function(ht){return ur(t.get(),ht).map(function(Bt){var ft=ur(o.get(),ht).getOr([]);return[Bt].concat(ft)})},Y=function(ht){return ur(o.get(),ht).bind(function(Bt){return Bt.length>1?S.some(Bt.slice(1)):S.none()})},ae=function(ht){return ur(o.get(),ht)},ne=function(ht){return pe(ht).bind(Zg)},pe=function(ht){return ur(r.get(),ht)},ie=function(ht){return ur(t.get(),ht)},Ae=function(ht){var Bt=v.get();return Zr(fr(Bt),ht)},ze=function(){return c.get().bind(ne)},je=function(){return r.get()};return{setMenuBuilt:w,setContents:x,expand:F,refresh:ae,collapse:Y,lookupMenu:pe,lookupItem:ie,otherMenus:Ae,getPrimary:ze,getMenus:je,clear:m,isClear:p,getTriggeringPath:_}},Zg=function(t){return t.type==="prepared"?S.some(t.menu):S.none()},Qp={init:Jg,extractPreparedMenu:Zg},gC=function(t,r){var o=Zt(S.none()),c=function(Gt,tr,pr){return kr(pr,function(da,Ua){var ko=function(){return zl.sketch(te(te({},da),{value:Ua,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?dm():Ff()}))};return Ua===tr?{type:"prepared",menu:Gt.getSystem().build(ko())}:{type:"notbuilt",nbMenu:ko}})},v=Qp.init(),m=function(Gt){var tr=c(Gt,t.data.primary,t.data.menus),pr=x();return v.setContents(t.data.primary,tr,t.data.expansions,pr),v.getPrimary()},p=function(Gt){return wn.getValue(Gt).value},w=function(Gt,tr,pr){return Xt(tr,function(da){if(!da.getSystem().isConnected())return S.none();var Ua=Bn.getCandidates(da);return he(Ua,function(ko){return p(ko)===pr})})},x=function(Gt){return kr(t.data.menus,function(tr,pr){return St(tr.items,function(da){return da.type==="separator"?[]:[da.data.value]})})},k=function(Gt,tr){Bn.highlight(Gt,tr),Bn.getHighlighted(tr).orThunk(function(){return Bn.getFirst(tr)}).each(function(pr){Xm(Gt,pr.element,qm())})},O=function(Gt,tr){return Pf(we(tr,function(pr){return Gt.lookupMenu(pr).bind(function(da){return da.type==="prepared"?S.some(da.menu):S.none()})}))},_=function(Gt,tr,pr){var da=O(tr,tr.otherMenus(pr));Ye(da,function(Ua){go(Ua.element,[t.markers.backgroundMenu]),t.stayInDom||Mr.remove(Gt,Ua)})},F=function(Gt){return o.get().getOrThunk(function(){var tr={},pr=wu(Gt.element,"."+t.markers.item),da=de(pr,function(Ua){return Ci(Ua,"aria-haspopup")==="true"});return Ye(da,function(Ua){Gt.getSystem().getByDom(Ua).each(function(ko){var Kl=p(ko);tr[Kl]=ko})}),o.set(S.some(tr)),tr})},Y=function(Gt,tr){var pr=F(Gt);Nr(pr,function(da,Ua){var ko=Re(tr,Ua);ga(da.element,"aria-expanded",ko)})},ae=function(Gt,tr,pr){return S.from(pr[0]).bind(function(da){return tr.lookupMenu(da).bind(function(Ua){if(Ua.type==="notbuilt")return S.none();var ko=Ua.menu,Kl=O(tr,pr.slice(1));return Ye(Kl,function(vl){ja(vl.element,t.markers.backgroundMenu)}),wc(ko.element)||Mr.append(Gt,Ni(ko)),go(ko.element,[t.markers.backgroundMenu]),k(Gt,ko),_(Gt,tr,pr),S.some(ko)})})},ne;(function(Gt){Gt[Gt.HighlightSubmenu=0]="HighlightSubmenu",Gt[Gt.HighlightParent=1]="HighlightParent"})(ne||(ne={}));var pe=function(Gt,tr,pr){if(pr.type==="notbuilt"){var da=Gt.getSystem().build(pr.nbMenu());return v.setMenuBuilt(tr,da),da}else return pr.menu},ie=function(Gt,tr,pr){pr===void 0&&(pr=ne.HighlightSubmenu);var da=p(tr);return v.expand(da).bind(function(Ua){return Y(Gt,Ua),S.from(Ua[0]).bind(function(ko){return v.lookupMenu(ko).bind(function(Kl){var vl=pe(Gt,ko,Kl);return wc(vl.element)||Mr.append(Gt,Ni(vl)),t.onOpenSubmenu(Gt,tr,vl,Rn(Ua)),pr===ne.HighlightSubmenu?(Bn.highlightFirst(vl),ae(Gt,v,Ua)):(Bn.dehighlightAll(vl),S.some(tr))})})})},Ae=function(Gt,tr){var pr=p(tr);return v.collapse(pr).bind(function(da){return Y(Gt,da),ae(Gt,v,da).map(function(Ua){return t.onCollapseMenu(Gt,tr,Ua),Ua})})},ze=function(Gt,tr){var pr=p(tr);return v.refresh(pr).bind(function(da){return Y(Gt,da),ae(Gt,v,da)})},je=function(Gt,tr){return fm(tr.element)?S.none():ie(Gt,tr,ne.HighlightSubmenu)},ht=function(Gt,tr){return fm(tr.element)?S.none():Ae(Gt,tr)},Bt=function(Gt,tr){return Ae(Gt,tr).orThunk(function(){return t.onEscape(Gt,tr).map(function(){return Gt})})},ft=function(Gt){return function(tr,pr){return Ks(pr.getSource(),"."+t.markers.item).bind(function(da){return tr.getSystem().getByDom(da).toOptional().bind(function(Ua){return Gt(tr,Ua).map(Qe)})})}},cn=ma([_t(cy(),function(Gt,tr){var pr=tr.event.item;v.lookupItem(p(pr)).each(function(){var da=tr.event.menu;Bn.highlight(Gt,da);var Ua=p(tr.event.item);v.refresh(Ua).each(function(ko){return _(Gt,v,ko)})})}),Ss(function(Gt,tr){var pr=tr.event.target;Gt.getSystem().getByDom(pr).each(function(da){var Ua=p(da);Ua.indexOf("collapse-item")===0&&Ae(Gt,da),ie(Gt,da,ne.HighlightSubmenu).fold(function(){t.onExecute(Gt,da)},Le)})}),so(function(Gt,tr){m(Gt).each(function(pr){Mr.append(Gt,Ni(pr)),t.onOpenMenu(Gt,pr),t.highlightImmediately&&k(Gt,pr)})})].concat(t.navigateOnHover?[_t(Ra(),function(Gt,tr){var pr=tr.event.item;ze(Gt,pr),ie(Gt,pr,ne.HighlightParent),t.onHover(Gt,pr)})]:[])),Er=function(Gt){return Bn.getHighlighted(Gt).bind(Bn.getHighlighted)},On=function(Gt){Er(Gt).each(function(tr){Ae(Gt,tr)})},wt=function(Gt){v.getPrimary().each(function(tr){k(Gt,tr)})},Ft=function(Gt){return S.from(Gt.components()[0]).filter(function(tr){return Ci(tr.element,"role")==="menu"})},Vn=function(Gt){var tr=v.getPrimary().bind(function(pr){return Er(Gt).bind(function(da){var Ua=p(da),ko=ao(v.getMenus()),Kl=Pf(we(ko,Qp.extractPreparedMenu));return v.getTriggeringPath(Ua,function(vl){return w(Gt,Kl,vl)})}).map(function(da){return{primary:pr,triggeringPath:da}})});tr.fold(function(){Ft(Gt).each(function(pr){t.onRepositionMenu(Gt,pr,[])})},function(pr){var da=pr.primary,Ua=pr.triggeringPath;t.onRepositionMenu(Gt,da,Ua)})},Tr={collapseMenu:On,highlightPrimary:wt,repositionMenus:Vn};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Io(t.tmenuBehaviours,[br.config({mode:"special",onRight:ft(je),onLeft:ft(ht),onEscape:ft(Bt),focusIn:function(Gt,tr){v.getPrimary().each(function(pr){Xm(Gt,pr.element,qm())})}}),Bn.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),va.config({find:function(Gt){return Bn.getHighlighted(Gt)}}),Mr.config({})]),eventOrder:t.eventOrder,apis:Tr,events:cn}},pB=ve("collapse-item"),hC=function(t,r,o){return{primary:t,menus:r,expansions:o}},cA=function(t,r){return{primary:t,menus:$(t,r),expansions:{}}},lA=function(t){return{value:Qn(pB()),meta:{text:t}}},Qg=is({name:"TieredMenu",configFields:[Ab("onExecute"),Ab("onEscape"),Sv("onOpenMenu"),Sv("onOpenSubmenu"),ea("onRepositionMenu"),ea("onCollapseMenu"),$e("highlightImmediately",!0),ms("data",[Ee("primary"),Ee("menus"),Ee("expansions")]),$e("fakeFocus",!1),ea("onHighlight"),ea("onHover"),Dl(),Ee("dom"),$e("navigateOnHover",!0),$e("stayInDom",!1),ei("tmenuBehaviours",[br,Bn,va,Mr]),$e("eventOrder",{})],apis:{collapseMenu:function(t,r){t.collapseMenu(r)},highlightPrimary:function(t,r){t.highlightPrimary(r)},repositionMenus:function(t,r){t.repositionMenus(r)}},factory:gC,extraApis:{tieredData:hC,singleData:cA,collapseItem:lA}}),bB=function(t,r,o,c,v){var m=function(){return t.lazySink(r)},p=c.type==="horizontal"?{layouts:{onLtr:function(){return Ib()},onRtl:function(){return zb()}}}:{},w=function(k){return k.length===2},x=function(k){return w(k)?p:{}};return Qg.sketch({dom:{tag:"div"},data:c.data,markers:c.menu.markers,highlightImmediately:c.menu.highlightImmediately,onEscape:function(){return jr.close(r),t.onEscape.map(function(k){return k(r)}),S.some(!0)},onExecute:function(){return S.some(!0)},onOpenMenu:function(k,O){Zi.positionWithinBounds(m().getOrDie(),o,O,v())},onOpenSubmenu:function(k,O,_,F){var Y=m().getOrDie();Zi.position(Y,te({anchor:"submenu",item:O},x(F)),_)},onRepositionMenu:function(k,O,_){var F=m().getOrDie();Zi.positionWithinBounds(F,o,O,v()),Ye(_,function(Y){var ae=x(Y.triggeringPath);Zi.position(F,te({anchor:"submenu",item:Y.triggeringItem},ae),Y.triggeredMenu)})}})},yB=function(t,r){var o=function(Y,ae){var ne=t.getRelated(Y);return ne.exists(function(pe){return Vc(pe,ae)})},c=function(Y,ae){jr.setContent(Y,ae)},v=function(Y,ae,ne){m(Y,ae,ne,S.none())},m=function(Y,ae,ne,pe){p(Y,ae,ne,function(){return pe.map(function(ie){return rs(ie)})})},p=function(Y,ae,ne,pe){var ie=t.lazySink(Y).getOrDie();jr.openWhileCloaked(Y,ne,function(){return Zi.positionWithinBounds(ie,ae,Y,pe())}),wn.setValue(Y,S.some({mode:"position",anchor:ae,getBounds:pe}))},w=function(Y,ae,ne){x(Y,ae,ne,function(){return S.none()})},x=function(Y,ae,ne,pe){var ie=bB(t,Y,ae,ne,pe);jr.open(Y,ie),wn.setValue(Y,S.some({mode:"menu",menu:ie}))},k=function(Y){jr.isOpen(Y)&&(wn.setValue(Y,S.none()),jr.close(Y))},O=function(Y){return jr.getState(Y)},_=function(Y){jr.isOpen(Y)&&wn.getValue(Y).each(function(ae){switch(ae.mode){case"menu":jr.getState(Y).each(function(pe){Qg.repositionMenus(pe)});break;case"position":var ne=t.lazySink(Y).getOrDie();Zi.positionWithinBounds(ne,ae.anchor,Y,ae.getBounds());break}})},F={setContent:c,showAt:v,showWithin:m,showWithinBounds:p,showMenuAt:w,showMenuWithinBounds:x,hide:k,getContent:O,reposition:_,isOpen:jr.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Io(t.inlineBehaviours,[jr.config({isPartOf:function(Y,ae,ne){return Vc(ae,ne)||o(Y,ne)},getAttachPoint:function(Y){return t.lazySink(Y).getOrDie()},onOpen:function(Y){t.onShow(Y)},onClose:function(Y){t.onHide(Y)}}),wn.config({store:{mode:"memory",initialValue:S.none()}}),zi.config({channels:te(te({},Df(te({isExtraPart:r.isExtraPart},t.fireDismissalEventInstead.map(function(Y){return{fireEventInstead:{event:Y.event}}}).getOr({})))),wp(te(te({},t.fireRepositionEventInstead.map(function(Y){return{fireEventInstead:{event:Y.event}}}).getOr({})),{doReposition:_})))})]),eventOrder:t.eventOrder,apis:F}},So=is({name:"InlineView",configFields:[Ee("lazySink"),ea("onShow"),ea("onHide"),Na("onEscape"),ei("inlineBehaviours",[jr,wn,zi]),Xo("fireDismissalEventInstead",[$e("event",Fo())]),Xo("fireRepositionEventInstead",[$e("event",Bh())]),$e("getRelated",S.none),$e("isExtraPart",Et),$e("eventOrder",S.none)],factory:yB,apis:{showAt:function(t,r,o,c){t.showAt(r,o,c)},showWithin:function(t,r,o,c,v){t.showWithin(r,o,c,v)},showWithinBounds:function(t,r,o,c,v){t.showWithinBounds(r,o,c,v)},showMenuAt:function(t,r,o,c){t.showMenuAt(r,o,c)},showMenuWithinBounds:function(t,r,o,c,v){t.showMenuWithinBounds(r,o,c,v)},hide:function(t,r){t.hide(r)},isOpen:function(t,r){return t.isOpen(r)},getContent:function(t,r){return t.getContent(r)},setContent:function(t,r,o){t.setContent(r,o)},reposition:function(t,r){t.reposition(r)}}}),fA=function(t){return t.x},vA=function(t,r){return t.x+t.width/2-r.width/2},ik=function(t,r){return t.x+t.width-r.width},uk=function(t){return t.y},pC=function(t,r){return t.y+t.height-r.height},od=function(t,r,o){return Xi(ik(t,r),pC(t,r),o.innerSoutheast(),bu(),li(t,{right:0,bottom:3}),"layout-inner-se")},ym=function(t,r,o){return Xi(fA(t),pC(t,r),o.innerSouthwest(),Rs(),li(t,{left:1,bottom:3}),"layout-inner-sw")},id=function(t,r,o){return Xi(ik(t,r),uk(t),o.innerNortheast(),Db(),li(t,{right:0,top:2}),"layout-inner-ne")},eh=function(t,r,o){return Xi(fA(t),uk(t),o.innerNorthwest(),np(),li(t,{left:1,top:2}),"layout-inner-nw")},ud=function(t,r,o){return Xi(vA(t,r),uk(t),o.innerNorth(),rp(),li(t,{top:2}),"layout-inner-n")},th=function(t,r,o){return Xi(vA(t,r),pC(t,r),o.innerSouth(),_b(),li(t,{bottom:3}),"layout-inner-s")},zf=tinymce.util.Tools.resolve("tinymce.util.Delay"),dA=function(t){var r=Rt(t.action),o=t.dom.tag,c=function(m){return ur(t.dom,"attributes").bind(function(p){return ur(p,m)})},v=function(){if(o==="button"){var m=c("type").getOr("button"),p=c("role").map(function(x){return{role:x}}).getOr({});return te({type:m},p)}else{var w=c("role").getOr("button");return{role:w}}};return{uid:t.uid,dom:t.dom,components:t.components,events:r,behaviours:xu.augment(t.buttonBehaviours,[Br.config({}),br.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:v()},eventOrder:t.eventOrder}},Su=is({name:"Button",factory:dA,configFields:[$e("uid",void 0),Ee("dom"),$e("components",[]),xu.field("buttonBehaviours",[Br,br]),xr("action"),xr("role"),$e("eventOrder",{})]}),_a=function(t){var r=Nl(t)&&Pa(t,"uid")?t.uid:bc("memento"),o=function(m){return m.getSystem().getByUid(r).getOrDie()},c=function(m){return m.getSystem().getByUid(r).toOptional()},v=function(){return te(te({},t),{uid:r})};return{get:o,getOpt:c,asSpec:v}},sk=function(t){return S.from(t()["temporary-placeholder"]).getOr("!not found!")},ss=function(t,r){return S.from(r()[t.toLowerCase()]).getOrThunk(function(){return sk(r)})},wB=function(t,r,o){return S.from(r()[t.toLowerCase()]).or(o).getOrThunk(function(){return sk(r)})},CB=function(t,r){return Xt(t,function(o){return S.from(r()[o.toLowerCase()])}).getOrThunk(function(){return sk(r)})},xB={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},mA=function(t){var r=_a({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:Lt([Mr.config({})])}),o=function(_){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+_+"%"}}}},c=function(_){return{dom:{tag:"div",classes:["tox-text"],innerHtml:_+"%"}}},v=_a({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},c(0)],behaviours:Lt([Mr.config({})])}),m=function(_,F){_.getSystem().isConnected()&&v.getOpt(_).each(function(Y){Mr.set(Y,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(F)]},c(F)])})},p=function(_,F){if(_.getSystem().isConnected()){var Y=r.get(_);Mr.set(Y,[mf(F)])}},w={updateProgress:m,updateText:p},x=pn([t.icon.toArray(),t.level.toArray(),t.level.bind(function(_){return S.from(xB[_])}).toArray()]),k=_a(Su.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:ss("close",t.iconProvider),attributes:{"aria-label":t.translationProvider("Close")}}}],action:function(_){t.onAction(_)}})),O=[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:CB(x,t.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:Lt([Mr.config({})])}];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(function(_){return["tox-notification","tox-notification--in","tox-notification--"+_]}).getOr(["tox-notification","tox-notification--in"])},behaviours:Lt([Br.config({}),qr("notification-events",[_t(Cl(),function(_){k.getOpt(_).each(Br.focus)})])]),components:O.concat(t.progress?[v.asSpec()]:[]).concat(t.closeButton?[k.asSpec()]:[]),apis:w}},ck=is({name:"Notification",factory:mA,configFields:[xr("level"),Ee("progress"),Ee("icon"),Ee("onAction"),Ee("text"),Ee("iconProvider"),Ee("translationProvider"),fa("closeButton",!0)],apis:{updateProgress:function(t,r,o){t.updateProgress(r,o)},updateText:function(t,r,o){t.updateText(r,o)}}});function SB(t,r,o){var c=r.backstage,v=function(_){switch(_){case"bc-bc":return th;case"tc-tc":return ud;case"tc-bc":return Nu;case"bc-tc":default:return Ii}},m=function(_){Ye(_,function(F){return F.moveTo(0,0)})},p=function(_){_.length>0&&(pt(_).each(function(F){return F.moveRel(null,"banner")}),Ye(_,function(F,Y){Y>0&&F.moveRel(_[Y-1].getEl(),"bc-tc")}))},w=function(_){m(_),p(_)},x=function(_,F){var Y=!_.closeButton&&_.timeout&&(_.timeout>0||_.timeout<0),ae=function(){F(),So.hide(pe)},ne=iu(ck.sketch({text:_.text,level:Re(["success","error","warning","warn","info"],_.type)?_.type:void 0,progress:_.progressBar===!0,icon:S.from(_.icon),closeButton:!Y,onAction:ae,iconProvider:c.shared.providers.icons,translationProvider:c.shared.providers.translate})),pe=iu(So.sketch(te({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:r.backstage.shared.getSink,fireDismissalEventInstead:{}},c.shared.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));return o.add(pe),_.timeout>0&&zf.setTimeout(function(){ae()},_.timeout),{close:ae,moveTo:function(ie,Ae){So.showAt(pe,{anchor:"makeshift",x:ie,y:Ae},Ni(ne))},moveRel:function(ie,Ae){if(Ae!=="banner"){var ze=v(Ae),je={anchor:"node",root:Os(),node:S.some(_n.fromDom(ie)),layouts:{onRtl:function(){return[ze]},onLtr:function(){return[ze]}}};So.showAt(pe,je,Ni(ne))}else So.showAt(pe,r.backstage.shared.anchors.banner(),Ni(ne))},text:function(ie){ck.updateText(ne,ie)},settings:_,getEl:function(){return ne.element.dom},progressBar:{value:function(ie){ck.updateProgress(ne,ie)}}}},k=function(_){_.close()},O=function(_){return _.settings};return{open:x,close:k,reposition:w,getArgs:O}}var TB=function(t,r){var o=null,c=function(){o!==null&&(clearTimeout(o),o=null)},v=function(){for(var m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];o===null&&(o=setTimeout(function(){t.apply(null,m),o=null},r))};return{cancel:c,throttle:v}},gA=function(t,r){var o=null,c=function(){o!==null&&(clearTimeout(o),o=null)},v=function(){for(var m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];o!==null&&clearTimeout(o),o=setTimeout(function(){t.apply(null,m),o=null},r)};return{cancel:c,throttle:v}},kB=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),nh=function(t,r){return t.isBlock(r)||Re(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false"},e1=function(t,r,o,c,v){var m=kB(t,function(p){return nh(t,p)});return S.from(m.backwards(r,o,c,v))},EB="[data-mce-autocompleter]",lk=function(t,r){return bC(_n.fromDom(t.selection.getNode())).getOrThunk(function(){var o=_n.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return _u(o,_n.fromDom(r.extractContents())),r.insertNode(o.dom),wi(o).each(function(c){return c.dom.normalize()}),WS(o).map(function(c){t.selection.setCursorLocation(c.dom,Cg(c))}),o})},bC=function(t){return Ks(t,EB)},yC=function(t){return t.collapsed&&t.startContainer.nodeType===3},t1=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},fk=function(t){return t!==""&&` \xA0\f
\r	\v`.indexOf(t)!==-1},fy=function(t,r){return t.substring(r.length)},AB=function(t,r,o){var c;for(c=r-1;c>=0;c--){var v=t.charAt(c);if(fk(v))return S.none();if(v===o)break}return S.some(c)},wC=function(t,r,o,c){if(c===void 0&&(c=0),!yC(r))return S.none();var v=function(p,w,x){return AB(x,w,o).getOr(w)},m=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return e1(t,r.startContainer,r.startOffset,v,m).bind(function(p){var w=r.cloneRange();if(w.setStart(p.container,p.offset),w.setEnd(r.endContainer,r.endOffset),w.collapsed)return S.none();var x=t1(w),k=x.lastIndexOf(o);return k!==0||fy(x,o).length<c?S.none():S.some({text:fy(x,o),range:w,triggerChar:o})})},vk=function(t,r,o,c){return c===void 0&&(c=0),bC(_n.fromDom(r.startContainer)).fold(function(){return wC(t,r,o,c)},function(v){var m=t.createRng();m.selectNode(v.dom);var p=t1(m);return S.some({range:m,text:fy(p,o),triggerChar:o})})},OB=function(t,r){r.on("keypress compositionend",t.onKeypress.throttle),r.on("remove",t.onKeypress.cancel);var o=function(c,v){Sr(c,Od(),{raw:v})};r.on("keydown",function(c){var v=function(){return t.getView().bind(Bn.getHighlighted)};c.which===8&&t.onKeypress.throttle(c),t.isActive()&&(c.which===27&&t.cancelIfNecessary(),t.isMenuOpen()?c.which===13?(v().each(av),c.preventDefault()):c.which===40?(v().fold(function(){t.getView().each(Bn.highlightFirst)},function(m){o(m,c)}),c.preventDefault(),c.stopImmediatePropagation()):(c.which===37||c.which===38||c.which===39)&&v().each(function(m){o(m,c),c.preventDefault(),c.stopImmediatePropagation()}):(c.which===13||c.which===38||c.which===40)&&t.cancelIfNecessary())}),r.on("NodeChange",function(c){t.isActive()&&!t.isProcessingAction()&&bC(_n.fromDom(c.element)).isNone()&&t.cancelIfNecessary()})},DB={setup:OB},n1=tinymce.util.Tools.resolve("tinymce.util.Promise"),dk=function(t,r){return{container:t,offset:r}},_B=function(t){return t.nodeType===Dt},hA=function(t){return t.nodeType===He},pA=function(t){if(_B(t))return dk(t,t.data.length);var r=t.childNodes;return r.length>0?pA(r[r.length-1]):dk(t,r.length)},bA=function(t,r){var o=t.childNodes;return o.length>0&&r<o.length?bA(o[r],0):o.length>0&&hA(t)&&o.length===r?pA(o[o.length-1]):dk(t,r)},BB=function(t,r){return e1(t,r.container,r.offset,function(o,c){return c===0?-1:c},t.getRoot()).filter(function(o){var c=o.container.data.charAt(o.offset-1);return!fk(c)}).isSome()},RB=function(t){return function(r){var o=bA(r.startContainer,r.startOffset);return!BB(t,o)}},yA=function(t,r,o){return Xt(o.triggerChars,function(c){return vk(t,r,c)})},wA=function(t,r){var o=r(),c=t.selection.getRng();return yA(t.dom,c,o).bind(function(v){return mk(t,r,v)})},mk=function(t,r,o,c){c===void 0&&(c={});var v=r(),m=t.selection.getRng(),p=m.startContainer.nodeValue,w=de(v.lookupByChar(o.triggerChar),function(k){return o.text.length>=k.minChars&&k.matches.getOrThunk(function(){return RB(t.dom)})(o.range,p,o.text)});if(w.length===0)return S.none();var x=n1.all(we(w,function(k){var O=k.fetch(o.text,k.maxResults,c);return O.then(function(_){return{matchText:o.text,items:_,columns:k.columns,onAction:k.onAction,highlightOn:k.highlightOn}})}));return S.some({lookupData:x,context:o})},CA=Be([nr("type"),ia("text")]),PB=function(t){return Ba("separatormenuitem",CA,t)},NB=Be([$e("type","autocompleteitem"),$e("active",!1),$e("disabled",!1),$e("meta",{}),nr("value"),ia("text"),ia("icon")]),MB=Be([nr("type"),nr("ch"),vc("minChars",1),$e("columns",1),vc("maxResults",10),Na("matches"),Eo("fetch"),Eo("onAction"),ii("highlightOn",[],bo)]),FB=function(t){return Ba("Autocompleter.Separator",CA,t)},xA=function(t){return Ba("Autocompleter.Item",NB,t)},gk=function(t){return Ba("Autocompleter",MB,t)},vy=[fa("disabled",!1),ia("tooltip"),ia("icon"),ia("text"),no("onSetup",function(){return Le})],CC=Be([nr("type"),Eo("onAction")].concat(vy)),SA=function(t){return Ba("toolbarbutton",CC,t)},hk=[fa("active",!1)].concat(vy),$B=Be(hk.concat([nr("type"),Eo("onAction")])),TA=function(t){return Ba("ToggleButton",$B,t)},kA=[no("predicate",Et),Eu("scope","node",["node","editor"]),Eu("position","selection",["node","selection","line"])],IB=vy.concat([$e("type","contextformbutton"),$e("primary",!1),Eo("onAction"),Co("original",rt)]),EA=hk.concat([$e("type","contextformbutton"),$e("primary",!1),Eo("onAction"),Co("original",rt)]),zB=vy.concat([$e("type","contextformbutton")]),LB=hk.concat([$e("type","contextformtogglebutton")]),xC=yi("type",{contextformbutton:IB,contextformtogglebutton:EA}),HB=Be([$e("type","contextform"),no("initValue",function(){return""}),ia("label"),du("commands",xC),oi("launch",yi("type",{contextformbutton:zB,contextformtogglebutton:LB}))].concat(kA)),VB=function(t){return Ba("ContextForm",HB,t)},pk=Be([$e("type","contexttoolbar"),nr("items")].concat(kA)),UB=function(t){return Ba("ContextToolbar",pk,t)},WB=function(t){var r={};return Ye(t,function(o){r[o]={}}),fr(r)},jB=function(t){var r=t.ui.registry.getAll().popups,o=kr(r,function(p){return gk(p).fold(function(w){throw new Error(ds(w))},function(w){return w})}),c=WB(Oa(o,function(p){return p.ch})),v=ao(o),m=function(p){return de(v,function(w){return w.ch===p})};return{dataset:o,triggerChars:c,lookupByChar:m}},bk;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(bk||(bk={}));var Ll=bk,yk="tox-menu-nav__js",wk="tox-collection__item",Ck="tox-swatch",qB={normal:yk,color:Ck},AA="tox-collection__item--enabled",GB="tox-collection__group-heading",KB="tox-collection__item-icon",dy="tox-collection__item-label",XB="tox-collection__item-accessory",OA="tox-collection__item-caret",YB="tox-collection__item-checkmark",r1="tox-collection__item--active",JB="tox-collection__item-icon-rtl",DA="tox-collection__item-container",ZB="tox-collection__item-container--column",_A="tox-collection__item-container--row",QB="tox-collection__item-container--align-right",xk="tox-collection__item-container--align-left",eR="tox-collection__item-container--valign-top",tR="tox-collection__item-container--valign-middle",nR="tox-collection__item-container--valign-bottom",BA=function(t){return ur(qB,t).getOr(yk)},rR=function(t){return t==="color"?"tox-swatches":"tox-menu"},Sk=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:rR(t),tieredMenu:"tox-tiered-menu"}},a1=function(t){var r=Sk(t);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:BA(t)}},aR=function(t,r,o){var c=Sk(o);return{tag:"div",classes:pn([[c.menu,"tox-menu-"+r+"-column"],t?[c.hasIcons]:[]])}},oR=[zl.parts.items({})],SC=function(t,r,o){var c=Sk(o),v={tag:"div",classes:pn([[c.tieredMenu]])};return{dom:v,markers:a1(o)}},Tk=function(t,r){return function(o){var c=Vt(o,r);return we(c,function(v){return{dom:t,components:v}})}},kk=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[zl.parts.items({preprocess:t!=="auto"?Tk({tag:"div",classes:["tox-swatches__row"]},t):rt})]}]}},iR=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[zl.parts.items({preprocess:Tk({tag:"div",classes:["tox-collection__group"]},t)})]}},RA=function(t,r){var o=[],c=[];return Ye(t,function(v,m){r(v,m)?(c.length>0&&o.push(c),c=[],ua(v.dom,"innerHtml")&&c.push(v)):c.push(v)}),c.length>0&&o.push(c),we(o,function(v){return{dom:{tag:"div",classes:["tox-collection__group"]},components:v}})},Ek=function(t,r,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[zl.parts.items({preprocess:function(c){return t!=="auto"&&t>1?Tk({tag:"div",classes:["tox-collection__group"]},t)(c):RA(c,function(v,m){return r[m].type==="separator"})}})]}},Ak=function(t,r){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[zl.parts.items({preprocess:function(o){return RA(o,function(c,v){return t[v].type==="separator"})}})]}},TC=function(t){return ut(t,function(r){return"icon"in r&&r.icon!==void 0})},Hl=function(t){return console.error(ds(t)),console.log(t),S.none()},uR=function(t,r,o,c,v){var m=Ak(o);return{value:t,dom:m.dom,components:m.components,items:o}},Ok=function(t,r,o,c,v){if(v==="color"){var m=kk(c);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="normal"&&c==="auto"){var m=Ek(c,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="normal"&&c===1){var m=Ek(1,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="normal"){var m=Ek(c,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="listpreview"&&c!=="auto"){var m=iR(c);return{value:t,dom:m.dom,components:m.components,items:o}}return{value:t,dom:aR(r,c,v),components:oR,items:o}},sR=[nr("type"),nr("src"),ia("alt"),ii("classes",[],bo)],cR=Be(sR),PA=[nr("type"),nr("text"),ia("name"),ii("classes",["tox-collection__item-label"],bo)],lR=Be(PA),kC=Kf(function(){return fu("type",{cardimage:cR,cardtext:lR,cardcontainer:Dk})}),Dk=Be([nr("type"),dl("direction","horizontal"),dl("align","left"),dl("valign","middle"),du("items",kC)]),rh=[fa("disabled",!1),ia("text"),ia("shortcut"),ra("value","value",ce(function(){return Qn("menuitem-value")}),Di()),$e("meta",{})],_k=Be([nr("type"),ia("label"),du("items",kC),no("onSetup",function(){return Le}),no("onAction",Le)].concat(rh)),NA=function(t){return Ba("cardmenuitem",_k,t)},MA=Be([nr("type"),fa("active",!1),ia("icon")].concat(rh)),Lf=function(t){return Ba("choicemenuitem",MA,t)},Bk=["inserttable","colorswatch"],fR=Be([nr("type"),ai("fancytype",Bk),no("onAction",Le)]),vR=function(t){return Ba("fancymenuitem",fR,t)},dR=Be([nr("type"),no("onSetup",function(){return Le}),no("onAction",Le),ia("icon")].concat(rh)),mR=function(t){return Ba("menuitem",dR,t)},o1=Be([nr("type"),Eo("getSubmenuItems"),no("onSetup",function(){return Le}),ia("icon")].concat(rh)),FA=function(t){return Ba("nestedmenuitem",o1,t)},gR=Be([nr("type"),ia("icon"),fa("active",!1),no("onSetup",function(){return Le}),Eo("onAction")].concat(rh)),hR=function(t){return Ba("togglemenuitem",gR,t)},EC=function(t,r,o){var c=wu(t.element,"."+o);if(c.length>0){var v=Pt(c,function(m){var p=m.dom.getBoundingClientRect().top,w=c[0].dom.getBoundingClientRect().top;return Math.abs(p-w)>r}).getOr(c.length);return S.some({numColumns:v,numRows:Math.ceil(c.length/v)})}else return S.none()},Rk=function(t,r){return Lt([qr(t,r)])},Pk=function(t){return Rk(Qn("unnamed-events"),t)},AC={namedEvents:Rk,unnamedEvents:Pk},OC=Qn("tooltip.exclusive"),ah=Qn("tooltip.show"),my=Qn("tooltip.hide"),Nk=function(t,r,o){t.getSystem().broadcastOn([OC],{})},$A=function(t,r,o,c){o.getTooltip().each(function(v){v.getSystem().isConnected()&&Mr.set(v,c)})},pR=Object.freeze({__proto__:null,hideAllExclusive:Nk,setComponents:$A}),bR=function(t,r){var o=function(v){r.getTooltip().each(function(m){kf(m),t.onHide(v,m),r.clearTooltip()}),r.clearTimer()},c=function(v){if(!r.isShowing()){Nk(v);var m=t.lazySink(v).getOrDie(),p=v.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:ma(t.mode==="normal"?[_t(wl(),function(w){Lr(v,ah)}),_t(tv(),function(w){Lr(v,my)})]:[]),behaviours:Lt([Mr.config({})])});r.setTooltip(p),qc(m,p),t.onShow(v,p),Zi.position(m,t.anchor(v),p)}};return ma(pn([[_t(ah,function(v){r.resetTimer(function(){c(v)},t.delay)}),_t(my,function(v){r.resetTimer(function(){o(v)},t.delay)}),_t(zc(),function(v,m){var p=m;p.universal||Re(p.channels,OC)&&o(v)}),au(function(v){o(v)})],t.mode==="normal"?[_t(Cl(),function(v){Lr(v,ah)}),_t(af(),function(v){Lr(v,my)}),_t(wl(),function(v){Lr(v,ah)}),_t(tv(),function(v){Lr(v,my)})]:[_t(ew(),function(v,m){Lr(v,ah)}),_t(Ph(),function(v){Lr(v,my)})]]))},yR=Object.freeze({__proto__:null,events:bR}),wR=[Ee("lazySink"),Ee("tooltipDom"),$e("exclusive",!0),$e("tooltipComponents",[]),$e("delay",300),Eu("mode","normal",["normal","follow-highlight"]),$e("anchor",function(t){return{anchor:"hotspot",hotspot:t,layouts:{onLtr:ve([Ii,Nu,fi,vi,Go,Yi]),onRtl:ve([Ii,Nu,fi,vi,Go,Yi])}}}),ea("onHide"),ea("onShow")],CR=function(){var t=Zt(S.none()),r=Zt(S.none()),o=function(){return r.get()},c=function(k){r.set(S.some(k))},v=function(){r.set(S.none())},m=function(){t.get().each(function(k){clearTimeout(k)})},p=function(k,O){m(),t.set(S.some(setTimeout(function(){k()},O)))},w=function(){return r.get().isSome()},x=ve("not-implemented");return Es({getTooltip:o,isShowing:w,setTooltip:c,clearTooltip:v,clearTimer:m,resetTimer:p,readState:x})},xR=Object.freeze({__proto__:null,init:CR}),IA=$o({fields:wR,name:"tooltipping",active:yR,state:xR,apis:pR}),SR=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},wm=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ac=tinymce.util.Tools.resolve("tinymce.util.I18n"),zA=["input","button","textarea","select"],LA=function(t,r,o){var c=r.disabled()?gy:Ik;c(t,r)},Mk=function(t,r){return r.useNative===!0&&Re(zA,Ju(t.element))},Fk=function(t){return lw(t.element,"disabled")},$k=function(t){ga(t.element,"disabled","disabled")},HA=function(t){Bu(t.element,"disabled")},VA=function(t){return Ci(t.element,"aria-disabled")==="true"},UA=function(t){ga(t.element,"aria-disabled","true")},TR=function(t){ga(t.element,"aria-disabled","false")},gy=function(t,r,o){r.disableClass.each(function(v){ja(t.element,v)});var c=Mk(t,r)?$k:UA;c(t),r.onDisabled(t)},Ik=function(t,r,o){r.disableClass.each(function(v){Va(t.element,v)});var c=Mk(t,r)?HA:TR;c(t),r.onEnabled(t)},zk=function(t,r){return Mk(t,r)?Fk(t):VA(t)},WA=function(t,r,o,c){var v=c?gy:Ik;v(t,r)},hy=Object.freeze({__proto__:null,enable:Ik,disable:gy,isDisabled:zk,onLoad:LA,set:WA}),kR=function(t,r){return Ws({classes:r.disabled()?r.disableClass.toArray():[]})},Lk=function(t,r){return ma([Nh(ru(),function(o,c){return zk(o,t)}),up(t,r,LA)])},i1=Object.freeze({__proto__:null,exhibit:kR,events:Lk}),ER=[no("disabled",Et),$e("useNative",!0),xr("disableClass"),ea("onDisabled"),ea("onEnabled")],wr=$o({fields:ER,name:"disabling",active:i1,apis:hy}),jA=tinymce.util.Tools.resolve("tinymce.EditorManager"),qA=function(t){var r=t.getParam("skin"),o=t.getParam("skin_url");if(r!==!1){var c=r||"oxide";o?o=t.documentBaseURI.toAbsolute(o):o=jA.baseURL+"/skins/ui/"+c}return o},Hk=function(t){return t.getParam("readonly",!1,"boolean")},GA=function(t){return t.getParam("skin")===!1},KA=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},XA=function(t){return t.getParam("width",wm.DOM.getStyle(t.getElement(),"width"))},py=function(t){return S.from(t.getParam("min_width")).filter(zn)},YA=function(t){return S.from(t.getParam("min_height")).filter(zn)},DC=function(t){return S.from(t.getParam("max_width")).filter(zn)},oh=function(t){return S.from(t.getParam("max_height")).filter(zn)},AR=function(t){return S.from(t.getParam("style_formats")).filter(lr)},OR=function(t){return t.getParam("style_formats_merge",!1,"boolean")},DR=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},JA=function(t){return t.getParam("removed_menuitems","")},_C=function(t){return t.getParam("menubar",!0,"boolean")!==!1},Vk=function(t){var r=t.getParam("toolbar",!0),o=r===!0,c=$n(r),v=lr(r)&&r.length>0;return!BC(t)&&(v||c||o)},ZA=function(t){var r=kt(9,function(c){return t.getParam("toolbar"+(c+1),!1,"string")}),o=de(r,function(c){return typeof c=="string"});return o.length>0?S.some(o):S.none()},BC=function(t){return ZA(t).fold(function(){var r=t.getParam("toolbar",[],"string[]");return r.length>0},Qe)},oc;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(oc||(oc={}));var by=function(t){return t.getParam("toolbar_mode","","string")},zu;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(zu||(zu={}));var QA=function(t){return t.getParam("toolbar_groups",{},"object")},e4=function(t){return t.getParam("toolbar_location",zu.auto,"string")},t4=function(t){return e4(t)===zu.bottom},Uk=function(t){return t.getParam("fixed_toolbar_container","","string")},_R=function(t){return t.getParam("toolbar_persist",!1,"boolean")},n4=function(t){var r=Uk(t);return r.length>0&&t.inline?$i(Os(),r):S.none()},RC=function(t){return t.inline&&n4(t).isSome()},r4=function(t){var r=n4(t);return r.getOrThunk(function(){return $h(qo(_n.fromDom(t.getElement())))})},a4=function(t){return t.inline&&!_C(t)&&!Vk(t)&&!BC(t)},PC=function(t){var r=t.getParam("toolbar_sticky",!1,"boolean");return(r||t.inline)&&!RC(t)&&!a4(t)},BR=function(t){return t.getParam("draggable_modal",!1,"boolean")},Wk=function(t){var r=t.getParam("menu");return r?kr(r,function(o){return te(te({},o),{items:o.items})}):{}},jk=function(t){return t.getParam("menubar")},o4=function(t){return t.getParam("toolbar",!0)},RR=function(t){return t.getParam("file_picker_callback")},i4=function(t){return t.getParam("file_picker_types")},PR=function(t){return t.getParam("file_browser_callback_types")},NR=function(t){return t.getParam("typeahead_urls")===!1},MR=function(t){return t.getParam("anchor_top","#top")},u4=function(t){return t.getParam("anchor_bottom","#bottom")},s4=function(t){var r=t.getParam("file_picker_validator_handler",void 0,"function");return r===void 0?t.getParam("filepicker_validator_handler",void 0,"function"):r},NC="silver.readonly",FR=Be([vu("readonly")]),u1=function(t,r){var o=t.outerContainer,c=o.element;r&&(t.mothership.broadcastOn([Of()],{target:c}),t.uiMothership.broadcastOn([Of()],{target:c})),t.mothership.broadcastOn([NC],{readonly:r}),t.uiMothership.broadcastOn([NC],{readonly:r})},c4=function(t,r){t.on("init",function(){t.mode.isReadOnly()&&u1(r,!0)}),t.on("SwitchMode",function(){return u1(r,t.mode.isReadOnly())}),Hk(t)&&t.setMode("readonly")},ti=function(){var t;return zi.config({channels:(t={},t[NC]={schema:FR,onReceive:function(r,o){wr.set(r,o.readonly)}},t)})},$R=function(t){return wr.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},IR=function(t){return wr.config({disabled:t})},zR=function(t){return wr.config({disabled:t,disableClass:"tox-tbtn--disabled"})},LR=function(t){return wr.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},tl={item:$R,button:IR,splitButton:zR,toolbarButton:LR},MC=function(t,r){var o=t.getApi(r);return function(c){c(o)}},yy=function(t,r){return so(function(o){var c=MC(t,o);c(function(v){var m=t.onSetup(v);In(m)&&r.set(m)})})},s1=function(t,r){return au(function(o){return MC(t,o)(r.get())})},qk,HR=function(t,r){return Ss(function(o,c){MC(t,o)(t.onAction),!t.triggersSubmenu&&r===Ll.CLOSE_ON_EXECUTE&&(o.getSystem().isConnected()&&Lr(o,Gm()),c.stop())})},VR=(qk={},qk[ru()]=["disabling","alloy.base.behaviour","toggling","item-events"],qk),c1=function(t){return St(t,function(r){return r.toArray()})},l1=function(t,r,o,c){var v=Zt(Le);return{type:"item",dom:r.dom,components:c1(r.optComponents),data:t.data,eventOrder:VR,hasSubmenu:t.triggersSubmenu,itemBehaviours:Lt([qr("item-events",[HR(t,o),yy(t,v),s1(t,v)]),tl.item(function(){return t.disabled||c.isDisabled()}),ti(),Mr.config({})].concat(t.itemBehaviours))}},f1=function(t){return{value:t.value,meta:te({text:t.text.getOr("")},t.meta)}},v1=tinymce.util.Tools.resolve("tinymce.Env"),l4=function(t){var r={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},o={meta:"Ctrl",access:"Shift+Alt"},c=v1.mac?r:o,v=t.split("+"),m=we(v,function(p){var w=p.toLowerCase().trim();return ua(c,w)?c[w]:p});return v1.mac?m.join(""):m.join("+")},UR=function(t){return{dom:{tag:"div",classes:[KB],innerHtml:t}}},f4=function(t){return{dom:{tag:"div",classes:[dy]},components:[mf(ac.translate(t))]}},v4=function(t,r){return{dom:{tag:"div",classes:r,innerHtml:t}}},WR=function(t,r){return{dom:{tag:"div",classes:[dy]},components:[{dom:{tag:t.tag,styles:t.styles},components:[mf(ac.translate(r))]}]}},Gk=function(t){return{dom:{tag:"div",classes:[XB],innerHtml:l4(t)}}},Kk=function(t){return{dom:{tag:"div",classes:[YB],innerHtml:ss("checkmark",t)}}},d4=function(t){return{dom:{tag:"div",classes:[OA],innerHtml:ss("chevron-right",t)}}},jR=function(t){return{dom:{tag:"div",classes:[OA],innerHtml:ss("chevron-down",t)}}},m4=function(t,r){var o=t.direction==="vertical"?ZB:_A,c=t.align==="left"?xk:QB,v=function(){switch(t.valign){case"top":return eR;case"middle":return tR;case"bottom":return nR}};return{dom:{tag:"div",classes:[DA,o,c,v()]},components:r}},qR=function(t,r,o){return{dom:{tag:"img",classes:r,attributes:{src:t,alt:o.getOr("")}}}},GR=function(t,r,o,c){var v="custom",m="remove",p=function(){var w=Ck,x=o.getOr(""),k=t.map(function(_){return{title:c.translate(_)}}).getOr({}),O={tag:"div",attributes:k,classes:[w]};return r===v?te(te({},O),{tag:"button",classes:q(O.classes,["tox-swatches__picker-btn"]),innerHtml:x}):r===m?te(te({},O),{classes:q(O.classes,["tox-swatch--remove"]),innerHtml:x}):te(te({},O),{attributes:te(te({},O.attributes),{"data-mce-color":r}),styles:{"background-color":r}})};return{dom:p(),optComponents:[]}},g4=function(t,r){var o=r.map(function(c){return{attributes:{title:ac.translate(c)}}}).getOr({});return te({tag:"div",classes:[yk,wk].concat(t?[JB]:[])},o)},KR=function(t,r,o,c,v){var m=o?r.or(S.some("")).map(UR):S.none(),p=t.checkMark,w=t.htmlContent.fold(function(){return t.textContent.map(c)},function(k){return S.some(v4(k,[dy]))}),x={dom:g4(v,t.ariaLabel),optComponents:[m,w,t.shortcutContent.map(Gk),p,t.caret]};return x},XR=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],YR=["list-bull-circle","list-bull-default","list-bull-square"],d1=function(t,r,o,c){c===void 0&&(c=S.none());var v=function(x){return x.map(function(k){return ac.isRtl()&&Re(XR,k)?k+"-rtl":k})},m=ac.isRtl()&&t.iconContent.exists(function(x){return Re(YR,x)}),p=v(t.iconContent).map(function(x){return wB(x,r.icons,c)}),w=S.from(t.meta).fold(function(){return f4},function(x){return ua(x,"style")?gn(WR,x.style):f4});return t.presets==="color"?GR(t.ariaLabel,t.value,p,r):KR(t,p,o,w,m)},h4=function(t,r){return ur(t,"tooltipWorker").map(function(o){return[IA.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(c){return{anchor:"submenu",item:c,overrides:{maxHeightFunction:qd}}},mode:"follow-highlight",onShow:function(c,v){o(function(m){IA.setComponents(c,[gb({element:_n.fromDom(m)})])})}})]}).getOr([])},JR=function(t){return wm.DOM.encode(t)},p4=function(t,r){var o=ac.translate(t),c=JR(o);if(r.length>0){var v=new RegExp(SR(r),"gi");return c.replace(v,function(m){return'<span class="tox-autocompleter-highlight">'+m+"</span>"})}else return c},ZR=function(t,r,o,c,v,m,p,w){w===void 0&&(w=!0);var x=d1({presets:c,textContent:S.none(),htmlContent:o?t.text.map(function(k){return p4(k,r)}):S.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:S.none(),checkMark:S.none(),caret:S.none(),value:t.value},p.providers,w,t.icon);return l1({data:f1(t),disabled:t.disabled,getApi:ve({}),onAction:function(k){return v(t.value,t.meta)},onSetup:ve(Le),triggersSubmenu:!1,itemBehaviours:h4(t.meta,p)},x,m,p.providers)},FC=function(t,r){return we(t,function(o){switch(o.type){case"cardcontainer":return m4(o,FC(o.items,r));case"cardimage":return qR(o.src,o.classes,o.alt);case"cardtext":var c=o.name.exists(function(m){return Re(r.cardText.highlightOn,m)}),v=c?S.from(r.cardText.matchText).getOr(""):"";return v4(p4(o.text,v),o.classes)}})},Xk=function(t,r,o,c){var v=function(p){return{isDisabled:function(){return wr.isDisabled(p)},setDisabled:function(w){wr.set(p,w),Ye(wu(p.element,"*"),function(x){p.getSystem().getByDom(x).each(function(k){k.hasConfigured(wr)&&wr.set(k,w)})})}}},m={dom:g4(!1,t.label),optComponents:[S.some({dom:{tag:"div",classes:[DA,_A]},components:FC(t.items,c)})]};return l1({data:f1(te({text:S.none()},t)),disabled:t.disabled,getApi:v,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:S.from(c.itemBehaviours).getOr([])},m,r,o.providers)},Yk=function(t,r,o,c,v,m,p,w){w===void 0&&(w=!0);var x=function(O){return{setActive:function(_){Ke.set(O,_)},isActive:function(){return Ke.isOn(O)},isDisabled:function(){return wr.isDisabled(O)},setDisabled:function(_){return wr.set(O,_)}}},k=d1({presets:o,textContent:r?t.text:S.none(),htmlContent:S.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:r?t.shortcut:S.none(),checkMark:r?S.some(Kk(p.icons)):S.none(),caret:S.none(),value:t.value},p,w);return Gr(l1({data:f1(t),disabled:t.disabled,getApi:x,onAction:function(O){return c(t.value)},onSetup:function(O){return O.setActive(v),Le},triggersSubmenu:!1,itemBehaviours:[]},k,m,p),{toggling:{toggleClass:AA,toggleOnExecute:!1,selected:t.active}})},Jk=Ap(Si(),Ti()),b4=function(t){return{value:t}},y4=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,wy=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Zk=function(t){return y4.test(t)||wy.test(t)},$C=function(t){var r=t.value.replace(y4,function(o,c,v,m){return c+c+v+v+m+m});return{value:r}},w4=function(t){var r=$C(t),o=wy.exec(r.value);return o===null?["FFFFFF","FF","FF","FF"]:o},Qk=function(t){var r=t.toString(16);return r.length===1?"0"+r:r},IC=function(t){var r=Qk(t.red)+Qk(t.green)+Qk(t.blue);return b4(r)},C4=Math.min,x4=Math.max,zC=Math.round,QR=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,eP=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,ih=function(t,r,o,c){return{red:t,green:r,blue:o,alpha:c}},eE=function(t){var r=parseInt(t,10);return r.toString()===t&&r>=0&&r<=255},S4=function(t){var r,o,c,v=(t.hue||0)%360,m=t.saturation/100,p=t.value/100;if(m=x4(0,C4(m,1)),p=x4(0,C4(p,1)),m===0)return r=o=c=zC(255*p),ih(r,o,c,1);var w=v/60,x=p*m,k=x*(1-Math.abs(w%2-1)),O=p-x;switch(Math.floor(w)){case 0:r=x,o=k,c=0;break;case 1:r=k,o=x,c=0;break;case 2:r=0,o=x,c=k;break;case 3:r=0,o=k,c=x;break;case 4:r=k,o=0,c=x;break;case 5:r=x,o=0,c=k;break;default:r=o=c=0}return r=zC(255*(r+O)),o=zC(255*(o+O)),c=zC(255*(c+O)),ih(r,o,c,1)},tE=function(t){var r=w4(t),o=parseInt(r[1],16),c=parseInt(r[2],16),v=parseInt(r[3],16);return ih(o,c,v,1)},T4=function(t,r,o,c){var v=parseInt(t,10),m=parseInt(r,10),p=parseInt(o,10),w=parseFloat(c);return ih(v,m,p,w)},tP=function(t){if(t==="transparent")return S.some(ih(0,0,0,0));var r=QR.exec(t);if(r!==null)return S.some(T4(r[1],r[2],r[3],"1"));var o=eP.exec(t);return o!==null?S.some(T4(o[1],o[2],o[3],o[4])):S.none()},nE=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},k4=ih(255,0,0,1),nP=function(t){return t.fire("SkinLoaded")},LC=function(t,r){return t.fire("SkinLoadError",r)},rP=function(t){return t.fire("ResizeEditor")},Cy=function(t,r){return t.fire("ResizeContent",r)},ki=function(t,r){return t.fire("ScrollContent",r)},aP=function(t,r){return t.fire("TextColorChange",r)},HC=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),E4="tinymce-custom-colors";function oP(t){t===void 0&&(t=10);var r=HC.getItem(E4),o=$n(r)?JSON.parse(r):[],c=function(x){var k=t-x.length;return k<0?x.slice(0,t):x},v=c(o),m=function(x){yr(v,x).each(p),v.unshift(x),v.length>t&&v.pop(),HC.setItem(E4,JSON.stringify(v))},p=function(x){v.splice(x,1)},w=function(){return v.slice(0)};return{add:m,state:w}}var hi="choiceitem",iP=[{type:hi,text:"Light Green",value:"#BFEDD2"},{type:hi,text:"Light Yellow",value:"#FBEEB8"},{type:hi,text:"Light Red",value:"#F8CAC6"},{type:hi,text:"Light Purple",value:"#ECCAFA"},{type:hi,text:"Light Blue",value:"#C2E0F4"},{type:hi,text:"Green",value:"#2DC26B"},{type:hi,text:"Yellow",value:"#F1C40F"},{type:hi,text:"Red",value:"#E03E2D"},{type:hi,text:"Purple",value:"#B96AD9"},{type:hi,text:"Blue",value:"#3598DB"},{type:hi,text:"Dark Turquoise",value:"#169179"},{type:hi,text:"Orange",value:"#E67E23"},{type:hi,text:"Dark Red",value:"#BA372A"},{type:hi,text:"Dark Purple",value:"#843FA1"},{type:hi,text:"Dark Blue",value:"#236FA1"},{type:hi,text:"Light Gray",value:"#ECF0F1"},{type:hi,text:"Medium Gray",value:"#CED4D9"},{type:hi,text:"Gray",value:"#95A5A6"},{type:hi,text:"Dark Gray",value:"#7E8C8D"},{type:hi,text:"Navy Blue",value:"#34495E"},{type:hi,text:"Black",value:"#000000"},{type:hi,text:"White",value:"#ffffff"}],A4=oP(10),uP=function(t){var r=[],o=document.createElement("canvas");o.height=1,o.width=1;for(var c=o.getContext("2d"),v=function(w,x){var k=255,O=x/255,_=Math.round(w*O+k*(1-O));return("0"+_.toString(16)).slice(-2).toUpperCase()},m=function(w){if(/^[0-9A-Fa-f]{6}$/.test(w))return"#"+w.toUpperCase();c.clearRect(0,0,o.width,o.height),c.fillStyle="#FFFFFF",c.fillStyle=w,c.fillRect(0,0,1,1);var x=c.getImageData(0,0,1,1).data,k=x[0],O=x[1],_=x[2],F=x[3];return"#"+v(k,F)+v(O,F)+v(_,F)},p=0;p<t.length;p+=2)r.push({text:t[p+1],value:m(t[p]),type:"choiceitem"});return r},sP=function(t,r){return t.getParam("color_cols",r,"number")},O4=function(t){return t.getParam("custom_colors")!==!1},cP=function(t){return t.getParam("color_map")},rE=function(t){var r=cP(t);return r!==void 0?uP(r):iP},lP=function(){return we(A4.state(),function(t){return{type:hi,text:t,value:t}})},D4=function(t){A4.add(t)},fP=function(t,r){var o;return t.dom.getParents(t.selection.getStart(),function(c){var v;(v=c.style[r==="forecolor"?"color":"background-color"])&&(o=o||v)}),o},vP=function(t,r,o){t.undoManager.transact(function(){t.focus(),t.formatter.apply(r,{value:o}),t.nodeChanged()})},dP=function(t,r){t.undoManager.transact(function(){t.focus(),t.formatter.remove(r,{value:null},null,!0),t.nodeChanged()})},mP=function(t){t.addCommand("mceApplyTextcolor",function(r,o){vP(t,r,o)}),t.addCommand("mceRemoveTextcolor",function(r){dP(t,r)})},gP=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},_4=function(t){var r=rE(t),o=gP(r.length);return sP(t,o)},hP=function(t){var r="choiceitem",o={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},c={type:r,text:"Custom color",icon:"color-picker",value:"custom"};return t?[o,c]:[o]},aE=function(t,r,o,c){if(o==="custom"){var v=M4(t);v(function(m){m.each(function(p){D4(p),t.execCommand("mceApplyTextcolor",r,p),c(p)})},"#000000")}else o==="remove"?(c(""),t.execCommand("mceRemoveTextcolor",r)):(c(o),t.execCommand("mceApplyTextcolor",r,o))},B4=function(t,r){return t.concat(lP().concat(hP(r)))},R4=function(t,r){return function(o){o(B4(t,r))}},P4=function(t,r,o){var c=function(m,p){t.setIconFill(m,p),t.setIconStroke(m,p)},v=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";c(v,o)},N4=function(t,r,o,c,v){t.ui.registry.addSplitButton(r,{tooltip:c,presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:function(m){var p=S.from(fP(t,o));return p.bind(function(w){return tP(w).map(function(x){var k=IC(x).value;return Ya(m.toLowerCase(),k)})}).getOr(!1)},columns:_4(t),fetch:R4(rE(t),O4(t)),onAction:function(m){v.get()!==null&&aE(t,o,v.get(),Le)},onItemAction:function(m,p){aE(t,o,p,function(w){v.set(w),aP(t,{name:r,color:w})})},onSetup:function(m){v.get()!==null&&P4(m,r,v.get());var p=function(w){w.name===r&&P4(m,w.name,w.color)};return t.on("TextColorChange",p),function(){t.off("TextColorChange",p)}}})},oE=function(t,r,o,c){t.ui.registry.addNestedMenuItem(r,{text:c,icon:r==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(v){aE(t,o,v.value,Le)}}]}})},M4=function(t){return function(r,o){var c=function(w){return function(x){var k=x.getData();w(S.from(k.colorpicker)),x.close()}},v=function(w,x){x.name==="hex-valid"&&(x.value?w.enable("ok"):w.disable("ok"))},m={colorpicker:o},p=c(r);t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:m,onAction:v,onSubmit:p,onClose:Le,onCancel:function(){r(S.none())}})}},pP=function(t){mP(t);var r=Zt(null),o=Zt(null);N4(t,"forecolor","forecolor","Text color",r),N4(t,"backcolor","hilitecolor","Background color",o),oE(t,"forecolor","forecolor","Text color"),oE(t,"backcolor","hilitecolor","Background color")},iE=function(t,r,o,c,v,m,p,w){var x=TC(r),k=v!=="color"?"normal":"color",O=F4(r,o,c,k,m,p,w);return Ok(t,x,O,c,v)},F4=function(t,r,o,c,v,m,p){return Pf(we(t,function(w){return w.type==="choiceitem"?Lf(w).fold(Hl,function(x){return S.some(Yk(x,o===1,c,r,m(w.value),v,p,TC(t)))}):S.none()}))},VC=function(t,r){var o=a1(r);if(t===1)return{mode:"menu",moveOnTab:!0};if(t==="auto")return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}};var c=r==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+c}},bP=function(t,r){return t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:r==="color"?".tox-swatches__row":".tox-collection__group",cell:r==="color"?"."+Ck:"."+wk}}},yP=function(t,r){var o=B4(r.colorinput.getColors(),r.colorinput.hasCustomColors()),c=r.colorinput.getColorCols(),v="color",m=iE(Qn("menu-value"),o,function(w){t.onAction({value:w})},c,v,Ll.CLOSE_ON_EXECUTE,Et,r.shared.providers),p=te(te({},m),{markers:a1(v),movement:VC(c,v)});return{type:"widget",data:{value:Qn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Jk.widget(zl.sketch(p))]}},$4=Qn("cell-over"),uE=Qn("cell-execute"),wP=function(t,r,o){var c,v=function(w){return Sr(w,$4,{row:t,col:r})},m=function(w){return Sr(w,uE,{row:t,col:r})},p=function(w,x){x.stop(),m(w)};return iu({dom:{tag:"div",attributes:(c={role:"button"},c["aria-labelledby"]=o,c)},behaviours:Lt([qr("insert-table-picker-cell",[_t(wl(),Br.focus),_t(ru(),m),_t($c(),p),_t(xs(),p)]),Ke.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Br.config({onFocus:v})])})},I4=function(t,r,o){for(var c=[],v=0;v<r;v++){for(var m=[],p=0;p<o;p++)m.push(wP(v,p,t));c.push(m)}return c},z4=function(t,r,o,c,v){for(var m=0;m<c;m++)for(var p=0;p<v;p++)Ke.set(t[m][p],m<=r&&p<=o)},CP=function(t){return St(t,function(r){return we(r,Ni)})},L4=function(t,r){return mf(r+1+"x"+(t+1))},xP=function(t){var r=10,o=10,c=Qn("size-label"),v=I4(c,r,o),m=_a({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:c}},components:[mf("0x0")],behaviours:Lt([Mr.config({})])});return{type:"widget",data:{value:Qn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Jk.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:CP(v).concat(m.asSpec()),behaviours:Lt([qr("insert-table-picker",[Mh($4,function(p,w,x){var k=x.event.row,O=x.event.col;z4(v,k,O,r,o),Mr.set(m.get(p),[L4(k,O)])}),Mh(uE,function(p,w,x){t.onAction({numRows:x.event.row+1,numColumns:x.event.col+1}),Lr(p,Gm())})]),br.config({initSize:{numRows:r,numColumns:o},mode:"flatgrid",selector:'[role="button"]'})])})]}},SP={inserttable:xP,colorswatch:yP},TP=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)?S.some(t[r]):S.none()},kP=function(t,r){return TP(SP,t.fancytype).map(function(o){return o(t,r)})},EP=function(t,r,o,c,v){c===void 0&&(c=!0),v===void 0&&(v=!1);var m=v?jR(o.icons):d4(o.icons),p=function(x){return{isDisabled:function(){return wr.isDisabled(x)},setDisabled:function(k){return wr.set(x,k)}}},w=d1({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:S.none(),ariaLabel:t.text,caret:S.some(m),checkMark:S.none(),shortcutContent:t.shortcut},o,c);return l1({data:f1(t),getApi:p,disabled:t.disabled,onAction:Le,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},w,r,o)},AP=function(t,r,o,c){c===void 0&&(c=!0);var v=function(p){return{isDisabled:function(){return wr.isDisabled(p)},setDisabled:function(w){return wr.set(p,w)}}},m=d1({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:S.none(),ariaLabel:t.text,caret:S.none(),checkMark:S.none(),shortcutContent:t.shortcut},o,c);return l1({data:f1(t),getApi:v,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},m,r,o)},sE=function(t){var r=t.text.fold(function(){return{}},function(o){return{innerHtml:o}});return{type:"separator",dom:te({tag:"div",classes:[wk,GB]},r),components:[]}},H4=function(t,r,o,c){c===void 0&&(c=!0);var v=function(p){return{setActive:function(w){Ke.set(p,w)},isActive:function(){return Ke.isOn(p)},isDisabled:function(){return wr.isDisabled(p)},setDisabled:function(w){return wr.set(p,w)}}},m=d1({iconContent:t.icon,textContent:t.text,htmlContent:S.none(),ariaLabel:t.text,checkMark:S.some(Kk(o.icons)),caret:S.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},o,c);return Gr(l1({data:f1(t),disabled:t.disabled,getApi:v,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},m,r,o),{toggling:{toggleClass:AA,toggleOnExecute:!1,selected:t.active}})},OP=ZR,cE=sE,DP=AP,_P=EP,lE=H4,BP=kP,RP=Xk,xy;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(xy||(xy={}));var V4=function(t,r,o,c,v){var m=o.shared.providers,p=function(w){return v?te(te({},w),{shortcut:S.none(),icon:w.text.isSome()?S.none():w.icon}):w};switch(t.type){case"menuitem":return mR(t).fold(Hl,function(w){return S.some(DP(p(w),r,m,c))});case"nestedmenuitem":return FA(t).fold(Hl,function(w){return S.some(_P(p(w),r,m,c,v))});case"togglemenuitem":return hR(t).fold(Hl,function(w){return S.some(lE(p(w),r,m,c))});case"separator":return PB(t).fold(Hl,function(w){return S.some(cE(w))});case"fancymenuitem":return vR(t).fold(Hl,function(w){return BP(p(w),o)});default:return console.error("Unknown item in general menu",t),S.none()}},PP=function(t,r,o,c,v,m,p){var w=c===1,x=!w||TC(t);return Pf(we(t,function(k){switch(k.type){case"separator":return FB(k).fold(Hl,function(O){return S.some(cE(O))});case"cardmenuitem":return NA(k).fold(Hl,function(O){return S.some(RP(te(te({},O),{onAction:function(_){O.onAction(_),o(O.value,O.meta)}}),v,m,{itemBehaviours:h4(O.meta,m),cardText:{matchText:r,highlightOn:p}}))});case"autocompleteitem":default:return xA(k).fold(Hl,function(O){return S.some(OP(O,r,w,"normal",o,v,m,x))})}}))},fE=function(t,r,o,c,v){var m=TC(r),p=Pf(we(r,function(x){var k=function(_){return v?!_.hasOwnProperty("text"):m},O=function(_){return V4(_,o,c,k(_),v)};return x.type==="nestedmenuitem"&&x.getSubmenuItems().length<=0?O(te(te({},x),{disabled:!0})):O(x)})),w=v?uR:Ok;return w(t,m,p,1,"normal")},U4=function(t){return Qg.singleData(t.value,t)},Sy=function(t,r,o,c){var v=o===xy.ContentFocus?dm():Ff(),m=VC(r,c),p=a1(c);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:p.selectedItem,item:p.item},movement:m,fakeFocus:o===xy.ContentFocus,focusManager:v,menuBehaviours:AC.unnamedEvents(r!=="auto"?[]:[so(function(w,x){EC(w,4,p.item).each(function(k){var O=k.numColumns,_=k.numRows;br.setGridSize(w,_,O)})})])}},NP=function(t,r){var o=Zt(S.none()),c=Zt(!1),v=iu(So.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Lt([qr("dismissAutocompleter",[_t(Fo(),function(){return x()})])]),lazySink:r.getSink})),m=function(){return So.isOpen(v)},p=function(){return o.get().isSome()},w=function(){p()&&So.hide(v)},x=function(){if(p()){var ie=o.get().map(function(Ae){return Ae.element});bC(ie.getOr(_n.fromDom(t.selection.getNode()))).each(sv),w(),o.set(S.none()),c.set(!1)}},k=lo(function(){return jB(t)}),O=function(ie,Ae){var ze=Xt(Ae,function(je){return S.from(je.columns)}).getOr(1);return St(Ae,function(je){var ht=je.items;return PP(ht,je.matchText,function(Bt,ft){var cn=t.selection.getRng();vk(t.dom,cn,ie).fold(function(){return console.error("Lost context. Cursor probably moved")},function(Er){var On=Er.range,wt={hide:function(){x()},reload:function(Ft){w(),ae(Ft)}};c.set(!0),je.onAction(wt,On,Bt,ft),c.set(!1)})},ze,Ll.BUBBLE_TO_SANDBOX,r,je.highlightOn)})},_=function(ie){if(!p()){var Ae=lk(t,ie.range);o.set(S.some({triggerChar:ie.triggerChar,element:Ae,matchLength:ie.text.length})),c.set(!1)}},F=function(ie,Ae,ze,je){ie.matchLength=Ae.text.length;var ht=Xt(ze,function(Bt){return S.from(Bt.columns)}).getOr(1);So.showAt(v,{anchor:"node",root:_n.fromDom(t.getBody()),node:S.from(ie.element)},zl.sketch(Sy(Ok("autocompleter-value",!0,je,ht,"normal"),ht,xy.ContentFocus,"normal"))),So.getContent(v).each(Bn.highlightFirst)},Y=function(ie){return o.get().map(function(Ae){return vk(t.dom,t.selection.getRng(),Ae.triggerChar).bind(function(ze){return mk(t,k,ze,ie)})}).getOrThunk(function(){return wA(t,k)})},ae=function(ie){Y(ie).fold(x,function(Ae){_(Ae.context),Ae.lookupData.then(function(ze){o.get().map(function(je){var ht=Ae.context;if(je.triggerChar===ht.triggerChar){var Bt=O(ht.triggerChar,ze);Bt.length>0?F(je,ht,ze,Bt):ht.text.length-je.matchLength>=10?x():w()}})})})},ne=gA(function(ie){ie.which!==27&&ae()},50),pe={onKeypress:ne,cancelIfNecessary:x,isMenuOpen:m,isActive:p,isProcessingAction:c.get,getView:function(){return So.getContent(v)}};t.hasPlugin("rtc")===!1&&DB.setup(pe,t)},MP={register:NP},W4=Qe,nl=function(t,r,o){return gS(t,r,W4,o)},UC=function(t,r,o){return Xh(t,r,W4,o)},j4=og,m1=function(t,r,o){return Ks(t,r,o).isSome()},vE=function(t,r){var o=null,c=function(){for(var m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];o=setTimeout(function(){t.apply(null,m),o=null},r)},v=function(){o!==null&&(clearTimeout(o),o=null)};return{cancel:v,schedule:c}},dE=5,FP=400,WC=function(t){var r=t.raw;return r.touches===void 0||r.touches.length!==1?S.none():S.some(r.touches[0])},$P=function(t,r){var o=Math.abs(t.clientX-r.x),c=Math.abs(t.clientY-r.y);return o>dE||c>dE},IP=function(t){var r=Zt(S.none()),o=Zt(!1),c=vE(function(k){t.triggerEvent(Zy(),k),o.set(!0)},FP),v=function(k){return WC(k).each(function(O){c.cancel();var _={x:O.clientX,y:O.clientY,target:k.target};c.schedule(k),o.set(!1),r.set(S.some(_))}),S.none()},m=function(k){return c.cancel(),WC(k).each(function(O){r.get().each(function(_){$P(O,_)&&r.set(S.none())})}),S.none()},p=function(k){c.cancel();var O=function(_){return Vr(_.target,k.target)};return r.get().filter(O).map(function(_){return o.get()?(k.prevent(),!1):t.triggerEvent(xs(),k)})},w=Z([{key:qi(),value:v},{key:rf(),value:m},{key:nu(),value:p}]),x=function(k,O){return ur(w,O).bind(function(_){return _(k)})};return{fireIfReady:x}},zP=function(t){var r=t.raw;return r.which===TT[0]&&!Re(["input","textarea"],Ju(t.target))&&!m1(t.target,'[contenteditable="true"]')},q4=function(){return Xu().browser.isFirefox()},LP=Ie([Eo("triggerEvent"),$e("stopBackspace",!0)]),HP=function(t,r){return q4()?UC(t,"focus",r):nl(t,"focusin",r)},VP=function(t,r){return q4()?UC(t,"blur",r):nl(t,"focusout",r)},UP=function(t,r){var o=Uo("Getting GUI events settings",LP,r),c=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],v=IP(o),m=we(c.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(Y){return nl(t,Y,function(ae){v.fireIfReady(ae,Y).each(function(pe){pe&&ae.kill()});var ne=o.triggerEvent(Y,ae);ne&&ae.kill()})}),p=Zt(S.none()),w=nl(t,"paste",function(Y){v.fireIfReady(Y,"paste").each(function(ne){ne&&Y.kill()});var ae=o.triggerEvent("paste",Y);ae&&Y.kill(),p.set(S.some(setTimeout(function(){o.triggerEvent(xl(),Y)},0)))}),x=nl(t,"keydown",function(Y){var ae=o.triggerEvent("keydown",Y);ae?Y.kill():o.stopBackspace===!0&&zP(Y)&&Y.prevent()}),k=HP(t,function(Y){var ae=o.triggerEvent("focusin",Y);ae&&Y.kill()}),O=Zt(S.none()),_=VP(t,function(Y){var ae=o.triggerEvent("focusout",Y);ae&&Y.kill(),O.set(S.some(setTimeout(function(){o.triggerEvent(af(),Y)},0)))}),F=function(){Ye(m,function(Y){Y.unbind()}),x.unbind(),k.unbind(),_.unbind(),w.unbind(),p.get().each(clearTimeout),O.get().each(clearTimeout)};return{unbind:F}},G4=function(t,r){var o=ur(t,"target").getOr(r);return Zt(o)},WP=function(t,r){var o=Zt(!1),c=Zt(!1),v=function(){o.set(!0)},m=function(){c.set(!0)};return{stop:v,cut:m,isStopped:o.get,isCut:c.get,event:t,setSource:r.set,getSource:r.get}},jP=function(t){var r=Zt(!1),o=function(){r.set(!0)};return{stop:o,cut:Le,isStopped:r.get,isCut:Et,event:t,setSource:Ct("Cannot set source of a broadcasted event"),getSource:Ct("Cannot get source of a broadcasted event")}},Ty=Gn.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),mE=function(t,r,o,c,v,m){var p=t(r,c),w=WP(o,v);return p.fold(function(){return m.logEventNoHandlers(r,c),Ty.complete()},function(x){var k=x.descHandler,O=ng(k);return O(w),w.isStopped()?(m.logEventStopped(r,x.element,k.purpose),Ty.stopped()):w.isCut()?(m.logEventCut(r,x.element,k.purpose),Ty.complete()):wi(x.element).fold(function(){return m.logNoParent(r,x.element,k.purpose),Ty.complete()},function(_){return m.logEventResponse(r,x.element,k.purpose),Ty.resume(_)})})},K4=function(t,r,o,c,v,m){return mE(t,r,o,c,v,m).fold(Qe,function(p){return K4(t,r,o,p,v,m)},Et)},qP=function(t,r,o,c,v){var m=G4(o,c);return mE(t,r,o,c,m,v)},gE=function(t,r,o){var c=jP(r);return Ye(t,function(v){var m=v.descHandler,p=ng(m);p(c)}),c.isStopped()},jC=function(t,r,o,c){return X4(t,r,o,o.target,c)},X4=function(t,r,o,c,v){var m=G4(o,c);return K4(t,r,o,c,m,v)},qC=function(t,r){return{element:t,descHandler:r}},GP=function(t,r){return{id:t,descHandler:r}},KP=function(){var t={},r=function(p,w,x){Nr(x,function(k,O){var _=t[O]!==void 0?t[O]:{};_[w]=Md(k,p),t[O]=_})},o=function(p,w){return eg(w).fold(function(){return S.none()},function(x){return p.bind(function(k){return ur(k,x)}).map(function(k){return qC(w,k)})})},c=function(p){return ur(t,p).map(function(w){return Oa(w,function(x,k){return GP(k,x)})}).getOr([])},v=function(p,w,x){var k=ur(t,w);return Ed(x,function(O){return o(k,O)},p)},m=function(p){Nr(t,function(w,x){w.hasOwnProperty(p)&&delete w[p]})};return{registerId:r,unregisterId:m,filterByType:c,find:v}},XP=function(){var t=KP(),r={},o=function(k){var O=k.element;return eg(O).fold(function(){return nb("uid-",k.element)},function(_){return _})},c=function(k,O){var _=r[O];if(_===k)m(k);else throw new Error('The tagId "'+O+'" is already used by: '+El(_.element)+`
Cannot use it for: `+El(k.element)+`
The conflicting element is`+(wc(_.element)?" ":" not ")+"already in the DOM")},v=function(k){var O=o(k);Pa(r,O)&&c(k,O);var _=[k];t.registerId(_,O,k.events),r[O]=k},m=function(k){eg(k.element).each(function(O){delete r[O],t.unregisterId(O)})},p=function(k){return t.filterByType(k)},w=function(k,O,_){return t.find(k,O,_)},x=function(k){return ur(r,k)};return{find:w,filter:p,register:v,unregister:m,getById:x}},YP=function(t){var r=t.dom,o=r.attributes,c=vt(r,["attributes"]);return{uid:t.uid,dom:te({tag:"div",attributes:te({role:"presentation"},o)},c),components:t.components,behaviours:Tp(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},su=is({name:"Container",factory:YP,configFields:[$e("components",[]),ei("containerBehaviours",[]),$e("events",{}),$e("domModification",{}),$e("eventOrder",{})]}),Y4=function(t){var r=function(ie){return wi(t.element).fold(Qe,function(Ae){return Vr(ie,Ae)})},o=XP(),c=function(ie,Ae){return o.find(r,ie,Ae)},v=UP(t.element,{triggerEvent:function(ie,Ae){return cg(ie,Ae.target,function(ze){return jC(c,ie,Ae,ze)})}}),m={debugInfo:ve("real"),triggerEvent:function(ie,Ae,ze){cg(ie,Ae,function(je){return X4(c,ie,ze,Ae,je)})},triggerFocus:function(ie,Ae){eg(ie).fold(function(){wf(ie)},function(ze){cg(Ic(),ie,function(je){return qP(c,Ic(),{originator:Ae,kill:Le,prevent:Le,target:ie},ie,je),!1})})},triggerEscape:function(ie,Ae){m.triggerEvent("keydown",ie.element,Ae.event)},getByUid:function(ie){return ne(ie)},getByDom:function(ie){return pe(ie)},build:iu,addToGui:function(ie){x(ie)},removeFromGui:function(ie){k(ie)},addToWorld:function(ie){p(ie)},removeFromWorld:function(ie){w(ie)},broadcast:function(ie){F(ie)},broadcastOn:function(ie,Ae){Y(ie,Ae)},broadcastEvent:function(ie,Ae){ae(ie,Ae)},isConnected:Qe},p=function(ie){ie.connect(m),uv(ie.element)||(o.register(ie),Ye(ie.components(),p),m.triggerEvent(nv(),ie.element,{target:ie.element}))},w=function(ie){uv(ie.element)||(Ye(ie.components(),w),o.unregister(ie)),ie.disconnect()},x=function(ie){qc(t,ie)},k=function(ie){kf(ie)},O=function(){v.unbind(),sf(t.element)},_=function(ie){var Ae=o.filter(zc());Ye(Ae,function(ze){var je=ze.descHandler,ht=ng(je);ht(ie)})},F=function(ie){_({universal:!0,data:ie})},Y=function(ie,Ae){_({universal:!1,channels:ie,data:Ae})},ae=function(ie,Ae){var ze=o.filter(ie);return gE(ze,Ae)},ne=function(ie){return o.getById(ie).fold(function(){return lt.error(new Error('Could not find component with uid: "'+ie+'" in system.'))},lt.value)},pe=function(ie){var Ae=eg(ie).getOr("not found");return ne(Ae)};return p(t),{root:t,element:t.element,destroy:O,add:x,remove:k,getByUid:ne,getByDom:pe,addToWorld:p,removeFromWorld:w,broadcast:F,broadcastOn:Y,broadcastEvent:ae}},JP=function(t,r){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:we(t.items,r.interpreter)}},J4=ve([$e("prefix","form-field"),ei("fieldBehaviours",[va,wn])]),ZP=ve([Ns({schema:[Ee("dom")],name:"label"}),Ns({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Ee("text")],name:"aria-descriptor"}),Li({factory:{sketch:function(t){var r=tt(t,["factory"]);return t.factory.sketch(r)}},schema:[Ee("factory")],name:"field"})]),hE=function(t,r,o,c){var v=Io(t.fieldBehaviours,[va.config({find:function(w){return $a(w,t,"field")}}),wn.config({store:{mode:"manual",getValue:function(w){return va.getCurrent(w).bind(wn.getValue)},setValue:function(w,x){va.getCurrent(w).each(function(k){wn.setValue(k,x)})}}})]),m=ma([so(function(w,x){var k=Bf(w,t,["label","field","aria-descriptor"]);k.field().each(function(O){var _=Qn(t.prefix);k.label().each(function(F){ga(F.element,"for",_),ga(O.element,"id",_)}),k["aria-descriptor"]().each(function(F){var Y=Qn(t.prefix);ga(F.element,"id",Y),ga(O.element,"aria-describedby",Y)})})})]),p={getField:function(w){return $a(w,t,"field")},getLabel:function(w){return $a(w,t,"label")}};return{uid:t.uid,dom:t.dom,components:r,behaviours:v,events:m,apis:p}},Sa=Vi({name:"FormField",configFields:J4(),partFields:ZP(),factory:hE,apis:{getField:function(t,r){return t.getField(r)},getLabel:function(t,r){return t.getLabel(r)}}}),Z4=function(t,r){return Ws({attributes:Z([{key:r.tabAttr,value:"true"}])})},QP=Object.freeze({__proto__:null,exhibit:Z4}),eN=[$e("tabAttr","data-alloy-tabstop")],Do=$o({fields:eN,name:"tabstopping",active:QP}),ky=tinymce.util.Tools.resolve("tinymce.html.Entities"),Ey=function(t,r,o,c){var v=nN(t,r,o,c);return Sa.sketch(v)},tN=function(t,r){return Ey(t,r,[],[])},nN=function(t,r,o,c){return{dom:Q4(o),components:t.toArray().concat([r]),fieldBehaviours:Lt(c)}},GC=function(){return Q4([])},Q4=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},Cm=function(t,r){return Sa.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(t)}})},Fs=Qn("form-component-change"),Ay=Qn("form-close"),uh=Qn("form-cancel"),Hf=Qn("form-action"),Oy=Qn("form-submit"),pE=Qn("form-block"),bE=Qn("form-unblock"),eO=Qn("form-tabchange"),tO=Qn("form-resize"),rN=function(t,r){var o,c=t.label.map(function(_){return Cm(_,r)}),v=function(_){return function(F,Y){Ks(Y.event.target,"[data-collection-item-value]").each(function(ae){_(F,Y,ae,Ci(ae,"data-collection-item-value"))})}},m=function(_,F){var Y=we(F,function(pe){var ie=ac.translate(pe.text),Ae=t.columns===1?'<div class="tox-collection__item-label">'+ie+"</div>":"",ze='<div class="tox-collection__item-icon">'+pe.icon+"</div>",je={_:" "," - ":" ","-":" "},ht=ie.replace(/\_| \- |\-/g,function(ft){return je[ft]}),Bt=r.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+Bt+'" tabindex="-1" data-collection-item-value="'+ky.encodeAllRaw(pe.value)+'" title="'+ht+'" aria-label="'+ht+'">'+ze+Ae+"</div>"}),ae=t.columns!=="auto"&&t.columns>1?Vt(Y,t.columns):[Y],ne=we(ae,function(pe){return'<div class="tox-collection__group">'+pe.join("")+"</div>"});Qm(_.element,ne.join(""))},p=v(function(_,F,Y,ae){F.stop(),r.isDisabled()||Sr(_,Hf,{name:t.name,value:ae})}),w=[_t(wl(),v(function(_,F,Y){wf(Y)})),_t($c(),p),_t(xs(),p),_t(Cl(),v(function(_,F,Y){$i(_.element,"."+r1).each(function(ae){Va(ae,r1)}),ja(Y,r1)})),_t(Wm(),v(function(_){$i(_.element,"."+r1).each(function(F){Va(F,r1)})})),Ss(v(function(_,F,Y,ae){Sr(_,Hf,{name:t.name,value:ae})}))],x=function(_,F){return we(wu(_.element,".tox-collection__item"),F)},k=Sa.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:rt},behaviours:Lt([wr.config({disabled:r.isDisabled,onDisabled:function(_){x(_,function(F){ja(F,"tox-collection__item--state-disabled"),ga(F,"aria-disabled",!0)})},onEnabled:function(_){x(_,function(F){Va(F,"tox-collection__item--state-disabled"),Bu(F,"aria-disabled")})}}),ti(),Mr.config({}),wn.config({store:{mode:"memory",initialValue:[]},onSetValue:function(_,F){m(_,F),t.columns==="auto"&&EC(_,5,"tox-collection__item").each(function(Y){var ae=Y.numRows,ne=Y.numColumns;br.setGridSize(_,ae,ne)}),Lr(_,tO)}}),Do.config({}),br.config(bP(t.columns,"normal")),qr("collection-events",w)]),eventOrder:(o={},o[ru()]=["disabling","alloy.base.behaviour","collection-events"],o)}),O=["tox-form__group--collection"];return Ey(c,k,O,[])},xm=ve([xr("data"),$e("inputAttributes",{}),$e("inputStyles",{}),$e("tag","input"),$e("inputClasses",[]),ea("onSetValue"),$e("styles",{}),$e("eventOrder",{}),ei("inputBehaviours",[wn,Br]),$e("selectOnFocus",!0)]),nO=function(t){return Lt([Br.config({onFocus:t.selectOnFocus?function(r){var o=r.element,c=df(o);o.dom.setSelectionRange(0,c.length)}:Le})])},aN=function(t){return te(te({},nO(t)),Io(t.inputBehaviours,[wn.config({store:te(te({mode:"manual"},t.data.map(function(r){return{initialValue:r}}).getOr({})),{getValue:function(r){return df(r.element)},setValue:function(r,o){var c=df(r.element);c!==o&&qs(r.element,o)}}),onSetValue:t.onSetValue})]))},rO=function(t){return{tag:t.tag,attributes:te({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},oN=function(t,r){return{uid:t.uid,dom:rO(t),components:[],behaviours:aN(t),eventOrder:t.eventOrder}},Sm=is({name:"Input",configFields:xm(),factory:oN}),yE={},wE={exports:yE};(function(t,r,o,c){(function(v){if(typeof r=="object"&&typeof o!="undefined")o.exports=v();else if(typeof t=="function"&&t.amd)t([],v);else{var m;typeof window!="undefined"?m=window:typeof hB!="undefined"?m=hB:typeof self!="undefined"?m=self:m=this,m.EphoxContactWrapper=v()}})(function(){return function(){function v(m,p,w){function x(_,F){if(!p[_]){if(!m[_]){var Y=typeof c=="function"&&c;if(!F&&Y)return Y(_,!0);if(k)return k(_,!0);var ae=new Error("Cannot find module '"+_+"'");throw ae.code="MODULE_NOT_FOUND",ae}var ne=p[_]={exports:{}};m[_][0].call(ne.exports,function(pe){var ie=m[_][1][pe];return x(ie||pe)},ne,ne.exports,v,m,p,w)}return p[_].exports}for(var k=typeof c=="function"&&c,O=0;O<w.length;O++)x(w[O]);return x}return v}()({1:[function(v,m,p){var w=m.exports={},x,k;function O(){throw new Error("setTimeout has not been defined")}function _(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?x=setTimeout:x=O}catch{x=O}try{typeof clearTimeout=="function"?k=clearTimeout:k=_}catch{k=_}})();function F(Bt){if(x===setTimeout)return setTimeout(Bt,0);if((x===O||!x)&&setTimeout)return x=setTimeout,setTimeout(Bt,0);try{return x(Bt,0)}catch{try{return x.call(null,Bt,0)}catch{return x.call(this,Bt,0)}}}function Y(Bt){if(k===clearTimeout)return clearTimeout(Bt);if((k===_||!k)&&clearTimeout)return k=clearTimeout,clearTimeout(Bt);try{return k(Bt)}catch{try{return k.call(null,Bt)}catch{return k.call(this,Bt)}}}var ae=[],ne=!1,pe,ie=-1;function Ae(){!ne||!pe||(ne=!1,pe.length?ae=pe.concat(ae):ie=-1,ae.length&&ze())}function ze(){if(!ne){var Bt=F(Ae);ne=!0;for(var ft=ae.length;ft;){for(pe=ae,ae=[];++ie<ft;)pe&&pe[ie].run();ie=-1,ft=ae.length}pe=null,ne=!1,Y(Bt)}}w.nextTick=function(Bt){var ft=new Array(arguments.length-1);if(arguments.length>1)for(var cn=1;cn<arguments.length;cn++)ft[cn-1]=arguments[cn];ae.push(new je(Bt,ft)),ae.length===1&&!ne&&F(ze)};function je(Bt,ft){this.fun=Bt,this.array=ft}je.prototype.run=function(){this.fun.apply(null,this.array)},w.title="browser",w.browser=!0,w.env={},w.argv=[],w.version="",w.versions={};function ht(){}w.on=ht,w.addListener=ht,w.once=ht,w.off=ht,w.removeListener=ht,w.removeAllListeners=ht,w.emit=ht,w.prependListener=ht,w.prependOnceListener=ht,w.listeners=function(Bt){return[]},w.binding=function(Bt){throw new Error("process.binding is not supported")},w.cwd=function(){return"/"},w.chdir=function(Bt){throw new Error("process.chdir is not supported")},w.umask=function(){return 0}},{}],2:[function(v,m,p){(function(w){(function(x){var k=setTimeout;function O(){}function _(ze,je){return function(){ze.apply(je,arguments)}}function F(ze){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof ze!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Ae(ze,this)}function Y(ze,je){for(;ze._state===3;)ze=ze._value;if(ze._state===0){ze._deferreds.push(je);return}ze._handled=!0,F._immediateFn(function(){var ht=ze._state===1?je.onFulfilled:je.onRejected;if(ht===null){(ze._state===1?ae:ne)(je.promise,ze._value);return}var Bt;try{Bt=ht(ze._value)}catch(ft){ne(je.promise,ft);return}ae(je.promise,Bt)})}function ae(ze,je){try{if(je===ze)throw new TypeError("A promise cannot be resolved with itself.");if(je&&(typeof je=="object"||typeof je=="function")){var ht=je.then;if(je instanceof F){ze._state=3,ze._value=je,pe(ze);return}else if(typeof ht=="function"){Ae(_(ht,je),ze);return}}ze._state=1,ze._value=je,pe(ze)}catch(Bt){ne(ze,Bt)}}function ne(ze,je){ze._state=2,ze._value=je,pe(ze)}function pe(ze){ze._state===2&&ze._deferreds.length===0&&F._immediateFn(function(){ze._handled||F._unhandledRejectionFn(ze._value)});for(var je=0,ht=ze._deferreds.length;je<ht;je++)Y(ze,ze._deferreds[je]);ze._deferreds=null}function ie(ze,je,ht){this.onFulfilled=typeof ze=="function"?ze:null,this.onRejected=typeof je=="function"?je:null,this.promise=ht}function Ae(ze,je){var ht=!1;try{ze(function(Bt){ht||(ht=!0,ae(je,Bt))},function(Bt){ht||(ht=!0,ne(je,Bt))})}catch(Bt){if(ht)return;ht=!0,ne(je,Bt)}}F.prototype.catch=function(ze){return this.then(null,ze)},F.prototype.then=function(ze,je){var ht=new this.constructor(O);return Y(this,new ie(ze,je,ht)),ht},F.all=function(ze){var je=Array.prototype.slice.call(ze);return new F(function(ht,Bt){if(je.length===0)return ht([]);var ft=je.length;function cn(On,wt){try{if(wt&&(typeof wt=="object"||typeof wt=="function")){var Ft=wt.then;if(typeof Ft=="function"){Ft.call(wt,function(Vn){cn(On,Vn)},Bt);return}}je[On]=wt,--ft===0&&ht(je)}catch(Vn){Bt(Vn)}}for(var Er=0;Er<je.length;Er++)cn(Er,je[Er])})},F.resolve=function(ze){return ze&&typeof ze=="object"&&ze.constructor===F?ze:new F(function(je){je(ze)})},F.reject=function(ze){return new F(function(je,ht){ht(ze)})},F.race=function(ze){return new F(function(je,ht){for(var Bt=0,ft=ze.length;Bt<ft;Bt++)ze[Bt].then(je,ht)})},F._immediateFn=typeof w=="function"?function(ze){w(ze)}:function(ze){k(ze,0)},F._unhandledRejectionFn=function(je){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",je)},F._setImmediateFn=function(je){F._immediateFn=je},F._setUnhandledRejectionFn=function(je){F._unhandledRejectionFn=je},typeof m!="undefined"&&m.exports?m.exports=F:x.Promise||(x.Promise=F)})(this)}).call(this,v("timers").setImmediate)},{timers:3}],3:[function(v,m,p){(function(w,x){var k=v("process/browser.js").nextTick,O=Function.prototype.apply,_=Array.prototype.slice,F={},Y=0;p.setTimeout=function(){return new ae(O.call(setTimeout,window,arguments),clearTimeout)},p.setInterval=function(){return new ae(O.call(setInterval,window,arguments),clearInterval)},p.clearTimeout=p.clearInterval=function(ne){ne.close()};function ae(ne,pe){this._id=ne,this._clearFn=pe}ae.prototype.unref=ae.prototype.ref=function(){},ae.prototype.close=function(){this._clearFn.call(window,this._id)},p.enroll=function(ne,pe){clearTimeout(ne._idleTimeoutId),ne._idleTimeout=pe},p.unenroll=function(ne){clearTimeout(ne._idleTimeoutId),ne._idleTimeout=-1},p._unrefActive=p.active=function(ne){clearTimeout(ne._idleTimeoutId);var pe=ne._idleTimeout;pe>=0&&(ne._idleTimeoutId=setTimeout(function(){ne._onTimeout&&ne._onTimeout()},pe))},p.setImmediate=typeof w=="function"?w:function(ne){var pe=Y++,ie=arguments.length<2?!1:_.call(arguments,1);return F[pe]=!0,k(function(){F[pe]&&(ie?ne.apply(null,ie):ne.call(null),p.clearImmediate(pe))}),pe},p.clearImmediate=typeof x=="function"?x:function(ne){delete F[ne]}}).call(this,v("timers").setImmediate,v("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(v,m,p){var w=v("promise-polyfill"),x=function(){return typeof window!="undefined"?window:Function("return this;")()}();m.exports={boltExport:x.Promise||w}},{"promise-polyfill":2}]},{},[4])(4)})})(void 0,yE,wE,void 0);var aO=wE.exports.boltExport,CE=function(t){var r=S.none(),o=[],c=function(k){return CE(function(O){v(function(_){O(k(_))})})},v=function(k){p()?x(k):o.push(k)},m=function(k){p()||(r=S.some(k),w(o),o=[])},p=function(){return r.isSome()},w=function(k){Ye(k,x)},x=function(k){r.each(function(O){setTimeout(function(){k(O)},0)})};return t(m),{get:v,map:c,isReady:p}},iN=function(t){return CE(function(r){r(t)})},uN={nu:CE,pure:iN},sN=function(t){setTimeout(function(){throw t},0)},g1=function(t){var r=function(x){t().then(x,sN)},o=function(x){return g1(function(){return t().then(x)})},c=function(x){return g1(function(){return t().then(function(k){return x(k).toPromise()})})},v=function(x){return g1(function(){return t().then(function(){return x.toPromise()})})},m=function(){return uN.nu(r)},p=function(){var x=null;return g1(function(){return x===null&&(x=t()),x})},w=t;return{map:o,bind:c,anonBind:v,toLazy:m,toCached:p,toPromise:w,get:r}},cN=function(t){return g1(function(){return new aO(t)})},oO=function(t){return g1(function(){return aO.resolve(t)})},Qi={nu:cN,pure:oO},lN=["input","textarea"],iO=function(t){var r=Ju(t);return Re(lN,r)},xE=function(t,r){var o=r.getRoot(t).getOr(t.element);Va(o,r.invalidClass),r.notify.each(function(c){iO(t.element)&&ga(t.element,"aria-invalid",!1),c.getContainer(t).each(function(v){Qm(v,c.validHtml)}),c.onValid(t)})},rl=function(t,r,o,c){var v=r.getRoot(t).getOr(t.element);ja(v,r.invalidClass),r.notify.each(function(m){iO(t.element)&&ga(t.element,"aria-invalid",!0),m.getContainer(t).each(function(p){Qm(p,c)}),m.onInvalid(t,c)})},sd=function(t,r,o){return r.validator.fold(function(){return Qi.pure(lt.value(!0))},function(c){return c.validate(t)})},SE=function(t,r,o){return r.notify.each(function(c){c.onValidate(t)}),sd(t,r).map(function(c){return t.getSystem().isConnected()?c.fold(function(v){return rl(t,r,o,v),lt.error(v)},function(v){return xE(t,r),lt.value(v)}):lt.error("No longer in system")})},uO=function(t,r){var o=r.getRoot(t).getOr(t.element);return es(o,r.invalidClass)},sO=Object.freeze({__proto__:null,markValid:xE,markInvalid:rl,query:sd,run:SE,isInvalid:uO}),KC=function(t,r){return t.validator.map(function(o){return ma([_t(o.onEvent,function(c){SE(c,t,r).get(rt)})].concat(o.validateOnLoad?[so(function(c){SE(c,t,r).get(Le)})]:[]))}).getOr({})},fN=Object.freeze({__proto__:null,events:KC}),TE=[Ee("invalidClass"),$e("getRoot",S.none),Xo("notify",[$e("aria","alert"),$e("getContainer",S.none),$e("validHtml",""),ea("onValid"),ea("onInvalid"),ea("onValidate")]),Xo("validator",[Ee("validate"),$e("onEvent","input"),$e("validateOnLoad",!0)])],al=$o({fields:TE,name:"invalidating",active:fN,apis:sO,extra:{validation:function(t){return function(r){var o=wn.getValue(r);return Qi.pure(t(o))}}}}),kE=function(t,r,o,c){return o.getOrCreate(t,r,c)},vN=Object.freeze({__proto__:null,getCoupled:kE}),dN=[sr("others",Zl(lt.value,Di()))],mN=function(){var t={},r=function(c,v,m){var p=fr(v.others);if(p)return ur(t,m).getOrThunk(function(){var w=ur(v.others,m).getOrDie("No information found for coupled component: "+m),x=w(c),k=c.getSystem().build(x);return t[m]=k,k});throw new Error("Cannot find coupled component: "+m+". Known coupled components: "+JSON.stringify(p,null,2))},o=ve({});return Es({readState:o,getOrCreate:r})},XC=Object.freeze({__proto__:null,init:mN}),zo=$o({fields:dN,name:"coupling",apis:vN,state:XC}),cO=ve("sink"),lO=ve(Ns({name:cO(),overrides:ve({dom:{tag:"div"},behaviours:Lt([Zi.config({useFixed:Qe})]),events:ma([Lc(Od()),Lc(Cs()),Lc($c())])})})),ol;(function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"})(ol||(ol={}));var fO=function(t,r){var o=t.getHotspot(r).getOr(r),c="hotspot",v=t.getAnchorOverrides();return t.layouts.fold(function(){return{anchor:c,hotspot:o,overrides:v}},function(m){return{anchor:c,hotspot:o,overrides:v,layouts:m}})},vO=function(t,r,o){var c=t.fetch;return c(o).map(r)},gN=function(t,r,o,c,v,m,p){var w=vO(t,r,c),x=AE(c,t);return w.map(function(k){return k.bind(function(O){return S.from(Qg.sketch(te(te({},m.menu()),{uid:bc(""),data:O,highlightImmediately:p===ol.HighlightFirst,onOpenMenu:function(_,F){var Y=x().getOrDie();Zi.position(Y,o,F),jr.decloak(v)},onOpenSubmenu:function(_,F,Y){var ae=x().getOrDie();Zi.position(ae,{anchor:"submenu",item:F},Y),jr.decloak(v)},onRepositionMenu:function(_,F,Y){var ae=x().getOrDie();Zi.position(ae,o,F),Ye(Y,function(ne){Zi.position(ae,{anchor:"submenu",item:ne.triggeringItem},ne.triggeredMenu)})},onEscape:function(){return Br.focus(c),jr.close(v),S.some(!0)}})))})})},EE=function(t,r,o,c,v,m,p){var w=fO(t,o),x=gN(t,r,w,o,c,v,p);return x.map(function(k){return k.fold(function(){jr.isOpen(c)&&jr.close(c)},function(O){jr.cloak(c),jr.open(c,O),m(c)}),c})},dO=function(t,r,o,c,v,m,p){return jr.close(c),Qi.pure(c)},h1=function(t,r,o,c,v,m){var p=zo.getCoupled(o,"sandbox"),w=jr.isOpen(p),x=w?dO:EE;return x(t,r,o,p,c,v,m)},hN=function(t,r,o){var c=va.getCurrent(r).getOr(r),v=pu(t.element);o?Kr(c.element,"min-width",v+"px"):mS(c.element,v)},AE=function(t,r){return t.getSystem().getByUid(r.uid+"-"+cO()).map(function(o){return function(){return lt.value(o)}}).getOrThunk(function(){return r.lazySink.fold(function(){return function(){return lt.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(o){return function(){return o(t)}})})},OE=function(t){jr.getState(t).each(function(r){Qg.repositionMenus(r)})},DE=function(t,r,o){var c=Sb(),v=function(w,x){var k=fO(t,r);c.link(r.element),t.matchWidth&&hN(k.hotspot,x,t.useMinWidth),t.onOpen(k,w,x),o!==void 0&&o.onOpen!==void 0&&o.onOpen(w,x)},m=function(w,x){c.unlink(r.element),o!==void 0&&o.onClose!==void 0&&o.onClose(w,x)},p=AE(r,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:c.id,role:"listbox"}},behaviours:xu.augment(t.sandboxBehaviours,[wn.config({store:{mode:"memory",initialValue:r}}),jr.config({onOpen:v,onClose:m,isPartOf:function(w,x,k){return Vc(x,k)||Vc(r,k)},getAttachPoint:function(){return p().getOrDie()}}),va.config({find:function(w){return jr.getState(w).bind(function(x){return va.getCurrent(x)})}}),zi.config({channels:te(te({},Df({isExtraPart:Et})),wp({doReposition:OE}))})])}},mO=function(t){var r=zo.getCoupled(t,"sandbox");OE(r)},_E=function(){return[$e("sandboxClasses",[]),xu.field("sandboxBehaviours",[va,zi,jr,wn])]},pN=ve([Ee("dom"),Ee("fetch"),ea("onOpen"),Ia("onExecute"),$e("getHotspot",S.some),$e("getAnchorOverrides",ve({})),_l(),ei("dropdownBehaviours",[Ke,zo,br,Br]),Ee("toggleClass"),$e("eventOrder",{}),xr("lazySink"),$e("matchWidth",!1),$e("useMinWidth",!1),xr("role")].concat(_E())),bN=ve([nc({schema:[Dl()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),lO()]),YC=function(t,r,o,c){var v,m=function(O){return ur(t.dom,"attributes").bind(function(_){return ur(_,O)})},p=function(O){jr.getState(O).each(function(_){Qg.highlightPrimary(_)})},w=function(O){var _=p;h1(t,function(F){return F},O,c,_,ol.HighlightFirst).get(Le)},x={expand:function(O){Ke.isOn(O)||h1(t,function(_){return _},O,c,Le,ol.HighlightNone).get(Le)},open:function(O){Ke.isOn(O)||h1(t,function(_){return _},O,c,Le,ol.HighlightFirst).get(Le)},isOpen:Ke.isOn,close:function(O){Ke.isOn(O)&&h1(t,function(_){return _},O,c,Le,ol.HighlightFirst).get(Le)},repositionMenus:function(O){Ke.isOn(O)&&mO(O)}},k=function(O,_){return av(O),S.some(!0)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Io(t.dropdownBehaviours,[Ke.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),zo.config({others:{sandbox:function(O){return DE(t,O,{onOpen:function(){return Ke.on(O)},onClose:function(){return Ke.off(O)}})}}}),br.config({mode:"special",onSpace:k,onEnter:k,onDown:function(O,_){if(To.isOpen(O)){var F=zo.getCoupled(O,"sandbox");p(F)}else To.open(O);return S.some(!0)},onEscape:function(O,_){return To.isOpen(O)?(To.close(O),S.some(!0)):S.none()}}),Br.config({})]),events:Rt(S.some(w)),eventOrder:te(te({},t.eventOrder),(v={},v[ru()]=["disabling","toggling","alloy.base.behaviour"],v)),apis:x,domModification:{attributes:te(te({"aria-haspopup":"true"},t.role.fold(function(){return{}},function(O){return{role:O}})),t.dom.tag==="button"?{type:m("type").getOr("button")}:{})}}},To=Vi({name:"Dropdown",configFields:pN(),partFields:bN(),factory:YC,apis:{open:function(t,r){return t.open(r)},expand:function(t,r){return t.expand(r)},close:function(t,r){return t.close(r)},isOpen:function(t,r){return t.isOpen(r)},repositionMenus:function(t,r){return t.repositionMenus(r)}}}),gO=function(){return Ws({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},yN=function(){return ma([Nh(eS(),Qe)])},wN=Object.freeze({__proto__:null,events:yN,exhibit:gO}),Dy=$o({fields:[],name:"unselecting",active:wN}),CN=function(t,r){return To.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Lt([tl.button(r.providers.isDisabled),ti(),Dy.config({}),Do.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:function(o){return Qi.nu(function(c){return t.fetch(c)}).map(function(c){return S.from(U4(Gr(iE(Qn("menu-value"),c,function(v){t.onItemAction(o,v)},t.columns,t.presets,Ll.CLOSE_ON_EXECUTE,Et,r.providers),{movement:VC(t.columns,t.presets)})))})},parts:{menu:SC(!1,1,t.presets)}})},BE=Qn("color-input-change"),hO=Qn("color-swatch-change"),pO=Qn("color-picker-cancel"),bO=function(t,r,o){var c=Sa.parts.field({factory:Sm,inputClasses:["tox-textfield"],onSetValue:function(x){return al.run(x).get(Le)},inputBehaviours:Lt([wr.config({disabled:r.providers.isDisabled}),ti(),Do.config({}),al.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(x){return wi(x.element)},notify:{onValid:function(x){var k=wn.getValue(x);Sr(x,BE,{color:k})}},validator:{validateOnLoad:!1,validate:function(x){var k=wn.getValue(x);if(k.length===0)return Qi.pure(lt.value(!0));var O=_n.fromTag("span");Kr(O,"background-color",k);var _=fo(O,"background-color").fold(function(){return lt.error("blah")},function(F){return lt.value(k)});return Qi.pure(_)}}})]),selectOnFocus:!1}),v=t.label.map(function(x){return Cm(x,r.providers)}),m=function(x,k){Sr(x,hO,{value:k})},p=function(x,k){w.getOpt(x).each(function(O){k==="custom"?o.colorPicker(function(_){_.fold(function(){return Lr(O,pO)},function(F){m(O,F),D4(F)})},"#ffffff"):k==="remove"?m(O,""):m(O,k)})},w=_a(CN({dom:{tag:"span",attributes:{"aria-label":r.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Go,fi,Ii]},onLtr:function(){return[fi,Go,Ii]}},components:[],fetch:R4(o.getColors(),o.hasCustomColors()),columns:o.getColorCols(),presets:"color",onItemAction:p},r));return Sa.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:v.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[c,w.asSpec()]}]),fieldBehaviours:Lt([qr("form-field-events",[_t(BE,function(x,k){w.getOpt(x).each(function(O){Kr(O.element,"background-color",k.event.color)}),Sr(x,Fs,{name:t.name})}),_t(hO,function(x,k){Sa.getField(x).each(function(O){wn.setValue(O,k.event.value),va.getCurrent(x).each(Br.focus)})}),_t(pO,function(x,k){Sa.getField(x).each(function(O){va.getCurrent(x).each(Br.focus)})})])])})},JC=function(t,r,o){return{hue:t,saturation:r,value:o}},yO=function(t){var r=0,o=0,c=0,v=t.red/255,m=t.green/255,p=t.blue/255,w=Math.min(v,Math.min(m,p)),x=Math.max(v,Math.max(m,p));if(w===x)return c=w,JC(0,0,c*100);var k=v===w?m-p:p===w?v-m:p-v;return r=v===w?3:p===w?1:5,r=60*(r-k/(x-w)),o=(x-w)/x,c=x,JC(Math.round(r),Math.round(o*100),Math.round(c*100))},wO=function(t){var r=(100-t)/100*360,o=JC(r,100,100),c=S4(o);return IC(c)},CO=Qn("rgb-hex-update"),xO=Qn("slider-update"),SO=Qn("palette-update"),xN=Ns({schema:[Ee("dom")],name:"label"}),Tm=function(t){return Ns({name:""+t+"-edge",overrides:function(r){var o=r.model.manager.edgeActions[t];return o.fold(function(){return{}},function(c){return{events:ma([j1(qi(),function(v,m,p){return c(v,p)},[r]),j1(Cs(),function(v,m,p){return c(v,p)},[r]),j1(Ad(),function(v,m,p){p.mouseIsDown.get()&&c(v,p)},[r])])}})}})},SN=Tm("top-left"),TN=Tm("top"),p1=Tm("top-right"),kN=Tm("right"),EN=Tm("bottom-right"),km=Tm("bottom"),AN=Tm("bottom-left"),ON=Tm("left"),Rc=Li({name:"thumb",defaults:ve({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:ma([Gi(qi(),t,"spectrum"),Gi(rf(),t,"spectrum"),Gi(nu(),t,"spectrum"),Gi(Cs(),t,"spectrum"),Gi(Ad(),t,"spectrum"),Gi(_h(),t,"spectrum")])}}}),TO=Li({schema:[Co("mouseIsDown",function(){return Zt(!1)})],name:"spectrum",overrides:function(t){var r=t.model,o=r.manager,c=function(v,m){return o.getValueFromEvent(m).map(function(p){return o.setValueFrom(v,t,p)})};return{behaviours:Lt([br.config({mode:"special",onLeft:function(v){return o.onLeft(v,t)},onRight:function(v){return o.onRight(v,t)},onUp:function(v){return o.onUp(v,t)},onDown:function(v){return o.onDown(v,t)}}),Br.config({})]),events:ma([_t(qi(),c),_t(rf(),c),_t(Cs(),c),_t(Ad(),function(v,m){t.mouseIsDown.get()&&c(v,m)})])}}}),kO=[xN,ON,kN,TN,km,SN,p1,AN,EN,Rc,TO],DN="slider.change.value",Em=ve(DN),_N=function(t){return t.type.indexOf("touch")!==-1},ZC=function(t){var r=t.event.raw;if(_N(r)){var o=r;return o.touches!==void 0&&o.touches.length===1?S.some(o.touches[0]).map(function(v){return Ka(v.clientX,v.clientY)}):S.none()}else{var c=r;return c.clientX!==void 0?S.some(c).map(function(v){return Ka(v.clientX,v.clientY)}):S.none()}},BN="top",RN="right",PN="bottom",RE="left",sh=function(t){return t.model.minX},ch=function(t){return t.model.minY},QC=function(t){return t.model.minX-1},ex=function(t){return t.model.minY-1},lh=function(t){return t.model.maxX},fh=function(t){return t.model.maxY},tx=function(t){return t.model.maxX+1},_y=function(t){return t.model.maxY+1},PE=function(t,r,o){return r(t)-o(t)},NE=function(t){return PE(t,lh,sh)},ME=function(t){return PE(t,fh,ch)},EO=function(t){return NE(t)/2},AO=function(t){return ME(t)/2},b1=function(t){return t.stepSize},FE=function(t){return t.snapToGrid},$E=function(t){return t.snapStart},IE=function(t){return t.rounded},vh=function(t,r){return t[r+"-edge"]!==void 0},OO=function(t){return vh(t,RE)},zE=function(t){return vh(t,RN)},DO=function(t){return vh(t,BN)},_O=function(t){return vh(t,PN)},cd=function(t){return t.model.value.get()},BO=function(t){return{x:t}},By=function(t){return{y:t}},Am=function(t,r){return{x:t,y:r}},il=function(t,r){Sr(t,Em(),{value:r})},ld=function(t,r){il(t,Am(QC(r),ex(r)))},NN=function(t,r){il(t,By(ex(r)))},y1=function(t,r){il(t,Am(EO(r),ex(r)))},RO=function(t,r){il(t,Am(tx(r),ex(r)))},LE=function(t,r){il(t,BO(tx(r)))},MN=function(t,r){il(t,Am(tx(r),AO(r)))},FN=function(t,r){il(t,Am(tx(r),_y(r)))},$N=function(t,r){il(t,By(_y(r)))},PO=function(t,r){il(t,Am(EO(r),_y(r)))},IN=function(t,r){il(t,Am(QC(r),_y(r)))},nx=function(t,r){il(t,BO(QC(r)))},zN=function(t,r){il(t,Am(QC(r),AO(r)))},cs=function(t,r,o,c){return t<r?t:t>o?o:t===r?r-1:Math.max(r,t-c)},HE=function(t,r,o,c){return t>o?t:t<r?r:t===o?o+1:Math.min(o,t+c)},NO=function(t,r,o){return Math.max(r,Math.min(o,t))},MO=function(t,r,o,c,v){return v.fold(function(){var m=t-r,p=Math.round(m/c)*c;return NO(r+p,r-1,o+1)},function(m){var p=(t-m)%c,w=Math.round(p/c),x=Math.floor((t-m)/c),k=Math.floor((o-m)/c),O=Math.min(k,x+w),_=m+O*c;return Math.max(m,_)})},FO=function(t,r,o){return Math.min(o,Math.max(t,r))-r},$O=function(t){var r=t.min,o=t.max,c=t.range,v=t.value,m=t.step,p=t.snap,w=t.snapStart,x=t.rounded,k=t.hasMinEdge,O=t.hasMaxEdge,_=t.minBound,F=t.maxBound,Y=t.screenRange,ae=k?r-1:r,ne=O?o+1:o;if(v<_)return ae;if(v>F)return ne;var pe=FO(v,_,F),ie=NO(pe/Y*c+r,ae,ne);return p&&ie>=r&&ie<=o?MO(ie,r,o,m,w):x?Math.round(ie):ie},IO=function(t){var r=t.min,o=t.max,c=t.range,v=t.value,m=t.hasMinEdge,p=t.hasMaxEdge,w=t.maxBound,x=t.maxOffset,k=t.centerMinEdge,O=t.centerMaxEdge;return v<r?m?0:k:v>o?p?w:O:(v-r)/c*x},VE="top",zO="right",LO="bottom",UE="left",LN="width",HO="height",Vf=function(t){return t.element.dom.getBoundingClientRect()},ul=function(t,r){return t[r]},rx=function(t){var r=Vf(t);return ul(r,UE)},WE=function(t){var r=Vf(t);return ul(r,zO)},dh=function(t){var r=Vf(t);return ul(r,VE)},VO=function(t){var r=Vf(t);return ul(r,LO)},Ry=function(t){var r=Vf(t);return ul(r,LN)},mh=function(t){var r=Vf(t);return ul(r,HO)},jE=function(t,r,o){return(t+r)/2-o},qE=function(t,r){var o=Vf(t),c=Vf(r),v=ul(o,UE),m=ul(o,zO),p=ul(c,UE);return jE(v,m,p)},GE=function(t,r){var o=Vf(t),c=Vf(r),v=ul(o,VE),m=ul(o,LO),p=ul(c,VE);return jE(v,m,p)},ax=function(t,r){Sr(t,Em(),{value:r})},ox=function(t){return{x:t}},w1=function(t,r,o){var c={min:sh(r),max:lh(r),range:NE(r),value:o,step:b1(r),snap:FE(r),snapStart:$E(r),rounded:IE(r),hasMinEdge:OO(r),hasMaxEdge:zE(r),minBound:rx(t),maxBound:WE(t),screenRange:Ry(t)};return $O(c)},HN=function(t,r,o){var c=w1(t,r,o),v=ox(c);return ax(t,v),c},VN=function(t,r){var o=sh(r);ax(t,ox(o))},UO=function(t,r){var o=lh(r);ax(t,ox(o))},WO=function(t,r,o){var c=t>0?HE:cs,v=c(cd(o).x,sh(o),lh(o),b1(o));return ax(r,ox(v)),S.some(v)},KE=function(t){return function(r,o){return WO(t,r,o).map(Qe)}},jO=function(t){var r=ZC(t);return r.map(function(o){return o.left})},Lu=function(t,r,o,c,v){var m=0,p=Ry(t),w=c.bind(function(O){return S.some(qE(O,t))}).getOr(m),x=v.bind(function(O){return S.some(qE(O,t))}).getOr(p),k={min:sh(r),max:lh(r),range:NE(r),value:o,hasMinEdge:OO(r),hasMaxEdge:zE(r),minBound:rx(t),minOffset:m,maxBound:WE(t),maxOffset:p,centerMinEdge:w,centerMaxEdge:x};return IO(k)},ix=function(t,r,o,c,v,m){var p=Lu(r,m,o,c,v);return rx(r)-rx(t)+p},UN=function(t,r,o,c){var v=cd(o),m=ix(t,c.getSpectrum(t),v.x,c.getLeftEdge(t),c.getRightEdge(t),o),p=pu(r.element)/2;Kr(r.element,"left",m-p+"px")},WN=KE(-1),qO=KE(1),jN=S.none,qN=S.none,GN={"top-left":S.none(),top:S.none(),"top-right":S.none(),right:S.some(LE),"bottom-right":S.none(),bottom:S.none(),"bottom-left":S.none(),left:S.some(nx)},GO=Object.freeze({__proto__:null,setValueFrom:HN,setToMin:VN,setToMax:UO,findValueOfOffset:w1,getValueFromEvent:jO,findPositionOfValue:ix,setPositionFromValue:UN,onLeft:WN,onRight:qO,onUp:jN,onDown:qN,edgeActions:GN}),sl=function(t,r){Sr(t,Em(),{value:r})},C1=function(t){return{y:t}},ux=function(t,r,o){var c={min:ch(r),max:fh(r),range:ME(r),value:o,step:b1(r),snap:FE(r),snapStart:$E(r),rounded:IE(r),hasMinEdge:DO(r),hasMaxEdge:_O(r),minBound:dh(t),maxBound:VO(t),screenRange:mh(t)};return $O(c)},XE=function(t,r,o){var c=ux(t,r,o),v=C1(c);return sl(t,v),c},YE=function(t,r){var o=ch(r);sl(t,C1(o))},KN=function(t,r){var o=fh(r);sl(t,C1(o))},XN=function(t,r,o){var c=t>0?HE:cs,v=c(cd(o).y,ch(o),fh(o),b1(o));return sl(r,C1(v)),S.some(v)},KO=function(t){return function(r,o){return XN(t,r,o).map(Qe)}},YN=function(t){var r=ZC(t);return r.map(function(o){return o.top})},JN=function(t,r,o,c,v){var m=0,p=mh(t),w=c.bind(function(O){return S.some(GE(O,t))}).getOr(m),x=v.bind(function(O){return S.some(GE(O,t))}).getOr(p),k={min:ch(r),max:fh(r),range:ME(r),value:o,hasMinEdge:DO(r),hasMaxEdge:_O(r),minBound:dh(t),minOffset:m,maxBound:VO(t),maxOffset:p,centerMinEdge:w,centerMaxEdge:x};return IO(k)},Py=function(t,r,o,c,v,m){var p=JN(r,m,o,c,v);return dh(r)-dh(t)+p},ZN=function(t,r,o,c){var v=cd(o),m=Py(t,c.getSpectrum(t),v.y,c.getTopEdge(t),c.getBottomEdge(t),o),p=Mi(r.element)/2;Kr(r.element,"top",m-p+"px")},XO=S.none,QN=S.none,JE=KO(-1),YO=KO(1),JO={"top-left":S.none(),top:S.some(NN),"top-right":S.none(),right:S.none(),"bottom-right":S.none(),bottom:S.some($N),"bottom-left":S.none(),left:S.none()},e5=Object.freeze({__proto__:null,setValueFrom:XE,setToMin:YE,setToMax:KN,findValueOfOffset:ux,getValueFromEvent:YN,findPositionOfValue:Py,setPositionFromValue:ZN,onLeft:XO,onRight:QN,onUp:JE,onDown:YO,edgeActions:JO}),sx=function(t,r){Sr(t,Em(),{value:r})},cx=function(t,r){return{x:t,y:r}},t5=function(t,r,o){var c=w1(t,r,o.left),v=ux(t,r,o.top),m=cx(c,v);return sx(t,m),m},ZO=function(t,r,o,c){var v=t>0?HE:cs,m=r?cd(c).x:v(cd(c).x,sh(c),lh(c),b1(c)),p=r?v(cd(c).y,ch(c),fh(c),b1(c)):cd(c).y;return sx(o,cx(m,p)),S.some(m)},Ny=function(t,r){return function(o,c){return ZO(t,r,o,c).map(Qe)}},n5=function(t,r){var o=sh(r),c=ch(r);sx(t,cx(o,c))},r5=function(t,r){var o=lh(r),c=fh(r);sx(t,cx(o,c))},a5=function(t){return ZC(t)},o5=function(t,r,o,c){var v=cd(o),m=ix(t,c.getSpectrum(t),v.x,c.getLeftEdge(t),c.getRightEdge(t),o),p=Py(t,c.getSpectrum(t),v.y,c.getTopEdge(t),c.getBottomEdge(t),o),w=pu(r.element)/2,x=Mi(r.element)/2;Kr(r.element,"left",m-w+"px"),Kr(r.element,"top",p-x+"px")},i5=Ny(-1,!1),QO=Ny(1,!1),eD=Ny(-1,!0),u5=Ny(1,!0),s5={"top-left":S.some(ld),top:S.some(y1),"top-right":S.some(RO),right:S.some(MN),"bottom-right":S.some(FN),bottom:S.some(PO),"bottom-left":S.some(IN),left:S.some(zN)},lx=Object.freeze({__proto__:null,setValueFrom:t5,setToMin:n5,setToMax:r5,getValueFromEvent:a5,setPositionFromValue:o5,onLeft:i5,onRight:QO,onUp:eD,onDown:u5,edgeActions:s5}),c5=[$e("stepSize",1),$e("onChange",Le),$e("onChoose",Le),$e("onInit",Le),$e("onDragStart",Le),$e("onDragEnd",Le),$e("snapToGrid",!1),$e("rounded",!0),xr("snapStart"),sr("model",yi("mode",{x:[$e("minX",0),$e("maxX",100),Co("value",function(t){return Zt(t.mode.minX)}),Ee("getInitialValue"),za("manager",GO)],y:[$e("minY",0),$e("maxY",100),Co("value",function(t){return Zt(t.mode.minY)}),Ee("getInitialValue"),za("manager",e5)],xy:[$e("minX",0),$e("maxX",100),$e("minY",0),$e("maxY",100),Co("value",function(t){return Zt({x:t.mode.minX,y:t.mode.minY})}),Ee("getInitialValue"),za("manager",lx)]})),ei("sliderBehaviours",[br,wn]),Co("mouseIsDown",function(){return Zt(!1)})],l5=function(t,r,o,c){var v,m=function(je){return _c(je,t,"thumb")},p=function(je){return _c(je,t,"spectrum")},w=function(je){return $a(je,t,"left-edge")},x=function(je){return $a(je,t,"right-edge")},k=function(je){return $a(je,t,"top-edge")},O=function(je){return $a(je,t,"bottom-edge")},_=t.model,F=_.manager,Y=function(je,ht){F.setPositionFromValue(je,ht,t,{getLeftEdge:w,getRightEdge:x,getTopEdge:k,getBottomEdge:O,getSpectrum:p})},ae=function(je,ht){_.value.set(ht);var Bt=m(je);return Y(je,Bt),t.onChange(je,Bt,ht),S.some(!0)},ne=function(je){F.setToMin(je,t)},pe=function(je){F.setToMax(je,t)},ie=function(je){var ht=function(){$a(je,t,"thumb").each(function(ft){var cn=_.value.get();t.onChoose(je,ft,cn)})},Bt=t.mouseIsDown.get();t.mouseIsDown.set(!1),Bt&&ht()},Ae=function(je,ht){ht.stop(),t.mouseIsDown.set(!0),t.onDragStart(je,m(je))},ze=function(je,ht){ht.stop(),t.onDragEnd(je,m(je)),ie(je)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Io(t.sliderBehaviours,[br.config({mode:"special",focusIn:function(je){return $a(je,t,"spectrum").map(br.focusIn).map(Qe)}}),wn.config({store:{mode:"manual",getValue:function(je){return _.value.get()}}}),zi.config({channels:(v={},v[Kc()]={onReceive:ie},v)})]),events:ma([_t(Em(),function(je,ht){ae(je,ht.event.value)}),so(function(je,ht){var Bt=_.getInitialValue();_.value.set(Bt);var ft=m(je);Y(je,ft);var cn=p(je);t.onInit(je,ft,cn,_.value.get())}),_t(qi(),Ae),_t(nu(),ze),_t(Cs(),Ae),_t(_h(),ze)]),apis:{resetToMin:ne,resetToMax:pe,changeValue:ae,refresh:Y},domModification:{styles:{position:"relative"}}}},Uf=Vi({name:"Slider",configFields:c5,partFields:kO,factory:l5,apis:{resetToMin:function(t,r){t.resetToMin(r)},resetToMax:function(t,r){t.resetToMax(r)},refresh:function(t,r){t.refresh(r)}}}),f5=function(t,r){var o=Uf.parts.spectrum({dom:{tag:"div",classes:[r("hue-slider-spectrum")],attributes:{role:"presentation"}}}),c=Uf.parts.thumb({dom:{tag:"div",classes:[r("hue-slider-thumb")],attributes:{role:"presentation"}}});return Uf.sketch({dom:{tag:"div",classes:[r("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:ve({y:0})},components:[o,c],sliderBehaviours:Lt([Br.config({})]),onChange:function(v,m,p){Sr(v,xO,{value:p})}})},My="form",ZE=[ei("formBehaviours",[wn])],tD=function(t){return"<alloy.field."+t+">"},v5=function(t){var r=function(){var m=[],p=function(w,x){return m.push(w),Dp(My,tD(w),x)};return{field:p,record:function(){return m}}}(),o=t(r),c=r.record(),v=we(c,function(m){return Li({name:m,pname:tD(m)})});return A0(My,ZE,v,d5,o)},fx=function(t,r){return t.fold(function(){return lt.error(r)},lt.value)},d5=function(t,r){return{uid:t.uid,dom:t.dom,components:r,behaviours:Io(t.formBehaviours,[wn.config({store:{mode:"manual",getValue:function(o){var c=lm(o,t);return kr(c,function(v,m){return v().bind(function(p){var w=va.getCurrent(p);return fx(w,new Error("Cannot find a current component to extract the value from for form part '"+m+"': "+El(p.element)))}).map(wn.getValue)})},setValue:function(o,c){Nr(c,function(v,m){$a(o,t,m).each(function(p){va.getCurrent(p).each(function(w){wn.setValue(w,v)})})})}}})]),apis:{getField:function(o,c){return $a(o,t,c).bind(va.getCurrent)}}}},Om={getField:Ru(function(t,r,o){return t.getField(r,o)}),sketch:v5},QE=Qn("valid-input"),nD=Qn("invalid-input"),rD=Qn("validating-input"),vx="colorcustom.rgb.",aD=function(t,r,o,c){var v=function(F,Y){return al.config({invalidClass:r("invalid"),notify:{onValidate:function(ae){Sr(ae,rD,{type:F})},onValid:function(ae){Sr(ae,QE,{type:F,value:wn.getValue(ae)})},onInvalid:function(ae){Sr(ae,nD,{type:F,value:wn.getValue(ae)})}},validator:{validate:function(ae){var ne=wn.getValue(ae),pe=Y(ne)?lt.value(!0):lt.error(t("aria.input.invalid"));return Qi.pure(pe)},validateOnLoad:!1}})},m=function(F,Y,ae,ne,pe){var ie=t(vx+"range"),Ae=Sa.parts.label({dom:{tag:"label",innerHtml:ae,attributes:{"aria-label":ne}}}),ze=Sa.parts.field({data:pe,factory:Sm,inputAttributes:te({type:"text"},Y==="hex"?{"aria-live":"polite"}:{}),inputClasses:[r("textfield")],inputBehaviours:Lt([v(Y,F),Do.config({})]),onSetValue:function(ft){if(al.isInvalid(ft)){var cn=al.run(ft);cn.get(Le)}}}),je=[Ae,ze],ht=Y!=="hex"?[Sa.parts["aria-descriptor"]({text:ie})]:[],Bt=je.concat(ht);return{dom:{tag:"div",attributes:{role:"presentation"}},components:Bt}},p=function(F,Y){var ae=IC(Y);return Om.getField(F,"hex").each(function(ne){Br.isFocused(ne)||wn.setValue(F,{hex:ae.value})}),ae},w=function(F,Y){var ae=Y.red,ne=Y.green,pe=Y.blue;wn.setValue(F,{red:ae,green:ne,blue:pe})},x=_a({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),k=function(F,Y){x.getOpt(F).each(function(ae){Kr(ae.element,"background-color","#"+Y.value)})},O=function(){var F={red:Zt(S.some(255)),green:Zt(S.some(255)),blue:Zt(S.some(255)),hex:Zt(S.some("ffffff"))},Y=function(Ft,Vn){var Tr=tE(Vn);w(Ft,Tr),ie(Tr)},ae=function(Ft){return F[Ft].get()},ne=function(Ft,Vn){F[Ft].set(Vn)},pe=function(){return ae("red").bind(function(Ft){return ae("green").bind(function(Vn){return ae("blue").map(function(Tr){return ih(Ft,Vn,Tr,1)})})})},ie=function(Ft){var Vn=Ft.red,Tr=Ft.green,Gt=Ft.blue;ne("red",S.some(Vn)),ne("green",S.some(Tr)),ne("blue",S.some(Gt))},Ae=function(Ft,Vn){var Tr=Vn.event;Tr.type!=="hex"?ne(Tr.type,S.none()):c(Ft)},ze=function(Ft,Vn){o(Ft);var Tr=b4(Vn);ne("hex",S.some(Vn));var Gt=tE(Tr);w(Ft,Gt),ie(Gt),Sr(Ft,CO,{hex:Tr}),k(Ft,Tr)},je=function(Ft,Vn,Tr){var Gt=parseInt(Tr,10);ne(Vn,S.some(Gt)),pe().each(function(tr){var pr=p(Ft,tr);k(Ft,pr)})},ht=function(Ft){return Ft.type==="hex"},Bt=function(Ft,Vn){var Tr=Vn.event;ht(Tr)?ze(Ft,Tr.value):je(Ft,Tr.type,Tr.value)},ft=function(Ft){return{label:t(vx+Ft+".label"),description:t(vx+Ft+".description")}},cn=ft("red"),Er=ft("green"),On=ft("blue"),wt=ft("hex");return Gr(Om.sketch(function(Ft){return{dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Ft.field("red",Sa.sketch(m(eE,"red",cn.label,cn.description,255))),Ft.field("green",Sa.sketch(m(eE,"green",Er.label,Er.description,255))),Ft.field("blue",Sa.sketch(m(eE,"blue",On.label,On.description,255))),Ft.field("hex",Sa.sketch(m(Zk,"hex",wt.label,wt.description,"ffffff"))),x.asSpec()],formBehaviours:Lt([al.config({invalidClass:r("form-invalid")}),qr("rgb-form-events",[_t(QE,Bt),_t(nD,Ae),_t(rD,Ae)])])}}),{apis:{updateHex:function(Ft,Vn){wn.setValue(Ft,{hex:Vn.value}),Y(Ft,Vn),k(Ft,Vn)}}})},_=is({factory:O,name:"RgbForm",configFields:[],apis:{updateHex:function(F,Y,ae){F.updateHex(Y,ae)}},extraApis:{}});return _},m5=function(t,r){var o=Uf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),c=Uf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:"<div class="+r("sv-palette-inner-thumb")+' role="presentation"></div>'}}),v=function(x,k){var O=x.width,_=x.height,F=x.getContext("2d");if(F!==null){F.fillStyle=k,F.fillRect(0,0,O,_);var Y=F.createLinearGradient(0,0,O,0);Y.addColorStop(0,"rgba(255,255,255,1)"),Y.addColorStop(1,"rgba(255,255,255,0)"),F.fillStyle=Y,F.fillRect(0,0,O,_);var ae=F.createLinearGradient(0,0,0,_);ae.addColorStop(0,"rgba(0,0,0,0)"),ae.addColorStop(1,"rgba(0,0,0,1)"),F.fillStyle=ae,F.fillRect(0,0,O,_)}},m=function(x,k){var O=x.components()[0].element.dom;v(O,nE(k))},p=function(x){var k=ve({x:0,y:0}),O=function(Y,ae,ne){Sr(Y,SO,{value:ne})},_=function(Y,ae,ne,pe){v(ne.element.dom,nE(k4))},F=Lt([va.config({find:S.some}),Br.config({})]);return Uf.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:k},rounded:!1,components:[o,c],onChange:O,onInit:_,sliderBehaviours:F})},w=is({factory:p,name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(x,k,O){m(k,O)}},extraApis:{}});return w},oD=function(t,r){var o=function(v){var m=aD(t,r,v.onValidHex,v.onInvalidHex),p=m5(t,r),w={paletteRgba:Zt(k4)},x=_a(p.sketch({})),k=_a(m.sketch({})),O=function(ne,pe){x.getOpt(ne).each(function(ie){var Ae=tE(pe);w.paletteRgba.set(Ae),p.setRgba(ie,Ae)})},_=function(ne,pe){k.getOpt(ne).each(function(ie){m.updateHex(ie,pe)})},F=function(ne,pe,ie){Ye(ie,function(Ae){Ae(ne,pe)})},Y=function(){var ne=[_];return function(pe,ie){var Ae=ie.event.value,ze=w.paletteRgba.get(),je=yO(ze),ht=JC(je.hue,Ae.x,100-Ae.y),Bt=S4(ht),ft=IC(Bt);F(pe,ft,ne)}},ae=function(){var ne=[O,_];return function(pe,ie){var Ae=ie.event.value,ze=wO(Ae.y);F(pe,ze,ne)}};return{uid:v.uid,dom:v.dom,components:[x.asSpec(),f5(t,r),k.asSpec()],behaviours:Lt([qr("colour-picker-events",[_t(SO,Y()),_t(xO,ae())]),va.config({find:function(ne){return k.getOpt(ne)}}),br.config({mode:"acyclic"})])}},c=is({name:"ColourPicker",configFields:[Ee("dom"),$e("onValidHex",Le),$e("onInvalidHex",Le)],factory:o});return c},iD=function(){return va.config({find:S.some})},uD=function(t){return va.config({find:t.getOpt})},sD=function(t){return va.config({find:function(r){return Jm(r.element,t).bind(function(o){return r.getSystem().getByDom(o).toOptional()})}})},Vl={self:iD,memento:uD,childAt:sD},g5={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},h5=function(t){return g5[t]},cD=function(t){return h5(t)},p5=function(t){var r=function(p){return"tox-"+p},o=oD(cD,r),c=function(p){Sr(p,Hf,{name:"hex-valid",value:!0})},v=function(p){Sr(p,Hf,{name:"hex-valid",value:!1})},m=_a(o.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:c,onInvalidHex:v}));return{dom:{tag:"div"},components:[m.asSpec()],behaviours:Lt([wn.config({store:{mode:"manual",getValue:function(p){var w=m.get(p),x=va.getCurrent(w),k=x.bind(function(O){var _=wn.getValue(O);return _.hex});return k.map(function(O){return"#"+O}).getOr("")},setValue:function(p,w){var x=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,k=x.exec(w),O=m.get(p),_=va.getCurrent(O);_.fold(function(){console.log("Can not find form")},function(F){wn.setValue(F,{hex:S.from(k[1]).getOr("")}),Om.getField(F,"hex").each(function(Y){Lr(Y,Dd())})})}}}),Vl.self()])}},lD=tinymce.util.Tools.resolve("tinymce.Resource"),b5=function(t){return Object.prototype.hasOwnProperty.call(t,"init")},y5=function(t){var r=Zt(S.none()),o=_a({dom:{tag:t.tag}}),c=Zt(S.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Lt([qr("custom-editor-events",[so(function(v){o.getOpt(v).each(function(m){(b5(t)?t.init(m.element.dom):lD.load(t.scriptId,t.scriptUrl).then(function(p){return p(m.element.dom,t.settings)})).then(function(p){c.get().each(function(w){p.setValue(w)}),c.set(S.none()),r.set(S.some(p))})})})]),wn.config({store:{mode:"manual",getValue:function(){return r.get().fold(function(){return c.get().getOr("")},function(v){return v.getValue()})},setValue:function(v,m){r.get().fold(function(){c.set(S.some(m))},function(p){return p.setValue(m)})}}}),Vl.self()]),components:[o.asSpec()]}},eu=tinymce.util.Tools.resolve("tinymce.util.Tools"),w5=Be([$e("preprocess",rt),$e("postprocess",rt)]),C5=function(t,r){var o=Uo("RepresentingConfigs.memento processors",w5,r);return wn.config({store:{mode:"manual",getValue:function(c){var v=t.get(c),m=wn.getValue(v);return o.postprocess(m)},setValue:function(c,v){var m=o.preprocess(v),p=t.get(c);wn.setValue(p,m)}}})},fD=function(t,r,o){return wn.config(Gr({store:{mode:"manual",getValue:r,setValue:o}},t.map(function(c){return{store:{initialValue:c}}}).getOr({})))},e3=function(t,r,o){return fD(t,function(c){return r(c.element)},function(c,v){return o(c.element,v)})},x5=function(t){return e3(t,df,qs)},S5=function(t){return e3(t,Rd,Qm)},T5=function(t){return wn.config({store:{mode:"memory",initialValue:t}})},Dm={memento:C5,withElement:e3,withComp:fD,domValue:x5,domHtml:S5,memory:T5},k5="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",E5=function(t,r){var o=eu.explode(r.getSetting("images_file_types",k5,"string")),c=function(v){return ut(o,function(m){return Vs(v.name.toLowerCase(),"."+m.toLowerCase())})};return de(Kt(t),c)},Wf=function(t,r){var o=function(_,F){F.stop()},c=function(_){return function(F,Y){Ye(_,function(ae){ae(F,Y)})}},v=function(_,F){if(!wr.isDisabled(_)){var Y=F.event.raw;p(_,Y.dataTransfer.files)}},m=function(_,F){var Y=F.event.raw.target;p(_,Y.files)},p=function(_,F){wn.setValue(_,E5(F,r)),Sr(_,Fs,{name:t.name})},w=_a({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Lt([qr("input-file-events",[Lc($c()),Lc(xs())])])}),x=function(_){return{uid:_.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Lt([Dm.memory([]),Vl.self(),wr.config({}),Ke.config({toggleClass:"dragenter",toggleOnExecute:!1}),qr("dropzone-events",[_t("dragenter",c([o,Ke.toggle])),_t("dragleave",c([o,Ke.toggle])),_t("dragover",o),_t("drop",c([o,v])),_t(jm(),m)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:r.translate("Drop an image here")}},Su.sketch({dom:{tag:"button",innerHtml:r.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[w.asSpec()],action:function(F){var Y=w.get(F);Y.element.dom.click()},buttonBehaviours:Lt([Do.config({}),tl.button(r.isDisabled),ti()])})]}]}},k=t.label.map(function(_){return Cm(_,r)}),O=Sa.parts.field({factory:{sketch:x}});return Ey(k,O,["tox-form__group--stretched"],[])},dx=function(t,r){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:we(t.items,r.interpreter)}},t3=Qn("alloy-fake-before-tabstop"),n3=Qn("alloy-fake-after-tabstop"),r3=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Lt([Br.config({ignore:!0}),Do.config({})])}},a3=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[r3([t3]),t,r3([n3])],behaviours:Lt([Vl.childAt(1)])}},mx=function(t,r){Sr(t,Od(),{raw:{which:9,shiftKey:r}})},vD=function(t,r){var o=r.element;es(o,t3)?mx(t,!0):es(o,n3)&&mx(t,!1)},fd=function(t){return m1(t,["."+t3,"."+n3].join(","),Et)},Fy=!(Xu().browser.isIE()||Xu().browser.isEdge()),A5=function(t){var r=Zt("");return{getValue:function(o){return r.get()},setValue:function(o,c){if(t)ga(o.element,"srcdoc",c);else{ga(o.element,"src","javascript:''");var v=o.element.dom.contentWindow.document;v.open(),v.write(c),v.close()}r.set(c)}}},O5=function(t,r){var o=Fy&&t.sandboxed,c=te(te({},t.label.map(function(x){return{title:x}}).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),v=A5(o),m=t.label.map(function(x){return Cm(x,r)}),p=function(x){return a3({uid:x.uid,dom:{tag:"iframe",attributes:c},behaviours:Lt([Do.config({}),Br.config({}),Dm.withComp(S.none(),v.getValue,v.setValue)])})},w=Sa.parts.field({factory:{sketch:p}});return Ey(m,w,["tox-form__group--stretched"],[])},x1=function(t,r){return dD(document.createElement("canvas"),t,r)},D5=function(t){var r=x1(t.width,t.height),o=vd(r);return o.drawImage(t,0,0),r},vd=function(t){return t.getContext("2d")},dD=function(t,r,o){return t.width=r,t.height=o,t},o3=function(t){return t.naturalWidth||t.width},$y=function(t){return t.naturalHeight||t.height},gh=function(){var t=function(_){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof _!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],O(_,c(p,this),c(w,this))},r=window,o=t.immediateFn||typeof r.setImmediate=="function"&&r.setImmediate||function(_){return setTimeout(_,1)},c=function(_,F){return function(){for(var Y=[],ae=0;ae<arguments.length;ae++)Y[ae]=arguments[ae];return _.apply(F,Y)}},v=Array.isArray||function(_){return Object.prototype.toString.call(_)==="[object Array]"};function m(_){var F=this;if(this._state===null){this._deferreds.push(_);return}o(function(){var Y=F._state?_.onFulfilled:_.onRejected;if(Y===null){(F._state?_.resolve:_.reject)(F._value);return}var ae;try{ae=Y(F._value)}catch(ne){_.reject(ne);return}_.resolve(ae)})}function p(_){try{if(_===this)throw new TypeError("A promise cannot be resolved with itself.");if(_&&(typeof _=="object"||typeof _=="function")){var F=_.then;if(typeof F=="function"){O(c(F,_),c(p,this),c(w,this));return}}this._state=!0,this._value=_,x.call(this)}catch(Y){w.call(this,Y)}}function w(_){this._state=!1,this._value=_,x.call(this)}function x(){for(var _=0,F=this._deferreds;_<F.length;_++){var Y=F[_];m.call(this,Y)}this._deferreds=[]}function k(_,F,Y,ae){this.onFulfilled=typeof _=="function"?_:null,this.onRejected=typeof F=="function"?F:null,this.resolve=Y,this.reject=ae}var O=function(_,F,Y){var ae=!1;try{_(function(ne){ae||(ae=!0,F(ne))},function(ne){ae||(ae=!0,Y(ne))})}catch(ne){if(ae)return;ae=!0,Y(ne)}};return t.prototype.catch=function(_){return this.then(null,_)},t.prototype.then=function(_,F){var Y=this;return new t(function(ae,ne){m.call(Y,new k(_,F,ae,ne))})},t.all=function(){for(var _=[],F=0;F<arguments.length;F++)_[F]=arguments[F];var Y=Array.prototype.slice.call(_.length===1&&v(_[0])?_[0]:_);return new t(function(ae,ne){if(Y.length===0)return ae([]);for(var pe=Y.length,ie=function(ze,je){try{if(je&&(typeof je=="object"||typeof je=="function")){var ht=je.then;if(typeof ht=="function"){ht.call(je,function(Bt){ie(ze,Bt)},ne);return}}Y[ze]=je,--pe===0&&ae(Y)}catch(Bt){ne(Bt)}},Ae=0;Ae<Y.length;Ae++)ie(Ae,Y[Ae])})},t.resolve=function(_){return _&&typeof _=="object"&&_.constructor===t?_:new t(function(F){F(_)})},t.reject=function(_){return new t(function(F,Y){Y(_)})},t.race=function(_){return new t(function(F,Y){for(var ae=0,ne=_;ae<ne.length;ae++){var pe=ne[ae];pe.then(F,Y)}})},t},hh=window.Promise?window.Promise:gh(),mD=function(t){return new hh(function(r,o){var c=URL.createObjectURL(t),v=new Image,m=function(){v.removeEventListener("load",p),v.removeEventListener("error",w)},p=function(){m(),r(v)},w=function(){m(),o("Unable to load data of type "+t.type+": "+c)};v.addEventListener("load",p),v.addEventListener("error",w),v.src=c,v.complete&&setTimeout(p,0)})},_5=function(t){var r=t.split(","),o=/data:([^;]+)/.exec(r[0]);if(!o)return S.none();for(var c=o[1],v=r[1],m=1024,p=atob(v),w=p.length,x=Math.ceil(w/m),k=new Array(x),O=0;O<x;++O){for(var _=O*m,F=Math.min(_+m,w),Y=new Array(F-_),ae=_,ne=0;ae<F;++ne,++ae)Y[ne]=p[ae].charCodeAt(0);k[O]=new Uint8Array(Y)}return S.some(new Blob(k,{type:c}))},B5=function(t){return new hh(function(r,o){_5(t).fold(function(){o("uri is not base64: "+t)},r)})},gD=function(t,r,o){return r=r||"image/png",In(HTMLCanvasElement.prototype.toBlob)?new hh(function(c,v){t.toBlob(function(m){m?c(m):v()},r,o)}):B5(t.toDataURL(r,o))},R5=function(t,r,o){return r=r||"image/png",t.toDataURL(r,o)},P5=function(t){return mD(t).then(function(r){i3(r);var o=x1(o3(r),$y(r)),c=vd(o);return c.drawImage(r,0,0),o})},hD=function(t){return new hh(function(r){var o=new FileReader;o.onloadend=function(){r(o.result)},o.readAsDataURL(t)})},i3=function(t){URL.revokeObjectURL(t.src)},pD=function(t,r,o){var c=r.type,v=ve(c),m=function(){return hh.resolve(r)},p=ve(o),w=function(){return o.split(",")[1]},x=function(F,Y){return t.then(function(ae){return gD(ae,F,Y)})},k=function(F,Y){return t.then(function(ae){return R5(ae,F,Y)})},O=function(F,Y){return k(F,Y).then(function(ae){return ae.split(",")[1]})},_=function(){return t.then(D5)};return{getType:v,toBlob:m,toDataURL:p,toBase64:w,toAdjustedBlob:x,toAdjustedDataURL:k,toAdjustedBase64:O,toCanvas:_}},bD=function(t){return hD(t).then(function(r){return pD(P5(t),t,r)})},dd=function(t,r){return gD(t,r).then(function(o){return pD(hh.resolve(t),o,t.toDataURL())})},u3=function(t){return bD(t)},S1=function(t,r,o){var c=typeof t=="string"?parseFloat(t):t;return c>o?c=o:c<r&&(c=r),c},yD=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},T1=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],gx=function(t,r){for(var o=[],c=new Array(25),v,m=0;m<5;m++){for(var p=0;p<5;p++)o[p]=r[p+m*5];for(var p=0;p<5;p++){v=0;for(var w=0;w<5;w++)v+=t[p+w*5]*o[w];c[p+m*5]=v}}return c},N5=function(t,r){var o;return r=S1(r,-1,1),r*=100,r<0?o=127+r/100*127:(o=r%1,o===0?o=T1[r]:o=T1[Math.floor(r)]*(1-o)+T1[Math.floor(r)+1]*o,o=o*127+127),gx(t,[o/127,0,0,0,.5*(127-o),0,o/127,0,0,.5*(127-o),0,0,o/127,0,.5*(127-o),0,0,0,1,0,0,0,0,0,1])},M5=function(t,r){return r=S1(255*r,-255,255),gx(t,[1,0,0,0,r,0,1,0,0,r,0,0,1,0,r,0,0,0,1,0,0,0,0,0,1])},F5=function(t,r,o,c){return r=S1(r,0,2),o=S1(o,0,2),c=S1(c,0,2),gx(t,[r,0,0,0,0,0,o,0,0,0,0,0,c,0,0,0,0,0,1,0,0,0,0,0,1])},s3=function(t,r){return t.toCanvas().then(function(o){return md(o,t.getType(),r)})},md=function(t,r,o){var c=vd(t),v=function(p,w){for(var x,k,O,_,F=p.data,Y=w[0],ae=w[1],ne=w[2],pe=w[3],ie=w[4],Ae=w[5],ze=w[6],je=w[7],ht=w[8],Bt=w[9],ft=w[10],cn=w[11],Er=w[12],On=w[13],wt=w[14],Ft=w[15],Vn=w[16],Tr=w[17],Gt=w[18],tr=w[19],pr=0;pr<F.length;pr+=4)x=F[pr],k=F[pr+1],O=F[pr+2],_=F[pr+3],F[pr]=x*Y+k*ae+O*ne+_*pe+ie,F[pr+1]=x*Ae+k*ze+O*je+_*ht+Bt,F[pr+2]=x*ft+k*cn+O*Er+_*On+wt,F[pr+3]=x*Ft+k*Vn+O*Tr+_*Gt+tr;return p},m=v(c.getImageData(0,0,t.width,t.height),o);return c.putImageData(m,0,0),dd(t,r)},c3=function(t,r){return t.toCanvas().then(function(o){return wD(o,t.getType(),r)})},wD=function(t,r,o){var c=vd(t),v=function(w,x,k){for(var O=function(Vn,Tr,Gt){return Vn>Gt?Vn=Gt:Vn<Tr&&(Vn=Tr),Vn},_=Math.round(Math.sqrt(k.length)),F=Math.floor(_/2),Y=w.data,ae=x.data,ne=w.width,pe=w.height,ie=0;ie<pe;ie++)for(var Ae=0;Ae<ne;Ae++){for(var ze=0,je=0,ht=0,Bt=0;Bt<_;Bt++)for(var ft=0;ft<_;ft++){var cn=O(Ae+ft-F,0,ne-1),Er=O(ie+Bt-F,0,pe-1),On=(Er*ne+cn)*4,wt=k[Bt*_+ft];ze+=Y[On]*wt,je+=Y[On+1]*wt,ht+=Y[On+2]*wt}var Ft=(ie*ne+Ae)*4;ae[Ft]=O(ze,0,255),ae[Ft+1]=O(je,0,255),ae[Ft+2]=O(ht,0,255)}return x},m=c.getImageData(0,0,t.width,t.height),p=c.getImageData(0,0,t.width,t.height);return p=v(m,p,o),c.putImageData(p,0,0),dd(t,r)},CD=function(t){var r=function(o,c,v){for(var m=vd(o),p=new Array(256),w=function(O,_){for(var F=O.data,Y=0;Y<F.length;Y+=4)F[Y]=_[F[Y]],F[Y+1]=_[F[Y+1]],F[Y+2]=_[F[Y+2]];return O},x=0;x<p.length;x++)p[x]=t(x,v);var k=w(m.getImageData(0,0,o.width,o.height),p);return m.putImageData(k,0,0),dd(o,c)};return function(o,c){return o.toCanvas().then(function(v){return r(v,o.getType(),c)})}},l3=function(t){return function(r,o){return s3(r,t(yD(),o))}},xD=function(t){return function(r){return s3(r,t)}},SD=function(t){return function(r){return c3(r,t)}},$5=xD([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),I5=l3(M5),z5=l3(N5),TD=function(t,r,o,c){return s3(t,F5(yD(),r,o,c))},L5=SD([0,-1,0,-1,5,-1,0,-1,0]),H5=CD(function(t,r){return Math.pow(t/255,1-r)*255}),f3=function(t,r,o){var c=o3(t),v=$y(t),m=r/c,p=o/v,w=!1;(m<.5||m>2)&&(m=m<.5?.5:2,w=!0),(p<.5||p>2)&&(p=p<.5?.5:2,w=!0);var x=kD(t,m,p);return w?x.then(function(k){return f3(k,r,o)}):x},kD=function(t,r,o){return new hh(function(c){var v=o3(t),m=$y(t),p=Math.floor(v*r),w=Math.floor(m*o),x=x1(p,w),k=vd(x);k.drawImage(t,0,0,v,m,0,0,p,w),c(x)})},ED=function(t,r){return t.toCanvas().then(function(o){return V5(o,t.getType(),r)})},V5=function(t,r,o){var c=x1(t.width,t.height),v=vd(c),m=0,p=0;return o=o<0?360+o:o,(o===90||o===270)&&dD(c,c.height,c.width),(o===90||o===180)&&(m=c.width),(o===270||o===180)&&(p=c.height),v.translate(m,p),v.rotate(o*Math.PI/180),v.drawImage(t,0,0),dd(c,r)},AD=function(t,r){return t.toCanvas().then(function(o){return OD(o,t.getType(),r)})},OD=function(t,r,o){var c=x1(t.width,t.height),v=vd(c);return o==="v"?(v.scale(1,-1),v.drawImage(t,0,-c.height)):(v.scale(-1,1),v.drawImage(t,-c.width,0)),dd(c,r)},U5=function(t,r,o,c,v){return t.toCanvas().then(function(m){return W5(m,t.getType(),r,o,c,v)})},W5=function(t,r,o,c,v,m){var p=x1(v,m),w=vd(p);return w.drawImage(t,-o,-c),dd(p,r)},j5=function(t,r,o){return t.toCanvas().then(function(c){return f3(c,r,o).then(function(v){return dd(v,t.getType())})})},q5=function(t){return $5(t)},G5=function(t){return L5(t)},K5=function(t,r){return H5(t,r)},DD=function(t,r,o,c){return TD(t,r,o,c)},X5=function(t,r){return I5(t,r)},Y5=function(t,r){return z5(t,r)},_D=function(t,r){return AD(t,r)},ka=function(t,r,o,c,v){return U5(t,r,o,c,v)},Iy=function(t,r,o){return j5(t,r,o)},v3=function(t,r){return ED(t,r)},d3=function(t,r){return te({dom:{tag:"span",innerHtml:t,classes:["tox-icon","tox-tbtn__icon-wrap"]}},r)},zy=function(t,r){return d3(ss(t,r),{})},BD=function(t,r){return d3(ss(t,r),{behaviours:Lt([Mr.config({})])})},m3=function(t,r,o){return{dom:{tag:"span",innerHtml:o.translate(t),classes:[r+"__select-label"]},behaviours:Lt([Mr.config({})])}},g3,h3=Qn("toolbar.button.execute"),J5=function(t){return Ss(function(r,o){MC(t,r)(function(c){Sr(r,h3,{buttonApi:c}),t.onAction(c)})})},RD=(g3={},g3[ru()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],g3),k1=Qn("update-menu-text"),PD=Qn("update-menu-icon"),p3=function(t,r,o){var c=Zt(Le),v=t.text.map(function(O){return _a(m3(O,r,o.providers))}),m=t.icon.map(function(O){return _a(BD(O,o.providers.icons))}),p=function(O,_){var F=wn.getValue(O);return Br.focus(F),Sr(F,"keydown",{raw:_.event.raw}),To.close(F),S.some(!0)},w=t.role.fold(function(){return{}},function(O){return{role:O}}),x=t.tooltip.fold(function(){return{}},function(O){var _=o.providers.translate(O);return{title:_,"aria-label":_}}),k=_a(To.sketch(te(te(te({},t.uid?{uid:t.uid}:{}),w),{dom:{tag:"button",classes:[r,r+"--select"].concat(we(t.classes,function(O){return r+"--"+O})),attributes:te({},x)},components:c1([m.map(function(O){return O.asSpec()}),v.map(function(O){return O.asSpec()}),S.some({dom:{tag:"div",classes:[r+"__select-chevron"],innerHtml:ss("chevron-down",o.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Lt(q(t.dropdownBehaviours,[tl.button(function(){return t.disabled||o.providers.isDisabled()}),ti(),Dy.config({}),Mr.config({}),qr("dropdown-events",[yy(t,c),s1(t,c)]),qr("menubutton-update-display-text",[_t(k1,function(O,_){v.bind(function(F){return F.getOpt(O)}).each(function(F){Mr.set(F,[mf(o.providers.translate(_.event.text))])})}),_t(PD,function(O,_){m.bind(function(F){return F.getOpt(O)}).each(function(F){Mr.set(F,[BD(_.event.icon,o.providers.icons)])})})])])),eventOrder:Gr(RD,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Lt([br.config({mode:"special",onLeft:p,onRight:p})]),lazySink:o.getSink,toggleClass:r+"--active",parts:{menu:SC(!1,t.columns,t.presets)},fetch:function(O){return Qi.nu(gn(t.fetch,O))}})));return k.asSpec()},Z5=function(t){return $n(t)},b3=function(t){return t.type==="separator"},Q5=function(t){return ua(t,"getSubmenuItems")},eM={type:"separator"},tM=function(t,r){var o=ee(t,function(c,v){return Z5(v)?v===""?c:v==="|"?c.length>0&&!b3(c[c.length-1])?c.concat([eM]):c:ua(r,v.toLowerCase())?c.concat([r[v.toLowerCase()]]):c:c.concat([v])},[]);return o.length>0&&b3(o[o.length-1])&&o.pop(),o},nM=function(t,r){var o=t.getSubmenuItems(),c=MD(o,r),v=Gr(c.menus,$(t.value,c.items)),m=Gr(c.expansions,$(t.value,t.value));return{item:t,menus:v,expansions:m}},ND=function(t,r){return Q5(t)?nM(t,r):{item:t,menus:{},expansions:{}}},rM=function(t){if(b3(t))return t;var r=ur(t,"value").getOrThunk(function(){return Qn("generated-menu-item")});return Gr({value:r},t)},MD=function(t,r){var o=tM($n(t)?t.split(" "):t,r);return Ue(o,function(c,v){var m=rM(v),p=ND(m,r);return{menus:Gr(c.menus,p.menus),items:[p.item].concat(c.items),expansions:Gr(c.expansions,p.expansions)}},{menus:{},expansions:{},items:[]})},E1=function(t,r,o,c){var v=Qn("primary-menu"),m=MD(t,o.shared.providers.menuItems());if(m.items.length===0)return S.none();var p=fE(v,m.items,r,o,c),w=kr(m.menus,function(k,O){return fE(O,k,r,o,!1)}),x=Gr(w,$(v,p));return S.from(Qg.tieredData(v,x,m.expansions))},aM=function(t){return{isDisabled:function(){return wr.isDisabled(t)},setDisabled:function(r){return wr.set(t,r)},setActive:function(r){var o=t.element;r?(ja(o,"tox-tbtn--enabled"),ga(o,"aria-pressed",!0)):(Va(o,"tox-tbtn--enabled"),Bu(o,"aria-pressed"))},isActive:function(){return es(t.element,"tox-tbtn--enabled")}}},y3=function(t,r,o,c){return p3({text:t.text,icon:t.icon,tooltip:t.tooltip,role:c,fetch:function(v,m){t.fetch(function(p){m(E1(p,Ll.CLOSE_ON_EXECUTE,o,!1))})},onSetup:t.onSetup,getApi:aM,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Do.config({})]},r,o.shared)},oM=function(t,r,o){var c=function(m){return function(p){var w=!p.isActive();p.setActive(w),m.storage.set(w),o.shared.getSink().each(function(x){r().getOpt(x).each(function(k){wf(k.element),Sr(k,Hf,{name:m.name,value:m.storage.get()})})})}},v=function(m){return function(p){p.setActive(m.storage.get())}};return function(m){m(we(t,function(p){var w=p.text.fold(function(){return{}},function(x){return{text:x}});return te(te({type:p.type,active:!1},w),{onAction:c(p),onSetup:v(p)})}))}},w3=function(t,r,o,c,v,m){o===void 0&&(o=[]);var p=r.fold(function(){return{}},function(k){return{action:k}}),w=te({buttonBehaviours:Lt([tl.button(function(){return t.disabled||m.isDisabled()}),ti(),Do.config({}),qr("button press",[W1("click"),W1("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},p),x=Gr(w,{dom:c});return Gr(x,{components:v})},FD=function(t,r,o,c){c===void 0&&(c=[]);var v=t.tooltip.map(function(x){return{"aria-label":o.translate(x),title:o.translate(x)}}).getOr({}),m={tag:"button",classes:["tox-tbtn"],attributes:v},p=t.icon.map(function(x){return zy(x,o.icons)}),w=c1([p]);return w3(t,r,c,m,w,o)},C3=function(t,r,o,c){c===void 0&&(c=[]);var v=FD(t,S.some(r),o,c);return Su.sketch(v)},$D=function(t,r,o,c,v){c===void 0&&(c=[]),v===void 0&&(v=[]);var m=o.translate(t.text),p=t.icon?t.icon.map(function(_){return zy(_,o.icons)}):S.none(),w=p.isSome()?c1([p]):[],x=p.isSome()?{}:{innerHtml:m},k=q(!t.primary&&!t.borderless?["tox-button","tox-button--secondary"]:["tox-button"],p.isSome()?["tox-button--icon"]:[],t.borderless?["tox-button--naked"]:[],v),O=te(te({tag:"button",classes:k},x),{attributes:{title:m}});return w3(t,r,c,O,w,o)},hx=function(t,r,o,c,v){c===void 0&&(c=[]),v===void 0&&(v=[]);var m=$D(t,S.some(r),o,c,v);return Su.sketch(m)},x3=function(t,r){return function(o){r==="custom"?Sr(o,Hf,{name:t,value:{}}):r==="submit"?Lr(o,Oy):r==="cancel"?Lr(o,uh):console.error("Unknown button type: ",r)}},ID=function(t,r){return r==="menu"},iM=function(t,r){return r==="custom"||r==="cancel"||r==="submit"},px=function(t,r,o){if(ID(t,r)){var c=function(){return p},v=t,m=te(te({},t),{onSetup:function(k){return k.setDisabled(t.disabled),Le},fetch:oM(v.items,c,o)}),p=_a(y3(m,"tox-tbtn",o,S.none()));return p.asSpec()}else if(iM(t,r)){var w=x3(t.name,r),x=te(te({},t),{borderless:!1});return hx(x,w,o.shared.providers,[])}else console.error("Unknown footer button type: ",r)},uM=function(t,r){var o=x3(t.name,"custom");return tN(S.none(),Sa.parts.field(te({factory:Su},$D(t,S.some(o),r,[Dm.memory(""),Vl.self()]))))},sM=ve([$e("field1Name","field1"),$e("field2Name","field2"),Sv("onLockedChange"),Xs(["lockClass"]),$e("locked",!1),xu.field("coupledFieldBehaviours",[va,wn])]),cM=function(t,r,o){return $a(t,r,o).bind(va.getCurrent)},zD=function(t,r){return Li({factory:Sa,name:t,overrides:function(o){return{fieldBehaviours:Lt([qr("coupled-input-behaviour",[_t(Dd(),function(c){cM(c,o,r).each(function(v){$a(c,o,"lock").each(function(m){Ke.isOn(m)&&o.onLockedChange(c,v,m)})})})])])}}})},Ly=ve([zD("field1","field2"),zD("field2","field1"),Li({factory:Su,schema:[Ee("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:Lt([Ke.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),lM=function(t,r,o,c){return{uid:t.uid,dom:t.dom,components:r,behaviours:xu.augment(t.coupledFieldBehaviours,[va.config({find:S.some}),wn.config({store:{mode:"manual",getValue:function(v){var m,p=Rf(v,t,["field1","field2"]);return m={},m[t.field1Name]=wn.getValue(p.field1()),m[t.field2Name]=wn.getValue(p.field2()),m},setValue:function(v,m){var p=Rf(v,t,["field1","field2"]);Pa(m,t.field1Name)&&wn.setValue(p.field1(),m[t.field1Name]),Pa(m,t.field2Name)&&wn.setValue(p.field2(),m[t.field2Name])}}})]),apis:{getField1:function(v){return $a(v,t,"field1")},getField2:function(v){return $a(v,t,"field2")},getLock:function(v){return $a(v,t,"lock")}}}},ls=Vi({name:"FormCoupledInputs",configFields:sM(),partFields:Ly(),factory:lM,apis:{getField1:function(t,r){return t.getField1(r)},getField2:function(t,r){return t.getField2(r)},getLock:function(t,r){return t.getLock(r)}}}),fM=function(t){var r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=function(v){return v in r?r[v]:1},c=t.value.toFixed(o(t.unit));return c.indexOf(".")!==-1&&(c=c.replace(/\.?0*$/,"")),c+t.unit},S3=function(t){var r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,o=r.exec(t);if(o!==null){var c=parseFloat(o[1]),v=o[2];return lt.value({value:c,unit:v})}else return lt.error(t)},LD=function(t,r){var o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},c=function(v){return Object.prototype.hasOwnProperty.call(o,v)};return t.unit===r?S.some(t.value):c(t.unit)&&c(r)?o[t.unit]===o[r]?S.some(t.value):S.some(t.value/o[t.unit]*o[r]):S.none()},T3=function(t){return S.none()},HD=function(t,r){return function(o){return LD(o,r).map(function(c){return{value:c*t,unit:r}})}},VD=function(t,r){var o=S3(t).toOptional(),c=S3(r).toOptional();return Bp(o,c,function(v,m){return LD(v,m.unit).map(function(p){return m.value/p}).map(function(p){return HD(p,m.unit)}).getOr(T3)}).getOr(T3)},UD=function(t,r){var o=T3,c=Qn("ratio-event"),v=ls.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:r.translate(t.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:ss("lock",r.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:ss("unlock",r.icons)}}],buttonBehaviours:Lt([wr.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti(),Do.config({})])}),m=function(O){return{dom:{tag:"div",classes:["tox-form__group"]},components:O}},p=function(O){return Sa.parts.field({factory:Sm,inputClasses:["tox-textfield"],inputBehaviours:Lt([wr.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti(),Do.config({}),qr("size-input-events",[_t(Cl(),function(_,F){Sr(_,c,{isField1:O})}),_t(jm(),function(_,F){Sr(_,Fs,{name:t.name})})])]),selectOnFocus:!1})},w=function(O){return{dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(O)}}},x=ls.parts.field1(m([Sa.parts.label(w("Width")),p(!0)])),k=ls.parts.field2(m([Sa.parts.label(w("Height")),p(!1)]));return ls.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[x,k,m([w("&nbsp;"),v])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(O,_,F){S3(wn.getValue(O)).each(function(Y){o(Y).each(function(ae){wn.setValue(_,fM(ae))})})},coupledFieldBehaviours:Lt([wr.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(O){ls.getField1(O).bind(Sa.getField).each(wr.disable),ls.getField2(O).bind(Sa.getField).each(wr.disable),ls.getLock(O).each(wr.disable)},onEnabled:function(O){ls.getField1(O).bind(Sa.getField).each(wr.enable),ls.getField2(O).bind(Sa.getField).each(wr.enable),ls.getLock(O).each(wr.enable)}}),ti(),qr("size-input-events2",[_t(c,function(O,_){var F=_.event.isField1,Y=F?ls.getField1(O):ls.getField2(O),ae=F?ls.getField2(O):ls.getField1(O),ne=Y.map(wn.getValue).getOr(""),pe=ae.map(wn.getValue).getOr("");o=VD(ne,pe)})])])})},bx=ve(Qn("undo")),yx=ve(Qn("redo")),vM=ve(Qn("zoom")),dM=ve(Qn("back")),mM=ve(Qn("apply")),gM=ve(Qn("swap")),k3=ve(Qn("transform")),E3=ve(Qn("temp-transform")),WD=ve(Qn("transform-apply")),cu={undo:bx,redo:yx,zoom:vM,back:dM,apply:mM,swap:gM,transform:k3,tempTransform:E3,transformApply:WD},A3=ve("save-state"),hM=ve("disable"),pM=ve("enable"),Hu={formActionEvent:Hf,saveState:A3,disable:hM,enable:pM},bM=function(t,r){var o=function(Mn,Xr,Ha,Bo){return _a(hx({name:Mn,text:Mn,disabled:Ha,primary:Bo,icon:S.none(),borderless:!1},Xr,r))},c=function(Mn,Xr,Ha,Bo){return _a(C3({name:Mn,icon:S.some(Mn),tooltip:S.some(Xr),disabled:Bo,primary:!1,borderless:!1},Ha,r))},v=function(Mn,Xr){Mn.map(function(Ha){var Bo=Ha.get(Xr);Bo.hasConfigured(wr)&&wr.disable(Bo)})},m=function(Mn,Xr){Mn.map(function(Ha){var Bo=Ha.get(Xr);Bo.hasConfigured(wr)&&wr.enable(Bo)})},p={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},w=Le,x=function(Mn,Xr,Ha){Sr(Mn,Xr,Ha)},k=function(Mn){return Lr(Mn,Hu.disable())},O=function(Mn){return Lr(Mn,Hu.enable())},_=function(Mn,Xr){k(Mn),x(Mn,cu.transform(),{transform:Xr}),O(Mn)},F=function(Mn,Xr){k(Mn),x(Mn,cu.tempTransform(),{transform:Xr}),O(Mn)},Y=function(Mn){return function(){Yx.getOpt(Mn).each(function(Xr){Mr.set(Xr,[Xx])})}},ae=function(Mn,Xr){k(Mn),x(Mn,cu.transformApply(),{transform:Xr,swap:Y(Mn)}),O(Mn)},ne=function(){return o("Back",function(Mn){return x(Mn,cu.back(),{swap:Y(Mn)})},!1,!1)},pe=function(){return _a({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Lt([wr.config({})])})},ie=function(){return o("Apply",function(Mn){return x(Mn,cu.apply(),{swap:Y(Mn)})},!0,!0)},Ae=function(){return function(Mn){var Xr=t.getRect();return ka(Mn,Xr.x,Xr.y,Xr.w,Xr.h)}},ze=[ne(),pe(),o("Apply",function(Mn){var Xr=Ae();ae(Mn,Xr),t.hideCrop()},!1,!0)],je=su.sketch({dom:p,components:ze.map(function(Mn){return Mn.asSpec()}),containerBehaviours:Lt([qr("image-tools-crop-buttons-events",[_t(Hu.disable(),function(Mn,Xr){v(ze,Mn)}),_t(Hu.enable(),function(Mn,Xr){m(ze,Mn)})])])}),ht=_a(UD({name:"size",label:S.none(),constrain:!0,disabled:!1},r)),Bt=function(Mn,Xr){return function(Ha){return Iy(Ha,Mn,Xr)}},ft=[ne(),pe(),ht,pe(),o("Apply",function(Mn){ht.getOpt(Mn).each(function(Xr){var Ha=wn.getValue(Xr),Bo=parseInt(Ha.width,10),cc=parseInt(Ha.height,10),lc=Bt(Bo,cc);ae(Mn,lc)})},!1,!0)],cn=su.sketch({dom:p,components:ft.map(function(Mn){return Mn.asSpec()}),containerBehaviours:Lt([qr("image-tools-resize-buttons-events",[_t(Hu.disable(),function(Mn,Xr){v(ft,Mn)}),_t(Hu.enable(),function(Mn,Xr){m(ft,Mn)})])])}),Er=function(Mn,Xr){return function(Ha){return Mn(Ha,Xr)}},On=Er(_D,"h"),wt=Er(_D,"v"),Ft=Er(v3,-90),Vn=Er(v3,90),Tr=function(Mn,Xr){F(Mn,Xr)},Gt=[ne(),pe(),c("flip-horizontally","Flip horizontally",function(Mn){Tr(Mn,On)},!1),c("flip-vertically","Flip vertically",function(Mn){Tr(Mn,wt)},!1),c("rotate-left","Rotate counterclockwise",function(Mn){Tr(Mn,Ft)},!1),c("rotate-right","Rotate clockwise",function(Mn){Tr(Mn,Vn)},!1),pe(),ie()],tr=su.sketch({dom:p,components:Gt.map(function(Mn){return Mn.asSpec()}),containerBehaviours:Lt([qr("image-tools-fliprotate-buttons-events",[_t(Hu.disable(),function(Mn,Xr){v(Gt,Mn)}),_t(Hu.enable(),function(Mn,Xr){m(Gt,Mn)})])])}),pr=function(Mn,Xr,Ha,Bo,cc){var lc=Uf.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(Mn)}}),Xl=Uf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),Jx=Uf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return _a(Uf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:Ha,maxX:cc,getInitialValue:ve({x:Bo})},components:[lc,Xl,Jx],sliderBehaviours:Lt([Br.config({})]),onChoose:Xr}))},da=function(Mn,Xr,Ha,Bo,cc){var lc=function(Xl,Jx,mI){var gI=Er(Xr,mI.x/100);_(Xl,gI)};return pr(Mn,lc,Ha,Bo,cc)},Ua=function(Mn,Xr,Ha,Bo,cc){return[ne(),da(Mn,Xr,Ha,Bo,cc),ie()]},ko=function(Mn,Xr,Ha,Bo,cc){var lc=Ua(Mn,Xr,Ha,Bo,cc);return su.sketch({dom:p,components:lc.map(function(Xl){return Xl.asSpec()}),containerBehaviours:Lt([qr("image-tools-filter-panel-buttons-events",[_t(Hu.disable(),function(Xl,Jx){v(lc,Xl)}),_t(Hu.enable(),function(Xl,Jx){m(lc,Xl)})])])})},Kl=[ne(),pe(),ie()],vl=su.sketch({dom:p,components:Kl.map(function(Mn){return Mn.asSpec()})}),iI=ko("Brightness",X5,-100,0,100),uI=ko("Contrast",Y5,-100,0,100),dB=ko("Gamma",K5,-100,0,100),sI=function(Mn,Xr,Ha){return function(Bo){return DD(Bo,Mn,Xr,Ha)}},iA=function(Mn){var Xr=function(Ha,Bo,cc){var lc=mB.getOpt(Ha),Xl=gB.getOpt(Ha),Jx=uA.getOpt(Ha);lc.each(function(mI){Xl.each(function(gI){Jx.each(function(V9){var U9=wn.getValue(mI).x/100,W9=wn.getValue(V9).x/100,j9=wn.getValue(gI).x/100,q9=sI(U9,W9,j9);_(Ha,q9)})})})};return pr(Mn,Xr,0,100,200)},mB=iA("R"),uA=iA("G"),gB=iA("B"),Gf=[ne(),mB,uA,gB,ie()],sA=su.sketch({dom:p,components:Gf.map(function(Mn){return Mn.asSpec()})}),sc=function(Mn,Xr,Ha){return function(Bo){var cc=function(){Yx.getOpt(Bo).each(function(lc){Mr.set(lc,[Mn]),Ha(lc)})};x(Bo,cu.swap(),{transform:Xr,swap:cc})}},cI=function(Mn){t.showCrop()},lI=function(Mn){ht.getOpt(Mn).each(function(Xr){var Ha=t.getMeasurements(),Bo=Ha.width,cc=Ha.height;wn.setValue(Xr,{width:Bo,height:cc})})},fI=S.some(G5),ku=S.some(q5),$1=[c("crop","Crop",sc(je,S.none(),cI),!1),c("resize","Resize",sc(cn,S.none(),lI),!1),c("orientation","Orientation",sc(tr,S.none(),w),!1),c("brightness","Brightness",sc(iI,S.none(),w),!1),c("sharpen","Sharpen",sc(vl,fI,w),!1),c("contrast","Contrast",sc(uI,S.none(),w),!1),c("color-levels","Color levels",sc(sA,S.none(),w),!1),c("gamma","Gamma",sc(dB,S.none(),w),!1),c("invert","Invert",sc(vl,ku,w),!1)],Xx=su.sketch({dom:p,components:$1.map(function(Mn){return Mn.asSpec()})}),vI=su.sketch({dom:{tag:"div"},components:[Xx],containerBehaviours:Lt([Mr.config({})])}),Yx=_a(vI),dI=function(Mn){return Yx.getOpt(Mn).map(function(Xr){var Ha=Xr.components()[0];return Ha.components()[Ha.components().length-1]})};return{memContainer:Yx,getApplyButton:dI}},A1=tinymce.util.Tools.resolve("tinymce.geom.Rect"),$s=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),yM=tinymce.util.Tools.resolve("tinymce.util.Observable"),O1=tinymce.util.Tools.resolve("tinymce.util.VK"),wM=function(t){var r=Math.max,o=t.documentElement,c=t.body,v=r(o.scrollWidth,c.scrollWidth),m=r(o.clientWidth,c.clientWidth),p=r(o.offsetWidth,c.offsetWidth),w=r(o.scrollHeight,c.scrollHeight),x=r(o.clientHeight,c.clientHeight),k=r(o.offsetHeight,c.offsetHeight);return{width:v<p?m:v,height:w<k?x:w}},wx=function(t){var r,o;if(t.changedTouches)for(r="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<r.length;o++)t[r[o]]=t.changedTouches[0][r[o]]};function CM(t,r){var o,c=r.document||document,v,m,p,w=c.getElementById(r.handle||t),x=function(F){var Y=wM(c),ae;wx(F),F.preventDefault(),v=F.button;var ne=w;m=F.screenX,p=F.screenY,window.getComputedStyle?ae=window.getComputedStyle(ne,null).getPropertyValue("cursor"):ae=ne.runtimeStyle.cursor,o=$s("<div></div>").css({position:"absolute",top:0,left:0,width:Y.width,height:Y.height,zIndex:2147483647,opacity:1e-4,cursor:ae}).appendTo(c.body),$s(c).on("mousemove touchmove",k).on("mouseup touchend",O),r.start(F)},k=function(F){if(wx(F),F.button!==v)return O(F);F.deltaX=F.screenX-m,F.deltaY=F.screenY-p,F.preventDefault(),r.drag(F)},O=function(F){wx(F),$s(c).off("mousemove touchmove",k).off("mouseup touchend",O),o.remove(),r.stop&&r.stop(F)},_=function(){$s(w).off()};return $s(w).on("mousedown touchstart",x),{destroy:_}}var xM=0,SM=function(t,r,o,c,v){var m,p="tox-",w=p+"crid-"+xM++,x=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],k=["top","right","bottom","left"],O=function(ft,cn){return{x:cn.x+ft.x,y:cn.y+ft.y,w:cn.w,h:cn.h}},_=function(ft,cn){return{x:cn.x-ft.x,y:cn.y-ft.y,w:cn.w,h:cn.h}},F=function(){return _(o,t)},Y=function(ft,cn,Er,On){var wt,Ft,Vn,Tr,Gt;wt=cn.x,Ft=cn.y,Vn=cn.w,Tr=cn.h,wt+=Er*ft.deltaX,Ft+=On*ft.deltaY,Vn+=Er*ft.deltaW,Tr+=On*ft.deltaH,Vn<20&&(Vn=20),Tr<20&&(Tr=20),Gt=t=A1.clamp({x:wt,y:Ft,w:Vn,h:Tr},o,ft.name==="move"),Gt=_(o,Gt),Bt.fire("updateRect",{rect:Gt}),ze(Gt)},ae=function(){var ft=function(cn){var Er;return CM(w,{document:c.ownerDocument,handle:w+"-"+cn.name,start:function(){Er=t},drag:function(On){Y(cn,Er,On.deltaX,On.deltaY)}})};$s('<div id="'+w+'" class="'+p+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(c),eu.each(k,function(cn){$s("#"+w,c).append('<div id="'+w+"-"+cn+'"class="'+p+'croprect-block" style="display: none" data-mce-bogus="all">')}),eu.each(x,function(cn){$s("#"+w,c).append('<div id="'+w+"-"+cn.name+'" class="'+p+"croprect-handle "+p+"croprect-handle-"+cn.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+cn.label+'" aria-grabbed="false" title="'+cn.label+'">')}),m=eu.map(x,ft),pe(t),$s(c).on("focusin focusout",function(cn){$s(cn.target).attr("aria-grabbed",cn.type==="focus"?"true":"false")}),$s(c).on("keydown",function(cn){var Er;eu.each(x,function(wt){if(cn.target.id===w+"-"+wt.name)return Er=wt,!1});var On=function(wt,Ft,Vn,Tr,Gt){wt.stopPropagation(),wt.preventDefault(),Y(Er,Vn,Tr,Gt)};switch(cn.keyCode){case O1.LEFT:On(cn,Er,t,-10,0);break;case O1.RIGHT:On(cn,Er,t,10,0);break;case O1.UP:On(cn,Er,t,0,-10);break;case O1.DOWN:On(cn,Er,t,0,10);break;case O1.ENTER:case O1.SPACEBAR:cn.preventDefault(),v();break}})},ne=function(ft){var cn=eu.map(x,function(Er){return"#"+w+"-"+Er.name}).concat(eu.map(k,function(Er){return"#"+w+"-"+Er})).join(",");ft?$s(cn,c).show():$s(cn,c).hide()},pe=function(ft){var cn=function(Er,On){On.h<0&&(On.h=0),On.w<0&&(On.w=0),$s("#"+w+"-"+Er,c).css({left:On.x,top:On.y,width:On.w,height:On.h})};eu.each(x,function(Er){$s("#"+w+"-"+Er.name,c).css({left:ft.w*Er.xMul+ft.x,top:ft.h*Er.yMul+ft.y})}),cn("top",{x:r.x,y:r.y,w:r.w,h:ft.y-r.y}),cn("right",{x:ft.x+ft.w,y:ft.y,w:r.w-ft.x-ft.w+r.x,h:ft.h}),cn("bottom",{x:r.x,y:ft.y+ft.h,w:r.w,h:r.h-ft.y-ft.h+r.y}),cn("left",{x:r.x,y:ft.y,w:ft.x-r.x,h:ft.h}),cn("move",ft)},ie=function(ft){t=ft,pe(t)},Ae=function(ft){r=ft,pe(t)},ze=function(ft){ie(O(o,ft))},je=function(ft){o=ft,pe(t)},ht=function(){eu.each(m,function(ft){ft.destroy()}),m=[]};ae();var Bt=eu.extend({toggleVisibility:ne,setClampRect:je,setRect:ie,getInnerRect:F,setInnerRect:ze,setViewPortRect:Ae,destroy:ht},yM);return Bt},TM={create:SM},kM=function(t){return new n1(function(r){var o=function(){t.removeEventListener("load",o),r(t)};t.complete?r(t):t.addEventListener("load",o)})},jD=function(t){var r=_a({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=Zt(1),c=Zt(S.none()),v=Zt({x:0,y:0,w:1,h:1}),m=Zt({x:0,y:0,w:1,h:1}),p=function(pe,ie){ae.getOpt(pe).each(function(Ae){var ze=o.get(),je=pu(Ae.element),ht=Mi(Ae.element),Bt=ie.dom.naturalWidth*ze,ft=ie.dom.naturalHeight*ze,cn=Math.max(0,je/2-Bt/2),Er=Math.max(0,ht/2-ft/2),On={left:cn.toString()+"px",top:Er.toString()+"px",width:Bt.toString()+"px",height:ft.toString()+"px",position:"absolute"};hv(ie,On),r.getOpt(Ae).each(function(wt){hv(wt.element,On)}),c.get().each(function(wt){var Ft=v.get();wt.setRect({x:Ft.x*ze+cn,y:Ft.y*ze+Er,w:Ft.w*ze,h:Ft.h*ze}),wt.setClampRect({x:cn,y:Er,w:Bt,h:ft}),wt.setViewPortRect({x:0,y:0,w:je,h:ht})})})},w=function(pe,ie){ae.getOpt(pe).each(function(Ae){var ze=pu(Ae.element),je=Mi(Ae.element),ht=ie.dom.naturalWidth,Bt=ie.dom.naturalHeight,ft=Math.min(ze/ht,je/Bt);ft>=1?o.set(1):o.set(ft)})},x=function(pe,ie){var Ae=_n.fromTag("img");return ga(Ae,"src",ie),kM(Ae.dom).then(function(){return ae.getOpt(pe).map(function(ze){var je=gb({element:Ae});Mr.replaceAt(ze,1,S.some(je));var ht=m.get(),Bt={x:0,y:0,w:Ae.dom.naturalWidth,h:Ae.dom.naturalHeight};m.set(Bt);var ft=A1.inflate(Bt,-20,-20);return v.set(ft),(ht.w!==Bt.w||ht.h!==Bt.h)&&w(ze,Ae),p(ze,Ae),Ae})})},k=function(pe,ie){var Ae=o.get(),ze=ie>0?Math.min(2,Ae+.1):Math.max(.1,Ae-.1);o.set(ze),ae.getOpt(pe).each(function(je){var ht=je.components()[1].element;p(je,ht)})},O=function(){c.get().each(function(pe){pe.toggleVisibility(!0)})},_=function(){c.get().each(function(pe){pe.toggleVisibility(!1)})},F=function(){return v.get()},Y=su.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[r.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:Lt([qr("image-panel-crop-events",[so(function(pe){ae.getOpt(pe).each(function(ie){var Ae=ie.element.dom,ze=TM.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},Ae,Le);ze.toggleVisibility(!1),ze.on("updateRect",function(je){var ht=je.rect,Bt=o.get(),ft={x:Math.round(ht.x/Bt),y:Math.round(ht.y/Bt),w:Math.round(ht.w/Bt),h:Math.round(ht.h/Bt)};v.set(ft)}),c.set(S.some(ze))})})])])}],containerBehaviours:Lt([Mr.config({}),qr("image-panel-events",[so(function(pe){x(pe,t)})])])}),ae=_a(Y),ne=function(){var pe=m.get();return{width:pe.w,height:pe.h}};return{memContainer:ae,updateSrc:x,zoom:k,showCrop:O,hideCrop:_,getRect:F,getMeasurements:ne}},Cx=function(t,r,o,c,v){return C3({name:t,icon:S.some(r),disabled:o,tooltip:S.some(t),primary:!1,borderless:!1},c,v)},qD=function(t,r){r?wr.enable(t):wr.disable(t)},EM=function(t){var r=function(m,p,w){o.getOpt(m).each(function(x){qD(x,p)}),c.getOpt(m).each(function(x){qD(x,w)})},o=_a(Cx("Undo","undo",!0,function(m){Sr(m,cu.undo(),{direction:1})},t)),c=_a(Cx("Redo","redo",!0,function(m){Sr(m,cu.redo(),{direction:1})},t)),v=su.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),c.asSpec(),Cx("Zoom in","zoom-in",!1,function(m){Sr(m,cu.zoom(),{direction:1})},t),Cx("Zoom out","zoom-out",!1,function(m){Sr(m,cu.zoom(),{direction:-1})},t)]});return{container:v,updateButtonUndoStates:r}};function GD(){var t=[],r=-1,o=function(w){var x=t.splice(++r);return t.push(w),{state:w,removed:x}},c=function(){if(m())return t[--r]},v=function(){if(p())return t[++r]},m=function(){return r>0},p=function(){return r!==-1&&r<t.length-1};return{data:t,add:o,undo:c,redo:v,canUndo:m,canRedo:p}}var KD=function(t){var r=Zt(t),o=Zt(S.none()),c=GD();c.add(t);var v=function(){return r.get()},m=function(Ae){r.set(Ae)},p=function(){return o.get().fold(function(){return r.get()},function(Ae){return Ae})},w=function(Ae){var ze=x(Ae);return _(),o.set(S.some(ze)),ze.url},x=function(Ae){return{blob:Ae,url:URL.createObjectURL(Ae)}},k=function(Ae){URL.revokeObjectURL(Ae.url)},O=function(Ae){eu.each(Ae,k)},_=function(){o.get().each(k),o.set(S.none())},F=function(Ae){var ze=x(Ae);m(ze);var je=c.add(ze).removed;return O(je),ze.url},Y=function(Ae){var ze=x(Ae);return o.set(S.some(ze)),ze.url},ae=function(Ae){return o.get().fold(Le,function(ze){F(ze.blob),Ae()})},ne=function(){var Ae=c.undo();return m(Ae),Ae.url},pe=function(){var Ae=c.redo();return m(Ae),Ae.url},ie=function(){var Ae=c.canUndo(),ze=c.canRedo();return{undoEnabled:Ae,redoEnabled:ze}};return{getBlobState:v,setBlobState:m,addBlobState:F,getTempState:p,updateTempState:w,addTempState:Y,applyTempState:ae,destroyTempState:_,undo:ne,redo:pe,getHistoryStates:ie}},AM=function(t,r){var o=KD(t.currentState),c=function(wt,Ft){var Vn=Ft.event.direction;ft.zoom(wt,Vn)},v=function(wt){var Ft=o.getHistoryStates();cn.updateButtonUndoStates(wt,Ft.undoEnabled,Ft.redoEnabled),Sr(wt,Hu.formActionEvent,{name:Hu.saveState(),value:Ft.undoEnabled})},m=function(wt){cn.updateButtonUndoStates(wt,!1,!1)},p=function(wt,Ft){var Vn=o.undo();_(wt,Vn).then(function(Tr){O(wt),v(wt)})},w=function(wt,Ft){var Vn=o.redo();_(wt,Vn).then(function(Tr){O(wt),v(wt)})},x=function(wt){return wt.toBlob()},k=function(wt){Sr(wt,Hu.formActionEvent,{name:Hu.disable(),value:{}})},O=function(wt){Er.getApplyButton(wt).each(function(Ft){wr.enable(Ft)}),Sr(wt,Hu.formActionEvent,{name:Hu.enable(),value:{}})},_=function(wt,Ft){return k(wt),ft.updateSrc(wt,Ft)},F=function(wt,Ft,Vn,Tr,Gt){return k(wt),u3(Ft).then(Vn).then(x).then(Tr).then(function(tr){return _(wt,tr).then(function(pr){return v(wt),Gt(),O(wt),pr})}).catch(function(tr){return console.log(tr),O(wt),tr})},Y=function(wt,Ft,Vn){var Tr=o.getBlobState().blob,Gt=function(tr){return o.updateTempState(tr)};F(wt,Tr,Ft,Gt,Vn)},ae=function(wt,Ft){var Vn=o.getTempState().blob,Tr=function(Gt){return o.addTempState(Gt)};F(wt,Vn,Ft,Tr,Le)},ne=function(wt,Ft,Vn){var Tr=o.getBlobState().blob,Gt=function(tr){var pr=o.addBlobState(tr);return ie(wt),pr};F(wt,Tr,Ft,Gt,Vn)},pe=function(wt,Ft){var Vn=function(){ie(wt);var Tr=Ft.event.swap;Tr()};o.applyTempState(Vn)},ie=function(wt){var Ft=o.getBlobState().url;return o.destroyTempState(),v(wt),Ft},Ae=function(wt){var Ft=ie(wt);_(wt,Ft).then(function(Vn){O(wt)})},ze=function(wt,Ft){Ae(wt);var Vn=Ft.event.swap;Vn(),ft.hideCrop()},je=function(wt,Ft){return Y(wt,Ft.event.transform,Le)},ht=function(wt,Ft){return ae(wt,Ft.event.transform)},Bt=function(wt,Ft){return ne(wt,Ft.event.transform,Ft.event.swap)},ft=jD(t.currentState.url),cn=EM(r),Er=bM(ft,r),On=function(wt,Ft){m(wt);var Vn=Ft.event.transform,Tr=Ft.event.swap;Vn.fold(function(){Tr()},function(Gt){Y(wt,Gt,Tr)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[Er.memContainer.asSpec(),ft.memContainer.asSpec(),cn.container],behaviours:Lt([wn.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),qr("image-tools-events",[_t(cu.undo(),p),_t(cu.redo(),w),_t(cu.zoom(),c),_t(cu.back(),ze),_t(cu.apply(),pe),_t(cu.transform(),je),_t(cu.tempTransform(),ht),_t(cu.transformApply(),Bt),_t(cu.swap(),On)]),Vl.self()])}},OM=function(t,r){var o={dom:{tag:"label",innerHtml:r.providers.translate(t.label),classes:["tox-label"]}},c=we(t.items,r.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o].concat(c),behaviours:Lt([Vl.self(),Mr.config({}),Dm.domHtml(S.none()),br.config({mode:"acyclic"})])}},fs=function(t){return!ua(t,"items")},XD="data-value",xx=function(t,r,o,c){return we(o,function(v){return fs(v)?{type:"togglemenuitem",text:v.text,value:v.value,active:v.value===c,onAction:function(){wn.setValue(t,v.value),Sr(t,Fs,{name:r}),Br.focus(t)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:function(){return xx(t,r,v.items,c)}}})},O3=function(t,r){return Xt(t,function(o){return fs(o)?_2(o.value===r,o):O3(o.items,r)})},YD=function(t,r){var o=r.shared.providers,c=pt(t.items).filter(fs),v=t.label.map(function(w){return Cm(w,o)}),m=Sa.parts.field({dom:{},factory:{sketch:function(w){return p3({uid:w.uid,text:c.map(function(x){return x.text}),icon:S.none(),tooltip:t.label,role:S.none(),fetch:function(x,k){var O=xx(x,t.name,t.items,wn.getValue(x));k(E1(O,Ll.CLOSE_ON_EXECUTE,r,!1))},onSetup:ve(Le),getApi:ve({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Do.config({}),wn.config({store:{mode:"manual",initialValue:c.map(function(x){return x.value}).getOr(""),getValue:function(x){return Ci(x.element,XD)},setValue:function(x,k){O3(t.items,k).each(function(O){ga(x.element,XD,O.value),Sr(x,k1,{text:O.text})})}}})]},"tox-listbox",r.shared)}}}),p={dom:{tag:"div",classes:["tox-listboxfield"]},components:[m]};return Sa.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:pn([v.toArray(),[p]]),fieldBehaviours:Lt([wr.config({disabled:ve(t.disabled),onDisabled:function(w){Sa.getField(w).each(wr.disable)},onEnabled:function(w){Sa.getField(w).each(wr.enable)}})])})},Sx=function(t,r){return{dom:{tag:"div",classes:t.classes},components:we(t.items,r.shared.interpreter)}},DM=function(t,r){var o=we(t.options,function(v){return{dom:{tag:"option",value:v.value,innerHtml:v.text}}}),c=t.data.map(function(v){return $("initialValue",v)}).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:o,behaviours:Io(t.selectBehaviours,[Br.config({}),wn.config({store:te({mode:"manual",getValue:function(v){return df(v.element)},setValue:function(v,m){var p=he(t.options,function(w){return w.value===m});p.isSome()&&qs(v.element,m)}},c)})])}},Tx=is({name:"HtmlSelect",configFields:[Ee("options"),ei("selectBehaviours",[Br,wn]),$e("selectClasses",[]),$e("selectAttributes",{}),xr("data")],factory:DM}),_M=function(t,r){var o=we(t.items,function(w){return{text:r.translate(w.text),value:w.value}}),c=t.label.map(function(w){return Cm(w,r)}),v=Sa.parts.field({dom:{},selectAttributes:{size:t.size},options:o,factory:Tx,selectBehaviours:Lt([wr.config({disabled:function(){return t.disabled||r.isDisabled()}}),Do.config({}),qr("selectbox-change",[_t(jm(),function(w,x){Sr(w,Fs,{name:t.name})})])])}),m=t.size>1?S.none():S.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:ss("chevron-down",r.icons)}}),p={dom:{tag:"div",classes:["tox-selectfield"]},components:pn([[v],m.toArray()])};return Sa.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:pn([c.toArray(),[p]]),fieldBehaviours:Lt([wr.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(w){Sa.getField(w).each(wr.disable)},onEnabled:function(w){Sa.getField(w).each(wr.enable)}}),ti()])})},Hy=function(t,r){var o=function(w){return{dom:{tag:"th",innerHtml:r.translate(w)}}},c=function(w){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:we(w,o)}]}},v=function(w){return{dom:{tag:"td",innerHtml:r.translate(w)}}},m=function(w){return{dom:{tag:"tr"},components:we(w,v)}},p=function(w){return{dom:{tag:"tbody"},components:we(w,m)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[c(t.header),p(t.cells)],behaviours:Lt([Do.config({}),Br.config({})])}},D3=function(t,r){var o=t.label.map(function(F){return Cm(F,r)}),c=[wr.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti(),br.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:function(F){return Lr(F,Oy),S.some(!0)}}),qr("textfield-change",[_t(Dd(),function(F,Y){Sr(F,Fs,{name:t.name})}),_t(xl(),function(F,Y){Sr(F,Fs,{name:t.name})})]),Do.config({})],v=t.validation.map(function(F){return al.config({getRoot:function(Y){return wi(Y.element)},invalidClass:"tox-invalid",validator:{validate:function(Y){var ae=wn.getValue(Y),ne=F.validator(ae);return Qi.pure(ne===!0?lt.value(ae):lt.error(ne))},validateOnLoad:F.validateOnLoad}})}).toArray(),m=t.placeholder.fold(ve({}),function(F){return{placeholder:r.translate(F)}}),p=t.inputMode.fold(ve({}),function(F){return{inputmode:F}}),w=te(te({},m),p),x=Sa.parts.field({tag:t.multiline===!0?"textarea":"input",inputAttributes:w,inputClasses:[t.classname],inputBehaviours:Lt(pn([c,v])),selectOnFocus:!1,factory:Sm}),k=t.flex?["tox-form__group--stretched"]:[],O=k.concat(t.maximized?["tox-form-group--maximize"]:[]),_=[wr.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(F){Sa.getField(F).each(wr.disable)},onEnabled:function(F){Sa.getField(F).each(wr.enable)}}),ti()];return Ey(o,x,O,_)},Pc=function(t,r){return D3({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:S.none(),maximized:t.maximized},r)},BM=function(t,r){return D3({name:t.name,multiline:!0,label:t.label,inputMode:S.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:S.none(),maximized:t.maximized},r)},JD=function(t,r){var o=t.stream.streams,c=o.setup(t,r);return ma([_t(t.event,c),au(function(){return r.cancel()})].concat(t.cancelEvent.map(function(v){return[_t(v,function(){return r.cancel()})]}).getOr([])))},RM=Object.freeze({__proto__:null,events:JD}),ZD=function(t){var r=Zt(null),o=function(){return{timer:r.get()!==null?"set":"unset"}},c=function(m){r.set(m)},v=function(){var m=r.get();m!==null&&m.cancel()};return Es({readState:o,setTimer:c,cancel:v})},PM=function(t){return t.stream.streams.state(t)},NM=Object.freeze({__proto__:null,throttle:ZD,init:PM}),MM=function(t,r){var o=t.stream,c=gA(t.onStream,o.delay);return r.setTimer(c),function(v,m){c.throttle(v,m),o.stopEvent&&m.stop()}},FM=[sr("stream",yi("mode",{throttle:[Ee("delay"),$e("stopEvent",!0),za("streams",{setup:MM,state:ZD})]})),$e("event","input"),xr("cancelEvent"),Sv("onStream")],QD=$o({fields:FM,name:"streaming",active:RM,state:NM}),Vy=function(t,r,o){var c=wn.getValue(o);wn.setValue(r,c),t_(r)},e_=function(t,r){var o=t.element,c=df(o),v=o.dom;Ci(o,"type")!=="number"&&r(v,c)},t_=function(t){e_(t,function(r,o){return r.setSelectionRange(o.length,o.length)})},$M=function(t,r){e_(t,function(o,c){return o.setSelectionRange(r,c.length)})},IM=function(t,r,o){if(t.selectsOver){var c=wn.getValue(r),v=t.getDisplayText(c),m=wn.getValue(o),p=t.getDisplayText(m);return p.indexOf(v)===0?S.some(function(){Vy(t,r,o),$M(r,v.length)}):S.none()}else return S.none()},_3=ve("alloy.typeahead.itemexecute"),zM=function(t,r,o,c){var v=function(x,k,O){t.previewing.set(!1);var _=zo.getCoupled(x,"sandbox");if(jr.isOpen(_))va.getCurrent(_).each(function(Y){Bn.getHighlighted(Y).fold(function(){O(Y)},function(){V1(_,Y.element,"keydown",k)})});else{var F=function(Y){va.getCurrent(Y).each(O)};EE(t,p(x),x,_,c,F,ol.HighlightFirst).get(Le)}},m=nO(t),p=function(x){return function(k){return k.map(function(O){var _=ao(O.menus),F=St(_,function(ae){return de(ae.items,function(ne){return ne.type==="item"})}),Y=wn.getState(x);return Y.update(we(F,function(ae){return ae.data})),O})}},w=[Br.config({}),wn.config({onSetValue:t.onSetValue,store:te({mode:"dataset",getDataKey:function(x){return df(x.element)},getFallbackEntry:function(x){return{value:x,meta:{}}},setValue:function(x,k){qs(x.element,t.model.getDisplayText(k))}},t.initialData.map(function(x){return $("initialValue",x)}).getOr({}))}),QD.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(x,k){var O=zo.getCoupled(x,"sandbox"),_=Br.isFocused(x);if(_&&df(x.element).length>=t.minChars){var F=va.getCurrent(O).bind(function(ae){return Bn.getHighlighted(ae).map(wn.getValue)});t.previewing.set(!0);var Y=function(ae){va.getCurrent(O).each(function(ne){F.fold(function(){t.model.selectsOver&&Bn.highlightFirst(ne)},function(pe){Bn.highlightBy(ne,function(ie){var Ae=wn.getValue(ie);return Ae.value===pe.value}),Bn.getHighlighted(ne).orThunk(function(){return Bn.highlightFirst(ne),S.none()})})})};EE(t,p(x),x,O,c,Y,ol.HighlightFirst).get(Le)}},cancelEvent:of()}),br.config({mode:"special",onDown:function(x,k){return v(x,k,Bn.highlightFirst),S.some(!0)},onEscape:function(x){var k=zo.getCoupled(x,"sandbox");return jr.isOpen(k)?(jr.close(k),S.some(!0)):S.none()},onUp:function(x,k){return v(x,k,Bn.highlightLast),S.some(!0)},onEnter:function(x){var k=zo.getCoupled(x,"sandbox"),O=jr.isOpen(k);if(O&&!t.previewing.get())return va.getCurrent(k).bind(function(F){return Bn.getHighlighted(F)}).map(function(F){return Sr(x,_3(),{item:F}),!0});var _=wn.getValue(x);return Lr(x,of()),t.onExecute(k,x,_),O&&jr.close(k),S.some(!0)}}),Ke.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),zo.config({others:{sandbox:function(x){return DE(t,x,{onOpen:function(){return Ke.on(x)},onClose:function(){return Ke.off(x)}})}}}),qr("typeaheadevents",[Ss(function(x){var k=Le;h1(t,p(x),x,c,k,ol.HighlightFirst).get(Le)}),_t(_3(),function(x,k){var O=zo.getCoupled(x,"sandbox");Vy(t.model,x,k.event.item),Lr(x,of()),t.onItemExecute(x,O,k.event.item,wn.getValue(x)),jr.close(O),t_(x)})].concat(t.dismissOnBlur?[_t(af(),function(x){var k=zo.getCoupled(x,"sandbox");Ji(k.element).isNone()&&jr.close(k)})]:[]))];return{uid:t.uid,dom:rO(Gr(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:te(te({},m),Io(t.typeaheadBehaviours,w)),eventOrder:t.eventOrder}},LM=ve([xr("lazySink"),Ee("fetch"),$e("minChars",5),$e("responseTime",1e3),ea("onOpen"),$e("getHotspot",S.some),$e("getAnchorOverrides",ve({})),$e("layouts",S.none()),$e("eventOrder",{}),qu("model",{},[$e("getDisplayText",function(t){return t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value}),$e("selectsOver",!0),$e("populateFromBrowse",!0)]),ea("onSetValue"),Ia("onExecute"),ea("onItemExecute"),$e("inputClasses",[]),$e("inputAttributes",{}),$e("inputStyles",{}),$e("matchWidth",!0),$e("useMinWidth",!1),$e("dismissOnBlur",!0),Xs(["openClass"]),xr("initialData"),ei("typeaheadBehaviours",[Br,wn,QD,br,Ke,zo]),Co("previewing",function(){return Zt(!0)})].concat(xm()).concat(_E())),HM=ve([nc({schema:[Dl()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(r,o){t.previewing.get()?r.getSystem().getByUid(t.uid).each(function(c){IM(t.model,c,o).fold(function(){return Bn.dehighlight(r,o)},function(v){return v()})}):r.getSystem().getByUid(t.uid).each(function(c){t.model.populateFromBrowse&&Vy(t.model,c,o)}),t.previewing.set(!1)},onExecute:function(r,o){return r.getSystem().getByUid(t.uid).toOptional().map(function(c){return Sr(c,_3(),{item:o}),!0})},onHover:function(r,o){t.previewing.set(!1),r.getSystem().getByUid(t.uid).each(function(c){t.model.populateFromBrowse&&Vy(t.model,c,o)})}}}})]),VM=Vi({name:"Typeahead",configFields:LM(),partFields:HM(),factory:zM}),cl=function(t){var r=function(){return cl(t.toCached())},o=function(x){return cl(t.bind(function(k){return k.fold(function(O){return Qi.pure(lt.error(O))},function(O){return x(O)})}))},c=function(x){return cl(t.map(function(k){return k.bind(x)}))},v=function(x){return cl(t.map(function(k){return k.map(x)}))},m=function(x){return cl(t.map(function(k){return k.mapError(x)}))},p=function(x,k){return t.map(function(O){return O.fold(x,k)})},w=function(x,k){return cl(Qi.nu(function(O){var _=!1,F=setTimeout(function(){_=!0,O(lt.error(k()))},x);t.get(function(Y){_||(clearTimeout(F),O(Y))})}))};return te(te({},t),{toCached:r,bindFuture:o,bindResult:c,mapResult:v,mapError:m,foldResult:p,withTimeout:w})},n_=function(t){return cl(Qi.nu(t))},r_=function(t){return cl(Qi.pure(lt.value(t)))},UM=function(t){return cl(Qi.pure(lt.error(t)))},WM=function(t){return cl(Qi.pure(t))},a_=function(t){return cl(t.map(lt.value))},jM=function(t){return n_(function(r){t.then(function(o){r(lt.value(o))},function(o){r(lt.error(o))})})},qM={nu:n_,wrap:cl,pure:r_,value:r_,error:UM,fromResult:WM,fromFuture:a_,fromPromise:jM},GM={type:"separator"},o_=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:Le}},B3=function(t,r){return{type:"menuitem",value:r,text:t,meta:{attach:void 0},onAction:Le}},KM=function(t){return we(t,o_)},XM=function(t,r){return de(r,function(o){return o.type===t})},i_=function(t,r){return KM(XM(t,r))},YM=function(t){return i_("header",t.targets)},JM=function(t){return i_("anchor",t.targets)},kx=function(t){return S.from(t.anchorTop).map(function(r){return B3("<top>",r)}).toArray()},ZM=function(t){return S.from(t.anchorBottom).map(function(r){return B3("<bottom>",r)}).toArray()},QM=function(t){return we(t,function(r){return B3(r,r)})},eF=function(t){return ee(t,function(r,o){var c=r.length===0||o.length===0;return c?r.concat(o):r.concat(GM,o)},[])},R3=function(t,r){var o=t.toLowerCase();return de(r,function(c){var v=c.meta!==void 0&&c.meta.text!==void 0?c.meta.text:c.text;return Ya(v.toLowerCase(),o)||Ya(c.value.toLowerCase(),o)})},tF=function(t,r,o){var c=wn.getValue(r),v=c.meta.text!==void 0?c.meta.text:c.value,m=o.getLinkInformation();return m.fold(function(){return[]},function(p){var w=R3(v,QM(o.getHistory(t)));return t==="file"?eF([w,R3(v,YM(p)),R3(v,pn([kx(p),JM(p),ZM(p)]))]):w})},u_=Qn("aria-invalid"),nF=function(t,r,o){var c,v=r.shared.providers,m=function(ie){var Ae=wn.getValue(ie);o.addToHistory(Ae.value,t.filetype)},p=Sa.parts.field({factory:VM,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":u_,type:"url"},minChars:0,responseTime:0,fetch:function(ie){var Ae=tF(t.filetype,ie,o),ze=E1(Ae,Ll.BUBBLE_TO_SANDBOX,r,!1);return Qi.pure(ze)},getHotspot:function(ie){return Y.getOpt(ie)},onSetValue:function(ie,Ae){ie.hasConfigured(al)&&al.run(ie).get(Le)},typeaheadBehaviours:Lt(pn([o.getValidationHandler().map(function(ie){return al.config({getRoot:function(Ae){return wi(Ae.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(Ae,ze){k.getOpt(Ae).each(function(je){ga(je.element,"title",v.translate(ze))})}},validator:{validate:function(Ae){var ze=wn.getValue(Ae);return qM.nu(function(je){ie({type:t.filetype,url:ze.value},function(ht){if(ht.status==="invalid"){var Bt=lt.error(ht.message);je(Bt)}else{var ft=lt.value(ht.message);je(ft)}})})},validateOnLoad:!1}})}).toArray(),[wr.config({disabled:function(){return t.disabled||v.isDisabled()}}),Do.config({}),qr("urlinput-events",pn([t.filetype==="file"?[_t(Dd(),function(ie){Sr(ie,Fs,{name:t.name})})]:[],[_t(jm(),function(ie){Sr(ie,Fs,{name:t.name}),m(ie)}),_t(xl(),function(ie){Sr(ie,Fs,{name:t.name}),m(ie)})]]))]])),eventOrder:(c={},c[Dd()]=["streaming","urlinput-events","invalidating"],c),model:{getDisplayText:function(ie){return ie.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:r.shared.getSink,parts:{menu:SC(!1,1,"normal")},onExecute:function(ie,Ae,ze){Sr(Ae,Oy,{})},onItemExecute:function(ie,Ae,ze,je){m(ie),Sr(ie,Fs,{name:t.name})}}),w=t.label.map(function(ie){return Cm(ie,v)}),x=function(ie,Ae,ze,je){return ze===void 0&&(ze=ie),je===void 0&&(je=ie),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ie],innerHtml:ss(ze,v.icons),attributes:te({title:v.translate(je),"aria-live":"polite"},Ae.fold(function(){return{}},function(ht){return{id:ht}}))}}},k=_a(x("invalid",S.some(u_),"warning")),O=_a({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[k.asSpec()]}),_=o.getUrlPicker(t.filetype),F=Qn("browser.url.event"),Y=_a({dom:{tag:"div",classes:["tox-control-wrap"]},components:[p,O.asSpec()],behaviours:Lt([wr.config({disabled:function(){return t.disabled||v.isDisabled()}})])}),ae=_a(hx({name:t.name,icon:S.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},function(ie){return Lr(ie,F)},v,[],["tox-browse-url"])),ne=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:pn([[Y.asSpec()],_.map(function(){return ae.asSpec()}).toArray()])}},pe=function(ie){va.getCurrent(ie).each(function(Ae){var ze=wn.getValue(Ae),je=te({fieldname:t.name},ze);_.each(function(ht){ht(je).get(function(Bt){wn.setValue(Ae,Bt),Sr(ie,Fs,{name:t.name})})})})};return Sa.sketch({dom:GC(),components:w.toArray().concat([ne()]),fieldBehaviours:Lt([wr.config({disabled:function(){return t.disabled||v.isDisabled()},onDisabled:function(ie){Sa.getField(ie).each(wr.disable),ae.getOpt(ie).each(wr.disable)},onEnabled:function(ie){Sa.getField(ie).each(wr.enable),ae.getOpt(ie).each(wr.enable)}}),ti(),qr("url-input-events",[_t(F,pe)])])})},s_=function(t,r){return su.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Su.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:ss(t.icon,r.icons),attributes:{title:r.translate(t.iconTooltip)}},action:function(o){Sr(o,Hf,{name:"alert-banner",value:t.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:r.translate(t.text)}}]})},rF=function(t,r){var o=wn.config({store:{mode:"manual",getValue:function(x){var k=x.element.dom;return k.checked},setValue:function(x,k){var O=x.element.dom;O.checked=k}}}),c=function(x){return x.element.dom.click(),S.some(!0)},v=Sa.parts.field({factory:{sketch:rt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Lt([Vl.self(),wr.config({disabled:function(){return t.disabled||r.isDisabled()}}),Do.config({}),Br.config({}),o,br.config({mode:"special",onEnter:c,onSpace:c,stopSpaceKeyup:!0}),qr("checkbox-events",[_t(jm(),function(x,k){Sr(x,Fs,{name:t.name})})])])}),m=Sa.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:r.translate(t.label)},behaviours:Lt([Dy.config({})])}),p=function(x){var k=x==="checked"?"selected":"unselected";return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+x],innerHtml:ss(k,r.icons)}}},w=_a({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[p("checked"),p("unchecked")]});return Sa.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[v,w.asSpec(),m],fieldBehaviours:Lt([wr.config({disabled:function(){return t.disabled||r.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(x){Sa.getField(x).each(wr.disable)},onEnabled:function(x){Sa.getField(x).each(wr.enable)}}),ti()])})},aF=function(t){return t.presets==="presentation"?su.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):su.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Lt([Do.config({}),Br.config({})])})},Ei=function(t){return function(r,o,c){return ur(o,"name").fold(function(){return t(o,c)},function(v){return r.field(v,t(o,c))})}},oF=function(t){return function(r,o,c){var v=Gr(o,{source:"dynamic"});return Ei(t)(r,v,c)}},iF={bar:Ei(function(t,r){return JP(t,r.shared)}),collection:Ei(function(t,r){return rN(t,r.shared.providers)}),alertbanner:Ei(function(t,r){return s_(t,r.shared.providers)}),input:Ei(function(t,r){return Pc(t,r.shared.providers)}),textarea:Ei(function(t,r){return BM(t,r.shared.providers)}),label:Ei(function(t,r){return OM(t,r.shared)}),iframe:oF(function(t,r){return O5(t,r.shared.providers)}),button:Ei(function(t,r){return uM(t,r.shared.providers)}),checkbox:Ei(function(t,r){return rF(t,r.shared.providers)}),colorinput:Ei(function(t,r){return bO(t,r.shared,r.colorinput)}),colorpicker:Ei(p5),dropzone:Ei(function(t,r){return Wf(t,r.shared.providers)}),grid:Ei(function(t,r){return dx(t,r.shared)}),listbox:Ei(function(t,r){return YD(t,r)}),selectbox:Ei(function(t,r){return _M(t,r.shared.providers)}),sizeinput:Ei(function(t,r){return UD(t,r.shared.providers)}),urlinput:Ei(function(t,r){return nF(t,r,r.urlinput)}),customeditor:Ei(y5),htmlpanel:Ei(aF),imagetools:Ei(function(t,r){return AM(t,r.shared.providers)}),table:Ei(function(t,r){return Hy(t,r.shared.providers)}),panel:Ei(function(t,r){return Sx(t,r)})},uF={field:function(t,r){return r}},c_=function(t,r,o){var c=Gr(o,{shared:{interpreter:function(v){return Ex(t,v,c)}}});return Ex(t,r,c)},Ex=function(t,r,o){return ur(iF,r.type).fold(function(){return console.error('Unknown factory type "'+r.type+'", defaulting to container: ',r),r},function(c){return c(t,r,o)})},sF=function(t,r){var o=uF;return Ex(o,t,r)},cF={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},lF=function(t,r,o){var c=Kd(-12,12,cF),v={maxHeightFunction:qd()},m=function(){return{anchor:"node",root:$h(t()),node:S.from(t()),bubble:c,layouts:{onRtl:function(){return[eh]},onLtr:function(){return[id]}},overrides:v}},p=function(){return{anchor:"hotspot",hotspot:r(),bubble:c,layouts:{onRtl:function(){return[fi]},onLtr:function(){return[Go]}},overrides:v}};return function(){return o()?m():p()}},fF=function(t,r,o){var c=function(){return{anchor:"node",root:$h(t()),node:S.from(t()),layouts:{onRtl:function(){return[ud]},onLtr:function(){return[ud]}}}},v=function(){return{anchor:"hotspot",hotspot:r(),layouts:{onRtl:function(){return[Ii]},onLtr:function(){return[Ii]}}}};return function(){return o()?c():v()}},vF=function(t,r){return function(){return{anchor:"selection",root:r(),getSelection:function(){var o=t.selection.getRng();return S.some(wg.range(_n.fromDom(o.startContainer),o.startOffset,_n.fromDom(o.endContainer),o.endOffset))}}}},dF=function(t){return function(r){return{anchor:"node",root:t(),node:r}}},l_=function(t,r,o){var c=RC(t),v=function(){return _n.fromDom(t.getBody())},m=function(){return _n.fromDom(t.getContentAreaContainer())},p=function(){return c||!o()};return{inlineDialog:lF(m,r,p),banner:fF(m,r,p),cursor:vF(t,v),node:dF(v)}},ph=function(t){return function(r,o){var c=M4(t);c(r,o)}},Ax=function(t){return function(){return O4(t)}},mF=function(t){return function(){return rE(t)}},gF=function(t){return function(){return _4(t)}},P3=function(t){return{colorPicker:ph(t),hasCustomColors:Ax(t),getColors:mF(t),getColorCols:gF(t)}},hF=function(t){return function(){return BR(t)}},pF=function(t){return{isDraggableModal:hF(t)}},f_=function(t){var r=Zt(t4(t)?"bottom":"top");return{isPositionedAtTop:function(){return r.get()==="top"},getDockingMode:r.get,setDockingMode:r.set}},N3=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],bF=function(t){return ua(t,"items")},yF=function(t){return ua(t,"block")},wF=function(t){return ua(t,"inline")},CF=function(t){return ua(t,"selector")},v_=function(t){return ee(t,function(r,o){if(bF(o)){var c=v_(o.items);return{customFormats:r.customFormats.concat(c.customFormats),formats:r.formats.concat([{title:o.title,items:c.formats}])}}else if(wF(o)||yF(o)||CF(o)){var v=$n(o.name)?o.name:o.title.toLowerCase(),m="custom-"+v;return{customFormats:r.customFormats.concat([{name:m,format:o}]),formats:r.formats.concat([{title:o.title,format:m,icon:o.icon}])}}else return te(te({},r),{formats:r.formats.concat(o)})},{customFormats:[],formats:[]})},d_=function(t,r){var o=v_(r),c=function(v){Ye(v,function(m){t.formatter.has(m.name)||t.formatter.register(m.name,m.format)})};return t.formatter?c(o.customFormats):t.on("init",function(){c(o.customFormats)}),o.formats},m_=function(t){return AR(t).map(function(r){var o=d_(t,r);return OR(t)?N3.concat(o):o}).getOr(N3)},g_=function(t,r,o){var c={type:"formatter",isSelected:r(t.format),getStylePreview:o(t.format)};return Gr(t,c)},Ox=function(t,r,o,c){var v=function(x){return g_(x,o,c)},m=function(x){var k={type:"submenu"};return Gr(x,k)},p=function(x){var k=$n(x.name)?x.name:Qn(x.title),O="custom-"+k,_={type:"formatter",format:O,isSelected:o(O),getStylePreview:c(O)},F=Gr(x,_);return t.formatter.register(k,F),F},w=function(x){return we(x,function(k){var O=fr(k);if(Pa(k,"items")){var _=w(k.items);return Gr(m(k),{getStyleItems:function(){return _}})}else return Pa(k,"format")?v(k):O.length===1&&Re(O,"title")?Gr(k,{type:"separator"}):p(k)})};return w(r)},M3=function(t){var r=function(_){return function(){return t.formatter.match(_)}},o=function(_){return function(){var F=t.formatter.get(_);return F!==void 0?S.some({tag:F.length>0&&(F[0].inline||F[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(_))}):S.none()}},c=function(_){var F=_.items;return F!==void 0&&F.length>0?St(F,c):[_.format]},v=Zt([]),m=Zt([]),p=Zt([]),w=Zt([]),x=Zt(!1);t.on("PreInit",function(_){var F=m_(t),Y=Ox(t,F,r,o);v.set(Y),m.set(St(Y,c))}),t.on("addStyleModifications",function(_){var F=Ox(t,_.items,r,o);p.set(F),x.set(_.replace),w.set(St(F,c))});var k=function(){var _=x.get()?[]:v.get(),F=p.get();return _.concat(F)},O=function(){var _=x.get()?[]:m.get(),F=w.get();return _.concat(F)};return{getData:k,getFlattenedKeys:O}},Uy=function(t){return It(t)&&t.nodeType===1},xF=eu.trim,h_=function(t){return function(r){return!!(Uy(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t))}},SF=h_("true"),TF=h_("false"),p_=function(t,r,o,c,v){return{type:t,title:r,url:o,level:c,attach:v}},b_=function(t){for(;t=t.parentNode;){var r=t.contentEditable;if(r&&r!=="inherit")return SF(t)}return!1},y_=function(t,r){return we(wu(_n.fromDom(r),t),function(o){return o.dom})},F3=function(t){return t.innerText||t.textContent},kF=function(t){return t.id?t.id:Qn("h")},EF=function(t){return t&&t.nodeName==="A"&&(t.id||t.name)!==void 0},AF=function(t){return EF(t)&&C_(t)},w_=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},C_=function(t){return b_(t)&&!TF(t)},x_=function(t){return w_(t)&&C_(t)},OF=function(t){return w_(t)?parseInt(t.nodeName.substr(1),10):0},DF=function(t){var r=kF(t),o=function(){t.id=r};return p_("header",F3(t),"#"+r,OF(t),o)},_F=function(t){var r=t.id||t.name,o=F3(t);return p_("anchor",o||"#"+r,"#"+r,0,Le)},BF=function(t){return we(de(t,x_),DF)},S_=function(t){return we(de(t,AF),_F)},bh=function(t){var r=y_("h1,h2,h3,h4,h5,h6,a:not([href])",t);return r},T_=function(t){return xF(t.title).length>0},RF=function(t){var r=bh(t);return de(BF(r).concat(S_(r)),T_)},PF={find:RF},Dx="tinymce-url-history",$3=5,k_=function(t){return $n(t)&&/^https?/.test(t)},NF=function(t){return lr(t)&&t.length<=$3&&ir(t,k_)},E_=function(t){return Cr(t)&&ho(t,function(r){return!NF(r)}).isNone()},A_=function(){var t=HC.getItem(Dx);if(t===null)return{};var r;try{r=JSON.parse(t)}catch(o){if(o instanceof SyntaxError)return console.log("Local storage "+Dx+" was not valid JSON",o),{};throw o}return E_(r)?r:(console.log("Local storage "+Dx+" was not valid format",r),{})},MF=function(t){if(!E_(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));HC.setItem(Dx,JSON.stringify(t))},FF=function(t){var r=A_();return Object.prototype.hasOwnProperty.call(r,t)?r[t]:[]},$F=function(t,r){if(!!k_(t)){var o=A_(),c=Object.prototype.hasOwnProperty.call(o,r)?o[r]:[],v=de(c,function(m){return m!==t});o[r]=[t].concat(v).slice(0,$3),MF(o)}},I3=function(t){return!!t},IF=function(t){return kr(eu.makeMap(t,/[, ]/),I3)},z3=function(t){return S.from(RR(t)).filter(In)},O_=function(t){var r=S.some(i4(t)).filter(I3),o=S.some(PR(t)).filter(I3),c=r.or(o).map(IF);return z3(t).fold(Et,function(v){return c.fold(Qe,function(m){return fr(m).length>0?m:!1})})},zF=function(t,r){var o=O_(t);return Me(o)?o?z3(t):S.none():o[r]?z3(t):S.none()},LF=function(t,r){return zF(t,r).map(function(o){return function(c){return Qi.nu(function(v){var m=function(w,x){if(!$n(w))throw new Error("Expected value to be string");if(x!==void 0&&!Cr(x))throw new Error("Expected meta to be a object");var k={value:w,meta:x};v(k)},p=te({filetype:r,fieldname:c.fieldname},S.from(c.meta).getOr({}));o.call(t,m,c.value,p)})}})},D_=function(t){return S.from(t).filter($n).getOrUndefined()},HF=function(t){return NR(t)?S.none():S.some({targets:PF.find(t.getBody()),anchorTop:D_(MR(t)),anchorBottom:D_(u4(t))})},L3=function(t){return S.from(s4(t))},__=function(t){return{getHistory:FF,addToHistory:$F,getLinkInformation:function(){return HF(t)},getValidationHandler:function(){return L3(t)},getUrlPicker:function(r){return LF(t,r)}}},VF=function(t,r,o){var c=Zt(!1),v=f_(r),m={shared:{providers:{icons:function(){return r.ui.registry.getAll().icons},menuItems:function(){return r.ui.registry.getAll().menuItems},translate:ac.translate,isDisabled:function(){return r.mode.isReadOnly()||r.ui.isDisabled()},getSetting:r.getParam.bind(r)},interpreter:function(p){return sF(p,m)},anchors:l_(r,o,v.isPositionedAtTop),header:v,getSink:function(){return lt.value(t)}},urlinput:__(r),styleselect:M3(r),colorinput:P3(r),dialog:pF(r),isContextMenuOpen:function(){return c.get()},setContextMenuState:function(p){return c.set(p)}};return m},H3=ve(function(t,r){wv(t,Math.floor(r))}),UF="contexttoolbar-show",B_="contexttoolbar-hide",D1=ve([Ee("dom"),$e("shell",!0),ei("toolbarBehaviours",[Mr])]),WF=function(){return{behaviours:Lt([Mr.config({})])}},jF=ve([Ns({name:"groups",overrides:WF})]),qF=function(t,r,o,c){var v=function(w,x){m(w).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(k){Mr.set(k,x)})},m=function(w){return t.shell?S.some(w):$a(w,t,"groups")},p=t.shell?{behaviours:[Mr.config({})],components:[]}:{behaviours:[],components:r};return{uid:t.uid,dom:t.dom,components:p.components,behaviours:Io(t.toolbarBehaviours,p.behaviours),apis:{setGroups:v},domModification:{attributes:{role:"group"}}}},Ul=Vi({name:"Toolbar",configFields:D1(),partFields:jF(),factory:qF,apis:{setGroups:function(t,r,o){t.setGroups(r,o)}}}),_x=function(t,r){var o={len:0,list:[]},c=ee(t,function(v,m){var p=r(m,v.len);return p.fold(ve(v),function(w){return{len:w.finish,list:v.list.concat([w])}})},o);return c.list},V3=function(t,r,o){return{within:t,extra:r,withinWidth:o}},R_=function(t,r,o){var c=_x(t,function(w,x){var k=o(w);return S.some({element:w,start:x,finish:x+k,width:k})}),v=de(c,function(w){return w.finish<=r}),m=Ue(v,function(w,x){return w+x.width},0),p=c.slice(v.length);return{within:v,extra:p,withinWidth:m}},Wy=function(t){return we(t,function(r){return r.element})},yh=function(t,r,o){var c=Wy(t.concat(r));return V3(c,[],o)},GF=function(t,r,o,c){var v=Wy(t).concat([o]);return V3(v,Wy(r),c)},U3=function(t,r,o){return V3(Wy(t),[],o)},Bx=function(t,r,o){var c=R_(r,t,o);return c.extra.length===0?S.some(c):S.none()},KF=function(t,r,o,c){var v=Bx(t,r,o).getOrThunk(function(){return R_(r,t-o(c),o)}),m=v.within,p=v.extra,w=v.withinWidth;return p.length===1&&p[0].width<=o(c)?yh(m,p,w):p.length>=1?GF(m,p,c,w):U3(m,p,w)},P_=function(t,r){var o=we(r,function(c){return Ni(c)});Ul.setGroups(t,o)},XF=function(t){return Xt(t,function(r){return Ji(r.element).bind(function(o){return r.getSystem().getByDom(o).toOptional()})})},N_=function(t,r,o){var c=_c(t,r,"primary"),v=zo.getCoupled(t,"overflowGroup");Kr(c.element,"visibility","hidden");var m=r.builtGroups.get().concat([v]),p=XF(m);o([]),P_(c,m);var w=pu(c.element),x=KF(w,r.builtGroups.get(),function(k){return pu(k.element)},v);x.extra.length===0?(Mr.remove(c,v),o([])):(P_(c,x.within),o(x.extra)),Ma(c.element,"visibility"),rg(c.element),p.each(Br.focus)},M_=ve([ei("splitToolbarBehaviours",[zo]),Co("builtGroups",function(){return Zt([])})]),wh=ve([Xs(["overflowToggledClass"]),Na("getOverflowBounds"),Ee("lazySink"),Co("overflowGroups",function(){return Zt([])})].concat(M_())),F_=ve([Li({factory:Ul,schema:D1(),name:"primary"}),nc({schema:D1(),name:"overflow"}),nc({name:"overflow-button"}),nc({name:"overflow-group"})]),YF=ve([Xs(["toggledClass"]),Ee("lazySink"),Eo("fetch"),Na("getBounds"),Xo("fireDismissalEventInstead",[$e("event",Fo())]),_l()]),JF=ve([nc({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Lt([Ke.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),nc({factory:Ul,schema:D1(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:Lt([br.config({mode:"cyclic",onEscape:function(r){return $a(r,t,"button").each(Br.focus),S.none()}})])}}})]),$_=function(t,r){var o=zo.getCoupled(t,"toolbarSandbox");jr.isOpen(o)?jr.close(o):jr.open(o,r.toolbar())},W3=function(t,r,o,c){var v=o.getBounds.map(function(p){return p()}),m=o.lazySink(t).getOrDie();Zi.positionWithinBounds(m,{anchor:"hotspot",hotspot:t,layouts:c,overrides:{maxWidthFunction:H3()}},r,v)},I_=function(t,r,o,c,v){Ul.setGroups(r,v),W3(t,r,o,c),Ke.on(t)},ZF=function(t,r,o){var c=Sb(),v=function(p,w){o.fetch().get(function(x){I_(t,w,o,r.layouts,x),c.link(t.element),br.focusIn(w)})},m=function(){Ke.off(t),Br.focus(t),c.unlink(t.element)};return{dom:{tag:"div",attributes:{id:c.id}},behaviours:Lt([br.config({mode:"special",onEscape:function(p){return jr.close(p),S.some(!0)}}),jr.config({onOpen:v,onClose:m,isPartOf:function(p,w,x){return Vc(w,x)||Vc(t,x)},getAttachPoint:function(){return o.lazySink(t).getOrDie()}}),zi.config({channels:te(te({},Df(te({isExtraPart:Et},o.fireDismissalEventInstead.map(function(p){return{fireEventInstead:{event:p.event}}}).getOr({})))),wp({doReposition:function(){jr.getState(zo.getCoupled(t,"toolbarSandbox")).each(function(p){W3(t,p,o,r.layouts)})}}))})])}},j3=function(t,r,o,c){return te(te({},Su.sketch(te(te({},c.button()),{action:function(v){$_(v,c)},buttonBehaviours:xu.augment({dump:c.button().buttonBehaviours},[zo.config({others:{toolbarSandbox:function(v){return ZF(v,o,t)}}})])}))),{apis:{setGroups:function(v,m){jr.getState(zo.getCoupled(v,"toolbarSandbox")).each(function(p){I_(v,p,t,o.layouts,m)})},reposition:function(v){jr.getState(zo.getCoupled(v,"toolbarSandbox")).each(function(m){W3(v,m,t,o.layouts)})},toggle:function(v){$_(v,c)},getToolbar:function(v){return jr.getState(zo.getCoupled(v,"toolbarSandbox"))},isOpen:function(v){return jr.isOpen(zo.getCoupled(v,"toolbarSandbox"))}}})},Wl=Vi({name:"FloatingToolbarButton",factory:j3,configFields:YF(),partFields:JF(),apis:{setGroups:function(t,r,o){t.setGroups(r,o)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},getToolbar:function(t,r){return t.getToolbar(r)},isOpen:function(t,r){return t.isOpen(r)}}}),Rx=ve([Ee("items"),Xs(["itemSelector"]),ei("tgroupBehaviours",[br])]),Px=ve([sm({name:"items",unit:"item"})]),Ch=function(t,r,o,c){return{uid:t.uid,dom:t.dom,components:r,behaviours:Io(t.tgroupBehaviours,[br.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},xh=Vi({name:"ToolbarGroup",configFields:Rx(),partFields:Px(),factory:Ch}),z_=function(t){return we(t,function(r){return Ni(r)})},q3=function(t,r,o){N_(t,o,function(c){o.overflowGroups.set(c),r.getOpt(t).each(function(v){Wl.setGroups(v,z_(c))})})},L_=function(t,r,o,c){var v=_a(Wl.sketch({fetch:function(){return Qi.nu(function(m){m(z_(t.overflowGroups.get()))})},layouts:{onLtr:function(){return[Go,fi]},onRtl:function(){return[fi,Go]},onBottomLtr:function(){return[Yi,vi]},onBottomRtl:function(){return[vi,Yi]}},getBounds:o.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:c["overflow-button"](),toolbar:c.overflow()}}));return{uid:t.uid,dom:t.dom,components:r,behaviours:Io(t.splitToolbarBehaviours,[zo.config({others:{overflowGroup:function(){return xh.sketch(te(te({},c["overflow-group"]()),{items:[v.asSpec()]}))}}})]),apis:{setGroups:function(m,p){t.builtGroups.set(we(p,m.getSystem().build)),q3(m,v,t)},refresh:function(m){return q3(m,v,t)},toggle:function(m){v.getOpt(m).each(function(p){Wl.toggle(p)})},isOpen:function(m){return v.getOpt(m).map(Wl.isOpen).getOr(!1)},reposition:function(m){v.getOpt(m).each(function(p){Wl.reposition(p)})},getOverflow:function(m){return v.getOpt(m).bind(Wl.getToolbar)}},domModification:{attributes:{role:"group"}}}},G3=Vi({name:"SplitFloatingToolbar",configFields:wh(),partFields:F_(),factory:L_,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)},getOverflow:function(t,r){return t.getOverflow(r)}}}),jy=function(t,r){return r.getAnimationRoot.fold(function(){return t.element},function(o){return o(t)})},gd=function(t){return t.dimension.property},_1=function(t,r){return t.dimension.getDimension(r)},K3=function(t,r){var o=jy(t,r);go(o,[r.shrinkingClass,r.growingClass])},X3=function(t,r){Va(t.element,r.openClass),ja(t.element,r.closedClass),Kr(t.element,gd(r),"0px"),rg(t.element)},Nx=function(t,r){Va(t.element,r.closedClass),ja(t.element,r.openClass),Ma(t.element,gd(r))},Mx=function(t,r,o,c){o.setCollapsed(),Kr(t.element,gd(r),_1(r,t.element)),rg(t.element),K3(t,r),X3(t,r),r.onStartShrink(t),r.onShrunk(t)},QF=function(t,r,o,c){var v=c.getOrThunk(function(){return _1(r,t.element)});o.setCollapsed(),Kr(t.element,gd(r),v),rg(t.element);var m=jy(t,r);Va(m,r.growingClass),ja(m,r.shrinkingClass),X3(t,r),r.onStartShrink(t)},Y3=function(t,r,o){var c=_1(r,t.element),v=c==="0px"?Mx:QF;v(t,r,o,S.some(c))},H_=function(t,r,o){var c=jy(t,r),v=es(c,r.shrinkingClass),m=_1(r,t.element);Nx(t,r);var p=_1(r,t.element),w=function(){Kr(t.element,gd(r),m),rg(t.element)},x=function(){X3(t,r)},k=v?w:x;k(),Va(c,r.shrinkingClass),ja(c,r.growingClass),Nx(t,r),Kr(t.element,gd(r),p),o.setExpanded(),r.onStartGrow(t)},V_=function(t,r,o){if(o.isExpanded()){Ma(t.element,gd(r));var c=_1(r,t.element);Kr(t.element,gd(r),c)}},e$=function(t,r,o){o.isExpanded()||H_(t,r,o)},t$=function(t,r,o){o.isExpanded()&&Y3(t,r,o)},U_=function(t,r,o){o.isExpanded()&&Mx(t,r,o)},n$=function(t,r,o){return o.isExpanded()},r$=function(t,r,o){return o.isCollapsed()},W_=function(t,r,o){var c=jy(t,r);return es(c,r.growingClass)===!0},_m=function(t,r,o){var c=jy(t,r);return es(c,r.shrinkingClass)===!0},Sh=function(t,r,o){return W_(t,r)||_m(t,r)},j_=function(t,r,o){var c=o.isExpanded()?Y3:H_;c(t,r,o)},a$=Object.freeze({__proto__:null,refresh:V_,grow:e$,shrink:t$,immediateShrink:U_,hasGrown:n$,hasShrunk:r$,isGrowing:W_,isShrinking:_m,isTransitioning:Sh,toggleGrow:j_,disableTransitions:K3}),q_=function(t,r,o){var c=r.expanded;return Ws(c?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:$(r.dimension.property,"0px")})},o$=function(t,r){return ma([ov(H1(),function(o,c){var v=c.event.raw;if(v.propertyName===t.dimension.property){K3(o,t),r.isExpanded()&&Ma(o.element,t.dimension.property);var m=r.isExpanded()?t.onGrown:t.onShrunk;m(o)}})])},Fx=Object.freeze({__proto__:null,exhibit:q_,events:o$}),ll=[Ee("closedClass"),Ee("openClass"),Ee("shrinkingClass"),Ee("growingClass"),xr("getAnimationRoot"),ea("onShrunk"),ea("onStartShrink"),ea("onGrown"),ea("onStartGrow"),$e("expanded",!1),sr("dimension",yi("property",{width:[za("property","width"),za("getDimension",function(t){return pu(t)+"px"})],height:[za("property","height"),za("getDimension",function(t){return Mi(t)+"px"})]}))],i$=function(t){var r=Zt(t.expanded),o=function(){return"expanded: "+r.get()};return Es({isExpanded:function(){return r.get()===!0},isCollapsed:function(){return r.get()===!1},setCollapsed:gn(r.set,!1),setExpanded:gn(r.set,!0),readState:o})},jf=Object.freeze({__proto__:null,init:i$}),jl=$o({fields:ll,name:"sliding",active:Fx,apis:a$,state:jf}),u$=ve([Xs(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),ea("onOpened"),ea("onClosed")].concat(M_())),G_=ve([Li({factory:Ul,schema:D1(),name:"primary"}),Li({factory:Ul,schema:D1(),name:"overflow",overrides:function(t){return{toolbarBehaviours:Lt([jl.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(r){$a(r,t,"overflow-button").each(function(o){Ke.off(o),Br.focus(o)}),t.onClosed(r)},onGrown:function(r){br.focusIn(r),t.onOpened(r)},onStartGrow:function(r){$a(r,t,"overflow-button").each(Ke.on)}}),br.config({mode:"acyclic",onEscape:function(r){return $a(r,t,"overflow-button").each(Br.focus),S.some(!0)}})])}}}),nc({name:"overflow-button",overrides:function(t){return{buttonBehaviours:Lt([Ke.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),nc({name:"overflow-group"})]),$x=function(t,r){return $a(t,r,"overflow").map(jl.hasGrown).getOr(!1)},hd=function(t,r){$a(t,r,"overflow-button").bind(function(){return $a(t,r,"overflow")}).each(function(o){Tu(t,r),jl.toggleGrow(o)})},Tu=function(t,r){$a(t,r,"overflow").each(function(o){N_(t,r,function(c){var v=we(c,function(m){return Ni(m)});Ul.setGroups(o,v)}),$a(t,r,"overflow-button").each(function(c){jl.hasGrown(o)&&Ke.on(c)}),jl.refresh(o)})},s$=function(t,r,o,c){var v="alloy.toolbar.toggle",m=function(p,w){var x=we(w,p.getSystem().build);t.builtGroups.set(x)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Io(t.splitToolbarBehaviours,[zo.config({others:{overflowGroup:function(p){return xh.sketch(te(te({},c["overflow-group"]()),{items:[Su.sketch(te(te({},c["overflow-button"]()),{action:function(w){Lr(p,v)}}))]}))}}}),qr("toolbar-toggle-events",[_t(v,function(p){hd(p,t)})])]),apis:{setGroups:function(p,w){m(p,w),Tu(p,t)},refresh:function(p){return Tu(p,t)},toggle:function(p){return hd(p,t)},isOpen:function(p){return $x(p,t)}},domModification:{attributes:{role:"group"}}}},Ix=Vi({name:"SplitSlidingToolbar",configFields:u$(),partFields:G_(),factory:s$,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)}}}),zx=ve(Qn("toolbar-height-change")),J3=function(t){var r=t.title.fold(function(){return{}},function(o){return{attributes:{title:o}}});return{dom:te({tag:"div",classes:["tox-toolbar__group"]},r),components:[xh.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Lt([Do.config({}),Br.config({})])}},Lx=function(t){return xh.sketch(J3(t))},K_=function(t,r){var o=so(function(c){var v=we(t.initGroups,Lx);Ul.setGroups(c,v)});return Lt([tl.toolbarButton(t.providers.isDisabled),ti(),br.config({mode:r,onEscape:t.onEscape,selector:".tox-toolbar__group"}),qr("toolbar-events",[o])])},pd=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":J3({title:S.none(),items:[]}),"overflow-button":FD({name:"more",icon:S.some("more-drawer"),disabled:!1,tooltip:S.some("More..."),primary:!1,borderless:!1},S.none(),t.providers)},splitToolbarBehaviours:K_(t,r)}},X_=function(t){var r=pd(t),o=4,c=G3.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return G3.sketch(te(te({},r),{lazySink:t.getSink,getOverflowBounds:function(){var v=t.moreDrawerData.lazyHeader().element,m=gf(v),p=G1(v),w=gf(p),x=Math.max(p.dom.scrollHeight,w.height);return ns(m.x+o,w.y,m.width-o*2,x)},parts:te(te({},r.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[c],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},B1=function(t){var r=Ix.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=Ix.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),c=pd(t);return Ix.sketch(te(te({},c),{components:[r,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(v){v.getSystem().broadcastOn([zx()],{type:"opened"})},onClosed:function(v){v.getSystem().broadcastOn([zx()],{type:"closed"})}}))},Th=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return Ul.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===oc.scrolling?["tox-toolbar--scrolling"]:[])},components:[Ul.parts.groups({})],toolbarBehaviours:K_(t,r)})},Y_=Be([nr("type"),sr("items",mr([bd([nr("name"),du("items",bo)]),bo]))].concat(vy)),c$=function(t){return Ba("GroupToolbarButton",Y_,t)},l$=[ia("text"),ia("tooltip"),ia("icon"),Eo("fetch"),no("onSetup",function(){return Le})],f$=Be(q([nr("type")],l$)),J_=function(t){return Ba("menubutton",f$,t)},R1=Be([nr("type"),ia("tooltip"),ia("icon"),ia("text"),Na("select"),Eo("fetch"),no("onSetup",function(){return Le}),Eu("presets","normal",["normal","color","listpreview"]),$e("columns",1),Eo("onAction"),Eo("onItemAction")]),v$=function(t){return Ba("SplitButton",R1,t)},d$=function(t,r){var o=function(c,v){t.updateState.each(function(m){var p=m(c,v);r.set(p)}),t.renderComponents.each(function(m){var p=m(v,r.get()),w=we(p,c.getSystem().build);Rl(c,w)})};return ma([_t(zc(),function(c,v){var m=v;if(!m.universal){var p=t.channel;Re(m.channels,p)&&o(c,m.data)}}),so(function(c,v){t.initialData.each(function(m){o(c,m)})})])},m$=Object.freeze({__proto__:null,events:d$}),g$=function(t,r,o){return o},h$=Object.freeze({__proto__:null,getState:g$}),Hx=[Ee("channel"),xr("renderComponents"),xr("updateState"),xr("initialData")],p$=function(){var t=Zt(S.none()),r=function(m){return t.set(m)},o=function(){return t.set(S.none())},c=function(){return t.get()},v=function(){return t.get().fold(function(){return"none"},function(m){return m})};return{readState:v,get:c,set:r,clear:o}},Z_=Object.freeze({__proto__:null,init:p$}),Vu=$o({fields:Hx,name:"reflecting",active:m$,apis:h$,state:Z_}),Q_=ve([Ee("toggleClass"),Ee("fetch"),Sv("onExecute"),$e("getHotspot",S.some),$e("getAnchorOverrides",ve({})),_l(),Sv("onItemExecute"),xr("lazySink"),Ee("dom"),ea("onOpen"),ei("splitDropdownBehaviours",[zo,br,Br]),$e("matchWidth",!1),$e("useMinWidth",!1),$e("eventOrder",{}),xr("role")].concat(_E())),Vx=Li({factory:Su,schema:[Ee("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Lt([Br.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(av)},buttonBehaviours:Lt([Ke.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),Ux=Li({factory:Su,schema:[Ee("dom")],name:"button",defaults:function(){return{buttonBehaviours:Lt([Br.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(function(o){t.onExecute(o,r)})}}}}),kh=ve([Vx,Ux,Ns({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Ee("text")],name:"aria-descriptor"}),nc({schema:[Dl()],name:"menu",defaults:function(t){return{onExecute:function(r,o){r.getSystem().getByUid(t.uid).each(function(c){t.onItemExecute(c,r,o)})}}}}),lO()]),b$=function(t,r,o,c){var v,m=function(_){va.getCurrent(_).each(function(F){Bn.highlightFirst(F),br.focusIn(F)})},p=function(_){var F=m;h1(t,function(Y){return Y},_,c,F,ol.HighlightFirst).get(Le)},w=function(_){return p(_),S.some(!0)},x=function(_){var F=_c(_,t,"button");return av(F),S.some(!0)},k=te(te({},ma([so(function(_,F){var Y=$a(_,t,"aria-descriptor");Y.each(function(ae){var ne=Qn("aria");ga(ae.element,"id",ne),ga(_.element,"aria-describedby",ne)})})])),Rt(S.some(p))),O={repositionMenus:function(_){Ke.isOn(_)&&mO(_)}};return{uid:t.uid,dom:t.dom,components:r,apis:O,eventOrder:te(te({},t.eventOrder),(v={},v[ru()]=["disabling","toggling","alloy.base.behaviour"],v)),events:k,behaviours:Io(t.splitDropdownBehaviours,[zo.config({others:{sandbox:function(_){var F=_c(_,t,"arrow"),Y={onOpen:function(){Ke.on(F),Ke.on(_)},onClose:function(){Ke.off(F),Ke.off(_)}};return DE(t,_,Y)}}}),br.config({mode:"special",onSpace:x,onEnter:x,onDown:w}),Br.config({}),Ke.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},Wx=Vi({name:"SplitDropdown",configFields:Q_(),partFields:kh(),factory:b$,apis:{repositionMenus:function(t,r){return t.repositionMenus(r)}}}),Z3=function(t){return{isDisabled:function(){return wr.isDisabled(t)},setDisabled:function(r){return wr.set(t,r)}}},y$=function(t){return{setActive:function(r){Ke.set(t,r)},isActive:function(){return Ke.isOn(t)},isDisabled:function(){return wr.isDisabled(t)},setDisabled:function(r){return wr.set(t,r)}}},qy=function(t,r){return t.map(function(o){return{"aria-label":r.translate(o),title:r.translate(o)}}).getOr({})},Q3=Qn("focus-button"),w$=["checklist","ordered-list"],C$=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],Eh=function(t,r,o,c,v,m){var p,w=function(k){return ac.isRtl()&&Re(w$,k)?k+"-rtl":k},x=ac.isRtl()&&t.exists(function(k){return Re(C$,k)});return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]).concat(x?["tox-tbtn__icon-rtl"]:[]),attributes:qy(o,m)},components:c1([t.map(function(k){return zy(w(k),m.icons)}),r.map(function(k){return m3(k,"tox-tbtn",m)})]),eventOrder:(p={},p[Cs()]=["focusing","alloy.base.behaviour","common-button-display-events"],p),buttonBehaviours:Lt([tl.toolbarButton(m.isDisabled),ti(),qr("common-button-display-events",[_t(Cs(),function(k,O){O.event.prevent(),Lr(k,Q3)})])].concat(c.map(function(k){return Vu.config({channel:k,initialData:{icon:t,text:r},renderComponents:function(O,_){return c1([O.icon.map(function(F){return zy(w(F),m.icons)}),O.text.map(function(F){return m3(F,"tox-tbtn",m)})])}})}).toArray()).concat(v.getOr([])))}},eA=function(t,r,o,c){var v=r.shared;return Wl.sketch({lazySink:v.getSink,fetch:function(){return Qi.nu(function(m){m(we(o(t.items),Lx))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:Eh(t.icon,t.text,t.tooltip,S.none(),S.none(),v.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:c}}}})},eB=function(t,r,o){var c=Zt(Le),v=Eh(t.icon,t.text,t.tooltip,S.none(),S.none(),o);return Su.sketch({dom:v.dom,components:v.components,eventOrder:RD,buttonBehaviours:Lt([qr("toolbar-button-events",[J5({onAction:t.onAction,getApi:r.getApi}),yy(r,c),s1(r,c)]),tl.toolbarButton(function(){return t.disabled||o.isDisabled()}),ti()].concat(r.toolbarButtonBehaviours))})},x$=function(t,r){return tA(t,r,[])},tA=function(t,r,o){return eB(t,{toolbarButtonBehaviours:[].concat(o.length>0?[qr("toolbarButtonWith",o)]:[]),getApi:Z3,onSetup:t.onSetup},r)},S$=function(t,r){return tB(t,r,[])},tB=function(t,r,o){return Gr(eB(t,{toolbarButtonBehaviours:[Mr.config({}),Ke.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[qr("toolbarToggleButtonWith",o)]:[]),getApi:y$,onSetup:t.onSetup},r))},e=function(t,r,o){return function(c){return Qi.nu(function(v){return r.fetch(v)}).map(function(v){return S.from(U4(Gr(iE(Qn("menu-value"),v,function(m){r.onItemAction(t(c),m)},r.columns,r.presets,Ll.CLOSE_ON_EXECUTE,r.select.getOr(Et),o),{movement:VC(r.columns,r.presets),menuBehaviours:AC.unnamedEvents(r.columns!=="auto"?[]:[so(function(m,p){EC(m,4,BA(r.presets)).each(function(w){var x=w.numRows,k=w.numColumns;br.setGridSize(m,x,k)})})])})))})}},n=function(t,r){var o,c=Qn("channel-update-split-dropdown-display"),v=function(w){return{isDisabled:function(){return wr.isDisabled(w)},setDisabled:function(x){return wr.set(w,x)},setIconFill:function(x,k){$i(w.element,'svg path[id="'+x+'"], rect[id="'+x+'"]').each(function(O){ga(O,"fill",k)})},setIconStroke:function(x,k){$i(w.element,'svg path[id="'+x+'"], rect[id="'+x+'"]').each(function(O){ga(O,"stroke",k)})},setActive:function(x){ga(w.element,"aria-pressed",x),$i(w.element,"span").each(function(k){w.getSystem().getByDom(k).each(function(O){return Ke.set(O,x)})})},isActive:function(){return $i(w.element,"span").exists(function(x){return w.getSystem().getByDom(x).exists(Ke.isOn)})}}},m=Zt(Le),p={getApi:v,onSetup:t.onSetup};return Wx.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:te({"aria-pressed":!1},qy(t.tooltip,r.providers))},onExecute:function(w){t.onAction(v(w))},onItemExecute:function(w,x,k){},splitDropdownBehaviours:Lt([tl.splitButton(r.providers.isDisabled),ti(),qr("split-dropdown-events",[_t(Q3,Br.focus),yy(p,m),s1(p,m)]),Dy.config({})]),eventOrder:(o={},o[kl()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:r.getSink,fetch:e(v,t,r.providers),parts:{menu:SC(!1,t.columns,t.presets)},components:[Wx.parts.button(Eh(t.icon,t.text,S.none(),S.some(c),S.some([Ke.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),r.providers)),Wx.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:ss("chevron-down",r.providers.icons)},buttonBehaviours:Lt([tl.splitButton(r.providers.isDisabled),ti()])}),Wx.parts["aria-descriptor"]({text:r.providers.translate("To open the popup, press Shift+Enter")})]})},a=function(t){return{hide:function(){return Lr(t,Gm())},getValue:function(){return wn.getValue(t)}}},i=function(t,r){return _t(h3,function(o,c){var v=t.get(o),m=a(v);r.onAction(m,c.event.buttonApi)})},s=function(t,r,o){var c=r.original;c.primary;var v=vt(c,["primary"]),m=ju(SA(te(te({},v),{type:"button",onAction:Le})));return tA(m,o.backstage.shared.providers,[i(t,r)])},f=function(t,r,o){var c=r.original;c.primary;var v=vt(c,["primary"]),m=ju(TA(te(te({},v),{type:"togglebutton",onAction:Le})));return tB(m,o.backstage.shared.providers,[i(t,r)])},g=function(t,r,o){var c={backstage:{shared:{providers:o}}};return r.type==="contextformtogglebutton"?f(t,r,c):s(t,r,c)},b=function(t,r,o){var c=we(r,function(p){return _a(g(t,p,o))}),v=function(){return we(c,function(p){return p.asSpec()})},m=function(p){return Xt(r,function(w,x){return w.primary?S.from(c[x]).bind(function(k){return k.getOpt(p)}).filter(vn(wr.isDisabled)):S.none()})};return{asSpecs:v,findPrimary:m}},y=function(t,r){var o=t.label.fold(function(){return{}},function(m){return{"aria-label":m}}),c=_a(Sm.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:Lt([br.config({mode:"special",onEnter:function(m){return v.findPrimary(m).map(function(p){return av(p),!0})},onLeft:function(m,p){return p.cut(),S.none()},onRight:function(m,p){return p.cut(),S.none()}})])})),v=b(c,t.commands,r);return[{title:S.none(),items:[c.asSpec()]},{title:S.none(),items:v.asSpecs()}]},E=function(t,r,o){return Th({type:t,uid:Qn("context-toolbar"),initGroups:y(r,o),onEscape:S.none,cyclicKeying:!0,providers:o})},P={renderContextForm:E,buildInitGroups:y},R=function(t,r){var o=Math.max(r.x,t.x),c=t.right-o,v=r.width-(o-r.x),m=Math.min(c,v);return{x:o,width:m}},N=function(t,r,o,c){var v=_n.fromDom(t.getContainer()),m=$i(v,".tox-editor-header").getOr(v),p=rs(m),w=p.y>=r.bottom,x=c&&!w;if(t.inline&&x)return{y:Math.max(p.bottom,o.y),bottom:o.bottom};if(t.inline&&!x)return{y:o.y,bottom:Math.min(p.y,o.bottom)};var k=rs(v);return x?{y:Math.max(p.bottom,o.y),bottom:Math.min(k.bottom,o.bottom)}:{y:Math.max(k.y,o.y),bottom:Math.min(p.y,o.bottom)}},X=function(t,r){var o=ww(window),c=rs(_n.fromDom(t.getContentAreaContainer())),v=_C(t)||Vk(t)||BC(t),m=R(c,o),p=m.x,w=m.width;if(t.inline&&!v)return ns(p,o.y,w,o.height);var x=r.header.isPositionedAtTop(),k=N(t,c,o,x),O=k.y,_=k.bottom;return ns(p,O,w,_-O)},J=function(t,r){var o=de(r,function(p){return p.predicate(t.dom)}),c=qe(o,function(p){return p.type==="contexttoolbar"}),v=c.pass,m=c.fail;return{contextToolbars:v,contextForms:m}},Q=function(t){if(t.length<=1)return t;var r=function(w){return ut(t,function(x){return x.position===w})},o=function(w){return de(t,function(x){return x.position===w})},c=r("selection"),v=r("node");if(c||v)if(v&&c){var m=o("node"),p=we(o("selection"),function(w){return te(te({},w),{position:"node"})});return m.concat(p)}else return o(c?"selection":"node");else return o("line")},G=function(t){if(t.length<=1)return t;var r=function(c){return he(t,function(v){return v.position===c})},o=r("selection").orThunk(function(){return r("node")}).orThunk(function(){return r("line")}).map(function(c){return c.position});return o.fold(function(){return[]},function(c){return de(t,function(v){return v.position===c})})},me=function(t,r,o){var c=J(t,r);if(c.contextForms.length>0)return S.some({elem:t,toolbars:[c.contextForms[0]]});var v=J(t,o);if(v.contextForms.length>0)return S.some({elem:t,toolbars:[v.contextForms[0]]});if(c.contextToolbars.length>0||v.contextToolbars.length>0){var m=Q(c.contextToolbars.concat(v.contextToolbars));return S.some({elem:t,toolbars:m})}else return S.none()},fe=function(t,r,o){return t(r)?S.none():kd(r,function(c){var v=J(c,o.inNodeScope),m=v.contextToolbars,p=v.contextForms,w=p.length>0?p:G(m);return w.length>0?S.some({elem:c,toolbars:w}):S.none()},t)},be=function(t,r){var o=_n.fromDom(r.getBody()),c=function(p){return Vr(p,o)},v=function(p){return!c(p)&&!Us(o,p)},m=_n.fromDom(r.selection.getNode());return v(m)?S.none():me(m,t.inNodeScope,t.inEditorScope).orThunk(function(){return fe(c,m,t)})},Te=function(t,r){var o={},c=[],v=[],m={},p={},w=function(O,_){var F=ju(VB(_));o[O]=F,F.launch.map(function(Y){m["form:"+O]=te(te({},_.launch),{type:Y.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){r(F)}})}),F.scope==="editor"?v.push(F):c.push(F),p[O]=F},x=function(O,_){UB(_).each(function(F){_.scope==="editor"?v.push(F):c.push(F),p[O]=F})},k=fr(t);return Ye(k,function(O){var _=t[O];_.type==="contextform"?w(O,_):_.type==="contexttoolbar"&&x(O,_)}),{forms:o,inNodeScope:c,inEditorScope:v,lookupTable:p,formNavigators:m}},Ve=Qn("forward-slide"),Tt=Qn("backward-slide"),jt=Qn("change-slide-event"),nn="tox-pop--resizing",Kn=function(t){var r=Zt([]);return So.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(o){r.set([]),So.getContent(o).each(function(c){Ma(c.element,"visibility")}),Va(o.element,nn),Ma(o.element,"width")},inlineBehaviours:Lt([qr("context-toolbar-events",[ov(H1(),function(o,c){Va(o.element,nn),Ma(o.element,"width")}),_t(jt,function(o,c){var v=o.element;Ma(v,"width");var m=pu(v);So.setContent(o,c.event.contents),ja(v,nn);var p=pu(v);Kr(v,"width",m+"px"),So.getContent(o).each(function(w){c.event.focus.bind(function(x){return wf(x),Ji(v)}).orThunk(function(){return br.focusIn(w),Tc(qo(v))})}),zf.setTimeout(function(){Kr(o.element,"width",p+"px")},0)}),_t(Ve,function(o,c){So.getContent(o).each(function(v){r.set(r.get().concat([{bar:v,focus:Tc(qo(o.element))}]))}),Sr(o,jt,{contents:c.event.forwardContents,focus:S.none()})}),_t(Tt,function(o,c){Jt(r.get()).each(function(v){r.set(r.get().slice(0,r.get().length-1)),Sr(o,jt,{contents:Ni(v.bar),focus:v.focus})})})]),br.config({mode:"special",onEscape:function(o){return Jt(r.get()).fold(function(){return t.onEscape()},function(c){return Lr(o,Tt),S.some(!0)})}})]),lazySink:function(){return lt.value(t.sink)}})},er=function(t,r,o){var c=function(w,x,k,O){var _=r.shared.providers.translate(w.title);if(w.type==="separator")return S.some({type:"separator",text:_});if(w.type==="submenu"){var F=St(w.getStyleItems(),function(Y){return v(Y,x,O)});return x===0&&F.length<=0?S.none():S.some({type:"nestedmenuitem",text:_,disabled:F.length<=0,getSubmenuItems:function(){return St(w.getStyleItems(),function(Y){return v(Y,x,O)})}})}else return S.some(te({type:"togglemenuitem",text:_,icon:w.icon,active:w.isSelected(O),disabled:k,onAction:o.onAction(w)},w.getStylePreview().fold(function(){return{}},function(Y){return{meta:{style:Y}}})))},v=function(w,x,k){var O=w.type==="formatter"&&o.isInvalid(w);return x===0?O?[]:c(w,x,!1,k).toArray():c(w,x,O,k).toArray()},m=function(w){var x=o.getCurrentValue(),k=o.shouldHide?0:1;return St(w,function(O){return v(O,k,x)})},p=function(w,x){return function(k,O){var _=x(),F=m(_),Y=E1(F,Ll.CLOSE_ON_EXECUTE,w,!1);O(Y)}};return{validateItems:m,getFetch:p}},Mt=function(t,r,o){var c=o.dataset,v=c.type==="basic"?function(){return we(c.data,function(m){return g_(m,o.isSelectedFor,o.getPreviewFor)})}:c.getData;return{items:er(t,r,o),getStyleItems:v}},Ar=function(t,r,o){var c=Mt(t,r,o),v=c.items,m=c.getStyleItems,p=function(x){return{getComponent:function(){return x}}},w=function(x){return o.setInitialValue.each(function(k){return k(x.getComponent())}),o.nodeChangeHandler.map(function(k){var O=k(x.getComponent());return t.on("NodeChange",O),function(){t.off("NodeChange",O)}}).getOr(Le)};return p3({text:o.icon.isSome()?S.none():S.some(""),icon:o.icon,tooltip:S.from(o.tooltip),role:S.none(),fetch:v.getFetch(r,m),onSetup:w,getApi:p,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)},Cn=function(t){return we(t,function(r){var o=r,c=r,v=r.split("=");return v.length>1&&(o=v[0],c=v[1]),{title:o,format:c}})},Yn=function(t){return{type:"basic",data:t}},en;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(en||(en={}));var En=function(t,r){return r===en.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},Hn=function(t,r,o,c){var v=t.getParam(r,o,"string"),m=Cn(En(v,c));return{type:"basic",data:m}},Ht=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Un=function(t){var r=function(){return he(Ht,function(k){return t.formatter.match(k.format)})},o=function(k){return function(){return t.formatter.match(k)}},c=function(k){return function(){return S.none()}},v=function(k){var O=r(),_=O.fold(function(){return"left"},function(F){return F.title.toLowerCase()});Sr(k,PD,{icon:"align-"+_})},m=S.some(function(k){return function(){return v(k)}}),p=S.some(function(k){return v(k)}),w=Yn(Ht),x=function(k){return function(){return he(Ht,function(O){return O.format===k.format}).each(function(O){return t.execCommand(O.command)})}};return{tooltip:"Align",icon:S.some("align-left"),isSelectedFor:o,getCurrentValue:S.none,getPreviewFor:c,onAction:x,setInitialValue:p,nodeChangeHandler:m,dataset:w,shouldHide:!1,isInvalid:function(k){return!t.formatter.canApply(k.format)}}},pa=function(t,r){return Ar(t,r,Un(t))},eo=function(t,r){var o=Mt(t,r,Un(t));t.ui.registry.addNestedMenuItem("align",{text:r.shared.providers.translate("Align"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},La="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",_o=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],ni=function(t){var r=t.split(/\s*,\s*/);return we(r,function(o){return o.replace(/^['"]+|['"]+$/g,"")})},Wn=function(t){var r=function(){var o=ni(t.toLowerCase());return ir(_o,function(c){return o.indexOf(c.toLowerCase())>-1})};return t.indexOf("-apple-system")===0&&r()},Xn=function(t){var r=function(){var O=function(ne){return ne?ni(ne)[0]:""},_=t.queryCommandValue("FontName"),F=k.data,Y=_?_.toLowerCase():"",ae=he(F,function(ne){var pe=ne.format;return pe.toLowerCase()===Y||O(pe).toLowerCase()===O(Y).toLowerCase()}).orThunk(function(){return Wn(Y)?S.from({title:"System Font",format:Y}):S.none()});return{matchOpt:ae,font:_}},o=function(O){return function(_){return _.exists(function(F){return F.format===O})}},c=function(){var O=r().matchOpt;return O},v=function(O){return function(){return S.some({tag:"div",styles:O.indexOf("dings")===-1?{"font-family":O}:{}})}},m=function(O){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontName",!1,O.format)})}},p=function(O){var _=r(),F=_.matchOpt,Y=_.font,ae=F.fold(function(){return Y},function(ne){return ne.title});Sr(O,k1,{text:ae})},w=S.some(function(O){return function(){return p(O)}}),x=S.some(function(O){return p(O)}),k=Hn(t,"font_formats",La,en.SemiColon);return{tooltip:"Fonts",icon:S.none(),isSelectedFor:o,getCurrentValue:c,getPreviewFor:v,onAction:m,setInitialValue:x,nodeChangeHandler:w,dataset:k,shouldHide:!1,isInvalid:Et}},An=function(t,r){return Ar(t,r,Xn(t))},ln=function(t,r){var o=Mt(t,r,Xn(t));t.ui.registry.addNestedMenuItem("fontformats",{text:r.shared.providers.translate("Fonts"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},ot="8pt 10pt 12pt 14pt 18pt 24pt 36pt",sn={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},xn={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},$r=function(t,r){var o=Math.pow(10,r);return Math.round(t*o)/o},hr=function(t,r){return/[0-9.]+px$/.test(t)?$r(parseInt(t,10)*72/96,r||0)+"pt":ur(xn,t).getOr(t)},to=function(t){return ur(sn,t).getOr("")},pi=function(t){var r=function(){var O=S.none(),_=k.data,F=t.queryCommandValue("FontSize");if(F)for(var Y=function(ne){var pe=hr(F,ne),ie=to(pe);O=he(_,function(Ae){return Ae.format===F||Ae.format===pe||Ae.format===ie})},ae=3;O.isNone()&&ae>=0;ae--)Y(ae);return{matchOpt:O,size:F}},o=function(O){return function(_){return _.exists(function(F){return F.format===O})}},c=function(){var O=r().matchOpt;return O},v=ve(S.none),m=function(O){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontSize",!1,O.format)})}},p=function(O){var _=r(),F=_.matchOpt,Y=_.size,ae=F.fold(function(){return Y},function(ne){return ne.title});Sr(O,k1,{text:ae})},w=S.some(function(O){return function(){return p(O)}}),x=S.some(function(O){return p(O)}),k=Hn(t,"fontsize_formats",ot,en.Space);return{tooltip:"Font sizes",icon:S.none(),isSelectedFor:o,getPreviewFor:v,getCurrentValue:c,onAction:m,setInitialValue:x,nodeChangeHandler:w,dataset:k,shouldHide:!1,isInvalid:Et}},lu=function(t,r){return Ar(t,r,pi(t))},Uu=function(t,r){var o=Mt(t,r,pi(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},Is=function(t,r){var o=r(),c=we(o,function(v){return v.format});return S.from(t.formatter.closest(c)).bind(function(v){return he(o,function(m){return m.format===v})}).orThunk(function(){return _2(t.formatter.match("p"),{title:"Paragraph",format:"p"})})},Wu=function(t){var r=Zt(S.none()),o=function(){return r.get().each(t)},c=function(){o(),r.set(S.none())},v=function(){return r.get().isSome()},m=function(p){o(),r.set(S.some(p))};return{clear:c,isSet:v,set:m}},ri=function(){return Wu(function(t){return t.destroy()})},tu=function(){return Wu(function(t){return t.unbind()})},zs=function(){var t=Zt(S.none()),r=function(){return t.set(S.none())},o=function(m){return t.set(S.some(m))},c=function(){return t.get().isSome()},v=function(m){return t.get().each(m)};return{clear:r,set:o,isSet:c,on:v}},fl=function(t,r){return function(o){var c=tu(),v=function(){o.setActive(t.formatter.match(r));var m=t.formatter.formatChanged(r,o.setActive);c.set(m)};return t.initialized?v():t.on("init",v),c.clear}},co=function(t){return function(r){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("mceToggleFormat",!1,r.format)})}}},Xa="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",Ui=function(t){var r=function(w){return function(){return t.formatter.match(w)}},o=function(w){return function(){var x=t.formatter.get(w);return S.some({tag:x.length>0&&(x[0].inline||x[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))})}},c=function(w){var x=Is(t,function(){return p.data}),k=x.fold(function(){return"Paragraph"},function(O){return O.title});Sr(w,k1,{text:k})},v=S.some(function(w){return function(){return c(w)}}),m=S.some(function(w){return c(w)}),p=Hn(t,"block_formats",Xa,en.SemiColon);return{tooltip:"Blocks",icon:S.none(),isSelectedFor:r,getCurrentValue:S.none,getPreviewFor:o,onAction:co(t),setInitialValue:m,nodeChangeHandler:v,dataset:p,shouldHide:!1,isInvalid:function(w){return!t.formatter.canApply(w.format)}}},ql=function(t,r){return Ar(t,r,Ui(t))},Gl=function(t,r){var o=Mt(t,r,Ui(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},ic=function(t,r){var o=function(w){return function(){return t.formatter.match(w)}},c=function(w){return function(){var x=t.formatter.get(w);return x!==void 0?S.some({tag:x.length>0&&(x[0].inline||x[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(w))}):S.none()}},v=function(w){var x=function(F){var Y=F.items;return Y!==void 0&&Y.length>0?St(Y,x):[{title:F.title,format:F.format}]},k=St(m_(t),x),O=Is(t,function(){return k}),_=O.fold(function(){return"Paragraph"},function(F){return F.title});Sr(w,k1,{text:_})},m=S.some(function(w){return function(){return v(w)}}),p=S.some(function(w){return v(w)});return{tooltip:"Formats",icon:S.none(),isSelectedFor:o,getCurrentValue:S.none,getPreviewFor:c,onAction:co(t),setInitialValue:p,nodeChangeHandler:m,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(w){return!t.formatter.canApply(w.format)},dataset:r}},Bm=function(t,r){var o=te({type:"advanced"},r.styleselect);return Ar(t,r,ic(t,o))},P1=function(t,r){var o=te({type:"advanced"},r.styleselect),c=Mt(t,r,ic(t,o));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return c.items.validateItems(c.getStyleItems())}})},Rm=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Pm=function(t,r){return function(o,c,v){var m=t(o).mapError(function(p){return ds(p)}).getOrDie();return r(m,c,v)}},N1={button:Pm(SA,function(t,r){return x$(t,r.backstage.shared.providers)}),togglebutton:Pm(TA,function(t,r){return S$(t,r.backstage.shared.providers)}),menubutton:Pm(J_,function(t,r){return y3(t,"tox-tbtn",r.backstage,S.none())}),splitbutton:Pm(v$,function(t,r){return n(t,r.backstage.shared)}),grouptoolbarbutton:Pm(c$,function(t,r,o){var c,v=o.ui.registry.getAll().buttons,m=function(w){return jx(o,{buttons:v,toolbar:w,allowToolbarGroups:!1},r,S.none())},p=(c={},c[Yb]=r.backstage.shared.header.isPositionedAtTop()?Qs.TopToBottom:Qs.BottomToTop,c);switch(by(o)){case oc.floating:return eA(t,r.backstage,m,p);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(t,r){return Bm(t,r.backstage)},fontsizeSelectButton:function(t,r){return lu(t,r.backstage)},fontSelectButton:function(t,r){return An(t,r.backstage)},formatButton:function(t,r){return ql(t,r.backstage)},alignMenuButton:function(t,r){return pa(t,r.backstage)}},nB=function(t,r,o){return ur(N1,t.type).fold(function(){return console.error("skipping button defined by",t),S.none()},function(c){return S.some(c(t,r,o))})},nA={styleselect:N1.styleSelectButton,fontsizeselect:N1.fontsizeSelectButton,fontselect:N1.fontSelectButton,formatselect:N1.formatButton,align:N1.alignMenuButton},T$=function(t){var r=we(Rm,function(o){var c=de(o.items,function(v){return ua(t,v)||ua(nA,v)});return{name:o.name,items:c}});return de(r,function(o){return o.items.length>0})},rB=function(t){var r=t.split("|");return we(r,function(o){return{items:o.trim().split(" ")}})},k$=function(t){return jn(t,function(r){return ua(r,"name")&&ua(r,"items")})},E$=function(t){var r=t.toolbar,o=t.buttons;return r===!1?[]:r===void 0||r===!0?T$(o):$n(r)?rB(r):k$(r)?r:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},A$=function(t,r,o,c,v,m){return ur(r,o.toLowerCase()).orThunk(function(){return m.bind(function(p){return Xt(p,function(w){return ur(r,w+o.toLowerCase())})})}).fold(function(){return ur(nA,o.toLowerCase()).map(function(p){return p(t,v)}).orThunk(function(){return S.none()})},function(p){return p.type==="grouptoolbarbutton"&&!c?(console.warn("Ignoring the '"+o+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),S.none()):nB(p,v,t)})},jx=function(t,r,o,c){var v=E$(r),m=we(v,function(p){var w=St(p.items,function(x){return x.trim().length===0?[]:A$(t,r.buttons,x,r.allowToolbarGroups,o,c).toArray()});return{title:S.from(t.translate(p.name)),items:w}});return de(m,function(p){return p.items.length>0})},Nm=12,rA={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Ne={maxHeightFunction:qd(),maxWidthFunction:H3()},it={onLtr:function(){return[Nu,Ii,vi,fi,Yi,Go,ud,th,id,od,eh,ym]},onRtl:function(){return[Nu,Ii,Yi,Go,vi,fi,ud,th,eh,ym,id,od]}},on={onLtr:function(){return[Ii,fi,Go,vi,Yi,Nu,ud,th,id,od,eh,ym]},onRtl:function(){return[Ii,Go,fi,Yi,vi,Nu,ud,th,eh,ym,id,od]}},bn=function(t,r){return t==="line"?{bubble:Kd(Nm,0,rA),layouts:{onLtr:function(){return[Nb]},onRtl:function(){return[Vd]}},overrides:Ne}:{bubble:Kd(0,Nm,rA),layouts:r?on:it,overrides:Ne}},Wr=function(t,r,o,c){var v=Xu().deviceType.isTouch,m=iu(Kn({sink:o,onEscape:function(){return t.focus(),S.some(!0)}})),p=function(){return X(t,c.backstage.shared)},w=function(On,wt,Ft,Vn){return Math.max(On,Ft)<=Math.min(wt,Vn)},x=function(){var On=ae.get().filter(function(Ft){return wc(_n.fromDom(Ft))}).map(function(Ft){return Ft.getBoundingClientRect()}).getOrThunk(function(){return t.selection.getRng().getBoundingClientRect()}),wt=t.inline?Gs().top:gf(_n.fromDom(t.getBody())).y;return{y:On.top+wt,bottom:On.bottom+wt}},k=function(){if(v()&&c.backstage.isContextMenuOpen())return!0;var On=x(),wt=p();return!w(On.y,On.bottom,wt.y,wt.bottom)},O=function(){Y.set(S.none()),So.hide(m)},_=function(){So.hide(m)},F=function(){Y.get().each(function(On){var wt=m.element;Ma(wt,"display"),k()?Kr(wt,"display","none"):Zi.positionWithinBounds(o,On,m,S.some(p()))})},Y=Zt(S.none()),ae=Zt(S.none()),ne=Zt(null),pe=function(On){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[On],behaviours:Lt([br.config({mode:"acyclic"}),qr("pop-dialog-wrap-events",[so(function(wt){t.shortcuts.add("ctrl+F9","focus statusbar",function(){return br.focusIn(wt)})}),au(function(wt){t.shortcuts.remove("ctrl+F9")})])])}},ie=lo(function(){return Te(r,function(On){var wt=je([On]);Sr(m,Ve,{forwardContents:pe(wt)})})}),Ae=function(On,wt){return jx(t,{buttons:On,toolbar:wt.items,allowToolbarGroups:!1},c,S.some(["form:"]))},ze=function(On,wt){return P.buildInitGroups(On,wt)},je=function(On){var wt=t.ui.registry.getAll().buttons,Ft=ie(),Vn=te(te({},wt),Ft.formNavigators),Tr=by(t)===oc.scrolling?oc.scrolling:oc.default,Gt=pn(we(On,function(tr){return tr.type==="contexttoolbar"?Ae(Vn,tr):ze(tr,c.backstage.shared.providers)}));return Th({type:Tr,uid:Qn("context-toolbar"),initGroups:Gt,onEscape:S.none,cyclicKeying:!0,providers:c.backstage.shared.providers})};t.on(UF,function(On){var wt=ie();ur(wt.lookupTable,On.toolbarKey).each(function(Ft){Bt([Ft],On.target===t?S.none():S.some(On)),So.getContent(m).each(br.focusIn)})});var ht=function(On,wt){var Ft=On==="node"?c.backstage.shared.anchors.node(wt):c.backstage.shared.anchors.cursor();return Gr(Ft,bn(On,v()))},Bt=function(On,wt){if(cn(),!(v()&&c.backstage.isContextMenuOpen())){var Ft=je(On),Vn=wt.map(_n.fromDom),Tr=ht(On[0].position,Vn);Y.set(S.some(Tr)),ae.set(wt);var Gt=m.element;Ma(Gt,"display"),So.showWithinBounds(m,Tr,pe(Ft),function(){return S.some(p())}),k()&&Kr(Gt,"display","none")}},ft=function(){if(!!t.hasFocus()){var On=ie();be(On,t).fold(O,function(wt){Bt(wt.toolbars,S.some(wt.elem.dom))})}},cn=function(){var On=ne.get();On!==null&&(zf.clearTimeout(On),ne.set(null))},Er=function(){cn(),ne.set(zf.setEditorTimeout(t,ft,0))};t.on("init",function(){t.on(B_,_),t.on("ScrollContent ScrollWindow longpress",F),t.on("click keyup focus SetContent ObjectResized ResizeEditor",function(){Er()}),t.on("focusout",function(On){zf.setEditorTimeout(t,function(){Ji(o.element).isNone()&&Ji(m.element).isNone()&&O()},0)}),t.on("SwitchMode",function(){t.mode.isReadOnly()&&O()}),t.on("AfterProgressState",function(On){On.state?O():t.hasFocus()&&Er()}),t.on("NodeChange",function(On){Ji(m.element).fold(Er,Le)})})},Aa=function(t,r,o){var c=function(ie,Ae){Ye([r,o],function(ze){ze.broadcastEvent(ie,Ae)})},v=function(ie,Ae){Ye([r,o],function(ze){ze.broadcastOn([ie],Ae)})},m=function(ie){return v(Of(),{target:ie.target})},p=nl(_n.fromDom(document),"touchstart",m),w=nl(_n.fromDom(document),"touchmove",function(ie){return c(tS(),ie)}),x=nl(_n.fromDom(document),"touchend",function(ie){return c(Sl(),ie)}),k=nl(_n.fromDom(document),"mousedown",m),O=nl(_n.fromDom(document),"mouseup",function(ie){ie.raw.button===0&&v(Kc(),{target:ie.target})}),_=function(ie){return v(Of(),{target:_n.fromDom(ie.target)})},F=function(ie){ie.button===0&&v(Kc(),{target:_n.fromDom(ie.target)})},Y=function(ie){return c(uf(),j4(ie))},ae=function(ie){v(Ec(),{}),c(Tl(),j4(ie))},ne=function(){return v(Ec(),{})},pe=function(ie){ie.state&&v(Of(),{target:_n.fromDom(t.getContainer())})};t.on("PostRender",function(){t.on("click",_),t.on("tap",_),t.on("mouseup",F),t.on("ScrollWindow",Y),t.on("ResizeWindow",ae),t.on("ResizeEditor",ne),t.on("AfterProgressState",pe)}),t.on("remove",function(){t.off("click",_),t.off("tap",_),t.off("mouseup",F),t.off("ScrollWindow",Y),t.off("ResizeWindow",ae),t.off("ResizeEditor",ne),t.off("AfterProgressState",pe),k.unbind(),p.unbind(),w.unbind(),x.unbind(),O.unbind()}),t.on("detach",function(){Ef(r),Ef(o),r.destroy(),o.destroy()})},Ca=Uv,uc=cm,X6=ve([$e("shell",!1),Ee("makeItem"),$e("setupItem",Le),xu.field("listBehaviours",[Mr])]),Y6=function(){return{behaviours:Lt([Mr.config({})])}},J6=Ns({name:"items",overrides:Y6}),Z6=ve([J6]),Q6=ve("CustomList"),e8=function(t,r,o,c){var v=function(w,x){p(w).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(k){var O=Mr.contents(k),_=x.length,F=_-O.length,Y=F>0?kt(F,function(){return t.makeItem()}):[],ae=O.slice(_);Ye(ae,function(pe){return Mr.remove(k,pe)}),Ye(Y,function(pe){return Mr.append(k,pe)});var ne=Mr.contents(k);Ye(ne,function(pe,ie){t.setupItem(w,pe,x[ie],ie)})})},m=t.shell?{behaviours:[Mr.config({})],components:[]}:{behaviours:[],components:r},p=function(w){return t.shell?S.some(w):$a(w,t,"items")};return{uid:t.uid,dom:t.dom,components:m.components,behaviours:Io(t.listBehaviours,m.behaviours),apis:{setItems:v}}},hI=Vi({name:Q6(),configFields:X6(),partFields:Z6(),factory:e8,apis:{setItems:function(t,r,o){t.setItems(r,o)}}}),t8=Le,n8=Et,pI=ve([]),r8=Object.freeze({__proto__:null,setup:t8,isDocked:n8,getBehaviours:pI}),bI=function(t){var r=fo(t,"position").is("fixed"),o=r?S.none():gu(t);return o.orThunk(function(){var c=_n.fromTag("span");return wi(t).bind(function(v){_u(v,c);var m=gu(c);return sf(c),m})})},yI=function(t){return bI(t).map(Sc).getOrThunk(function(){return Ka(0,0)})},O$=Gn.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),a8=function(t,r){var o=t.element;ja(o,r.transitionClass),Va(o,r.fadeOutClass),ja(o,r.fadeInClass),r.onShow(t)},o8=function(t,r){var o=t.element;ja(o,r.transitionClass),Va(o,r.fadeInClass),ja(o,r.fadeOutClass),r.onHide(t)},i8=function(t,r){return t.y<r.bottom&&t.bottom>r.y},u8=function(t,r){return t.y>=r.y},s8=function(t,r){return t.bottom<=r.bottom},wI=function(t,r,o){return ir(t,function(c){switch(c){case"bottom":return s8(r,o);case"top":return u8(r,o)}})},CI=function(t,r){return r.getInitialPosition().map(function(o){return ns(o.bounds.x,o.bounds.y,pu(t),Mi(t))})},c8=function(t,r,o){o.setInitialPosition(S.some({style:db(t),position:_s(t,"position")||"static",bounds:r}))},xI=function(t,r,o){return o.getInitialPosition().bind(function(c){switch(o.setInitialPosition(S.none()),c.position){case"static":return S.some(O$.static());case"absolute":var v=bI(t).map(rs).getOrThunk(function(){return rs(Os())});return S.some(O$.absolute(Js("absolute",ur(c.style,"left").map(function(m){return r.x-v.x}),ur(c.style,"top").map(function(m){return r.y-v.y}),ur(c.style,"right").map(function(m){return v.right-r.right}),ur(c.style,"bottom").map(function(m){return v.bottom-r.bottom}))));default:return S.none()}})},l8=function(t,r,o){return CI(t,o).filter(function(c){return wI(o.getModes(),c,r)}).bind(function(c){return xI(t,c,o)})},f8=function(t,r,o){var c=rs(t);if(wI(o.getModes(),c,r))return S.none();c8(t,c,o);var v=Fi(),m=c.x-v.x,p=r.y-v.y,w=v.bottom-r.bottom,x=c.y<=r.y;return S.some(O$.fixed(Js("fixed",S.some(m),x?S.some(p):S.none(),S.none(),x?S.none():S.some(w))))},v8=function(t,r,o){var c=t.element,v=fo(c,"position").is("fixed");return v?l8(c,r,o):f8(c,r,o)},d8=function(t,r){var o=t.element;return CI(o,r).bind(function(c){return xI(o,c,r)})},SI=function(t,r){Ye(["left","right","top","bottom","position"],function(o){return Ma(t.element,o)}),r.onUndocked(t)},D$=function(t,r,o){Wd(t.element,o);var c=o.position==="fixed"?r.onDocked:r.onUndocked;c(t)},TI=function(t,r,o,c,v){v===void 0&&(v=!1),r.contextual.each(function(m){m.lazyContext(t).each(function(p){var w=i8(p,c);if(w!==o.isVisible())if(o.setVisible(w),v&&!w)ts(t.element,[m.fadeOutClass]),m.onHide(t);else{var x=w?a8:o8;x(t,m)}})})},m8=function(t,r,o){var c=r.lazyViewport(t),v=o.isDocked();v&&TI(t,r,o,c),v8(t,c,o).each(function(m){o.setDocked(!v),m.fold(function(){return SI(t,r)},function(p){return D$(t,r,p)},function(p){TI(t,r,o,c,!0),D$(t,r,p)})})},g8=function(t,r,o){var c=t.element;o.setDocked(!1),d8(t,o).each(function(v){v.fold(function(){return SI(t,r)},function(m){return D$(t,r,m)},Le)}),o.setVisible(!0),r.contextual.each(function(v){go(c,[v.fadeInClass,v.fadeOutClass,v.transitionClass]),v.onShow(t)}),_$(t,r,o)},_$=function(t,r,o){t.getSystem().isConnected()&&m8(t,r,o)},kI=function(t,r,o){o.isDocked()&&g8(t,r,o)},h8=function(t,r,o){return o.isDocked()},p8=function(t,r,o,c){return o.setModes(c)},b8=function(t,r,o){return o.getModes()},y8=Object.freeze({__proto__:null,refresh:_$,reset:kI,isDocked:h8,getModes:b8,setModes:p8}),w8=function(t,r){return ma([ov(H1(),function(o,c){t.contextual.each(function(v){if(es(o.element,v.transitionClass)){go(o.element,[v.transitionClass,v.fadeInClass]);var m=r.isVisible()?v.onShown:v.onHidden;m(o)}c.stop()})}),_t(uf(),function(o,c){_$(o,t,r)}),_t(Tl(),function(o,c){kI(o,t,r)})])},C8=Object.freeze({__proto__:null,events:w8}),x8=[Xo("contextual",[nr("fadeInClass"),nr("fadeOutClass"),nr("transitionClass"),Eo("lazyContext"),ea("onShow"),ea("onShown"),ea("onHide"),ea("onHidden")]),no("lazyViewport",Fi),ii("modes",["top","bottom"],bo),ea("onDocked"),ea("onUndocked")],S8=function(t){var r=Zt(!1),o=Zt(!0),c=Zt(S.none()),v=Zt(t.modes),m=function(){return"docked:  "+r.get()+", visible: "+o.get()+", modes: "+v.get().join(",")};return Es({isDocked:r.get,setDocked:r.set,getInitialPosition:c.get,setInitialPosition:c.set,isVisible:o.get,setVisible:o.set,getModes:v.get,setModes:v.set,readState:m})},T8=Object.freeze({__proto__:null,init:S8}),vs=$o({fields:x8,name:"docking",active:C8,apis:y8,state:T8}),Mm={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},EI="tox-tinymce--toolbar-sticky-on",AI="tox-tinymce--toolbar-sticky-off",k8=function(t,r){var o=Ts(r),c=o.dom.defaultView.innerHeight,v=Gs(o),m=_n.fromDom(t.elm),p=gf(m),w=Mi(m),x=p.y,k=x+w,O=Sc(r),_=Mi(r),F=O.top,Y=F+_,ae=Math.abs(F-v.top)<2,ne=Math.abs(Y-(v.top+c))<2;if(ae&&x<Y)Yh(v.left,x-_,o);else if(ne&&k>F){var pe=x-c+w+_;Yh(v.left,pe,o)}},E8=function(t,r){return Re(vs.getModes(t),r)},B$=function(t){var r=function(c){return yv(c)+(parseInt(_s(c,"margin-top"),10)||0)+(parseInt(_s(c,"margin-bottom"),10)||0)},o=t.element;wi(o).each(function(c){var v="padding-"+vs.getModes(t)[0];if(vs.isDocked(t)){var m=pu(c);Kr(o,"width",m+"px"),Kr(c,v,r(o)+"px")}else Ma(o,"width"),Ma(c,v)})},OI=function(t,r){r?(Va(t,Mm.fadeOutClass),ts(t,[Mm.transitionClass,Mm.fadeInClass])):(Va(t,Mm.fadeInClass),ts(t,[Mm.fadeOutClass,Mm.transitionClass]))},DI=function(t,r){var o=_n.fromDom(t.getContainer());r?(ja(o,EI),Va(o,AI)):(ja(o,AI),Va(o,EI))},A8=function(t,r){var o=Ts(r);Tc(o).filter(function(c){return!Vr(r,c)}).filter(function(c){return Vr(c,_n.fromDom(o.dom.body))||Us(t,c)}).each(function(){return wf(r)})},O8=function(t,r){return Ji(t).orThunk(function(){return r().toOptional().bind(function(o){return Ji(o.element)})})},D8=function(t,r,o){t.inline||(r.header.isPositionedAtTop()||t.on("ResizeEditor",function(){o().each(vs.reset)}),t.on("ResizeWindow ResizeEditor",function(){o().each(B$)}),t.on("SkinLoaded",function(){o().each(function(c){vs.isDocked(c)?vs.reset(c):vs.refresh(c)})}),t.on("FullscreenStateChanged",function(){o().each(vs.reset)})),t.on("AfterScrollIntoView",function(c){o().each(function(v){vs.refresh(v);var m=v.element;Yv(m)&&k8(c,m)})}),t.on("PostRender",function(){DI(t,!1)})},_8=function(t){return t().map(vs.isDocked).getOr(!1)},B8=function(){var t;return[zi.config({channels:(t={},t[zx()]={onReceive:B$},t)})]},_I=function(t,r){var o=Zt(S.none()),c=r.getSink,v=function(w){c().each(function(x){return w(x.element)})},m=function(w){t.inline||B$(w),DI(t,vs.isDocked(w)),w.getSystem().broadcastOn([Ec()],{}),c().each(function(x){return x.getSystem().broadcastOn([Ec()],{})})},p=t.inline?[]:B8();return q([Br.config({}),vs.config({contextual:te({lazyContext:function(w){var x=yv(w.element),k=t.inline?t.getContentAreaContainer():t.getContainer(),O=rs(_n.fromDom(k)),_=O.height-x,F=O.y+(E8(w,"top")?0:x);return S.some(ns(O.x,F,O.width,_))},onShow:function(){v(function(w){return OI(w,!0)})},onShown:function(w){v(function(x){return go(x,[Mm.transitionClass,Mm.fadeInClass])}),o.get().each(function(x){A8(w.element,x),o.set(S.none())})},onHide:function(w){o.set(O8(w.element,c)),v(function(x){return OI(x,!1)})},onHidden:function(){v(function(w){return go(w,[Mm.transitionClass])})}},Mm),modes:[r.header.getDockingMode()],onDocked:m,onUndocked:m})],p)},R8=Object.freeze({__proto__:null,setup:D8,isDocked:_8,getBehaviours:_I}),P8=function(t){var r=t.editor,o=t.sticky?_I:pI;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Lt(o(r,t.sharedBackstage))}},N8=function(t,r){var o=function(v,m){var p=we(m,function(w){var x={type:"menubutton",text:w.text,fetch:function(O){O(w.getItems())}},k=J_(x).mapError(function(O){return ds(O)}).getOrDie();return y3(k,"tox-mbtn",r.backstage,S.some("menuitem"))});Mr.set(v,p)},c={focus:br.focusIn,setMenus:o};return{uid:t.uid,dom:t.dom,components:[],behaviours:Lt([Mr.config({}),qr("menubar-events",[so(function(v){t.onSetup(v)}),_t(wl(),function(v,m){$i(v.element,".tox-mbtn--active").each(function(p){Ks(m.event.target,".tox-mbtn").each(function(w){Vr(p,w)||v.getSystem().getByDom(p).each(function(x){v.getSystem().getByDom(w).each(function(k){To.expand(k),To.close(x),Br.focus(k)})})})})}),_t(Qy(),function(v,m){m.event.prevFocus.bind(function(p){return v.getSystem().getByDom(p).toOptional()}).each(function(p){m.event.newFocus.bind(function(w){return v.getSystem().getByDom(w).toOptional()}).each(function(w){To.isOpen(p)&&(To.expand(w),To.close(p))})})})]),br.config({mode:"flow",selector:".tox-mbtn",onEscape:function(v){return t.onEscape(v),S.some(!0)}}),Do.config({})]),apis:c,domModification:{attributes:{role:"menubar"}}}},R$=is({factory:N8,name:"silver.Menubar",configFields:[Ee("dom"),Ee("uid"),Ee("onEscape"),Ee("backstage"),$e("onSetup",Le)],apis:{focus:function(t,r){t.focus(r)},setMenus:function(t,r,o){t.setMenus(r,o)}}}),BI="container",M8=[ei("slotBehaviours",[])],RI=function(t){return"<alloy.field."+t+">"},F8=function(t){var r=function(){var m=[],p=function(w,x){return m.push(w),Dp(BI,RI(w),x)};return{slot:p,record:function(){return m}}}(),o=t(r),c=r.record(),v=we(c,function(m){return Li({name:m,pname:RI(m)})});return A0(BI,M8,v,$8,o)},$8=function(t,r){var o=function(ne){return T0(t)},c=function(ne,pe){return $a(ne,t,pe)},v=function(ne,pe){return function(ie,Ae){return $a(ie,t,Ae).map(function(ze){return ne(ze,Ae)}).getOr(pe)}},m=function(ne){return function(pe,ie){Ye(ie,function(Ae){return ne(pe,Ae)})}},p=function(ne,pe){return Ci(ne.element,"aria-hidden")!=="true"},w=function(ne,pe){if(!p(ne)){var ie=ne.element;Ma(ie,"display"),Bu(ie,"aria-hidden"),Sr(ne,_d(),{name:pe,visible:!0})}},x=function(ne,pe){if(p(ne)){var ie=ne.element;Kr(ie,"display","none"),ga(ie,"aria-hidden","true"),Sr(ne,_d(),{name:pe,visible:!1})}},k=v(p,!1),O=v(x),_=m(O),F=function(ne){return _(ne,o())},Y=v(w),ae={getSlotNames:o,getSlot:c,isShowing:k,hideSlot:O,hideAllSlots:F,showSlot:Y};return{uid:t.uid,dom:t.dom,components:r,behaviours:Tp(t.slotBehaviours),apis:ae}},I8=kr({getSlotNames:function(t,r){return t.getSlotNames(r)},getSlot:function(t,r,o){return t.getSlot(r,o)},isShowing:function(t,r,o){return t.isShowing(r,o)},hideSlot:function(t,r,o){return t.hideSlot(r,o)},hideAllSlots:function(t,r){return t.hideAllSlots(r)},showSlot:function(t,r,o){return t.showSlot(r,o)}},function(t){return Ru(t)}),Fm=te(te({},I8),{sketch:F8}),z8=Be([ia("icon"),ia("tooltip"),no("onShow",Le),no("onHide",Le),no("onSetup",function(){return Le})]),L8=function(t){return Ba("sidebar",z8,t)},H8=function(t){var r=t.ui.registry.getAll().sidebars;Ye(fr(r),function(o){var c=r[o],v=function(){return S.from(t.queryCommandValue("ToggleSidebar")).is(o)};t.ui.registry.addToggleButton(o,{icon:c.icon,tooltip:c.tooltip,onAction:function(m){t.execCommand("ToggleSidebar",!1,o),m.setActive(v())},onSetup:function(m){var p=function(){return m.setActive(v())};return t.on("ToggleSidebar",p),function(){t.off("ToggleSidebar",p)}}})})},V8=function(t){return{element:function(){return t.element.dom}}},U8=function(t,r){var o=we(fr(r),function(c){var v=r[c],m=ju(L8(v));return{name:c,getApi:V8,onSetup:m.onSetup,onShow:m.onShow,onHide:m.onHide}});return we(o,function(c){var v=Zt(Le);return t.slot(c.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:AC.unnamedEvents([yy(c,v),s1(c,v),_t(_d(),function(m,p){var w=p.event,x=he(o,function(k){return k.name===w.name});x.each(function(k){var O=w.visible?k.onShow:k.onHide;O(k.getApi(m))})})])})})},W8=function(t){return Fm.sketch(function(r){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:U8(r,t),slotBehaviours:AC.unnamedEvents([so(function(o){return Fm.hideAllSlots(o)})])}})},j8=function(t,r){var o=va.getCurrent(t);o.each(function(c){return Mr.set(c,[W8(r)])})},q8=function(t,r){var o=va.getCurrent(t);o.each(function(c){var v=va.getCurrent(c);v.each(function(m){jl.hasGrown(c)?Fm.isShowing(m,r)?jl.shrink(c):(Fm.hideAllSlots(m),Fm.showSlot(m,r)):(Fm.hideAllSlots(m),Fm.showSlot(m,r),jl.grow(c))})})},G8=function(t){var r=va.getCurrent(t);return r.bind(function(o){var c=jl.isGrowing(o)||jl.hasGrown(o);if(c){var v=va.getCurrent(o);return v.bind(function(m){return he(Fm.getSlotNames(m),function(p){return Fm.isShowing(m,p)})})}else return S.none()})},P$=Qn("FixSizeEvent"),N$=Qn("AutoSizeEvent"),K8=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Lt([Do.config({}),Br.config({}),jl.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(r){var o=va.getCurrent(r);o.each(Fm.hideAllSlots),Lr(r,N$)},onGrown:function(r){Lr(r,N$)},onStartGrow:function(r){Sr(r,P$,{width:fo(r.element,"width").getOr("")})},onStartShrink:function(r){Sr(r,P$,{width:pu(r.element)+"px"})}}),Mr.config({}),va.config({find:function(r){var o=Mr.contents(r);return pt(o)}})])}],behaviours:Lt([Vl.childAt(0),qr("sidebar-sliding-events",[_t(P$,function(r,o){Kr(r.element,"width",o.event.width)}),_t(N$,function(r,o){Ma(r.element,"width")})])])}},X8=function(t){var r=t.dom.attributes!==void 0?t.dom.attributes:[];return ee(r,function(o,c){var v;return c.name==="class"?o:te(te({},o),(v={},v[c.name]=c.value,v))},{})},Y8=function(t){return Array.prototype.slice.call(t.dom.classList,0)},M1=function(t){var r=_n.fromHtml(t),o=pc(r),c=X8(r),v=Y8(r),m=o.length===0?{}:{innerHtml:Rd(r)};return te({tag:Ju(r),classes:v,attributes:c},m)},J8=function(t){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:M1('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:Lt([br.config({mode:"special",onTab:function(){return S.some(!0)},onShiftTab:function(){return S.some(!0)}}),Br.config({})])}},Z8=function(t,r,o){var c=t.element;r===!0?(Mr.set(t,[J8(o)]),Ma(c,"display"),Bu(c,"aria-hidden")):(Mr.set(t,[]),Kr(c,"display","none"),ga(c,"aria-hidden","true"))},Q8=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Lt([Mr.config({})]),components:[]}},e7=function(t,r,o){var c=Zt(!1),v=Zt(S.none()),m=function(p){p!==c.get()&&(Z8(r(),p,o.providers),c.set(p),t.fire("AfterProgressState",{state:p}))};t.on("ProgressState",function(p){if(v.get().each(zf.clearTimeout),zn(p.time)){var w=zf.setEditorTimeout(t,function(){return m(p.state)},p.time);v.set(S.some(w))}else m(p.state),v.set(S.none())})},t7=function(t,r,o){var c={getSocket:function(v){return Ca.getPart(v,t,"socket")},setSidebar:function(v,m){Ca.getPart(v,t,"sidebar").each(function(p){return j8(p,m)})},toggleSidebar:function(v,m){Ca.getPart(v,t,"sidebar").each(function(p){return q8(p,m)})},whichSidebar:function(v){return Ca.getPart(v,t,"sidebar").bind(G8).getOrNull()},getHeader:function(v){return Ca.getPart(v,t,"header")},getToolbar:function(v){return Ca.getPart(v,t,"toolbar")},setToolbar:function(v,m){Ca.getPart(v,t,"toolbar").each(function(p){p.getApis().setGroups(p,m)})},setToolbars:function(v,m){Ca.getPart(v,t,"multiple-toolbar").each(function(p){hI.setItems(p,m)})},refreshToolbar:function(v){var m=Ca.getPart(v,t,"toolbar");m.each(function(p){return p.getApis().refresh(p)})},toggleToolbarDrawer:function(v){Ca.getPart(v,t,"toolbar").each(function(m){D0(m.getApis().toggle,function(p){return p(m)})})},isToolbarDrawerToggled:function(v){return Ca.getPart(v,t,"toolbar").bind(function(m){return S.from(m.getApis().isOpen).map(function(p){return p(m)})}).getOr(!1)},getThrobber:function(v){return Ca.getPart(v,t,"throbber")},focusToolbar:function(v){var m=Ca.getPart(v,t,"toolbar").orThunk(function(){return Ca.getPart(v,t,"multiple-toolbar")});m.each(function(p){br.focusIn(p)})},setMenubar:function(v,m){Ca.getPart(v,t,"menubar").each(function(p){R$.setMenus(p,m)})},focusMenubar:function(v){Ca.getPart(v,t,"menubar").each(function(m){R$.focus(m)})}};return{uid:t.uid,dom:t.dom,components:r,apis:c,behaviours:t.behaviours}},n7=uc.optional({factory:R$,name:"menubar",schema:[Ee("backstage")]}),r7=function(t){return t.type===oc.sliding?B1:t.type===oc.floating?X_:Th},a7=uc.optional({factory:{sketch:function(t){return hI.sketch({uid:t.uid,dom:t.dom,listBehaviours:Lt([br.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return Th({type:t.type,uid:Qn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),S.some(!0)}})},setupItem:function(r,o,c,v){Ul.setGroups(o,c)},shell:!0})}},name:"multiple-toolbar",schema:[Ee("dom"),Ee("onEscape")]}),o7=uc.optional({factory:{sketch:function(t){var r=r7(t),o={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),S.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return r(o)}},name:"toolbar",schema:[Ee("dom"),Ee("onEscape"),Ee("getSink")]}),i7=uc.optional({factory:{sketch:P8},name:"header",schema:[Ee("dom")]}),u7=uc.optional({name:"socket",schema:[Ee("dom")]}),s7=uc.optional({factory:{sketch:K8},name:"sidebar",schema:[Ee("dom")]}),c7=uc.optional({factory:{sketch:Q8},name:"throbber",schema:[Ee("dom")]}),Lo=Vi({name:"OuterContainer",factory:t7,configFields:[Ee("dom"),Ee("behaviours")],partFields:[i7,n7,o7,a7,u7,s7,c7],apis:{getSocket:function(t,r){return t.getSocket(r)},setSidebar:function(t,r,o){t.setSidebar(r,o)},toggleSidebar:function(t,r,o){t.toggleSidebar(r,o)},whichSidebar:function(t,r){return t.whichSidebar(r)},getHeader:function(t,r){return t.getHeader(r)},getToolbar:function(t,r){return t.getToolbar(r)},setToolbar:function(t,r,o){var c=we(o,function(v){return Lx(v)});t.setToolbar(r,c)},setToolbars:function(t,r,o){var c=we(o,function(v){return we(v,Lx)});t.setToolbars(r,c)},refreshToolbar:function(t,r){return t.refreshToolbar(r)},toggleToolbarDrawer:function(t,r){t.toggleToolbarDrawer(r)},isToolbarDrawerToggled:function(t,r){return t.isToolbarDrawerToggled(r)},getThrobber:function(t,r){return t.getThrobber(r)},setMenubar:function(t,r,o){t.setMenubar(r,o)},focusMenubar:function(t,r){t.focusMenubar(r)},focusToolbar:function(t,r){t.focusToolbar(r)}}}),l7="file edit view insert format tools table help",M$={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},f7=function(t,r,o){var c=JA(o).split(/[ ,]/);return{text:t.title,getItems:function(){return St(t.items,function(v){var m=v.toLowerCase();return m.trim().length===0?[]:ut(c,function(p){return p===m})?[]:m==="separator"||m==="|"?[{type:"separator"}]:r.menuItems[m]?[r.menuItems[m]]:[]})}}},F$=function(t){return typeof t=="string"?t.split(" "):t},PI=function(t,r){var o=te(te({},M$),r.menus),c=fr(r.menus).length>0,v=r.menubar===void 0||r.menubar===!0?F$(l7):F$(r.menubar===!1?"":r.menubar),m=de(v,function(w){return c&&r.menus.hasOwnProperty(w)&&r.menus[w].hasOwnProperty("items")||M$.hasOwnProperty(w)}),p=we(m,function(w){var x=o[w];return f7({title:x.title,items:F$(x.items)},r,t)});return de(p,function(w){var x=function(k){return k.type!=="separator"};return w.getItems().length>0&&ut(w.getItems(),x)})},NI=function(t){var r=function(){t._skinLoaded=!0,nP(t)};return function(){t.initialized?r():t.on("init",r)}},v7=function(t,r){return function(){return LC(t,{message:r})}},MI=function(t,r,o){return new n1(function(c,v){o.load(r,c,v),t.on("remove",function(){return o.unload(r)})})},d7=function(t,r){var o=r+"/skin.min.css";return MI(t,o,t.ui.styleSheetLoader)},m7=function(t,r){var o=J1(_n.fromDom(t.getElement()));if(o){var c=r+"/skin.shadowdom.min.css";return MI(t,c,wm.DOM.styleSheetLoader)}else return n1.resolve()},FI=function(t,r){var o=qA(r);o&&r.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css"),GA(r)===!1&&$n(o)?n1.all([d7(r,o),m7(r,o)]).then(NI(r),v7(r,"Skin could not be loaded")):NI(r)()},g7=gn(FI,!1),h7=gn(FI,!0),$I=function(t,r,o,c){var v=r.outerContainer,m=o.toolbar,p=o.buttons;if(jn(m,$n)){var w=m.map(function(x){var k={toolbar:x,buttons:p,allowToolbarGroups:o.allowToolbarGroups};return jx(t,k,{backstage:c},S.none())});Lo.setToolbars(v,w)}else Lo.setToolbar(v,jx(t,o,{backstage:c},S.none()))},II=Xu(),p7=II.os.isiOS()&&II.os.version.major<=12,b7=function(t,r){var o=t.dom,c=t.getWin(),v=t.getDoc().documentElement,m=Zt(Ka(c.innerWidth,c.innerHeight)),p=Zt(Ka(v.offsetWidth,v.offsetHeight)),w=function(){var F=m.get();(F.left!==c.innerWidth||F.top!==c.innerHeight)&&(m.set(Ka(c.innerWidth,c.innerHeight)),Cy(t))},x=function(){var F=t.getDoc().documentElement,Y=p.get();(Y.left!==F.offsetWidth||Y.top!==F.offsetHeight)&&(p.set(Ka(F.offsetWidth,F.offsetHeight)),Cy(t))},k=function(F){return ki(t,F)};o.bind(c,"resize",w),o.bind(c,"scroll",k);var O=UC(_n.fromDom(t.getBody()),"load",x),_=r.uiMothership.element;t.on("hide",function(){Kr(_,"display","none")}),t.on("show",function(){Ma(_,"display")}),t.on("NodeChange",x),t.on("remove",function(){O.unbind(),o.unbind(c,"resize",w),o.unbind(c,"scroll",k),c=null})},y7=function(t,r,o,c,v){var m=Zt(0),p=r.outerContainer;g7(t);var w=_n.fromDom(v.targetNode),x=$h(qo(w));aT(w,r.mothership),bp(x,r.uiMothership),t.on("PostRender",function(){$I(t,r,o,c),m.set(t.getWin().innerWidth),Lo.setMenubar(p,PI(t,o)),Lo.setSidebar(p,o.sidebar),b7(t,r)});var k=Lo.getSocket(p).getOrDie("Could not find expected socket element");if(p7){hv(k.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var O=TB(function(){t.fire("ScrollContent")},20),_=nl(k.element,"scroll",O.throttle);t.on("remove",_.unbind)}c4(t,r),t.addCommand("ToggleSidebar",function(ne,pe){Lo.toggleSidebar(p,pe),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return Lo.whichSidebar(p)});var F=by(t),Y=function(){Lo.refreshToolbar(r.outerContainer)};(F===oc.sliding||F===oc.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",function(){var ne=t.getWin().innerWidth;ne!==m.get()&&(Y(),m.set(ne))});var ae={enable:function(){u1(r,!1)},disable:function(){u1(r,!0)},isDisabled:function(){return wr.isDisabled(p)}};return{iframeContainer:k.element.dom,editorContainer:p.element.dom,api:ae}},w7=Object.freeze({__proto__:null,render:y7}),$$=function(t){var r=/^[0-9\.]+(|px)$/i;return r.test(""+t)?S.some(parseInt(""+t,10)):S.none()},I$=function(t){return zn(t)?t+"px":t},aB=function(t,r,o){var c=r.filter(function(m){return t<m}),v=o.filter(function(m){return t>m});return c.or(v).getOr(t)},C7=function(t){var r=KA(t),o=YA(t),c=oh(t);return $$(r).map(function(v){return aB(v,o,c)})},x7=function(t){var r=C7(t);return r.getOr(KA(t))},zI=function(t){var r=XA(t),o=py(t),c=DC(t);return $$(r).map(function(v){return aB(v,o,c)})},S7=function(t){var r=zI(t);return r.getOr(XA(t))},T7=function(t,r,o,c,v){var m=o.uiMothership,p=o.outerContainer,w=wm.DOM,x=RC(t),k=PC(t),O=DC(t).or(zI(t)),_=c.shared.header,F=_.isPositionedAtTop,Y=by(t),ae=Y===oc.sliding||Y===oc.floating,ne=Zt(!1),pe=function(){return ne.get()&&!t.removed},ie=function(wt){return ae?wt.fold(function(){return 0},function(Ft){return Ft.components().length>1?Mi(Ft.components()[1].element):0}):0},Ae=function(wt){switch(e4(t)){case zu.auto:var Ft=Lo.getToolbar(p),Vn=ie(Ft),Tr=Mi(wt.element)-Vn,Gt=rs(r),tr=Gt.y>Tr;if(tr)return"top";var pr=G1(r),da=Math.max(pr.dom.scrollHeight,Mi(pr)),Ua=Gt.bottom<da-Tr;if(Ua)return"bottom";var ko=Fi(),Kl=ko.bottom<Gt.bottom-Tr;return Kl?"bottom":"top";case zu.bottom:return"bottom";case zu.top:default:return"top"}},ze=function(wt){var Ft=v.get();vs.setModes(Ft,[wt]),_.setDockingMode(wt);var Vn=F()?Qs.TopToBottom:Qs.BottomToTop;ga(Ft.element,Yb,Vn)},je=function(){var wt=O.getOrThunk(function(){var Ft=$$(_s(Os(),"margin-left")).getOr(0);return pu(Os())-Sc(r).left+Ft});Kr(v.get().element,"max-width",wt+"px")},ht=function(){var wt=Lo.getToolbar(p),Ft=ie(wt),Vn=rs(r),Tr=F()?Math.max(Vn.y-Mi(v.get().element)+Ft,0):Vn.bottom;hv(p.element,{position:"absolute",top:Math.round(Tr)+"px",left:Math.round(Vn.x)+"px"})},Bt=function(){m.broadcastOn([Ec()],{})},ft=function(wt){if(wt===void 0&&(wt=!1),!!pe()){if(x||je(),ae&&Lo.refreshToolbar(p),x||ht(),k){var Ft=v.get();wt?vs.reset(Ft):vs.refresh(Ft)}Bt()}},cn=function(wt){if(wt===void 0&&(wt=!0),!(x||!k||!pe())){var Ft=_.getDockingMode(),Vn=Ae(v.get());Vn!==Ft&&(ze(Vn),wt&&ft(!0))}},Er=function(){ne.set(!0),Kr(p.element,"display","flex"),w.addClass(t.getBody(),"mce-edit-focus"),Ma(m.element,"display"),cn(!1),ft()},On=function(){ne.set(!1),o.outerContainer&&(Kr(p.element,"display","none"),w.removeClass(t.getBody(),"mce-edit-focus")),Kr(m.element,"display","none")};return{isVisible:pe,isPositionedAtTop:F,show:Er,hide:On,update:ft,updateMode:cn,repositionPopups:Bt}},LI=function(t,r){var o=rs(t);return{pos:r?o.y:o.bottom,bounds:o}},k7=function(t,r,o,c){var v=Zt(LI(r,o.isPositionedAtTop())),m=function(w){var x=LI(r,o.isPositionedAtTop()),k=x.pos,O=x.bounds,_=v.get(),F=_.pos,Y=_.bounds,ae=O.height!==Y.height||O.width!==Y.width;v.set({pos:k,bounds:O}),ae&&Cy(t,w),o.isVisible()&&(F!==k?o.update(!0):ae&&(o.updateMode(),o.repositionPopups()))};c||(t.on("activate",o.show),t.on("deactivate",o.hide)),t.on("SkinLoaded ResizeWindow",function(){return o.update(!0)}),t.on("NodeChange keydown",function(w){zf.requestAnimationFrame(function(){return m(w)})}),t.on("ScrollWindow",function(){return o.updateMode()});var p=tu();p.set(UC(_n.fromDom(t.getBody()),"load",m)),t.on("remove",function(){p.clear()})},E7=function(t,r,o,c,v){var m=r.mothership,p=r.uiMothership,w=r.outerContainer,x=Zt(null),k=_n.fromDom(v.targetNode),O=T7(t,k,r,c,x),_=_R(t);h7(t);var F=function(){if(x.get()){O.show();return}x.set(Lo.getHeader(w).getOrDie());var ae=r4(t);bp(ae,m),bp(ae,p),$I(t,r,o,c),Lo.setMenubar(w,PI(t,o)),O.show(),k7(t,k,O,_),t.nodeChanged()};t.on("show",F),t.on("hide",O.hide),_||(t.on("focus",F),t.on("blur",O.hide)),t.on("init",function(){(t.hasFocus()||_)&&F()}),c4(t,r);var Y={show:function(){O.show()},hide:function(){O.hide()},enable:function(){u1(r,!1)},disable:function(){u1(r,!0)},isDisabled:function(){return wr.isDisabled(w)}};return{editorContainer:w.element.dom,api:Y}},A7=Object.freeze({__proto__:null,render:E7}),O7=function(t){var r=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];eu.each(r,function(c){t.ui.registry.addToggleButton(c.name,{tooltip:c.text,onAction:function(){return t.execCommand(c.cmd)},icon:c.icon,onSetup:fl(t,c.name)})});var o={name:"alignnone",text:"No alignment",cmd:"JustifyNone",icon:"align-none"};t.ui.registry.addButton(o.name,{tooltip:o.text,onAction:function(){return t.execCommand(o.cmd)},icon:o.icon})},D7=function(t,r){eo(t,r),ln(t,r),P1(t,r),Gl(t,r),Uu(t,r)},_7=function(t,r){t.setDisabled(!r.queryCommandState("outdent"));var o=function(){t.setDisabled(!r.queryCommandState("outdent"))};return r.on("NodeChange",o),function(){return r.off("NodeChange",o)}},B7=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(r){return _7(r,t)},onAction:function(){return t.execCommand("outdent")}}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return t.execCommand("indent")}})},R7=function(t){B7(t)},P7={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},N7=function(){var t="[0-9]+",r="[+-]?"+t,o="[eE]"+r,c="\\.",v=function(w){return"(?:"+w+")?"},m=["Infinity",t+c+v(t)+v(o),c+t+v(o),t+v(o)].join("|"),p="[+-]?(?:"+m+")";return new RegExp("^("+p+")(.*)$")}(),M7=function(t,r){return ut(r,function(o){return ut(P7[o],function(c){return t===c})})},F7=function(t,r){var o=S.from(N7.exec(t));return o.bind(function(c){var v=Number(c[1]),m=c[2];return M7(m,r)?S.some({value:v,unit:m}):S.none()})},$7=function(t,r){return F7(t,r).map(function(o){var c=o.value,v=o.unit;return c+v})},HI=function(t){return $7(t,["fixed","relative","empty"]).getOr(t)},VI=function(t){var r=DR(t),o=new Map,c=ri(),v=function(){var m=HI(t.queryCommandValue("LineHeight"));S.from(o.get(m)).fold(function(){return c.clear()},function(p){c.set({destroy:function(){p.setActive(!1)}}),p.setActive(!0)})};return t.on("nodeChange",v),we(r,function(m,p){return{type:"togglemenuitem",text:m,onSetup:function(w){return o.set(HI(m),w),p+1===r.length&&v(),function(){p===0&&(t.off("nodeChange",v),c.clear())}},onAction:function(){return t.execCommand("LineHeight",!1,m)}}})},I7=function(t){t.ui.registry.addNestedMenuItem("lineheight",{type:"nestedmenuitem",text:"Line height",getSubmenuItems:function(){return VI(t)}})},z7=function(t){t.ui.registry.addMenuButton("lineheight",{tooltip:"Line height",icon:"line-height",fetch:function(r){return r(VI(t))}})},L7=function(t){I7(t),z7(t)},z$=function(t,r){return function(){t.execCommand("mceToggleFormat",!1,r)}},H7=function(t){eu.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(c,v){t.ui.registry.addToggleButton(c.name,{tooltip:c.text,icon:c.icon,onSetup:fl(t,c.name),onAction:z$(t,c.name)})});for(var r=1;r<=6;r++){var o="h"+r;t.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+r,onSetup:fl(t,o),onAction:z$(t,o)})}},V7=function(t){eu.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(r){t.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onAction:function(){return t.execCommand(r.action)}})})},U7=function(t){eu.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(r){t.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onAction:function(){return t.execCommand(r.action)},onSetup:fl(t,r.name)})})},W7=function(t){H7(t),V7(t),U7(t)},j7=function(t){eu.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(r){t.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onAction:function(){return t.execCommand(r.action)}})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:z$(t,"code")})},q7=function(t){W7(t),j7(t)},oB=function(t,r,o){var c=function(){return r.undoManager?r.undoManager[o]():!1},v=function(){t.setDisabled(r.mode.isReadOnly()||!c())};return t.setDisabled(!c()),r.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",v),function(){return r.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",v)}},G7=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(r){return oB(r,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(r){return oB(r,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})},K7=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(r){return oB(r,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(r){return oB(r,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})},X7=function(t){G7(t),K7(t)},Y7=function(t,r){t.setActive(r.hasVisual);var o=function(c){t.setActive(c.hasVisual)};return r.on("VisualAid",o),function(){return r.off("VisualAid",o)}},J7=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(r){return Y7(r,t)},onAction:function(){t.execCommand("mceToggleVisualAid")}})},Z7=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return t.execCommand("mceToggleVisualAid")}})},Q7=function(t){Z7(t),J7(t)},ez=function(t,r){O7(t),q7(t),D7(t,r),X7(t),pP(t),Q7(t),R7(t),L7(t)},aA=function(t,r){return{anchor:"makeshift",x:t,y:r}},tz=function(t,r,o){return aA(t.x+r,t.y+o)},UI=function(t){return t.type==="longpress"||t.type.indexOf("touch")===0},nz=function(t){if(UI(t)){var r=t.touches[0];return aA(r.pageX,r.pageY)}else return aA(t.pageX,t.pageY)},rz=function(t){if(UI(t)){var r=t.touches[0];return aA(r.clientX,r.clientY)}else return aA(t.clientX,t.clientY)},az=function(t,r){var o=wm.DOM.getPos(t);return tz(r,o.x,o.y)},WI=function(t,r){return r.type==="contextmenu"||r.type==="longpress"?t.inline?nz(r):az(t.getContentAreaContainer(),rz(r)):oz(t)},oz=function(t){return{anchor:"selection",root:_n.fromDom(t.selection.getNode())}},jI=function(t){return{anchor:"node",node:S.some(_n.fromDom(t.selection.getNode())),root:_n.fromDom(t.getBody())}},iz=function(t,r,o,c,v,m){var p=o(),w=m?jI(t):WI(t,r);E1(p,Ll.CLOSE_ON_EXECUTE,c,!1).map(function(x){r.preventDefault(),So.showMenuAt(v,w,{menu:{markers:a1("normal")},data:x})})},uz={onLtr:function(){return[Ii,fi,Go,vi,Yi,Nu,ud,th,id,od,eh,ym]},onRtl:function(){return[Ii,Go,fi,Yi,vi,Nu,ud,th,eh,ym,id,od]}},sz=12,cz={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},lz=function(t,r){var o=t.selection;if(o.isCollapsed()||r.touches.length<1)return!1;var c=r.touches[0],v=o.getRng(),m=n0(t.getWin(),wg.domRange(v));return m.exists(function(p){return p.left<=c.clientX&&p.right>=c.clientX&&p.top<=c.clientY&&p.bottom>=c.clientY})},fz=function(t,r){return te({bubble:Kd(0,sz,cz),layouts:uz,overrides:{maxWidthFunction:H3(),maxHeightFunction:qd()}},WI(t,r))},vz=function(t){var r=t.selection.getRng(),o=function(){zf.setEditorTimeout(t,function(){t.selection.setRng(r)},10),m()};t.once("touchend",o);var c=function(p){p.preventDefault(),p.stopImmediatePropagation()};t.on("mousedown",c,!0);var v=function(){return m()};t.once("longpresscancel",v);var m=function(){t.off("touchend",o),t.off("longpresscancel",v),t.off("mousedown",c)}},dz=function(t,r,o,c,v,m,p){var w=m?jI(t):fz(t,r);E1(o,Ll.CLOSE_ON_EXECUTE,c,!0).map(function(x){r.preventDefault(),So.showMenuWithinBounds(v,w,{menu:{markers:a1("normal"),highlightImmediately:p},data:x,type:"horizontal"},function(){return S.some(X(t,c.shared))}),t.fire(B_)})},mz=function(t,r,o,c,v,m){var p=Xu(),w=p.os.isiOS(),x=p.os.isOSX(),k=p.os.isAndroid(),O=p.deviceType.isTouch(),_=function(){return!(k||w||x&&O)},F=function(){var ae=o();dz(t,r,ae,c,v,m,_())};if((x||w)&&!m){var Y=function(){vz(t),F()};lz(t,r)?Y():(t.once("selectionchange",Y),t.once("touchend",function(){return t.off("selectionchange",Y)}))}else k&&!m&&t.selection.setCursorLocation(r.target,0),F()},qI=function(t){return typeof t=="string"?t.split(/[ ,]/):t},GI=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},gz=function(t,r,o){var c=t.ui.registry.getAll().contextMenus;return S.from(t.getParam(r)).map(qI).getOrThunk(function(){return de(qI(o),function(v){return ua(c,v)})})},hz=function(t){return t.getParam("contextmenu")===!1},pz=function(t){return gz(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},bz=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},KI=function(t){return $n(t)?t==="|":t.type==="separator"},L$={type:"separator"},XI=function(t){if($n(t))return t;switch(t.type){case"separator":return L$;case"submenu":return{type:"nestedmenuitem",text:t.text,icon:t.icon,getSubmenuItems:function(){var r=t.getSubmenuItems();return $n(r)?r:we(r,XI)}};default:return{type:"menuitem",text:t.text,icon:t.icon,onAction:qn(t.onAction)}}},YI=function(t,r){if(r.length===0)return t;var o=Jt(t).filter(function(v){return!KI(v)}),c=o.fold(function(){return[]},function(v){return[L$]});return t.concat(c).concat(r).concat([L$])},yz=function(t,r,o){var c=ee(r,function(v,m){if(ua(t,m)){var p=t[m].update(o);if($n(p))return YI(v,p.split(" "));if(p.length>0){var w=we(p,XI);return YI(v,w)}else return v}else return v.concat([m])},[]);return c.length>0&&KI(c[c.length-1])&&c.pop(),c},wz=function(t,r){return r.ctrlKey&&!GI(t)},JI=function(t,r){return r.type!=="longpress"&&(r.button!==2||r.target===t.getBody()&&r.pointerType==="")},ZI=function(t,r){return JI(t,r)?t.selection.getStart(!0):r.target},Cz=function(t,r){var o=bz(t);if(JI(t,r))return!0;if(o){var c=ZI(t,r);return m1(_n.fromDom(c),o)}else return!1},xz=function(t,r,o){var c=Xu(),v=c.deviceType.isTouch,m=iu(So.sketch({dom:{tag:"div"},lazySink:r,onEscape:function(){return t.focus()},onShow:function(){return o.setContextMenuState(!0)},onHide:function(){return o.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Lt([qr("dismissContextMenu",[_t(Fo(),function(x,k){jr.close(x),t.focus()})])])})),p=function(x){return So.hide(m)},w=function(x){if(GI(t)&&x.preventDefault(),!(wz(t,x)||hz(t))){var k=Cz(t,x),O=function(){var F=ZI(t,x),Y=t.ui.registry.getAll(),ae=pz(t);return yz(Y.contextMenus,ae,F)},_=v()?mz:iz;_(t,x,O,o,m,k)}};t.on("init",function(){var x="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(v()?"":" ResizeWindow");t.on(x,p),t.on("longpress contextmenu",w)})},H$=Gn.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),iB=function(t){return function(r){return r.translate(-t.left,-t.top)}},uB=function(t){return function(r){return r.translate(t.left,t.top)}},Ah=function(t){return function(r,o){return ee(t,function(c,v){return v(c)},Ka(r,o))}},sB=function(t,r,o){return t.fold(Ah([uB(o),iB(r)]),Ah([iB(r)]),Ah([]))},qx=function(t,r,o){return t.fold(Ah([uB(o)]),Ah([]),Ah([uB(r)]))},QI=function(t,r,o){return t.fold(Ah([]),Ah([iB(o)]),Ah([uB(r),iB(o)]))},Sz=function(t,r,o,c,v,m){var p=qx(t,v,m),w=qx(r,v,m);return Math.abs(p.left-w.left)<=o&&Math.abs(p.top-w.top)<=c},Tz=function(t,r,o,c,v,m){var p=qx(t,v,m),w=qx(r,v,m),x=Math.abs(p.left-w.left),k=Math.abs(p.top-w.top);return Ka(x,k)},e6=function(t,r,o){var c=t.fold(function(v,m){return{position:S.some("absolute"),left:S.some(v+"px"),top:S.some(m+"px")}},function(v,m){return{position:S.some("absolute"),left:S.some(v-o.left+"px"),top:S.some(m-o.top+"px")}},function(v,m){return{position:S.some("fixed"),left:S.some(v+"px"),top:S.some(m+"px")}});return te({right:S.none(),bottom:S.none()},c)},kz=function(t,r,o){return t.fold(function(c,v){return cB(c+r,v+o)},function(c,v){return F1(c+r,v+o)},function(c,v){return Gy(c+r,v+o)})},V$=function(t,r,o,c){var v=function(m,p){return function(w,x){var k=m(r,o,c);return p(w.getOr(k.left),x.getOr(k.top))}};return t.fold(v(QI,cB),v(qx,F1),v(sB,Gy))},cB=H$.offset,F1=H$.absolute,Gy=H$.fixed,t6=function(t,r){var o=Ci(t,r);return z(o)?NaN:parseInt(o,10)},Ez=function(t,r){var o=t.element,c=t6(o,r.leftAttr),v=t6(o,r.topAttr);return isNaN(c)||isNaN(v)?S.none():S.some(Ka(c,v))},Az=function(t,r,o){var c=t.element;ga(c,r.leftAttr,o.left+"px"),ga(c,r.topAttr,o.top+"px")},Oz=function(t,r){var o=t.element;Bu(o,r.leftAttr),Bu(o,r.topAttr)},Dz=function(t,r,o,c){return Ez(t,r).fold(function(){return o},function(v){return Gy(v.left+c.left,v.top+c.top)})},_z=function(t,r,o,c,v,m){var p=Dz(t,r,o,c),w=r.mustSnap?Rz(t,r,p,v,m):Pz(t,r,p,v,m),x=sB(p,v,m);return Az(t,r,x),w.fold(function(){return{coord:Gy(x.left,x.top),extra:S.none()}},function(k){return{coord:k.output,extra:k.extra}})},Bz=function(t,r){Oz(t,r)},n6=function(t,r,o,c){return Xt(t,function(v){var m=v.sensor,p=Sz(r,m,v.range.left,v.range.top,o,c);return p?S.some({output:V$(v.output,r,o,c),extra:v.extra}):S.none()})},Rz=function(t,r,o,c,v){var m=r.getSnapPoints(t),p=n6(m,o,c,v);return p.orThunk(function(){var w=ee(m,function(x,k){var O=k.sensor,_=Tz(o,O,k.range.left,k.range.top,c,v);return x.deltas.fold(function(){return{deltas:S.some(_),snap:S.some(k)}},function(F){var Y=(_.left+_.top)/2,ae=(F.left+F.top)/2;return Y<=ae?{deltas:S.some(_),snap:S.some(k)}:x})},{deltas:S.none(),snap:S.none()});return w.snap.map(function(x){return{output:V$(x.output,o,c,v),extra:x.extra}})})},Pz=function(t,r,o,c,v){var m=r.getSnapPoints(t);return n6(m,o,c,v)},Nz=function(t,r,o){return{coord:V$(t.output,t.output,r,o),extra:t.extra}},Mz=function(t,r,o,c){var v=r.getTarget(t.element);if(r.repositionTarget){var m=Ts(t.element),p=Gs(m),w=yI(v),x=Nz(c,p,w),k=e6(x.coord,p,w);$d(v,k)}},Fz=Object.freeze({__proto__:null,snapTo:Mz}),U$="data-initial-z-index",$z=function(t){wi(t.element).filter(ui).each(function(r){lv(r,U$).fold(function(){return Ma(r,"z-index")},function(o){return Kr(r,"z-index",o)}),Bu(r,U$)})},Iz=function(t){wi(t.element).filter(ui).each(function(r){fo(r,"z-index").each(function(o){ga(r,U$,o)}),Kr(r,"z-index",_s(t.element,"z-index"))})},r6=function(t,r){t.getSystem().addToGui(r),Iz(r)},zz=function(t){$z(t),t.getSystem().removeFromGui(t)},a6=function(t,r,o){return t.getSystem().build(su.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:o}))},Lz=Xo("snaps",[Ee("getSnapPoints"),ea("onSensor"),Ee("leftAttr"),Ee("topAttr"),$e("lazyViewport",Fi),$e("mustSnap",!1)]),W$=[$e("useFixed",Et),Ee("blockerClass"),$e("getTarget",rt),$e("onDrag",Le),$e("repositionTarget",!0),$e("onDrop",Le),no("getBounds",Fi),Lz],Hz=function(t){return Zc(fo(t,"left"),fo(t,"top"),fo(t,"position"),function(r,o,c){var v=c==="fixed"?Gy:cB;return v(parseInt(r,10),parseInt(o,10))}).getOrThunk(function(){var r=Sc(t);return F1(r.left,r.top)})},Vz=function(t,r,o,c,v){var m=v.bounds,p=qx(r,o,c),w=kc(p.left,m.x,m.x+m.width-v.width),x=kc(p.top,m.y,m.y+m.height-v.height),k=F1(w,x);return r.fold(function(){var O=QI(k,o,c);return cB(O.left,O.top)},function(){return k},function(){var O=sB(k,o,c);return Gy(O.left,O.top)})},Uz=function(t,r,o,c,v,m,p){var w=r.fold(function(){var x=kz(o,m.left,m.top),k=sB(x,c,v);return Gy(k.left,k.top)},function(x){var k=_z(t,x,o,m,c,v);return k.extra.each(function(O){x.onSensor(t,O)}),k.coord});return Vz(t,w,c,v,p)},Wz=function(t,r,o,c){var v=r.getTarget(t.element);if(r.repositionTarget){var m=Ts(t.element),p=Gs(m),w=yI(v),x=Hz(v),k=Uz(t,r.snaps,x,p,w,c,o),O=e6(k,p,w);$d(v,O)}r.onDrag(t,v,c)},o6=function(t,r){return{bounds:t.getBounds(),height:yv(r.element),width:Bs(r.element)}},j$=function(t,r,o,c,v){var m=o.update(c,v),p=o.getStartData().getOrThunk(function(){return o6(r,t)});m.each(function(w){Wz(t,r,p,w)})},lB=function(t,r,o,c){r.each(zz),o.snaps.each(function(m){Bz(t,m)});var v=o.getTarget(t.element);c.reset(),o.onDrop(t,v)},q$=function(t){return function(r,o){var c=function(v){o.setStartData(o6(r,v))};return ma(q([_t(uf(),function(v){o.getStartData().each(function(){return c(v)})})],t(r,o,c)))}},jz=function(t){return ma([_t(Cs(),t.forceDrop),_t(_h(),t.drop),_t(Ad(),function(r,o){t.move(o.event)}),_t(tv(),t.delayDrop)])},qz=function(t){return S.from(Ka(t.x,t.y))},Gz=function(t,r){return Ka(r.left-t.left,r.top-t.top)},Kz=Object.freeze({__proto__:null,getData:qz,getDelta:Gz}),i6=function(t,r,o){return[_t(Cs(),function(c,v){var m=v.event.raw;if(m.button===0){v.stop();var p=function(){return lB(c,S.some(k),t,r)},w=vE(p,200),x={drop:p,delayDrop:w.schedule,forceDrop:p,move:function(_){w.cancel(),j$(c,t,r,Kz,_)}},k=a6(c,t.blockerClass,jz(x)),O=function(){o(c),r6(c,k)};O()}})]},Xz=q(W$,[za("dragger",{handlers:q$(i6)})]),Yz=function(t){return ma([_t(qi(),t.forceDrop),_t(nu(),t.drop),_t(Yy(),t.drop),_t(rf(),function(r,o){t.move(o.event)})])},Jz=function(t){var r=t[0];return S.some(Ka(r.clientX,r.clientY))},Zz=function(t){var r=t.raw,o=r.touches;return o.length===1?Jz(o):S.none()},Qz=function(t,r){return Ka(r.left-t.left,r.top-t.top)},u6=Object.freeze({__proto__:null,getData:Zz,getDelta:Qz}),s6=function(t,r,o){var c=Zt(S.none());return[_t(qi(),function(v,m){m.stop();var p=function(){lB(v,c.get(),t,r),c.set(S.none())},w={drop:p,delayDrop:Le,forceDrop:p,move:function(O){j$(v,t,r,u6,O)}},x=a6(v,t.blockerClass,Yz(w));c.set(S.some(x));var k=function(){o(v),r6(v,x)};k()}),_t(rf(),function(v,m){m.stop(),j$(v,t,r,u6,m.event)}),_t(nu(),function(v,m){m.stop(),lB(v,c.get(),t,r),c.set(S.none())}),_t(Yy(),function(v){lB(v,c.get(),t,r),c.set(S.none())})]},eL=q(W$,[za("dragger",{handlers:q$(s6)})]),tL=function(t,r,o){return q(i6(t,r,o),s6(t,r,o))},nL=q(W$,[za("dragger",{handlers:q$(tL)})]),rL=Xz,aL=eL,oL=nL,iL=Object.freeze({__proto__:null,mouse:rL,touch:aL,mouseOrTouch:oL}),uL=function(){var t=S.none(),r=S.none(),o=function(){t=S.none(),r=S.none()},c=function(x,k){var O=t.map(function(_){return x.getDelta(_,k)});return t=S.some(k),O},v=function(x,k){return x.getData(k).bind(function(O){return c(x,O)})},m=function(x){r=S.some(x)},p=function(){return r},w=ve({});return Es({readState:w,reset:o,update:v,getStartData:p,setStartData:m})},sL=Object.freeze({__proto__:null,init:uL}),Ky=Hb({branchKey:"mode",branches:iL,name:"dragging",active:{events:function(t,r){var o=t.dragger;return o.handlers(t,r)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:S.from(t.extra)}}},state:sL,apis:Fz}),G$=40,fB=G$/2,c6=function(t,r,o,c,v,m){return t.fold(function(){return Ky.snap({sensor:F1(o-fB,c-fB),range:Ka(v,m),output:F1(S.some(o),S.some(c)),extra:{td:r}})},function(p){var w=o-fB,x=c-fB,k=G$,O=G$,_=p.element.dom.getBoundingClientRect();return Ky.snap({sensor:F1(w,x),range:Ka(k,O),output:F1(S.some(o-_.width/2),S.some(c-_.height/2)),extra:{td:r}})})},l6=function(t,r,o){var c=function(v,m){return v.exists(function(p){return Vr(p,m)})};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(v,m){var p=m.td;c(r.get(),p)||(r.set(S.some(p)),o(p))},mustSnap:!0}},f6=function(t){return _a(Su.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Lt([Ky.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),Dy.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},cL=function(t,r){var o=Zt([]),c=Zt([]),v=Zt(!1),m=Zt(S.none()),p=Zt(S.none()),w=function(ft){var cn=gf(ft);return c6(Y.getOpt(r),ft,cn.x,cn.y,cn.width,cn.height)},x=function(){return we(o.get(),function(ft){return w(ft)})},k=function(ft){var cn=gf(ft);return c6(ae.getOpt(r),ft,cn.right,cn.bottom,cn.width,cn.height)},O=function(){return we(c.get(),function(ft){return k(ft)})},_=l6(x,m,function(ft){p.get().each(function(cn){t.fire("TableSelectorChange",{start:ft,finish:cn})})}),F=l6(O,p,function(ft){m.get().each(function(cn){t.fire("TableSelectorChange",{start:cn,finish:ft})})}),Y=f6(_),ae=f6(F),ne=iu(Y.asSpec()),pe=iu(ae.asSpec()),ie=function(ft,cn,Er,On){var wt=cn.dom.getBoundingClientRect();Ma(ft.element,"display");var Ft=hc(_n.fromDom(t.getBody())).dom.innerHeight,Vn=Er(wt),Tr=On(wt,Ft);(Vn||Tr)&&Kr(ft.element,"display","none")},Ae=function(ft,cn,Er,On){var wt=Er(cn);Ky.snapTo(ft,wt);var Ft=function(Tr){return Tr[On]<0},Vn=function(Tr,Gt){return Tr[On]>Gt};ie(ft,cn,Ft,Vn)},ze=function(ft){return Ae(ne,ft,w,"top")},je=function(){return m.get().each(ze)},ht=function(ft){return Ae(pe,ft,k,"bottom")},Bt=function(){return p.get().each(ht)};Xu().deviceType.isTouch()&&(t.on("TableSelectionChange",function(ft){v.get()||(qc(r,ne),qc(r,pe),v.set(!0)),m.set(S.some(ft.start)),p.set(S.some(ft.finish)),ft.otherCells.each(function(cn){o.set(cn.upOrLeftCells),c.set(cn.downOrRightCells),ze(ft.start),ht(ft.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",function(){je(),Bt()}),t.on("TableSelectionClear",function(){v.get()&&(kf(ne),kf(pe),v.set(!1)),m.set(S.none()),p.set(S.none())}))},Xy;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(Xy||(Xy={}));var lL=function(t,r,o,c,v){var m={};return m.height=aB(c+r.top,YA(t),oh(t)),o===Xy.Both&&(m.width=aB(v+r.left,py(t),DC(t))),m},fL=function(t,r,o){var c=_n.fromDom(t.getContainer()),v=lL(t,r,o,Mi(c),pu(c));Nr(v,function(m,p){return Kr(c,p,I$(m))}),rP(t)},vL=function(t){return t.nodeType===1&&(t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark")},dL=function(t,r,o){r.delimiter||(r.delimiter="\xBB");var c=function(m){var p=m||[],w=we(p,function(k,O){return Su.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":O,"tab-index":-1,"aria-level":O+1},innerHtml:k.name},action:function(_){t.focus(),t.selection.select(k.element),t.nodeChanged()},buttonBehaviours:Lt([tl.button(o.isDisabled),ti()])})}),x={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+r.delimiter+" "}};return ee(w.slice(1),function(k,O){var _=k;return _.push(x),_.push(O),_},[w[0]])},v=function(m){for(var p=[],w=m.length;w-- >0;){var x=m[w];if(x.nodeType===1&&!vL(x)){var k=t.fire("ResolveName",{name:x.nodeName.toLowerCase(),target:x});if(k.isDefaultPrevented()||p.push({name:k.name,element:x}),k.isPropagationStopped())break}}return p};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Lt([br.config({mode:"flow",selector:"div[role=button]"}),wr.config({disabled:o.isDisabled}),ti(),Do.config({}),Mr.config({}),qr("elementPathEvents",[so(function(m,p){t.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return br.focusIn(m)}),t.on("NodeChange",function(w){var x=v(w.parents);x.length>0?Mr.set(m,c(x)):Mr.set(m,[])})})])]),components:[]}},mL=function(t,r){var o,c=function(v,m,p){return Mr.set(v,[mf(r.translate(["{0} "+p,m[p]]))])};return Su.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Lt([tl.button(r.isDisabled),ti(),Do.config({}),Mr.config({}),wn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),qr("wordcount-events",[Ss(function(v){var m=wn.getValue(v),p=m.mode==="words"?"characters":"words";wn.setValue(v,{mode:p,count:m.count}),c(v,m.count,p)}),so(function(v){t.on("wordCountUpdate",function(m){var p=wn.getValue(v).mode;wn.setValue(v,{mode:p,count:m.wordCount}),c(v,m.wordCount,p)})})])]),eventOrder:(o={},o[ru()]=["disabling","alloy.base.behaviour","wordcount-events"],o)})},gL=function(t,r){var o=function(w){return{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:r.translate("Resize"),"aria-hidden":"true"},innerHtml:ss("resize-handle",r.icons)},behaviours:Lt([Ky.config({mode:"mouse",repositionTarget:!1,onDrag:function(x,k,O){fL(t,O,w)},blockerClass:"tox-blocker"})])}},c=function(){var w=ac.translate(["Powered by {0}","Tiny"]),x='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+w+'">'+w+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:x}}},v=function(w){var x=!w.hasPlugin("autoresize"),k=w.getParam("resize",x);return k===!1?Xy.None:k==="both"?Xy.Both:Xy.Vertical},m=function(){var w=[];return t.getParam("elementpath",!0,"boolean")&&w.push(dL(t,{},r)),t.hasPlugin("wordcount")&&w.push(mL(t,r)),t.getParam("branding",!0,"boolean")&&w.push(c()),w.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:w}]:[]},p=function(){var w=m(),x=v(t);return x!==Xy.None&&w.push(o(x)),w};return{dom:{tag:"div",classes:["tox-statusbar"]},components:p()}},hL=function(t){var r,o=t.inline,c=o?A7:w7,v=PC(t)?R8:r8,m=S.none(),p=Xu(),w=p.browser.isIE(),x=w?["tox-platform-ie"]:[],k=p.deviceType.isTouch(),O="tox-platform-touch",_=k?[O]:[],F=t4(t),Y=r4(t),ae=ac.isRtl()?{attributes:{dir:"rtl"}}:{},ne={attributes:(r={},r[Yb]=F?Qs.BottomToTop:Qs.TopToBottom,r)},pe=function(){return m.bind(Lo.getHeader)},ie=function(){return v.isDocked(pe)},Ae=function(){Kr(sc.element,"width",document.body.clientWidth+"px")},ze=function(){var ku=Vr(Os(),Y)&&_s(Y,"display")==="grid",$1={dom:te({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(x).concat(_)},ae),behaviours:Lt([Zi.config({useFixed:function(){return ie()}})])},Xx={dom:{styles:{width:document.body.clientWidth+"px"}},events:ma([_t(Tl(),Ae)])};return Gr($1,ku?Xx:{})},je=iu(ze()),ht=function(){return lt.value(je)},Bt=_a({dom:{tag:"div",classes:["tox-anchorbar"]}}),ft=function(){return m.bind(function(ku){return Bt.getOpt(ku)}).getOrDie("Could not find a anchor bar element")},cn=function(){return m.bind(function(ku){return Lo.getToolbar(ku)}).getOrDie("Could not find more toolbar element")},Er=function(){return m.bind(function(ku){return Lo.getThrobber(ku)}).getOrDie("Could not find throbber element")},On=VF(je,t,ft),wt=Lo.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:On,onEscape:function(){t.focus()}}),Ft=by(t),Vn=Lo.parts.toolbar(te({dom:{tag:"div",classes:["tox-toolbar"]},getSink:ht,providers:On.shared.providers,onEscape:function(){t.focus()},type:Ft,lazyToolbar:cn,lazyHeader:function(){return pe().getOrDie("Could not find header element")}},ne)),Tr=Lo.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:On.shared.providers,onEscape:function(){t.focus()},type:Ft}),Gt=Lo.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),tr=Lo.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),pr=Lo.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:On}),da=t.getParam("statusbar",!0,"boolean"),Ua=da&&!o?S.some(gL(t,On.shared.providers)):S.none(),ko={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Gt,tr]},Kl=BC(t),vl=Vk(t),iI=_C(t),uI=function(){return Kl?[Tr]:vl?[Vn]:[]},dB=Lo.parts.header({dom:te({tag:"div",classes:["tox-editor-header"]},ne),components:pn([iI?[wt]:[],uI(),RC(t)?[]:[Bt.asSpec()]]),sticky:PC(t),editor:t,sharedBackstage:On.shared}),sI=pn([F?[]:[dB],o?[]:[ko],F?[dB]:[]]),iA={dom:{tag:"div",classes:["tox-editor-container"]},components:sI},mB=pn([[iA],o?[]:Ua.toArray(),[pr]]),uA=a4(t),gB=te(te({role:"application"},ac.isRtl()?{dir:"rtl"}:{}),uA?{"aria-hidden":"true"}:{}),Gf=iu(Lo.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(F?["tox-tinymce--toolbar-bottom"]:[]).concat(_).concat(x),styles:te({visibility:"hidden"},uA?{opacity:"0",border:"0"}:{}),attributes:gB},components:mB,behaviours:Lt([ti(),wr.config({disableClass:"tox-tinymce--disabled"}),br.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"})])}));m=S.some(Gf),t.shortcuts.add("alt+F9","focus menubar",function(){Lo.focusMenubar(Gf)}),t.shortcuts.add("alt+F10","focus toolbar",function(){Lo.focusToolbar(Gf)}),t.addCommand("ToggleToolbarDrawer",function(){Lo.toggleToolbarDrawer(Gf)}),t.addQueryStateHandler("ToggleToolbarDrawer",function(){return Lo.isToolbarDrawerToggled(Gf)});var sA=Y4(Gf),sc=Y4(je);Aa(t,sA,sc);var cI=function(){var ku={broadcastAll:sc.broadcast,broadcastOn:sc.broadcastOn,register:Le};return{channels:ku}},lI=function(){var ku=I$(x7(t)),$1=I$(S7(t));return t.inline||(Id("div","width",$1)&&Kr(Gf.element,"width",$1),Id("div","height",ku)?Kr(Gf.element,"height",ku):Kr(Gf.element,"height","200px")),ku},fI=function(){v.setup(t,On.shared,pe),ez(t,On),xz(t,ht,On),H8(t),e7(t,Er,On.shared),kr(QA(t),function(lc,Xl){t.ui.registry.addGroupToolbarButton(Xl,lc)});var ku=t.ui.registry.getAll(),$1=ku.buttons,Xx=ku.menuItems,vI=ku.contextToolbars,Yx=ku.sidebars,dI=ZA(t),Mn={menuItems:Xx,menus:Wk(t),menubar:jk(t),toolbar:dI.getOrThunk(function(){return o4(t)}),allowToolbarGroups:Ft===oc.floating,buttons:$1,sidebar:Yx};Wr(t,vI,je,{backstage:On}),cL(t,je);var Xr=t.getElement(),Ha=lI(),Bo={mothership:sA,uiMothership:sc,outerContainer:Gf},cc={targetNode:Xr,height:Ha};return c.render(t,Bo,Mn,On,cc)};return{mothership:sA,uiMothership:sc,backstage:On,renderUI:fI,getUi:cI}},pL=function(t,r){var o=S.from(Ci(t,"id")).fold(function(){var c=Qn("dialog-describe");return ga(r,"id",c),c},rt);ga(t,"aria-describedby",o)},bL=function(t,r){var o=lv(t,"id").fold(function(){var c=Qn("dialog-label");return ga(r,"id",c),c},rt);ga(t,"aria-labelledby",o)},yL=ve([Ee("lazySink"),xr("dragBlockClass"),no("getBounds",Fi),$e("useTabstopAt",Qe),$e("eventOrder",{}),ei("modalBehaviours",[br]),Ia("onExecute"),Ab("onEscape")]),K$={sketch:rt},wL=ve([Ns({name:"draghandle",overrides:function(t,r){return{behaviours:Lt([Ky.config({mode:"mouse",getTarget:function(o){return ep(o,'[role="dialog"]').getOr(o)},blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:t.getDragBounds})])}}}),Li({schema:[Ee("dom")],name:"title"}),Li({factory:K$,schema:[Ee("dom")],name:"close"}),Li({factory:K$,schema:[Ee("dom")],name:"body"}),Ns({factory:K$,schema:[Ee("dom")],name:"footer"}),nc({factory:{sketch:function(t,r){return te(te({},t),{dom:r.dom,components:r.components})}},schema:[$e("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),$e("components",[])],name:"blocker"})]),CL=function(t,r,o,c){ga(t.element,"aria-busy",!0);var v=r.getRoot(t).getOr(t),m=Lt([br.config({mode:"special",onTab:function(){return S.some(!0)},onShiftTab:function(){return S.some(!0)}}),Br.config({})]),p=c(v,m),w=v.getSystem().build(p);Mr.append(v,Ni(w)),w.hasConfigured(br)&&br.focusIn(w),o.isBlocked()||r.onBlock(t),o.blockWith(function(){return Mr.remove(v,w)})},xL=function(t,r,o){Bu(t.element,"aria-busy"),o.isBlocked()&&r.onUnblock(t),o.clear()},SL=Object.freeze({__proto__:null,block:CL,unblock:xL}),TL=[no("getRoot",S.none),ea("onBlock"),ea("onUnblock")],kL=function(){var t=ri(),r=function(o){t.set({destroy:o})};return Es({readState:t.isSet,blockWith:r,clear:t.clear,isBlocked:t.isSet})},EL=Object.freeze({__proto__:null,init:kL}),Gx=$o({fields:TL,name:"blocking",apis:SL,state:EL}),AL=function(t,r,o,c){var v,m=Zt(S.none()),p=function(ae){m.set(S.some(ae));var ne=t.lazySink(ae).getOrDie(),pe=c.blocker(),ie=ne.getSystem().build(te(te({},pe),{components:pe.components.concat([Ni(ae)]),behaviours:Lt([Br.config({}),qr("dialog-blocker-events",[ov(Cl(),function(){br.focusIn(ae)})])])}));qc(ne,ie),br.focusIn(ae)},w=function(ae){m.set(S.none()),wi(ae.element).each(function(ne){ae.getSystem().getByDom(ne).each(function(pe){kf(pe)})})},x=function(ae){return _c(ae,t,"body")},k=function(ae){return _c(ae,t,"footer")},O=function(ae,ne){Gx.block(ae,ne)},_=function(ae){Gx.unblock(ae)},F=Qn("modal-events"),Y=te(te({},t.eventOrder),(v={},v[kl()]=[F].concat(t.eventOrder["alloy.system.attached"]||[]),v));return{uid:t.uid,dom:t.dom,components:r,apis:{show:p,hide:w,getBody:x,getFooter:k,setIdle:_,setBusy:O},eventOrder:Y,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Io(t.modalBehaviours,[Mr.config({}),br.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),Gx.config({getRoot:m.get}),qr(F,[so(function(ae){bL(ae.element,_c(ae,t,"title").element),pL(ae.element,_c(ae,t,"body").element)})])])}},Ai=Vi({name:"ModalDialog",configFields:yL(),partFields:wL(),factory:AL,apis:{show:function(t,r){t.show(r)},hide:function(t,r){t.hide(r)},getBody:function(t,r){return t.getBody(r)},getFooter:function(t,r){return t.getFooter(r)},setBusy:function(t,r,o){t.setBusy(r,o)},setIdle:function(t,r){t.setIdle(r)}}}),OL=Be([nr("type"),nr("name")].concat(rh)),DL=fc,v6=[ra("name","name",ce(function(){return Qn("button-name")}),bo),ia("icon"),Eu("align","end",["start","end"]),fa("primary",!1),fa("disabled",!1)],d6=q(v6,[nr("text")]),X$=q([ai("type",["submit","cancel","custom"])],d6),_L=q([ai("type",["menu"]),ia("text"),ia("tooltip"),ia("icon"),du("items",OL)],v6),BL=yi("type",{submit:X$,cancel:X$,custom:X$,menu:_L}),RL=[nr("type"),nr("text"),ai("level",["info","warn","error","success"]),nr("icon"),$e("url","")],PL=Be(RL),NL=function(t){return[nr("type"),t]},ML=[nr("type"),nr("text"),fa("disabled",!1),fa("primary",!1),ra("name","name",ce(function(){return Qn("button-name")}),bo),ia("icon"),fa("borderless",!1)],FL=Be(ML),$L=[nr("type"),nr("name"),nr("label"),fa("disabled",!1)],IL=Be($L),zL=fc,Y$=[nr("type"),nr("name")],qf=Y$.concat([ia("label")]),LL=qf.concat([$e("columns","auto")]),HL=Be(LL),VL=bd([nr("value"),nr("text"),nr("icon")]),UL=qf,WL=Be(UL),jL=bo,qL=qf,GL=Be(qL),KL=bo,XL=Y$.concat([dl("tag","textarea"),nr("scriptId"),nr("scriptUrl"),Mo("settings",void 0)]),YL=Y$.concat([dl("tag","textarea"),Eo("init")]),JL=Oi(function(t){return Ba("customeditor.old",Ie(YL),t).orThunk(function(){return Ba("customeditor.new",Ie(XL),t)})}),ZL=bo,QL=qf,eH=Be(QL),tH=Ln(),nH=function(t){return[nr("type"),Da("columns"),t]},rH=[nr("type"),nr("html"),Eu("presets","presentation",["presentation","document"])],aH=Be(rH),oH=qf.concat([fa("sandboxed",!0)]),iH=Be(oH),uH=bo,sH=qf.concat([sr("currentState",Be([Ee("blob"),nr("url")]))]),cH=Be(sH),lH=qf.concat([ia("inputMode"),ia("placeholder"),fa("maximized",!1),fa("disabled",!1)]),fH=Be(lH),vH=bo,dH=function(t){return[nr("type"),nr("label"),t]},mH=[nr("text"),nr("value")],gH=[nr("text"),du("items",$m("items",function(){return m6}))],m6=mr([Be(mH),Be(gH)]),hH=qf.concat([du("items",m6),fa("disabled",!1)]),pH=Be(hH),bH=bo,yH=qf.concat([Yf("items",[nr("text"),nr("value")]),vc("size",1),fa("disabled",!1)]),wH=Be(yH),CH=bo,xH=qf.concat([fa("constrain",!0),fa("disabled",!1)]),SH=Be(xH),g6=Be([nr("width"),nr("height")]),TH=[nr("type"),du("header",bo),du("cells",qt(bo))],kH=Be(TH),EH=qf.concat([ia("placeholder"),fa("maximized",!1),fa("disabled",!1)]),AH=Be(EH),OH=bo,DH=qf.concat([Eu("filetype","file",["image","media","file"]),$e("disabled",!1)]),_H=Be(DH),BH=Be([nr("value"),$e("meta",{})]),J$=function(t){return ra("items","items",Wa(),qt(Oi(function(r){return Ba("Checking item of "+t,Z$,r).fold(function(o){return lt.error(ds(o))},function(o){return lt.value(o)})})))},Z$=Kf(function(){return fu("type",{alertbanner:PL,bar:Be(NL(J$("bar"))),button:FL,checkbox:IL,colorinput:WL,colorpicker:GL,dropzone:eH,grid:Be(nH(J$("grid"))),iframe:iH,input:fH,listbox:pH,selectbox:wH,sizeinput:SH,textarea:AH,urlinput:_H,customeditor:JL,htmlpanel:aH,imagetools:cH,collection:HL,label:Be(dH(J$("label"))),table:kH,panel:h6})}),RH=[nr("type"),$e("classes",[]),du("items",Z$)],h6=Be(RH),PH=[ra("name","name",ce(function(){return Qn("tab-name")}),bo),nr("title"),du("items",Z$)],NH=[nr("type"),Yf("tabs",PH)],MH=Be(NH),FH=d6,$H=BL,IH=Be([nr("title"),sr("body",fu("type",{panel:h6,tabpanel:MH})),dl("size","normal"),du("buttons",$H),$e("initialData",{}),no("onAction",Le),no("onChange",Le),no("onSubmit",Le),no("onClose",Le),no("onCancel",Le),$e("onTabChange",Le)]),zH=function(t){return Ba("dialog",IH,t)},LH=Be(q([ai("type",["cancel","custom"])],FH)),HH=Be([nr("title"),nr("url"),Nc("height"),Nc("width"),Im("buttons",LH),no("onAction",Le),no("onCancel",Le),no("onClose",Le),no("onMessage",Le)]),VH=function(t){return Ba("dialog",HH,t)},Q$=function(t){return Cr(t)?[t].concat(St(ao(t),Q$)):lr(t)?St(t,Q$):[]},UH=function(t){return $n(t.type)&&$n(t.name)},WH={checkbox:zL,colorinput:jL,colorpicker:KL,dropzone:tH,input:vH,iframe:uH,sizeinput:g6,selectbox:CH,listbox:bH,size:g6,textarea:OH,urlinput:BH,customeditor:ZL,collection:VL,togglemenuitem:DL},jH=function(t){return S.from(WH[t.type])},qH=function(t){return de(Q$(t),UH)},GH=function(t){var r=qH(t),o=St(r,function(c){return jH(c).fold(function(){return[]},function(v){return[sr(c.name,v)]})});return Be(o)},p6=function(t){var r=ju(zH(t)),o=GH(t),c=t.initialData;return{internalDialog:r,dataValidator:o,initialData:c}},oA={open:function(t,r){var o=p6(r);return t(o.internalDialog,o.initialData,o.dataValidator)},openUrl:function(t,r){var o=ju(VH(r));return t(o)},redial:function(t){return p6(t)}},b6=function(t){var r=[],o={};return Nr(t,function(c,v){c.fold(function(){r.push(v)},function(m){o[v]=m})}),r.length>0?lt.error(r):lt.value(o)},KH=function(t,r){var o=_a(Om.sketch(function(c){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:we(t.items,function(v){return c_(c,v,r)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:Lt([br.config({mode:"acyclic",useTabstopAt:vn(fd)}),Vl.memento(o),Dm.memento(o,{postprocess:function(c){return b6(c).fold(function(v){return console.error(v),{}},function(v){return v})}})])}},XH=function(t,r){return{uid:t.uid,dom:t.dom,components:t.components,events:Rt(t.action),behaviours:Io(t.tabButtonBehaviours,[Br.config({}),br.config({mode:"execution",useSpace:!0,useEnter:!0}),wn.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},YH=is({name:"TabButton",configFields:[$e("uid",void 0),Ee("value"),ra("dom","dom",I(function(){return{attributes:{role:"tab",id:Qn("aria"),"aria-selected":"false"}}}),Di()),xr("action"),$e("domModification",{}),ei("tabButtonBehaviours",[Br,br,wn]),Ee("view")],factory:XH}),JH=ve([Ee("tabs"),Ee("dom"),$e("clickToDismiss",!1),ei("tabbarBehaviours",[Bn,br]),Xs(["tabClass","selectedClass"])]),ZH=sm({factory:YH,name:"tabs",unit:"tab",overrides:function(t){var r=function(c,v){Bn.dehighlight(c,v),Sr(c,rv(),{tabbar:c,button:v})},o=function(c,v){Bn.highlight(c,v),Sr(c,Rh(),{tabbar:c,button:v})};return{action:function(c){var v=c.getSystem().getByUid(t.uid).getOrDie(),m=Bn.isHighlighted(v,c),p=function(){return m&&t.clickToDismiss?r:m?Le:o}();p(v,c)},domModification:{classes:[t.markers.tabClass]}}}}),QH=ve([ZH]),e9=function(t,r,o,c){return{uid:t.uid,dom:t.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Io(t.tabbarBehaviours,[Bn.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(v,m){ga(m.element,"aria-selected","true")},onDehighlight:function(v,m){ga(m.element,"aria-selected","false")}}),br.config({mode:"flow",getInitial:function(v){return Bn.getHighlighted(v).map(function(m){return m.element})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},y6=Vi({name:"Tabbar",configFields:JH(),partFields:QH(),factory:e9}),t9=function(t,r){return{uid:t.uid,dom:t.dom,behaviours:Io(t.tabviewBehaviours,[Mr.config({})]),domModification:{attributes:{role:"tabpanel"}}}},n9=is({name:"Tabview",configFields:[ei("tabviewBehaviours",[Mr])],factory:t9}),r9=ve([$e("selectFirst",!0),ea("onChangeTab"),ea("onDismissTab"),$e("tabs",[]),ei("tabSectionBehaviours",[])]),a9=Li({factory:y6,schema:[Ee("dom"),ms("markers",[Ee("tabClass"),Ee("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),o9=Li({factory:n9,name:"tabview"}),i9=ve([a9,o9]),u9=function(t,r,o,c){var v=function(p){var w=wn.getValue(p);$a(p,t,"tabview").each(function(x){var k=he(t.tabs,function(O){return O.value===w});k.each(function(O){var _=O.view();lv(p.element,"id").each(function(F){ga(x.element,"aria-labelledby",F)}),Mr.set(x,_),t.onChangeTab(x,p,_)})})},m=function(p,w){$a(p,t,"tabbar").each(function(x){w(x).each(av)})};return{uid:t.uid,dom:t.dom,components:r,behaviours:Tp(t.tabSectionBehaviours),events:ma(pn([t.selectFirst?[so(function(p,w){m(p,Bn.getFirst)})]:[],[_t(Rh(),function(p,w){var x=w.event.button;v(x)}),_t(rv(),function(p,w){var x=w.event.button;t.onDismissTab(p,x)})]])),apis:{getViewItems:function(p){return $a(p,t,"tabview").map(function(w){return Mr.contents(w)}).getOr([])},showTab:function(p,w){var x=function(k){var O=Bn.getCandidates(k),_=he(O,function(F){return wn.getValue(F)===w});return _.filter(function(F){return!Bn.isHighlighted(k,F)})};m(p,x)}}}},Kx=Vi({name:"TabSection",configFields:r9(),partFields:i9(),factory:u9,apis:{getViewItems:function(t,r){return t.getViewItems(r)},showTab:function(t,r,o){t.showTab(r,o)}}}),s9=function(t,r,o){return we(t,function(c,v){Mr.set(o,t[v].view());var m=r.dom.getBoundingClientRect();return Mr.set(o,[]),m.height})},c9=function(t){return pt(ba(t,function(r,o){return r>o?-1:r<o?1:0}))},l9=function(t,r,o){var c=G1(t).dom,v=ep(t,".tox-dialog-wrap").getOr(t),m=_s(v,"position")==="fixed",p;m?p=Math.max(c.clientHeight,window.innerHeight):p=Math.max(c.offsetHeight,c.scrollHeight);var w=Mi(r),x=r.dom.offsetLeft>=o.dom.offsetLeft+pu(o),k=x?Math.max(Mi(o),w):w,O=parseInt(_s(t,"margin-top"),10)||0,_=parseInt(_s(t,"margin-bottom"),10)||0,F=Mi(t)+O+_,Y=F-k;return p-Y},f9=function(t,r){pt(t).each(function(o){return Kx.showTab(r,o.value)})},w6=function(t,r){Kr(t,"height",r+"px"),Xu().browser.isIE()?Ma(t,"flex-basis"):Kr(t,"flex-basis",r+"px")},vB=function(t,r,o){ep(t,'[role="dialog"]').each(function(c){$i(c,'[role="tablist"]').each(function(v){o.get().map(function(m){return Kr(r,"height","0"),Kr(r,"flex-basis","0"),Math.min(m,l9(c,r,v))}).each(function(m){w6(r,m)})})})},eI=function(t){return $i(t,'[role="tabpanel"]')},v9=function(t){var r=function(){var c=Zt(S.none()),v=[so(function(p){var w=p.element;eI(w).each(function(x){Kr(x,"visibility","hidden"),p.getSystem().getByDom(x).toOptional().each(function(k){var O=s9(t,x,k),_=c9(O);c.set(_)}),vB(w,x,c),Ma(x,"visibility"),f9(t,p),zf.requestAnimationFrame(function(){vB(w,x,c)})})}),_t(Tl(),function(p){var w=p.element;eI(w).each(function(x){vB(w,x,c)})}),_t(tO,function(p,w){var x=p.element;eI(x).each(function(k){var O=Tc(qo(k));Kr(k,"visibility","hidden");var _=fo(k,"height").map(function(ae){return parseInt(ae,10)});Ma(k,"height"),Ma(k,"flex-basis");var F=k.dom.getBoundingClientRect().height,Y=_.forall(function(ae){return F>ae});Y?(c.set(S.from(F)),vB(x,k,c)):_.each(function(ae){w6(k,ae)}),Ma(k,"visibility"),O.each(wf)})})],m=!1;return{extraEvents:v,selectFirst:m}}(),o=function(){var c=[],v=!0;return{extraEvents:c,selectFirst:v}}();return{smartTabHeight:r,naiveTabHeight:o}},C6="send-data-to-section",x6="send-data-to-view",d9=function(t,r){var o=Zt({}),c=function(x){var k=wn.getValue(x),O=b6(k).getOr({}),_=o.get(),F=Gr(_,O);o.set(F)},v=function(x){var k=o.get();wn.setValue(x,k)},m=Zt(null),p=we(t.tabs,function(x){return{value:x.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:r.shared.providers.translate(x.title)},view:function(){return[Om.sketch(function(k){return{dom:{tag:"div",classes:["tox-form"]},components:we(x.items,function(O){return c_(k,O,r)}),formBehaviours:Lt([br.config({mode:"acyclic",useTabstopAt:vn(fd)}),qr("TabView.form.events",[so(v),au(c)]),zi.config({channels:Z([{key:C6,value:{onReceive:c}},{key:x6,value:{onReceive:v}}])})])}})]}}}),w=v9(p).smartTabHeight;return Kx.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(x,k,O){var _=wn.getValue(k);Sr(x,eO,{name:_,oldName:m.get()}),m.set(_)},tabs:p,components:[Kx.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[y6.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Lt([Do.config({})])}),Kx.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:w.selectFirst,tabSectionBehaviours:Lt([qr("tabpanel",w.extraEvents),br.config({mode:"acyclic"}),va.config({find:function(x){return pt(Kx.getViewItems(x))}}),wn.config({store:{mode:"manual",getValue:function(x){return x.getSystem().broadcastOn([C6],{}),o.get()},setValue:function(x,k){o.set(k),x.getSystem().broadcastOn([x6],{})}}})])})},tI=Qn("update-dialog"),S6=Qn("update-title"),T6=Qn("update-body"),k6=Qn("update-footer"),E6=Qn("body-send-message"),A6=function(t,r,o,c){var v=function(w){switch(w.body.type){case"tabpanel":return[d9(w.body,o)];default:return[KH(w.body,o)]}},m=function(w,x){return S.some({isTabPanel:function(){return x.body.type==="tabpanel"}})},p={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:te(te({},r.map(function(w){return{id:w}}).getOr({})),c?p:{})},components:[],behaviours:Lt([Vl.childAt(0),Vu.config({channel:T6,updateState:m,renderComponents:v,initialData:t})])}},m9=function(t,r,o,c){return A6(t,S.some(r),o,c)},g9=function(t,r){var o=A6(t,S.none(),r,!1);return Ai.parts.body(o)},h9=function(t){var r={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[a3({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Lt([Do.config({}),Br.config({})])})]}],behaviours:Lt([br.config({mode:"acyclic",useTabstopAt:vn(fd)})])};return Ai.parts.body(r)},p9=v1.deviceType.isTouch(),O6=function(t,r){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,r]}},D6=function(t,r){return Ai.parts.close(Su.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:t,buttonBehaviours:Lt([Do.config({})])}))},_6=function(){return Ai.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},B6=function(t,r){return Ai.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:M1("<p>"+r.translate(t)+"</p>")}]}]})},R6=function(t){return Ai.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},P6=function(t,r){return[su.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),su.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})]},nI=function(t){var r,o="tox-dialog",c=o+"-wrap",v=c+"__backdrop",m=o+"__disable-scroll";return Ai.sketch({lazySink:t.lazySink,onEscape:function(p){return t.onEscape(p),S.some(!0)},useTabstopAt:function(p){return!fd(p)},dom:{tag:"div",classes:[o].concat(t.extraClasses),styles:te({position:"relative"},t.extraStyles)},components:q([t.header,t.body],t.footer.toArray()),parts:{blocker:{dom:M1('<div class="'+c+'"></div>'),components:[{dom:{tag:"div",classes:p9?[v,v+"--opaque"]:[v]}}]}},dragBlockClass:c,modalBehaviours:Lt(q([Br.config({}),qr("dialog-events",t.dialogEvents.concat([ov(Cl(),function(p,w){br.focusIn(p)})])),qr("scroll-lock",[so(function(){ja(Os(),m)}),au(function(){Va(Os(),m)})])],t.extraBehaviours)),eventOrder:te((r={},r[ru()]=["dialog-events"],r[kl()]=["scroll-lock","dialog-events","alloy.base.behaviour"],r[Km()]=["alloy.base.behaviour","dialog-events","scroll-lock"],r),t.eventOrder)})},N6=function(t){return Su.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:ss("close",t.icons)}}],action:function(r){Lr(r,uh)}})},M6=function(t,r,o){var c=function(v){return[mf(o.translate(v.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:te({},r.map(function(v){return{id:v}}).getOr({}))},components:c(t),behaviours:Lt([Vu.config({channel:S6,renderComponents:c})])}},F6=function(){return{dom:M1('<div class="tox-dialog__draghandle"></div>')}},b9=function(t,r,o){return su.sketch({dom:M1('<div class="tox-dialog__header"></div>'),components:[M6(t,S.some(r),o),F6(),N6(o)],containerBehaviours:Lt([Ky.config({mode:"mouse",blockerClass:"blocker",getTarget:function(c){return Ks(c,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},y9=function(t,r){var o=Ai.parts.title(M6(t,S.none(),r)),c=Ai.parts.draghandle(F6()),v=Ai.parts.close(N6(r)),m=[o].concat(t.draggable?[c]:[]).concat([v]);return su.sketch({dom:M1('<div class="tox-dialog__header"></div>'),components:m})},$6=function(t,r){return y9({title:r.shared.providers.translate(t),draggable:r.dialog.isDraggableModal()},r.shared.providers)},I6=function(t,r,o){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:r,components:[{dom:M1('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},z6=function(t,r,o){return{onClose:function(){return o.closeWindow()},onBlock:function(c){Ai.setBusy(t(),function(v,m){return I6(c.message,m,r)})},onUnblock:function(){Ai.setIdle(t())}}},L6=function(t,r,o,c){var v,m=function(p,w){return S.some(w)};return iu(nI(te(te({},t),{lazySink:c.shared.getSink,extraBehaviours:q([Vu.config({channel:tI,updateState:m,initialData:r}),Dm.memory({})],t.extraBehaviours),onEscape:function(p){Lr(p,uh)},dialogEvents:o,eventOrder:(v={},v[zc()]=[Vu.name(),zi.name()],v[kl()]=["scroll-lock",Vu.name(),"messages","dialog-events","alloy.base.behaviour"],v[Km()]=["alloy.base.behaviour","dialog-events","messages",Vu.name(),"scroll-lock"],v)})))},H6=function(t){var r=function(o){var c=we(o.items,function(v){var m=Zt(!1);return te(te({},v),{storage:m})});return te(te({},o),{items:c})};return we(t,function(o){return o.type==="menu"?r(o):o})},V6=function(t){return ee(t,function(r,o){if(o.type==="menu"){var c=o;return ee(c.items,function(v,m){return v[m.name]=m.storage,v},r)}return r},{})},U6=function(t,r){return[Mh(Cl(),vD),t(Ay,function(o,c){r.onClose(),c.onClose()}),t(uh,function(o,c,v,m){c.onCancel(o),Lr(m,Ay)}),_t(bE,function(o,c){return r.onUnblock()}),_t(pE,function(o,c){return r.onBlock(c.event)})]},w9=function(t,r){var o=function(v,m){return _t(v,function(p,w){c(p,function(x,k){m(t(),x,w.event,p)})})},c=function(v,m){Vu.getState(v).get().each(function(p){m(p,v)})};return q(U6(o,r),[o(Hf,function(v,m,p){m.onAction(v,{name:p.name})})])},C9=function(t,r,o){var c=function(m,p){return _t(m,function(w,x){v(w,function(k,O){p(t(),k,x.event,w)})})},v=function(m,p){Vu.getState(m).get().each(function(w){p(w.internalDialog,m)})};return q(U6(c,r),[c(Oy,function(m,p){return p.onSubmit(m)}),c(Fs,function(m,p,w){p.onChange(m,{name:w.name})}),c(Hf,function(m,p,w,x){var k=function(){return br.focusIn(x)},O=function(Y){return lw(Y,"disabled")||lv(Y,"aria-disabled").exists(function(ae){return ae==="true"})},_=qo(x.element),F=Tc(_);p.onAction(m,{name:w.name,value:w.value}),Tc(_).fold(k,function(Y){O(Y)||F.exists(function(ae){return Us(Y,ae)&&O(ae)})?k():o().toOptional().filter(function(ae){return!Us(ae.element,Y)}).each(k)})}),c(eO,function(m,p,w){p.onTabChange(m,{newTabName:w.name,oldTabName:w.oldName})}),au(function(m){var p=t();wn.setValue(m,p.getData())})])},rI={initUrlDialog:w9,initDialog:C9},x9=function(t,r){return px(t,t.type,r)},S9=function(t,r,o){return he(r,function(c){return c.name===o}).bind(function(c){return c.memento.getOpt(t)})},T9=function(t,r){var o=r.map(function(w){return w.footerButtons}).getOr([]),c=qe(o,function(w){return w.align==="start"}),v=function(w,x){return su.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+w]},components:we(x,function(k){return k.memento.asSpec()})})},m=v("start",c.pass),p=v("end",c.fail);return[m,p]},W6=function(t,r){var o=function(c,v){var m=we(v.buttons,function(w){var x=_a(x9(w,r));return{name:w.name,align:w.align,memento:x}}),p=function(w,x){return S9(w,m,x)};return S.some({lookupByName:p,footerButtons:m})};return{dom:M1('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Lt([Vu.config({channel:k6,initialData:t,updateState:o,renderComponents:T9})])}},k9=function(t,r){return W6(t,r)},j6=function(t,r){return Ai.parts.footer(W6(t,r))},aI=function(t,r){var o=t.getRoot();if(o.getSystem().isConnected()){var c=va.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return Om.getField(c,r).fold(function(){var v=t.getFooter(),m=Vu.getState(v);return m.get().bind(function(p){return p.lookupByName(c,r)})},function(v){return S.some(v)})}else return S.none()},E9=function(t,r){var o=t.getRoot();return Vu.getState(o).get().map(function(c){return ju(Ba("data",c.dataValidator,r))}).getOr(r)},q6=function(t,r,o){var c=function(ne){var pe=t.getRoot();pe.getSystem().isConnected()&&ne(pe)},v=function(){var ne=t.getRoot(),pe=ne.getSystem().isConnected()?t.getFormWrapper():ne,ie=wn.getValue(pe),Ae=kr(o,function(ze){return ze.get()});return te(te({},ie),Ae)},m=function(ne){c(function(pe){var ie=ae.getData(),Ae=te(te({},ie),ne),ze=E9(t,Ae),je=t.getFormWrapper();wn.setValue(je,ze),Nr(o,function(ht,Bt){ua(Ae,Bt)&&ht.set(Ae[Bt])})})},p=function(ne){aI(t,ne).each(wr.disable)},w=function(ne){aI(t,ne).each(wr.enable)},x=function(ne){aI(t,ne).each(Br.focus)},k=function(ne){if(!$n(ne))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");c(function(pe){Sr(pe,pE,{message:ne})})},O=function(){c(function(ne){Lr(ne,bE)})},_=function(ne){c(function(pe){var ie=t.getBody(),Ae=Vu.getState(ie);Ae.get().exists(function(ze){return ze.isTabPanel()})&&va.getCurrent(ie).each(function(ze){Kx.showTab(ze,ne)})})},F=function(ne){c(function(pe){var ie=r(ne);pe.getSystem().broadcastOn([tI],ie),pe.getSystem().broadcastOn([S6],ie.internalDialog),pe.getSystem().broadcastOn([T6],ie.internalDialog),pe.getSystem().broadcastOn([k6],ie.internalDialog),ae.setData(ie.initialData)})},Y=function(){c(function(ne){Lr(ne,Ay)})},ae={getData:v,setData:m,disable:p,enable:w,focus:x,block:k,unblock:O,showTab:_,redial:F,close:Y};return ae},A9=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},O9=function(t,r,o){var c=$6(t.internalDialog.title,o),v=g9({body:t.internalDialog.body},o),m=H6(t.internalDialog.buttons),p=V6(m),w=j6({buttons:m},o),x=rI.initDialog(function(){return Y},z6(function(){return _},o.shared.providers,r),o.shared.getSink),k=A9(t.internalDialog.size),O={header:c,body:v,footer:S.some(w),extraClasses:k,extraBehaviours:[],extraStyles:{}},_=L6(O,t,x,o),F=function(){var ae=function(){var ne=Ai.getBody(_);return va.getCurrent(ne).getOr(ne)};return{getRoot:function(){return _},getBody:function(){return Ai.getBody(_)},getFooter:function(){return Ai.getFooter(_)},getFormWrapper:ae}}(),Y=q6(F,r.redial,p);return{dialog:_,instanceApi:Y}},D9=function(t,r,o,c){var v,m,p=Qn("dialog-label"),w=Qn("dialog-content"),x=function(ie,Ae){return S.some(Ae)},k=_a(b9({title:t.internalDialog.title,draggable:!0},p,o.shared.providers)),O=_a(m9({body:t.internalDialog.body},w,o,c)),_=H6(t.internalDialog.buttons),F=V6(_),Y=_a(k9({buttons:_},o)),ae=rI.initDialog(function(){return pe},{onBlock:function(ie){Gx.block(ne,function(Ae,ze){return I6(ie.message,ze,o.shared.providers)})},onUnblock:function(){Gx.unblock(ne)},onClose:function(){return r.closeWindow()}},o.shared.getSink),ne=iu({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(v={role:"dialog"},v["aria-labelledby"]=p,v["aria-describedby"]=""+w,v)},eventOrder:(m={},m[zc()]=[Vu.name(),zi.name()],m[ru()]=["execute-on-form"],m[kl()]=["reflecting","execute-on-form"],m),behaviours:Lt([br.config({mode:"cyclic",onEscape:function(ie){return Lr(ie,Ay),S.some(!0)},useTabstopAt:function(ie){return!fd(ie)&&(Ju(ie)!=="button"||Ci(ie,"disabled")!=="disabled")}}),Vu.config({channel:tI,updateState:x,initialData:t}),Br.config({}),qr("execute-on-form",ae.concat([ov(Cl(),function(ie,Ae){br.focusIn(ie)})])),Gx.config({getRoot:function(){return S.some(ne)}}),Mr.config({}),Dm.memory({})]),components:[k.asSpec(),O.asSpec(),Y.asSpec()]}),pe=q6({getRoot:function(){return ne},getFooter:function(){return Y.get(ne)},getBody:function(){return O.get(ne)},getFormWrapper:function(){var ie=O.get(ne);return va.getCurrent(ie).getOr(ie)}},r.redial,F);return{dialog:ne,instanceApi:pe}},oI=tinymce.util.Tools.resolve("tinymce.util.URI"),_9=function(t){var r=function(p){t.getSystem().isConnected()&&p(t)},o=function(p){if(!$n(p))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(w){Sr(w,pE,{message:p})})},c=function(){r(function(p){Lr(p,bE)})},v=function(){r(function(p){Lr(p,Ay)})},m=function(p){r(function(w){w.getSystem().broadcastOn([E6],p)})};return{block:o,unblock:c,close:v,sendMessage:m}},B9=["insertContent","setContent","execCommand","close","block","unblock"],G6=function(t){return Cr(t)&&B9.indexOf(t.mceAction)!==-1},R9=function(t){return!G6(t)&&Cr(t)&&ua(t,"mceAction")},P9=function(t,r,o){switch(o.mceAction){case"insertContent":t.insertContent(o.content);break;case"setContent":t.setContent(o.content);break;case"execCommand":var c=Me(o.ui)?o.ui:!1;t.execCommand(o.cmd,c,o.value);break;case"close":r.close();break;case"block":r.block(o.message);break;case"unblock":r.unblock();break}},N9=function(t,r,o,c){var v,m=$6(t.title,c),p=h9(t),w=t.buttons.bind(function(Ae){return Ae.length===0?S.none():S.some(j6({buttons:Ae},c))}),x=rI.initUrlDialog(function(){return ie},z6(function(){return pe},c.shared.providers,r)),k=te(te({},t.height.fold(function(){return{}},function(Ae){return{height:Ae+"px","max-height":Ae+"px"}})),t.width.fold(function(){return{}},function(Ae){return{width:Ae+"px","max-width":Ae+"px"}})),O=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],_=new oI(t.url,{base_uri:new oI(window.location.href)}),F=_.protocol+"://"+_.host+(_.port?":"+_.port:""),Y=Zt(S.none()),ae=[qr("messages",[so(function(){var Ae=nl(_n.fromDom(window),"message",function(ze){if(_.isSameOrigin(new oI(ze.raw.origin))){var je=ze.raw.data;G6(je)?P9(o,ie,je):R9(je)&&t.onMessage(ie,je)}});Y.set(S.some(Ae))}),au(function(){Y.get().each(function(Ae){return Ae.unbind()})})]),zi.config({channels:(v={},v[E6]={onReceive:function(Ae,ze){$i(Ae.element,"iframe").each(function(je){var ht=je.dom.contentWindow;ht.postMessage(ze,F)})}},v)})],ne={header:m,body:p,footer:w,extraClasses:O,extraBehaviours:ae,extraStyles:k},pe=L6(ne,t,x,c),ie=_9(pe);return{dialog:pe,instanceApi:ie}},M9=function(t){var r=t.backstage.shared,o=function(c,v){var m=function(){Ai.hide(k),v()},p=_a(px({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:S.none()},"cancel",t.backstage)),w=_6(),x=D6(m,r.providers),k=iu(nI({lazySink:function(){return r.getSink()},header:O6(w,x),body:B6(c,r.providers),footer:S.some(R6(P6([],[p.asSpec()]))),onEscape:m,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[_t(uh,m)],eventOrder:{}}));Ai.show(k);var O=p.get(k);Br.focus(O)};return{open:o}},F9=function(t){var r=t.backstage.shared,o=function(c,v){var m=function(F){Ai.hide(O),v(F)},p=_a(px({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:S.none()},"submit",t.backstage)),w=px({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:S.none()},"cancel",t.backstage),x=_6(),k=D6(function(){return m(!1)},r.providers),O=iu(nI({lazySink:function(){return r.getSink()},header:O6(x,k),body:B6(c,r.providers),footer:S.some(R6(P6([],[w,p.asSpec()]))),onEscape:function(){return m(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[_t(uh,function(){return m(!1)}),_t(Oy,function(){return m(!0)})],eventOrder:{}}));Ai.show(O);var _=p.get(O);Br.focus(_)};return{open:o}},$9=function(t,r){return ju(Ba("data",r,t))},I9=function(t){return m1(t,".tox-alert-dialog")||m1(t,".tox-confirm-dialog")},z9=function(t,r,o){return r&&o?[]:[vs.config({contextual:{lazyContext:function(){return S.some(rs(_n.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},L9=function(t){var r=t.backstage,o=t.editor,c=PC(o),v=M9(t),m=F9(t),p=function(ae,ne,pe){return ne!==void 0&&ne.inline==="toolbar"?O(ae,r.shared.anchors.inlineDialog(),pe,ne.ariaAttrs):ne!==void 0&&ne.inline==="cursor"?O(ae,r.shared.anchors.cursor(),pe,ne.ariaAttrs):k(ae,pe)},w=function(ae,ne){return x(ae,ne)},x=function(ae,ne){var pe=function(ie){var Ae=N9(ie,{closeWindow:function(){Ai.hide(Ae.dialog),ne(Ae.instanceApi)}},o,r);return Ai.show(Ae.dialog),Ae.instanceApi};return oA.openUrl(pe,ae)},k=function(ae,ne){var pe=function(ie,Ae,ze){var je=Ae,ht={dataValidator:ze,initialData:je,internalDialog:ie},Bt=O9(ht,{redial:oA.redial,closeWindow:function(){Ai.hide(Bt.dialog),ne(Bt.instanceApi)}},r);return Ai.show(Bt.dialog),Bt.instanceApi.setData(je),Bt.instanceApi};return oA.open(pe,ae)},O=function(ae,ne,pe,ie){var Ae=function(ze,je,ht){var Bt=$9(je,ht),ft=zs(),cn=r.shared.header.isPositionedAtTop(),Er={dataValidator:ht,initialData:Bt,internalDialog:ze},On=function(){return ft.on(function(Vn){So.reposition(Vn),vs.refresh(Vn)})},wt=D9(Er,{redial:oA.redial,closeWindow:function(){ft.on(So.hide),o.off("ResizeEditor",On),ft.clear(),pe(wt.instanceApi)}},r,ie),Ft=iu(So.sketch(te(te({lazySink:r.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},cn?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Lt(q([qr("window-manager-inline-events",[_t(Fo(),function(Vn,Tr){Lr(wt.dialog,uh)})])],z9(o,c,cn))),isExtraPart:function(Vn,Tr){return I9(Tr)}})));return ft.set(Ft),So.showWithin(Ft,ne,Ni(wt.dialog),S.some(Os())),(!c||!cn)&&(vs.refresh(Ft),o.on("ResizeEditor",On)),wt.instanceApi.setData(Bt),br.focusIn(wt.dialog),wt.instanceApi};return oA.open(Ae,ae)},_=function(ae,ne){m.open(ae,function(pe){ne(pe)})},F=function(ae,ne){v.open(ae,function(){ne()})},Y=function(ae){ae.close()};return{open:p,openUrl:w,alert:F,close:Y,confirm:_}};function H9(){Ze.add("silver",function(t){var r=hL(t),o=r.uiMothership,c=r.backstage,v=r.renderUI,m=r.getUi;MP.register(t,c.shared);var p=L9({editor:t,backstage:c});return{renderUI:v,getWindowManagerImpl:ve(p),getNotificationManagerImpl:function(){return SB(t,{backstage:c},o)},ui:m()}})}H9()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=function(Me,z,Yt){var It=z==="UL"?"InsertUnorderedList":"InsertOrderedList";Me.execCommand(It,!1,Yt===!1?null:{"list-style-type":Yt})},tn=function(Me){Me.addCommand("ApplyUnorderedListStyle",function(z,Yt){qn(Me,"UL",Yt["list-style-type"])}),Me.addCommand("ApplyOrderedListStyle",function(z,Yt){qn(Me,"OL",Yt["list-style-type"])})},bt=tinymce.util.Tools.resolve("tinymce.util.Tools"),ve=function(Me){var z=Me.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return z?z.split(/[ ,]/):[]},rt=function(Me){var z=Me.getParam("advlist_bullet_styles","default,circle,square");return z?z.split(/[ ,]/):[]},gn=function(){},vn=function(Me){return function(){return Me}},Ct=vn(!1),Et=vn(!0),Qe=function(){return Ze},Ze=function(){var Me=function(In){return In.isNone()},z=function(In){return In()},Yt=function(In){return In},It={fold:function(In,zn){return In()},is:Ct,isSome:Ct,isNone:Et,getOr:Yt,getOrThunk:z,getOrDie:function(In){throw new Error(In||"error: getOrDie called on none.")},getOrNull:vn(null),getOrUndefined:vn(void 0),or:Yt,orThunk:z,map:Qe,each:gn,bind:Qe,exists:Ct,forall:Et,filter:Qe,equals:Me,equals_:Me,toArray:function(){return[]},toString:vn("none()")};return It}(),te=function(Me){var z=vn(Me),Yt=function(){return In},It=function(zn){return zn(Me)},In={fold:function(zn,jn){return jn(Me)},is:function(zn){return Me===zn},isSome:Et,isNone:Ct,getOr:z,getOrThunk:z,getOrDie:z,getOrNull:z,getOrUndefined:z,or:Yt,orThunk:Yt,map:function(zn){return te(zn(Me))},each:function(zn){zn(Me)},bind:It,exists:It,forall:It,filter:function(zn){return zn(Me)?In:Ze},toArray:function(){return[Me]},toString:function(){return"some("+Me+")"},equals:function(zn){return zn.is(Me)},equals_:function(zn,jn){return zn.fold(Ct,function(yt){return jn(Me,yt)})}};return In},vt=function(Me){return Me==null?Ze:te(Me)},q={some:te,none:Qe,from:vt},We=function(Me,z){return Me.$.contains(Me.getBody(),z)},dn=function(Me){return Me&&/^(TH|TD)$/.test(Me.nodeName)},Xe=function(Me){return function(z){return z&&/^(OL|UL|DL)$/.test(z.nodeName)&&We(Me,z)}},cr=function(Me){var z=Me.dom.getParent(Me.selection.getNode(),"ol,ul"),Yt=Me.dom.getStyle(z,"listStyleType");return q.from(Yt)},S=function(Me,z){for(var Yt=0;Yt<Me.length;Yt++){var It=Me[Yt];if(z(It))return Yt}return-1},mn=function(Me){return Me.replace(/\-/g," ").replace(/\b\w/g,function(z){return z.toUpperCase()})},Pn=function(Me,z,Yt){var It=S(z.parents,dn),In=It!==-1?z.parents.slice(0,It):z.parents,zn=bt.grep(In,Xe(Me));return zn.length>0&&zn[0].nodeName===Yt},hn=function(Me,z,Yt,It,In,zn){Me.ui.registry.addSplitButton(z,{tooltip:Yt,icon:In==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(jn){var yt=bt.map(zn,function(mt){var fn=In==="OL"?"num":"bull",Yr=mt==="disc"||mt==="decimal"?"default":mt,yr=mt==="default"?"":mt,Re=mn(mt);return{type:"choiceitem",value:yr,icon:"list-"+fn+"-"+Yr,text:Re}});jn(yt)},onAction:function(){return Me.execCommand(It)},onItemAction:function(jn,yt){qn(Me,In,yt)},select:function(jn){var yt=cr(Me);return yt.map(function(mt){return jn===mt}).getOr(!1)},onSetup:function(jn){var yt=function(mt){jn.setActive(Pn(Me,mt,In))};return Me.on("NodeChange",yt),function(){return Me.off("NodeChange",yt)}}})},an=function(Me,z,Yt,It,In,zn){Me.ui.registry.addToggleButton(z,{active:!1,tooltip:Yt,icon:In==="OL"?"ordered-list":"unordered-list",onSetup:function(jn){var yt=function(mt){jn.setActive(Pn(Me,mt,In))};return Me.on("NodeChange",yt),function(){return Me.off("NodeChange",yt)}},onAction:function(){return Me.execCommand(It)}})},$n=function(Me,z,Yt,It,In,zn){zn.length>1?hn(Me,z,Yt,It,In,zn):an(Me,z,Yt,It,In)},Cr=function(Me){$n(Me,"numlist","Numbered list","InsertOrderedList","OL",ve(Me)),$n(Me,"bullist","Bullet list","InsertUnorderedList","UL",rt(Me))};function lr(){Le.add("advlist",function(Me){Me.hasPlugin("lists")?(Cr(Me),tn(Me)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}lr()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),tn=tinymce.util.Tools.resolve("tinymce.util.Tools"),bt=function(Me){return Me.getParam("allow_html_in_named_anchor",!1,"boolean")},ve="a:not([href])",rt=function(Me){return!Me},gn=function(Me){var z=Me.getAttribute("id")||Me.getAttribute("name");return z||""},vn=function(Me){return Me&&Me.nodeName.toLowerCase()==="a"},Ct=function(Me){return vn(Me)&&!Me.getAttribute("href")&&gn(Me)!==""},Et=function(Me){return Ct(Me)&&!Me.firstChild},Qe=function(Me){var z=Me.dom;qn(z).walk(Me.selection.getRng(),function(Yt){tn.each(Yt,function(It){Et(It)&&z.remove(It,!1)})})},Ze=function(Me){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(Me)},te=function(Me){return Me.dom.getParent(Me.selection.getStart(),ve)},vt=function(Me){var z=te(Me);return z?gn(z):""},q=function(Me,z){Me.undoManager.transact(function(){bt(Me)||Me.selection.collapse(!0),Me.selection.isCollapsed()?Me.insertContent(Me.dom.createHTML("a",{id:z})):(Qe(Me),Me.formatter.remove("namedAnchor",null,null,!0),Me.formatter.apply("namedAnchor",{value:z}),Me.addVisual())})},We=function(Me,z,Yt){Yt.removeAttribute("name"),Yt.id=z,Me.addVisual(),Me.undoManager.add()},dn=function(Me,z){var Yt=te(Me);Yt?We(Me,z,Yt):q(Me,z),Me.focus()},Xe=function(Me,z){return Ze(z)?(dn(Me,z),!0):(Me.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1)},cr=function(Me){var z=vt(Me);Me.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:z},onSubmit:function(Yt){Xe(Me,Yt.getData().id)&&Yt.close()}})},S=function(Me){Me.addCommand("mceAnchor",function(){cr(Me)})},mn=function(Me){return Me&&rt(Me.attr("href"))&&!rt(Me.attr("id")||Me.attr("name"))},Pn=function(Me){return mn(Me)&&!Me.firstChild},hn=function(Me){return function(z){for(var Yt=0;Yt<z.length;Yt++){var It=z[Yt];Pn(It)&&It.attr("contenteditable",Me)}}},an=function(Me){Me.on("PreInit",function(){Me.parser.addNodeFilter("a",hn("false")),Me.serializer.addNodeFilter("a",hn(null))})},$n=function(Me){Me.formatter.register("namedAnchor",{inline:"a",selector:ve,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:function(z,Yt,It){return Ct(z)}})},Cr=function(Me){Me.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return Me.execCommand("mceAnchor")},onSetup:function(z){return Me.selection.selectorChangedWithUnbind("a:not([href])",z.setActive).unbind}}),Me.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return Me.execCommand("mceAnchor")}})};function lr(){Le.add("anchor",function(Me){an(Me),S(Me),Cr(Me),Me.on("PreInit",function(){$n(Me)})})}lr()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=tinymce.util.Tools.resolve("tinymce.Env"),tn=function(We){return We.getParam("autolink_pattern",/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@(?!.*@))(.+)$/i)},bt=function(We){return We.getParam("default_link_target",!1)},ve=function(We){return We.getParam("link_default_protocol","http","string")},rt=function(We,dn){return We===dn||We===" "||We.charCodeAt(0)===160},gn=function(We){te(We,-1,"(")},vn=function(We){te(We,0,"")},Ct=function(We){te(We,-1,"")},Et=function(We,dn){if(dn<0&&(dn=0),We.nodeType===3){var Xe=We.data.length;dn>Xe&&(dn=Xe)}return dn},Qe=function(We,dn,Xe){dn.nodeType!==1||dn.hasChildNodes()?We.setStart(dn,Et(dn,Xe)):We.setStartBefore(dn)},Ze=function(We,dn,Xe){dn.nodeType!==1||dn.hasChildNodes()?We.setEnd(dn,Et(dn,Xe)):We.setEndAfter(dn)},te=function(We,dn,Xe){var cr,S,mn,Pn,hn,an,$n,Cr=tn(We),lr=bt(We);if(We.selection.getNode().tagName!=="A"){var Me=We.selection.getRng().cloneRange();if(Me.startOffset<5){if(hn=Me.endContainer.previousSibling,!hn){if(!Me.endContainer.firstChild||!Me.endContainer.firstChild.nextSibling)return;hn=Me.endContainer.firstChild.nextSibling}if(an=hn.length,Qe(Me,hn,an),Ze(Me,hn,an),Me.endOffset<5)return;cr=Me.endOffset,S=hn}else{if(S=Me.endContainer,S.nodeType!==3&&S.firstChild){for(;S.nodeType!==3&&S.firstChild;)S=S.firstChild;S.nodeType===3&&(Qe(Me,S,0),Ze(Me,S,S.nodeValue.length))}Me.endOffset===1?cr=2:cr=Me.endOffset-1-dn}var z=cr;do Qe(Me,S,cr>=2?cr-2:0),Ze(Me,S,cr>=1?cr-1:0),cr-=1,$n=Me.toString();while($n!==" "&&$n!==""&&$n.charCodeAt(0)!==160&&cr-2>=0&&$n!==Xe);rt(Me.toString(),Xe)?(Qe(Me,S,cr),Ze(Me,S,z),cr+=1):Me.startOffset===0?(Qe(Me,S,0),Ze(Me,S,z)):(Qe(Me,S,cr),Ze(Me,S,z)),Pn=Me.toString(),Pn.charAt(Pn.length-1)==="."&&Ze(Me,S,z-1),Pn=Me.toString().trim();var Yt=Pn.match(Cr),It=ve(We);Yt&&(Yt[1]==="www."?Yt[1]=It+"://www.":/@$/.test(Yt[1])&&!/^mailto:/.test(Yt[1])&&(Yt[1]="mailto:"+Yt[1]),mn=We.selection.getBookmark(),We.selection.setRng(Me),We.execCommand("createlink",!1,Yt[1]+Yt[2]),lr!==!1&&We.dom.setAttrib(We.selection.getNode(),"target",lr),We.selection.moveToBookmark(mn),We.nodeChanged())}},vt=function(We){var dn;if(We.on("keydown",function(Xe){if(Xe.keyCode===13)return Ct(We)}),qn.browser.isIE()){We.on("focus",function(){if(!dn){dn=!0;try{We.execCommand("AutoUrlDetect",!1,!0)}catch{}}});return}We.on("keypress",function(Xe){if(Xe.keyCode===41)return gn(We)}),We.on("keyup",function(Xe){if(Xe.keyCode===32)return vn(We)})};function q(){Le.add("autolink",function(We){vt(We)})}q()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=function(z){return function(Yt){return z===Yt}},tn=qn(void 0),bt=tinymce.util.Tools.resolve("tinymce.util.Delay"),ve=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),rt=tinymce.util.Tools.resolve("tinymce.util.Tools"),gn=function(z){return z.fire("RestoreDraft")},vn=function(z){return z.fire("StoreDraft")},Ct=function(z){return z.fire("RemoveDraft")},Et=function(z,Yt){var It={s:1e3,m:6e4},In=z||Yt,zn=/^(\d+)([ms]?)$/.exec(""+In);return(zn[2]?It[zn[2]]:1)*parseInt(In,10)},Qe=function(z){return z.getParam("autosave_ask_before_unload",!0)},Ze=function(z){var Yt=document.location;return z.getParam("autosave_prefix","tinymce-autosave-{path}{query}{hash}-{id}-").replace(/{path}/g,Yt.pathname).replace(/{query}/g,Yt.search).replace(/{hash}/g,Yt.hash).replace(/{id}/g,z.id)},te=function(z){return z.getParam("autosave_restore_when_empty",!1)},vt=function(z){return Et(z.getParam("autosave_interval"),"30s")},q=function(z){return Et(z.getParam("autosave_retention"),"20m")},We=function(z,Yt){if(tn(Yt))return z.dom.isEmpty(z.getBody());var It=rt.trim(Yt);if(It==="")return!0;var In=new DOMParser().parseFromString(It,"text/html");return z.dom.isEmpty(In)},dn=function(z){var Yt=parseInt(ve.getItem(Ze(z)+"time"),10)||0;return new Date().getTime()-Yt>q(z)?(Xe(z,!1),!1):!0},Xe=function(z,Yt){var It=Ze(z);ve.removeItem(It+"draft"),ve.removeItem(It+"time"),Yt!==!1&&Ct(z)},cr=function(z){var Yt=Ze(z);!We(z)&&z.isDirty()&&(ve.setItem(Yt+"draft",z.getContent({format:"raw",no_events:!0})),ve.setItem(Yt+"time",new Date().getTime().toString()),vn(z))},S=function(z){var Yt=Ze(z);dn(z)&&(z.setContent(ve.getItem(Yt+"draft"),{format:"raw"}),gn(z))},mn=function(z){var Yt=vt(z);bt.setEditorInterval(z,function(){cr(z)},Yt)},Pn=function(z){z.undoManager.transact(function(){S(z),Xe(z)}),z.focus()},hn=function(z){return{hasDraft:function(){return dn(z)},storeDraft:function(){return cr(z)},restoreDraft:function(){return S(z)},removeDraft:function(Yt){return Xe(z,Yt)},isEmpty:function(Yt){return We(z,Yt)}}},an=tinymce.util.Tools.resolve("tinymce.EditorManager"),$n=function(z){z.editorManager.on("BeforeUnload",function(Yt){var It;rt.each(an.get(),function(In){In.plugins.autosave&&In.plugins.autosave.storeDraft(),!It&&In.isDirty()&&Qe(In)&&(It=In.translate("You have unsaved changes are you sure you want to navigate away?"))}),It&&(Yt.preventDefault(),Yt.returnValue=It)})},Cr=function(z){return function(Yt){Yt.setDisabled(!dn(z));var It=function(){return Yt.setDisabled(!dn(z))};return z.on("StoreDraft RestoreDraft RemoveDraft",It),function(){return z.off("StoreDraft RestoreDraft RemoveDraft",It)}}},lr=function(z){mn(z),z.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:function(){Pn(z)},onSetup:Cr(z)}),z.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:function(){Pn(z)},onSetup:Cr(z)})};function Me(){Le.add("autosave",function(z){return $n(z),lr(z),z.on("init",function(){te(z)&&z.dom.isEmpty(z.getBody())&&S(z)}),hn(z)})}Me()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=function(vn,Ct){vn.focus(),vn.undoManager.transact(function(){vn.setContent(Ct)}),vn.selection.setCursorLocation(),vn.nodeChanged()},tn=function(vn){return vn.getContent({source_view:!0})},bt=function(vn){var Ct=tn(vn);vn.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Ct},onSubmit:function(Et){qn(vn,Et.getData().code),Et.close()}})},ve=function(vn){vn.addCommand("mceCodeEditor",function(){bt(vn)})},rt=function(vn){vn.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:function(){return bt(vn)}}),vn.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:function(){return bt(vn)}})};function gn(){Le.add("code",function(vn){return ve(vn),rt(vn),{}})}gn()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=function(){},tn=function(yt){return function(){return yt}},bt=tn(!1),ve=tn(!0),rt=function(){return gn},gn=function(){var yt=function(yr){return yr.isNone()},mt=function(yr){return yr()},fn=function(yr){return yr},Yr={fold:function(yr,Re){return yr()},is:bt,isSome:bt,isNone:ve,getOr:fn,getOrThunk:mt,getOrDie:function(yr){throw new Error(yr||"error: getOrDie called on none.")},getOrNull:tn(null),getOrUndefined:tn(void 0),or:fn,orThunk:mt,map:rt,each:qn,bind:rt,exists:bt,forall:ve,filter:rt,equals:yt,equals_:yt,toArray:function(){return[]},toString:tn("none()")};return Yr}(),vn=function(yt){var mt=tn(yt),fn=function(){return yr},Yr=function(Re){return Re(yt)},yr={fold:function(Re,ut){return ut(yt)},is:function(Re){return yt===Re},isSome:ve,isNone:bt,getOr:mt,getOrThunk:mt,getOrDie:mt,getOrNull:mt,getOrUndefined:mt,or:fn,orThunk:fn,map:function(Re){return vn(Re(yt))},each:function(Re){Re(yt)},bind:Yr,exists:Yr,forall:Yr,filter:function(Re){return Re(yt)?yr:gn},toArray:function(){return[yt]},toString:function(){return"some("+yt+")"},equals:function(Re){return Re.is(yt)},equals_:function(Re,ut){return Re.fold(bt,function(kt){return ut(yt,kt)})}};return yr},Ct=function(yt){return yt==null?gn:vn(yt)},Et={some:vn,none:rt,from:Ct},Qe=function(yt,mt){return mt>=0&&mt<yt.length?Et.some(yt[mt]):Et.none()},Ze=function(yt){return Qe(yt,0)},te=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),vt=function(yt){return yt&&yt.nodeName==="PRE"&&yt.className.indexOf("language-")!==-1},q=function(yt){return function(mt,fn){return yt(fn)}},We=typeof window!="undefined"?window:Function("return this;")(),dn={},Xe={exports:dn},cr={};(function(yt,mt,fn,Yr){var yr=window.Prism;window.Prism={manual:!0},function(ut){if(typeof mt=="object"&&typeof fn!="undefined")fn.exports=ut();else if(typeof yt=="function"&&yt.amd)yt([],ut);else{var kt;typeof window!="undefined"?kt=window:typeof cr!="undefined"?kt=cr:typeof self!="undefined"?kt=self:kt=this,kt.EphoxContactWrapper=ut()}}(function(){return function(){function ut(kt,Vt,we){function Ye(de,Ue){if(!Vt[de]){if(!kt[de]){var ee=typeof Yr=="function"&&Yr;if(!Ue&&ee)return ee(de,!0);if(rn)return rn(de,!0);var ke=new Error("Cannot find module '"+de+"'");throw ke.code="MODULE_NOT_FOUND",ke}var he=Vt[de]={exports:{}};kt[de][0].call(he.exports,function(Pt){var pn=kt[de][1][Pt];return Ye(pn||Pt)},he,he.exports,ut,kt,Vt,we)}return Vt[de].exports}for(var rn=typeof Yr=="function"&&Yr,qe=0;qe<we.length;qe++)Ye(we[qe]);return Ye}return ut}()({1:[function(ut,kt,Vt){Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Prism.languages.c.boolean},{}],2:[function(ut,kt,Vt){Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}},{}],3:[function(ut,kt,Vt){(function(we){(function(){var Ye=typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{},rn=function(qe){var de=/\blang(?:uage)?-([\w-]+)\b/i,Ue=0,ee={manual:qe.Prism&&qe.Prism.manual,disableWorkerMessageHandler:qe.Prism&&qe.Prism.disableWorkerMessageHandler,util:{encode:function zt(pt){return pt instanceof ke?new ke(pt.type,zt(pt.content),pt.alias):Array.isArray(pt)?pt.map(zt):pt.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(zt){return Object.prototype.toString.call(zt).slice(8,-1)},objId:function(zt){return zt.__id||Object.defineProperty(zt,"__id",{value:++Ue}),zt.__id},clone:function zt(pt,Jt){Jt=Jt||{};var Kt,Xt;switch(ee.util.type(pt)){case"Object":if(Xt=ee.util.objId(pt),Jt[Xt])return Jt[Xt];Kt={},Jt[Xt]=Kt;for(var Nn in pt)pt.hasOwnProperty(Nn)&&(Kt[Nn]=zt(pt[Nn],Jt));return Kt;case"Array":return Xt=ee.util.objId(pt),Jt[Xt]?Jt[Xt]:(Kt=[],Jt[Xt]=Kt,pt.forEach(function(dr,Nt){Kt[Nt]=zt(dr,Jt)}),Kt);default:return pt}},getLanguage:function(zt){for(;zt&&!de.test(zt.className);)zt=zt.parentElement;return zt?(zt.className.match(de)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(Kt){var zt=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(Kt.stack)||[])[1];if(zt){var pt=document.getElementsByTagName("script");for(var Jt in pt)if(pt[Jt].src==zt)return pt[Jt]}return null}},isActive:function(zt,pt,Jt){for(var Kt="no-"+pt;zt;){var Xt=zt.classList;if(Xt.contains(pt))return!0;if(Xt.contains(Kt))return!1;zt=zt.parentElement}return!!Jt}},languages:{extend:function(zt,pt){var Jt=ee.util.clone(ee.languages[zt]);for(var Kt in pt)Jt[Kt]=pt[Kt];return Jt},insertBefore:function(zt,pt,Jt,Kt){Kt=Kt||ee.languages;var Xt=Kt[zt],Nn={};for(var dr in Xt)if(Xt.hasOwnProperty(dr)){if(dr==pt)for(var Nt in Jt)Jt.hasOwnProperty(Nt)&&(Nn[Nt]=Jt[Nt]);Jt.hasOwnProperty(dr)||(Nn[dr]=Xt[dr])}var lt=Kt[zt];return Kt[zt]=Nn,ee.languages.DFS(ee.languages,function(Tn,or){or===lt&&Tn!=zt&&(this[Tn]=Nn)}),Nn},DFS:function zt(pt,Jt,Kt,Xt){Xt=Xt||{};var Nn=ee.util.objId;for(var dr in pt)if(pt.hasOwnProperty(dr)){Jt.call(pt,dr,pt[dr],Kt||dr);var Nt=pt[dr],lt=ee.util.type(Nt);lt==="Object"&&!Xt[Nn(Nt)]?(Xt[Nn(Nt)]=!0,zt(Nt,Jt,null,Xt)):lt==="Array"&&!Xt[Nn(Nt)]&&(Xt[Nn(Nt)]=!0,zt(Nt,Jt,dr,Xt))}}},plugins:{},highlightAll:function(zt,pt){ee.highlightAllUnder(document,zt,pt)},highlightAllUnder:function(zt,pt,Jt){var Kt={callback:Jt,container:zt,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};ee.hooks.run("before-highlightall",Kt),Kt.elements=Array.prototype.slice.apply(Kt.container.querySelectorAll(Kt.selector)),ee.hooks.run("before-all-elements-highlight",Kt);for(var Xt=0,Nn;Nn=Kt.elements[Xt++];)ee.highlightElement(Nn,pt===!0,Kt.callback)},highlightElement:function(zt,pt,Jt){var Kt=ee.util.getLanguage(zt),Xt=ee.languages[Kt];zt.className=zt.className.replace(de,"").replace(/\s+/g," ")+" language-"+Kt;var Nn=zt.parentElement;Nn&&Nn.nodeName.toLowerCase()==="pre"&&(Nn.className=Nn.className.replace(de,"").replace(/\s+/g," ")+" language-"+Kt);var dr=zt.textContent,Nt={element:zt,language:Kt,grammar:Xt,code:dr};function lt(or){Nt.highlightedCode=or,ee.hooks.run("before-insert",Nt),Nt.element.innerHTML=Nt.highlightedCode,ee.hooks.run("after-highlight",Nt),ee.hooks.run("complete",Nt),Jt&&Jt.call(Nt.element)}if(ee.hooks.run("before-sanity-check",Nt),!Nt.code){ee.hooks.run("complete",Nt),Jt&&Jt.call(Nt.element);return}if(ee.hooks.run("before-highlight",Nt),!Nt.grammar){lt(ee.util.encode(Nt.code));return}if(pt&&qe.Worker){var Tn=new Worker(ee.filename);Tn.onmessage=function(or){lt(or.data)},Tn.postMessage(JSON.stringify({language:Nt.language,code:Nt.code,immediateClose:!0}))}else lt(ee.highlight(Nt.code,Nt.grammar,Nt.language))},highlight:function(zt,pt,Jt){var Kt={code:zt,grammar:pt,language:Jt};return ee.hooks.run("before-tokenize",Kt),Kt.tokens=ee.tokenize(Kt.code,Kt.grammar),ee.hooks.run("after-tokenize",Kt),ke.stringify(ee.util.encode(Kt.tokens),Kt.language)},tokenize:function(zt,pt){var Jt=pt.rest;if(Jt){for(var Kt in Jt)pt[Kt]=Jt[Kt];delete pt.rest}var Xt=new pn;return St(Xt,Xt.head,zt),Pt(zt,Xt,pt,Xt.head,0),Rn(Xt)},hooks:{all:{},add:function(zt,pt){var Jt=ee.hooks.all;Jt[zt]=Jt[zt]||[],Jt[zt].push(pt)},run:function(zt,pt){var Jt=ee.hooks.all[zt];if(!(!Jt||!Jt.length))for(var Kt=0,Xt;Xt=Jt[Kt++];)Xt(pt)}},Token:ke};qe.Prism=ee;function ke(zt,pt,Jt,Kt){this.type=zt,this.content=pt,this.alias=Jt,this.length=(Kt||"").length|0}ke.stringify=function zt(pt,Jt){if(typeof pt=="string")return pt;if(Array.isArray(pt)){var Kt="";return pt.forEach(function(lt){Kt+=zt(lt,Jt)}),Kt}var Xt={type:pt.type,content:zt(pt.content,Jt),tag:"span",classes:["token",pt.type],attributes:{},language:Jt},Nn=pt.alias;Nn&&(Array.isArray(Nn)?Array.prototype.push.apply(Xt.classes,Nn):Xt.classes.push(Nn)),ee.hooks.run("wrap",Xt);var dr="";for(var Nt in Xt.attributes)dr+=" "+Nt+'="'+(Xt.attributes[Nt]||"").replace(/"/g,"&quot;")+'"';return"<"+Xt.tag+' class="'+Xt.classes.join(" ")+'"'+dr+">"+Xt.content+"</"+Xt.tag+">"};function he(zt,pt,Jt,Kt){zt.lastIndex=pt;var Xt=zt.exec(Jt);if(Xt&&Kt&&Xt[1]){var Nn=Xt[1].length;Xt.index+=Nn,Xt[0]=Xt[0].slice(Nn)}return Xt}function Pt(zt,pt,Jt,Kt,Xt,Nn){for(var dr in Jt)if(!(!Jt.hasOwnProperty(dr)||!Jt[dr])){var Nt=Jt[dr];Nt=Array.isArray(Nt)?Nt:[Nt];for(var lt=0;lt<Nt.length;++lt){if(Nn&&Nn.cause==dr+","+lt)return;var Tn=Nt[lt],or=Tn.inside,zr=!!Tn.lookbehind,Pr=!!Tn.greedy,na=Tn.alias;if(Pr&&!Tn.pattern.global){var Or=Tn.pattern.toString().match(/[imsuy]*$/)[0];Tn.pattern=RegExp(Tn.pattern.source,Or+"g")}for(var xa=Tn.pattern||Tn,Ce=Kt.next,et=Xt;Ce!==pt.tail&&!(Nn&&et>=Nn.reach);et+=Ce.value.length,Ce=Ce.next){var Wt=Ce.value;if(pt.length>zt.length)return;if(!(Wt instanceof ke)){var Fn=1,un;if(Pr){if(un=he(xa,et,zt,zr),!un)break;var kr=un.index,fr=un.index+un[0].length,ya=et;for(ya+=Ce.value.length;kr>=ya;)Ce=Ce.next,ya+=Ce.value.length;if(ya-=Ce.value.length,et=ya,Ce.value instanceof ke)continue;for(var Nr=Ce;Nr!==pt.tail&&(ya<fr||typeof Nr.value=="string");Nr=Nr.next)Fn++,ya+=Nr.value.length;Fn--,Wt=zt.slice(et,ya),un.index-=et}else if(un=he(xa,0,Wt,zr),!un)continue;var kr=un.index,qa=un[0],Ro=Wt.slice(0,kr),Ta=Wt.slice(kr+qa.length),Ko=et+Wt.length;Nn&&Ko>Nn.reach&&(Nn.reach=Ko);var Oa=Ce.prev;Ro&&(Oa=St(pt,Oa,Ro),et+=Ro.length),ir(pt,Oa,Fn);var ho=new ke(dr,or?ee.tokenize(qa,or):qa,na,qa);Ce=St(pt,Oa,ho),Ta&&St(pt,Ce,Ta),Fn>1&&Pt(zt,pt,Jt,Ce.prev,et,{cause:dr+","+lt,reach:Ko})}}}}}function pn(){var zt={value:null,prev:null,next:null},pt={value:null,prev:zt,next:null};zt.next=pt,this.head=zt,this.tail=pt,this.length=0}function St(zt,pt,Jt){var Kt=pt.next,Xt={value:Jt,prev:pt,next:Kt};return pt.next=Xt,Kt.prev=Xt,zt.length++,Xt}function ir(zt,pt,Jt){for(var Kt=pt.next,Xt=0;Xt<Jt&&Kt!==zt.tail;Xt++)Kt=Kt.next;pt.next=Kt,Kt.prev=pt,zt.length-=Xt}function Rn(zt){for(var pt=[],Jt=zt.head.next;Jt!==zt.tail;)pt.push(Jt.value),Jt=Jt.next;return pt}if(!qe.document)return qe.addEventListener&&(ee.disableWorkerMessageHandler||qe.addEventListener("message",function(zt){var pt=JSON.parse(zt.data),Jt=pt.language,Kt=pt.code,Xt=pt.immediateClose;qe.postMessage(ee.highlight(Kt,ee.languages[Jt],Jt)),Xt&&qe.close()},!1)),ee;var Zr=ee.util.currentScript();Zr&&(ee.filename=Zr.src,Zr.hasAttribute("data-manual")&&(ee.manual=!0));function Ir(){ee.manual||ee.highlightAll()}if(!ee.manual){var ba=document.readyState;ba==="loading"||ba==="interactive"&&Zr&&Zr.defer?document.addEventListener("DOMContentLoaded",Ir):window.requestAnimationFrame?window.requestAnimationFrame(Ir):window.setTimeout(Ir,16)}return ee}(Ye);typeof kt!="undefined"&&kt.exports&&(kt.exports=rn),typeof we!="undefined"&&(we.Prism=rn)}).call(this)}).call(this,typeof cr!="undefined"?cr:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],4:[function(ut,kt,Vt){(function(we){var Ye=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/;we.languages.cpp=we.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return Ye.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:Ye,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),we.languages.insertBefore("cpp","string",{"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),we.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:we.languages.extend("cpp",{})}}),we.languages.insertBefore("inside","operator",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},we.languages.cpp["base-clause"])})(Prism)},{}],5:[function(ut,kt,Vt){(function(we){function Ye(Wt,Fn){return Wt.replace(/<<(\d+)>>/g,function(un,fr){return"(?:"+Fn[+fr]+")"})}function rn(Wt,Fn,un){return RegExp(Ye(Wt,Fn),un||"")}function qe(Wt,Fn){for(var un=0;un<Fn;un++)Wt=Wt.replace(/<<self>>/g,function(){return"(?:"+Wt+")"});return Wt.replace(/<<self>>/g,"[^\\s\\S]")}var de={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface struct",contextual:"add alias and ascending async await by descending from get global group into join let nameof not notnull on or orderby partial remove select set unmanaged value when where",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function Ue(Wt){return"\\b(?:"+Wt.trim().replace(/ /g,"|")+")\\b"}var ee=Ue(de.typeDeclaration),ke=RegExp(Ue(de.type+" "+de.typeDeclaration+" "+de.contextual+" "+de.other)),he=Ue(de.typeDeclaration+" "+de.contextual+" "+de.other),Pt=Ue(de.type+" "+de.typeDeclaration+" "+de.other),pn=qe(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),St=qe(/\((?:[^()]|<<self>>)*\)/.source,2),ir=/@?\b[A-Za-z_]\w*\b/.source,Rn=Ye(/<<0>>(?:\s*<<1>>)?/.source,[ir,pn]),Zr=Ye(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[he,Rn]),Ir=/\[\s*(?:,\s*)*\]/.source,ba=Ye(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[Zr,Ir]),zt=Ye(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[pn,St,Ir]),pt=Ye(/\(<<0>>+(?:,<<0>>+)+\)/.source,[zt]),Jt=Ye(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[pt,Zr,Ir]),Kt={keyword:ke,punctuation:/[<>()?,.:[\]]/},Xt=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,Nn=/"(?:\\.|[^\\"\r\n])*"/.source,dr=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;we.languages.csharp=we.languages.extend("clike",{string:[{pattern:rn(/(^|[^$\\])<<0>>/.source,[dr]),lookbehind:!0,greedy:!0},{pattern:rn(/(^|[^@$\\])<<0>>/.source,[Nn]),lookbehind:!0,greedy:!0},{pattern:RegExp(Xt),greedy:!0,alias:"character"}],"class-name":[{pattern:rn(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[Zr]),lookbehind:!0,inside:Kt},{pattern:rn(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[ir,Jt]),lookbehind:!0,inside:Kt},{pattern:rn(/(\busing\s+)<<0>>(?=\s*=)/.source,[ir]),lookbehind:!0},{pattern:rn(/(\b<<0>>\s+)<<1>>/.source,[ee,Rn]),lookbehind:!0,inside:Kt},{pattern:rn(/(\bcatch\s*\(\s*)<<0>>/.source,[Zr]),lookbehind:!0,inside:Kt},{pattern:rn(/(\bwhere\s+)<<0>>/.source,[ir]),lookbehind:!0},{pattern:rn(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[ba]),lookbehind:!0,inside:Kt},{pattern:rn(/\b<<0>>(?=\s+(?!<<1>>)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[Jt,Pt,ir]),inside:Kt}],keyword:ke,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:ul|lu|[dflmu])?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),we.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),we.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:rn(/([(,]\s*)<<0>>(?=\s*:)/.source,[ir]),lookbehind:!0,alias:"punctuation"}}),we.languages.insertBefore("csharp","class-name",{namespace:{pattern:rn(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[ir]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:rn(/(\b(?:default|typeof|sizeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[St]),lookbehind:!0,alias:"class-name",inside:Kt},"return-type":{pattern:rn(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[Jt,Zr]),inside:Kt,alias:"class-name"},"constructor-invocation":{pattern:rn(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[Jt]),lookbehind:!0,inside:Kt,alias:"class-name"},"generic-method":{pattern:rn(/<<0>>\s*<<1>>(?=\s*\()/.source,[ir,pn]),inside:{function:rn(/^<<0>>/.source,[ir]),generic:{pattern:RegExp(pn),alias:"class-name",inside:Kt}}},"type-list":{pattern:rn(/\b((?:<<0>>\s+<<1>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>)(?:\s*,\s*(?:<<3>>|<<4>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[ee,Rn,ir,Jt,ke.source]),lookbehind:!0,inside:{keyword:ke,"class-name":{pattern:RegExp(Jt),greedy:!0,inside:Kt},punctuation:/,/}},preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(\s*#)\b(?:define|elif|else|endif|endregion|error|if|line|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var Nt=Nn+"|"+Xt,lt=Ye(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[Nt]),Tn=qe(Ye(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[lt]),2),or=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,zr=Ye(/<<0>>(?:\s*\(<<1>>*\))?/.source,[Zr,Tn]);we.languages.insertBefore("csharp","class-name",{attribute:{pattern:rn(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[or,zr]),lookbehind:!0,greedy:!0,inside:{target:{pattern:rn(/^<<0>>(?=\s*:)/.source,[or]),alias:"keyword"},"attribute-arguments":{pattern:rn(/\(<<0>>*\)/.source,[Tn]),inside:we.languages.csharp},"class-name":{pattern:RegExp(Zr),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var Pr=/:[^}\r\n]+/.source,na=qe(Ye(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[lt]),2),Or=Ye(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[na,Pr]),xa=qe(Ye(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[Nt]),2),Ce=Ye(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[xa,Pr]);function et(Wt,Fn){return{interpolation:{pattern:rn(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Wt]),lookbehind:!0,inside:{"format-string":{pattern:rn(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[Fn,Pr]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:we.languages.csharp}}},string:/[\s\S]+/}}we.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:rn(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[Or]),lookbehind:!0,greedy:!0,inside:et(Or,na)},{pattern:rn(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[Ce]),lookbehind:!0,greedy:!0,inside:et(Ce,xa)}]})})(Prism),Prism.languages.dotnet=Prism.languages.cs=Prism.languages.csharp},{}],6:[function(ut,kt,Vt){(function(we){var Ye=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;we.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+Ye.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+Ye.source+"$"),alias:"url"}}},selector:RegExp(`[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+Ye.source+")*(?=\\s*\\{)"),string:{pattern:Ye,greedy:!0},property:/(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},we.languages.css.atrule.inside.rest=we.languages.css;var rn=we.languages.markup;rn&&(rn.tag.addInlined("style","css"),we.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/(^|["'\s])style\s*=\s*(?:"[^"]*"|'[^']*')/i,lookbehind:!0,inside:{"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{style:{pattern:/(["'])[\s\S]+(?=["']$)/,lookbehind:!0,alias:"language-css",inside:we.languages.css},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},"attr-name":/^style/i}}},rn.tag))})(Prism)},{}],7:[function(ut,kt,Vt){(function(we){var Ye=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,rn=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,qe={pattern:RegExp(rn+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};we.languages.java=we.languages.extend("clike",{"class-name":[qe,{pattern:RegExp(rn+/[A-Z]\w*(?=\s+\w+\s*[;,=())])/.source),lookbehind:!0,inside:qe.inside}],keyword:Ye,function:[we.languages.clike.function,{pattern:/(\:\:\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),we.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"}}),we.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":qe,keyword:Ye,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return Ye.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism)},{}],8:[function(ut,kt,Vt){Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\s*[\[$\w\xA0-\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-flags":/[a-z]+$/,"regex-delimiter":/^\/|\/$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.js=Prism.languages.javascript},{}],9:[function(ut,kt,Vt){(function(we){function Ye(rn,qe){return"___"+rn.toUpperCase()+qe+"___"}Object.defineProperties(we.languages["markup-templating"]={},{buildPlaceholders:{value:function(rn,qe,de,Ue){if(rn.language===qe){var ee=rn.tokenStack=[];rn.code=rn.code.replace(de,function(ke){if(typeof Ue=="function"&&!Ue(ke))return ke;for(var he=ee.length,Pt;rn.code.indexOf(Pt=Ye(qe,he))!==-1;)++he;return ee[he]=ke,Pt}),rn.grammar=we.languages.markup}}},tokenizePlaceholders:{value:function(rn,qe){if(rn.language!==qe||!rn.tokenStack)return;rn.grammar=we.languages[qe];var de=0,Ue=Object.keys(rn.tokenStack);function ee(ke){for(var he=0;he<ke.length&&!(de>=Ue.length);he++){var Pt=ke[he];if(typeof Pt=="string"||Pt.content&&typeof Pt.content=="string"){var pn=Ue[de],St=rn.tokenStack[pn],ir=typeof Pt=="string"?Pt:Pt.content,Rn=Ye(qe,pn),Zr=ir.indexOf(Rn);if(Zr>-1){++de;var Ir=ir.substring(0,Zr),ba=new we.Token(qe,we.tokenize(St,rn.grammar),"language-"+qe,St),zt=ir.substring(Zr+Rn.length),pt=[];Ir&&pt.push.apply(pt,ee([Ir])),pt.push(ba),zt&&pt.push.apply(pt,ee([zt])),typeof Pt=="string"?ke.splice.apply(ke,[he,1].concat(pt)):Pt.content=pt}}else Pt.content&&ee(Pt.content)}return ke}ee(rn.tokens)}}})})(Prism)},{}],10:[function(ut,kt,Vt){Prism.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(we){we.type==="entity"&&(we.attributes.title=we.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(Ye,rn){var qe={};qe["language-"+rn]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[rn]},qe.cdata=/^<!\[CDATA\[|\]\]>$/i;var de={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:qe}};de["language-"+rn]={pattern:/[\s\S]+/,inside:Prism.languages[rn]};var Ue={};Ue[Ye]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return Ye}),"i"),lookbehind:!0,greedy:!0,inside:de},Prism.languages.insertBefore("markup","cdata",Ue)}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml},{}],11:[function(ut,kt,Vt){(function(we){var Ye=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,rn=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/,/\b(?:null)\b/i],qe=/\b0b[01]+\b|\b0x[\da-f]+\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+)(?:e[+-]?\d+)?/i,de=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,Ue=/[{}\[\](),:;]/;we.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:Ye,variable:/\$+(?:\w+\b|(?={))/i,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},keyword:[{pattern:/(\(\s*)\b(?:bool|boolean|int|integer|float|string|object|array)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:bool|int|float|string|object|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*[a-z0-9_|]\|\s*)(?:null|false)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?[a-z0-9_|]\|\s*)(?:null|false)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:null|false)\b/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},/\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|class|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|final|finally|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|match|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i],"argument-name":/\b[a-z_]\w*(?=\s*:(?!:))/i,"class-name":[{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:rn,function:/\w+\s*(?=\()/,property:{pattern:/(->)[\w]+/,lookbehind:!0},number:qe,operator:de,punctuation:Ue};var ee={pattern:/{\$(?:{(?:{[^{}]+}|[^{}]+)}|[^{}])+}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)*)/,lookbehind:!0,inside:we.languages.php},ke=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:ee}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:ee}}];we.languages.insertBefore("php","variable",{string:ke}),we.languages.insertBefore("php","variable",{attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/mi,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=]$)/,lookbehind:!0,inside:{comment:Ye,string:ke,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:rn,number:qe,operator:de,punctuation:Ue}},delimiter:{pattern:/^#\[|]$/,alias:"punctuation"}}}}),we.hooks.add("before-tokenize",function(he){if(!!/<\?/.test(he.code)){var Pt=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/ig;we.languages["markup-templating"].buildPlaceholders(he,"php",Pt)}}),we.hooks.add("after-tokenize",function(he){we.languages["markup-templating"].tokenizePlaceholders(he,"php")})})(Prism)},{}],12:[function(ut,kt,Vt){Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^\s*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python},{}],13:[function(ut,kt,Vt){(function(we){we.languages.ruby=we.languages.extend("clike",{comment:[/#.*/,{pattern:/^=begin\s[\s\S]*?^=end/m,greedy:!0}],"class-name":{pattern:/(\b(?:class)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/});var Ye={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:we.languages.ruby}};delete we.languages.ruby.function,we.languages.insertBefore("ruby","keyword",{regex:[{pattern:RegExp(/%r/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1[gim]{0,3}/.source,/\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/.source,/<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/.source].join("|")+")"),greedy:!0,inside:{interpolation:Ye}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[gim]{0,3}(?=\s*(?:$|[\r\n,.;})]))/,lookbehind:!0,greedy:!0}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\w*(?:[?!]|\b)/,lookbehind:!0},"method-definition":{pattern:/(\bdef\s+)[\w.]+/,lookbehind:!0,inside:{function:/\w+$/,rest:we.languages.ruby}}}),we.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z]\w*(?:[?!]|\b)/}),we.languages.ruby.string=[{pattern:RegExp(/%[qQiIwWxs]?/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"),greedy:!0,inside:{interpolation:Ye}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:Ye}}],we.languages.rb=we.languages.ruby})(Prism)},{}],14:[function(ut,kt,Vt){var we=ut("prismjs/components/prism-core");ut("prismjs/components/prism-clike"),ut("prismjs/components/prism-markup-templating"),ut("prismjs/components/prism-c"),ut("prismjs/components/prism-cpp"),ut("prismjs/components/prism-csharp"),ut("prismjs/components/prism-css"),ut("prismjs/components/prism-java"),ut("prismjs/components/prism-javascript"),ut("prismjs/components/prism-markup"),ut("prismjs/components/prism-php"),ut("prismjs/components/prism-python"),ut("prismjs/components/prism-ruby"),kt.exports={boltExport:we}},{"prismjs/components/prism-c":1,"prismjs/components/prism-clike":2,"prismjs/components/prism-core":3,"prismjs/components/prism-cpp":4,"prismjs/components/prism-csharp":5,"prismjs/components/prism-css":6,"prismjs/components/prism-java":7,"prismjs/components/prism-javascript":8,"prismjs/components/prism-markup":10,"prismjs/components/prism-markup-templating":9,"prismjs/components/prism-php":11,"prismjs/components/prism-python":12,"prismjs/components/prism-ruby":13}]},{},[14])(14)});var Re=window.Prism;return window.Prism=yr,Re})(void 0,dn,Xe,void 0);var S=Xe.exports.boltExport,mn=function(yt){return yt.getParam("codesample_languages")},Pn=function(yt){return yt.getParam("codesample_global_prismjs",!1,"boolean")},hn=function(yt){return We.Prism&&Pn(yt)?We.Prism:S},an=function(yt){var mt=yt.selection?yt.selection.getNode():null;return vt(mt)?Et.some(mt):Et.none()},$n=function(yt,mt,fn){yt.undoManager.transact(function(){var Yr=an(yt);return fn=te.DOM.encode(fn),Yr.fold(function(){yt.insertContent('<pre id="__new" class="language-'+mt+'">'+fn+"</pre>"),yt.selection.select(yt.$("#__new").removeAttr("id")[0])},function(yr){yt.dom.setAttrib(yr,"class","language-"+mt),yr.innerHTML=fn,hn(yt).highlightElement(yr),yt.selection.select(yr)})})},Cr=function(yt){var mt=an(yt);return mt.fold(function(){return""},function(fn){return fn.textContent})},lr=function(yt){var mt=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],fn=mn(yt);return fn||mt},Me=function(yt,mt){var fn=an(yt);return fn.fold(function(){return mt},function(Yr){var yr=Yr.className.match(/language-(\w+)/);return yr?yr[1]:mt})},z=function(yt){var mt=lr(yt),fn=Ze(mt).fold(function(){return""},function(Re){return Re.value}),Yr=Me(yt,fn),yr=Cr(yt);yt.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:mt},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:Yr,code:yr},onSubmit:function(Re){var ut=Re.getData();$n(yt,ut.language,ut.code),Re.close()}})},Yt=function(yt){yt.addCommand("codesample",function(){var mt=yt.selection.getNode();yt.selection.isCollapsed()||vt(mt)?z(yt):yt.formatter.toggle("code")})},It=function(yt){var mt=yt.$;yt.on("PreProcess",function(fn){mt("pre[contenteditable=false]",fn.node).filter(q(vt)).each(function(Yr,yr){var Re=mt(yr),ut=yr.textContent;Re.attr("class",mt.trim(Re.attr("class"))),Re.removeAttr("contentEditable"),Re.empty().append(mt("<code></code>").each(function(){this.textContent=ut}))})}),yt.on("SetContent",function(){var fn=mt("pre").filter(q(vt)).filter(function(Yr,yr){return yr.contentEditable!=="false"});fn.length&&yt.undoManager.transact(function(){fn.each(function(Yr,yr){mt(yr).find("br").each(function(Re,ut){ut.parentNode.replaceChild(yt.getDoc().createTextNode(`
`),ut)}),yr.contentEditable="false",yr.innerHTML=yt.dom.encode(yr.textContent),hn(yt).highlightElement(yr),yr.className=mt.trim(yr.className)})})})},In=function(yt){var mt=yt.selection.getStart();return yt.dom.is(mt,'pre[class*="language-"]')},zn=function(yt){yt.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:function(){return z(yt)},onSetup:function(mt){var fn=function(){mt.setActive(In(yt))};return yt.on("NodeChange",fn),function(){return yt.off("NodeChange",fn)}}}),yt.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:function(){return z(yt)}})};function jn(){Le.add("codesample",function(yt){It(yt),zn(yt),Yt(yt),yt.on("dblclick",function(mt){vt(mt.target)&&z(yt)})})}jn()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager");function qn(){Le.add("colorpicker",function(){console.warn("Color picker plugin is now built in to the core editor, please remove it from your editor configuration")})}qn()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager");function qn(){Le.add("contextmenu",function(){console.warn("Context menu plugin is now built in to the core editor, please remove it from your editor configuration")})}qn()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=tinymce.util.Tools.resolve("tinymce.util.Tools"),tn=function(de,Ue){var ee=de.dom,ke,he=de.selection.getSelectedBlocks();he.length&&(ke=ee.getAttrib(he[0],"dir"),qn.each(he,function(Pt){ee.getParent(Pt.parentNode,'*[dir="'+Ue+'"]',ee.getRoot())||ee.setAttrib(Pt,"dir",ke!==Ue?Ue:null)}),de.nodeChanged())},bt=function(de){de.addCommand("mceDirectionLTR",function(){tn(de,"ltr")}),de.addCommand("mceDirectionRTL",function(){tn(de,"rtl")})},ve=function(){},rt=function(de,Ue){return function(ee){return de(Ue(ee))}},gn=function(de){return function(){return de}},vn=gn(!1),Ct=gn(!0),Et=function(){return Qe},Qe=function(){var de=function(he){return he.isNone()},Ue=function(he){return he()},ee=function(he){return he},ke={fold:function(he,Pt){return he()},is:vn,isSome:vn,isNone:Ct,getOr:ee,getOrThunk:Ue,getOrDie:function(he){throw new Error(he||"error: getOrDie called on none.")},getOrNull:gn(null),getOrUndefined:gn(void 0),or:ee,orThunk:Ue,map:Et,each:ve,bind:Et,exists:vn,forall:Ct,filter:Et,equals:de,equals_:de,toArray:function(){return[]},toString:gn("none()")};return ke}(),Ze=function(de){var Ue=gn(de),ee=function(){return he},ke=function(Pt){return Pt(de)},he={fold:function(Pt,pn){return pn(de)},is:function(Pt){return de===Pt},isSome:Ct,isNone:vn,getOr:Ue,getOrThunk:Ue,getOrDie:Ue,getOrNull:Ue,getOrUndefined:Ue,or:ee,orThunk:ee,map:function(Pt){return Ze(Pt(de))},each:function(Pt){Pt(de)},bind:ke,exists:ke,forall:ke,filter:function(Pt){return Pt(de)?he:Qe},toArray:function(){return[de]},toString:function(){return"some("+de+")"},equals:function(Pt){return Pt.is(de)},equals_:function(Pt,pn){return Pt.fold(vn,function(St){return pn(de,St)})}};return he},te=function(de){return de==null?Qe:Ze(de)},vt={some:Ze,none:Et,from:te},q=function(de){return function(Ue){return typeof Ue===de}},We=function(de){return de==null},dn=function(de){return!We(de)},Xe=q("function"),cr=function(de){return de.style!==void 0&&Xe(de.style.getPropertyValue)},S=function(de,Ue){var ee=Ue||document,ke=ee.createElement("div");if(ke.innerHTML=de,!ke.hasChildNodes()||ke.childNodes.length>1)throw console.error("HTML does not have a single root node",de),new Error("HTML must have a single root node");return hn(ke.childNodes[0])},mn=function(de,Ue){var ee=Ue||document,ke=ee.createElement(de);return hn(ke)},Pn=function(de,Ue){var ee=Ue||document,ke=ee.createTextNode(de);return hn(ke)},hn=function(de){if(de==null)throw new Error("Node cannot be null or undefined");return{dom:de}},an=function(de,Ue,ee){return vt.from(de.dom.elementFromPoint(Ue,ee)).map(hn)},$n={fromHtml:S,fromTag:mn,fromText:Pn,fromDom:hn,fromPoint:an};typeof window!="undefined"||Function("return this;")();var Cr=9,lr=11,Me=3,z=function(de){return de.dom.nodeType},Yt=function(de){return function(Ue){return z(Ue)===de}},It=Yt(Me),In=Yt(Cr),zn=Yt(lr),jn=function(de){return $n.fromDom(de.dom.ownerDocument)},yt=function(de){return In(de)?de:jn(de)},mt=function(de){return zn(de)&&dn(de.dom.host)},fn=Xe(Element.prototype.attachShadow)&&Xe(Node.prototype.getRootNode),Yr=fn?function(de){return $n.fromDom(de.dom.getRootNode())}:yt,yr=function(de){var Ue=Yr(de);return mt(Ue)?vt.some(Ue):vt.none()},Re=function(de){return $n.fromDom(de.dom.host)},ut=function(de){var Ue=It(de)?de.dom.parentNode:de.dom;if(Ue==null||Ue.ownerDocument===null)return!1;var ee=Ue.ownerDocument;return yr($n.fromDom(Ue)).fold(function(){return ee.body.contains(Ue)},rt(ut,Re))},kt=function(de,Ue){var ee=de.dom,ke=window.getComputedStyle(ee),he=ke.getPropertyValue(Ue);return he===""&&!ut(de)?Vt(ee,Ue):he},Vt=function(de,Ue){return cr(de)?de.style.getPropertyValue(Ue):""},we=function(de){return kt(de,"direction")==="rtl"?"rtl":"ltr"},Ye=function(de,Ue){return function(ee){var ke=function(he){var Pt=$n.fromDom(he.element);ee.setActive(we(Pt)===Ue)};return de.on("NodeChange",ke),function(){return de.off("NodeChange",ke)}}},rn=function(de){de.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return de.execCommand("mceDirectionLTR")},onSetup:Ye(de,"ltr")}),de.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return de.execCommand("mceDirectionRTL")},onSetup:Ye(de,"rtl")})};function qe(){Le.add("directionality",function(de){bt(de),rn(de)})}qe()})();(function(){var Le=function(re){var _e=re,ct=function(){return _e},Qt=function(Sn){_e=Sn};return{get:ct,set:Qt}},qn=tinymce.util.Tools.resolve("tinymce.PluginManager"),tn=function(re){return{isFullscreen:function(){return re.get()!==null}}},bt=function(){},ve=function(re,_e){return function(){for(var ct=[],Qt=0;Qt<arguments.length;Qt++)ct[Qt]=arguments[Qt];return re(_e.apply(null,ct))}},rt=function(re,_e){return function(ct){return re(_e(ct))}},gn=function(re){return function(){return re}};function vn(re){for(var _e=[],ct=1;ct<arguments.length;ct++)_e[ct-1]=arguments[ct];return function(){for(var Qt=[],Sn=0;Sn<arguments.length;Sn++)Qt[Sn]=arguments[Sn];var Ut=_e.concat(Qt);return re.apply(null,Ut)}}var Ct=gn(!1),Et=gn(!0),Qe=function(){return Ze},Ze=function(){var re=function(Sn){return Sn.isNone()},_e=function(Sn){return Sn()},ct=function(Sn){return Sn},Qt={fold:function(Sn,Ut){return Sn()},is:Ct,isSome:Ct,isNone:Et,getOr:ct,getOrThunk:_e,getOrDie:function(Sn){throw new Error(Sn||"error: getOrDie called on none.")},getOrNull:gn(null),getOrUndefined:gn(void 0),or:ct,orThunk:_e,map:Qe,each:bt,bind:Qe,exists:Ct,forall:Et,filter:Qe,equals:re,equals_:re,toArray:function(){return[]},toString:gn("none()")};return Qt}(),te=function(re){var _e=gn(re),ct=function(){return Sn},Qt=function(Ut){return Ut(re)},Sn={fold:function(Ut,vr){return vr(re)},is:function(Ut){return re===Ut},isSome:Et,isNone:Ct,getOr:_e,getOrThunk:_e,getOrDie:_e,getOrNull:_e,getOrUndefined:_e,or:ct,orThunk:ct,map:function(Ut){return te(Ut(re))},each:function(Ut){Ut(re)},bind:Qt,exists:Qt,forall:Qt,filter:function(Ut){return Ut(re)?Sn:Ze},toArray:function(){return[re]},toString:function(){return"some("+re+")"},equals:function(Ut){return Ut.is(re)},equals_:function(Ut,vr){return Ut.fold(Ct,function(gr){return vr(re,gr)})}};return Sn},vt=function(re){return re==null?Ze:te(re)},q={some:te,none:Qe,from:vt},We=function(re){var _e=Le(q.none()),ct=function(){return _e.get().each(re)},Qt=function(){ct(),_e.set(q.none())},Sn=function(){return _e.get().isSome()},Ut=function(vr){ct(),_e.set(q.some(vr))};return{clear:Qt,isSet:Sn,set:Ut}},dn=function(){return We(function(re){return re.unbind()})},Xe=function(){var re=Le(q.none()),_e=function(){return re.set(q.none())},ct=function(Ut){return re.set(q.some(Ut))},Qt=function(){return re.get().isSome()},Sn=function(Ut){return re.get().each(Ut)};return{clear:_e,set:ct,isSet:Qt,on:Sn}},cr=function(re){var _e=typeof re;return re===null?"null":_e==="object"&&(Array.prototype.isPrototypeOf(re)||re.constructor&&re.constructor.name==="Array")?"array":_e==="object"&&(String.prototype.isPrototypeOf(re)||re.constructor&&re.constructor.name==="String")?"string":_e},S=function(re){return function(_e){return cr(_e)===re}},mn=function(re){return function(_e){return typeof _e===re}},Pn=S("string"),hn=S("array"),an=mn("boolean"),$n=function(re){return re==null},Cr=function(re){return!$n(re)},lr=mn("function"),Me=mn("number"),z=Array.prototype.push,Yt=function(re,_e){for(var ct=re.length,Qt=new Array(ct),Sn=0;Sn<ct;Sn++){var Ut=re[Sn];Qt[Sn]=_e(Ut,Sn)}return Qt},It=function(re,_e){for(var ct=0,Qt=re.length;ct<Qt;ct++){var Sn=re[ct];_e(Sn,ct)}},In=function(re,_e){for(var ct=[],Qt=0,Sn=re.length;Qt<Sn;Qt++){var Ut=re[Qt];_e(Ut,Qt)&&ct.push(Ut)}return ct},zn=function(re){for(var _e=[],ct=0,Qt=re.length;ct<Qt;++ct){if(!hn(re[ct]))throw new Error("Arr.flatten item "+ct+" was not an array, input: "+re);z.apply(_e,re[ct])}return _e},jn=function(re,_e){return zn(Yt(re,_e))},yt=function(re,_e){return _e>=0&&_e<re.length?q.some(re[_e]):q.none()},mt=function(re){return yt(re,0)},fn=Object.keys,Yr=function(re,_e){for(var ct=fn(re),Qt=0,Sn=ct.length;Qt<Sn;Qt++){var Ut=ct[Qt],vr=re[Ut];_e(vr,Ut)}},yr=function(re){return re.style!==void 0&&lr(re.style.getPropertyValue)},Re=function(re,_e){var ct=_e||document,Qt=ct.createElement("div");if(Qt.innerHTML=re,!Qt.hasChildNodes()||Qt.childNodes.length>1)throw console.error("HTML does not have a single root node",re),new Error("HTML must have a single root node");return Vt(Qt.childNodes[0])},ut=function(re,_e){var ct=_e||document,Qt=ct.createElement(re);return Vt(Qt)},kt=function(re,_e){var ct=_e||document,Qt=ct.createTextNode(re);return Vt(Qt)},Vt=function(re){if(re==null)throw new Error("Node cannot be null or undefined");return{dom:re}},we=function(re,_e,ct){return q.from(re.dom.elementFromPoint(_e,ct)).map(Vt)},Ye={fromHtml:Re,fromTag:ut,fromText:kt,fromDom:Vt,fromPoint:we};typeof window!="undefined"||Function("return this;")();var rn=9,qe=11,de=1,Ue=3,ee=function(re){return re.dom.nodeType},ke=function(re){return function(_e){return ee(_e)===re}},he=ke(de),Pt=ke(Ue),pn=ke(rn),St=ke(qe),ir=function(re,_e){var ct=re.dom;if(ct.nodeType!==de)return!1;var Qt=ct;if(Qt.matches!==void 0)return Qt.matches(_e);if(Qt.msMatchesSelector!==void 0)return Qt.msMatchesSelector(_e);if(Qt.webkitMatchesSelector!==void 0)return Qt.webkitMatchesSelector(_e);if(Qt.mozMatchesSelector!==void 0)return Qt.mozMatchesSelector(_e);throw new Error("Browser lacks native selectors")},Rn=function(re){return re.nodeType!==de&&re.nodeType!==rn&&re.nodeType!==qe||re.childElementCount===0},Zr=function(re,_e){var ct=_e===void 0?document:_e.dom;return Rn(ct)?[]:Yt(ct.querySelectorAll(re),Ye.fromDom)},Ir=function(re,_e){return re.dom===_e.dom},ba=function(re){return Ye.fromDom(re.dom.ownerDocument)},zt=function(re){return pn(re)?re:ba(re)},pt=function(re){return q.from(re.dom.parentNode).map(Ye.fromDom)},Jt=function(re,_e){for(var ct=lr(_e)?_e:Ct,Qt=re.dom,Sn=[];Qt.parentNode!==null&&Qt.parentNode!==void 0;){var Ut=Qt.parentNode,vr=Ye.fromDom(Ut);if(Sn.push(vr),ct(vr)===!0)break;Qt=Ut}return Sn},Kt=function(re){var _e=function(ct){return In(ct,function(Qt){return!Ir(re,Qt)})};return pt(re).map(Xt).map(_e).getOr([])},Xt=function(re){return Yt(re.dom.childNodes,Ye.fromDom)},Nn=function(re){return St(re)&&Cr(re.dom.host)},dr=lr(Element.prototype.attachShadow)&&lr(Node.prototype.getRootNode),Nt=gn(dr),lt=dr?function(re){return Ye.fromDom(re.dom.getRootNode())}:zt,Tn=function(re){var _e=lt(re);return Nn(_e)?q.some(_e):q.none()},or=function(re){return Ye.fromDom(re.dom.host)},zr=function(re){if(Nt()&&Cr(re.target)){var _e=Ye.fromDom(re.target);if(he(_e)&&Pr(_e)&&re.composed&&re.composedPath){var ct=re.composedPath();if(ct)return mt(ct)}}return q.from(re.target)},Pr=function(re){return Cr(re.dom.shadowRoot)},na=function(re){var _e=Pt(re)?re.dom.parentNode:re.dom;if(_e==null||_e.ownerDocument===null)return!1;var ct=_e.ownerDocument;return Tn(Ye.fromDom(_e)).fold(function(){return ct.body.contains(_e)},rt(na,or))},Or=function(re){var _e=re.dom.body;if(_e==null)throw new Error("Body is not available yet");return Ye.fromDom(_e)},xa=function(re,_e,ct){if(Pn(ct)||an(ct)||Me(ct))re.setAttribute(_e,ct+"");else throw console.error("Invalid call to Attribute.set. Key ",_e,":: Value ",ct,":: Element ",re),new Error("Attribute value was not simple")},Ce=function(re,_e,ct){xa(re.dom,_e,ct)},et=function(re,_e){var ct=re.dom.getAttribute(_e);return ct===null?void 0:ct},Wt=function(re,_e){re.dom.removeAttribute(_e)},Fn=function(re,_e,ct){if(!Pn(ct))throw console.error("Invalid call to CSS.set. Property ",_e,":: Value ",ct,":: Element ",re),new Error("CSS value must be a string: "+ct);yr(re)&&re.style.setProperty(_e,ct)},un=function(re,_e){var ct=re.dom;Yr(_e,function(Qt,Sn){Fn(ct,Sn,Qt)})},fr=function(re,_e){var ct=re.dom,Qt=window.getComputedStyle(ct),Sn=Qt.getPropertyValue(_e);return Sn===""&&!na(re)?ya(ct,_e):Sn},ya=function(re,_e){return yr(re)?re.style.getPropertyValue(_e):""},Nr=function(re,_e,ct,Qt,Sn,Ut,vr){return{target:re,x:_e,y:ct,stop:Qt,prevent:Sn,kill:Ut,raw:vr}},kr=function(re){var _e=Ye.fromDom(zr(re).getOr(re.target)),ct=function(){return re.stopPropagation()},Qt=function(){return re.preventDefault()},Sn=ve(Qt,ct);return Nr(_e,re.clientX,re.clientY,ct,Qt,Sn,re)},qa=function(re,_e){return function(ct){re(ct)&&_e(kr(ct))}},Ro=function(re,_e,ct,Qt,Sn){var Ut=qa(ct,Qt);return re.dom.addEventListener(_e,Ut,Sn),{unbind:vn(Ko,re,_e,Ut,Sn)}},Ta=function(re,_e,ct,Qt){return Ro(re,_e,ct,Qt,!1)},Ko=function(re,_e,ct,Qt){re.dom.removeEventListener(_e,ct,Qt)},Oa=Et,ho=function(re,_e,ct){return Ta(re,_e,Oa,ct)},ao=function(re,_e){var ct=function(Qt,Sn){return ao(re+Qt,_e+Sn)};return{left:re,top:_e,translate:ct}},ur=ao,ua=function(re){var _e=re!==void 0?re.dom:document,ct=_e.body.scrollLeft||_e.documentElement.scrollLeft,Qt=_e.body.scrollTop||_e.documentElement.scrollTop;return ur(ct,Qt)},Pa=function(re){var _e=re===void 0?window:re;return q.from(_e.visualViewport)},Ga=function(re,_e,ct,Qt){return{x:re,y:_e,width:ct,height:Qt,right:re+ct,bottom:_e+Qt}},Gn=function(re){var _e=re===void 0?window:re,ct=_e.document,Qt=ua(Ye.fromDom(ct));return Pa(_e).fold(function(){var Sn=_e.document.documentElement,Ut=Sn.clientWidth,vr=Sn.clientHeight;return Ga(Qt.left,Qt.top,Ut,vr)},function(Sn){return Ga(Math.max(Sn.pageLeft,Qt.left),Math.max(Sn.pageTop,Qt.top),Sn.width,Sn.height)})},oo=function(re,_e,ct){return Pa(ct).map(function(Qt){var Sn=function(Ut){return _e(kr(Ut))};return Qt.addEventListener(re,Sn),{unbind:function(){return Qt.removeEventListener(re,Sn)}}}).getOrThunk(function(){return{unbind:bt}})},mo=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Po=tinymce.util.Tools.resolve("tinymce.Env"),yo=tinymce.util.Tools.resolve("tinymce.util.Delay"),Gr=function(re,_e){re.fire("FullscreenStateChanged",{state:_e})},wo=function(re){return re.getParam("fullscreen_native",!1,"boolean")},lo=function(re){var _e=Ye.fromDom(re.getElement());return Tn(_e).map(or).getOrThunk(function(){return Or(ba(_e))})},po=function(re){return re.fullscreenElement!==void 0?re.fullscreenElement:re.msFullscreenElement!==void 0?re.msFullscreenElement:re.webkitFullscreenElement!==void 0?re.webkitFullscreenElement:null},Ho=function(){return document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange"},Vo=function(re){var _e=re.dom;_e.requestFullscreen?_e.requestFullscreen():_e.msRequestFullscreen?_e.msRequestFullscreen():_e.webkitRequestFullScreen&&_e.webkitRequestFullScreen()},Wa=function(re){var _e=re.dom;_e.exitFullscreen?_e.exitFullscreen():_e.msExitFullscreen?_e.msExitFullscreen():_e.webkitCancelFullScreen&&_e.webkitCancelFullScreen()},No=function(re){return re.dom===po(ba(re).dom)},ce=function(re,_e,ct){return In(Jt(re,ct),_e)},I=function(re,_e){return In(Kt(re),_e)},W=function(re){return Zr(re)},le=function(re,_e,ct){return ce(re,function(Qt){return ir(Qt,_e)},ct)},De=function(re,_e){return I(re,function(ct){return ir(ct,_e)})},Pe="data-ephox-mobile-fullscreen-style",tt="display:none!important;",$="position:absolute!important;",Z="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",ye="background-color:rgb(255,255,255)!important;",ue=Po.os.isAndroid(),Ge=function(re){var _e=fr(re,"background-color");return _e!==void 0&&_e!==""?"background-color:"+_e+"!important":ye},Je=function(re,_e,ct){var Qt=function(wa){return De(wa,"*:not(.tox-silver-sink)")},Sn=function(wa){return function(j){var Fe=et(j,"style"),Ie=Fe===void 0?"no-styles":Fe.trim();Ie!==wa&&(Ce(j,Pe,Ie),un(j,re.parseStyle(wa)))}},Ut=le(_e,"*"),vr=jn(Ut,Qt),gr=Ge(ct);It(vr,Sn(tt)),It(Ut,Sn($+Z+gr));var Fr=ue===!0?"":$;Sn(Fr+Z+gr)(_e)},yn=function(re){var _e=W("["+Pe+"]");It(_e,function(ct){var Qt=et(ct,Pe);Qt!=="no-styles"?un(ct,re.parseStyle(Qt)):Wt(ct,"style"),Wt(ct,Pe)})},Jn=mo.DOM,$t=function(){var re=Gn(window);return{x:re.x,y:re.y}},Zn=function(re){window.scrollTo(re.x,re.y)},K=Pa().fold(function(){return{bind:bt,unbind:bt}},function(re){var _e=Xe(),ct=dn(),Qt=dn(),Sn=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},Ut=function(){window.requestAnimationFrame(function(){_e.on(function(wa){return un(wa,{top:re.offsetTop+"px",left:re.offsetLeft+"px",height:re.height+"px",width:re.width+"px"})})})},vr=yo.throttle(function(){Sn(),Ut()},50),gr=function(wa){_e.set(wa),vr(),ct.set(oo("resize",vr)),Qt.set(oo("scroll",vr))},Fr=function(){_e.on(function(){ct.clear(),Qt.clear()}),_e.clear()};return{bind:gr,unbind:Fr}}),xe=function(re,_e){var ct=document.body,Qt=document.documentElement,Sn=re.getContainer(),Ut=Ye.fromDom(Sn),vr=lo(re),gr=_e.get(),Fr=Ye.fromDom(re.getBody()),wa=Po.deviceType.isTouch(),j=Sn.style,Fe=re.iframeElement,Ie=Fe.style,Be=function(la){la(ct,"tox-fullscreen"),la(Qt,"tox-fullscreen"),la(Sn,"tox-fullscreen"),Tn(Ut).map(function(Qr){return or(Qr).dom}).each(function(Qr){la(Qr,"tox-fullscreen"),la(Qr,"tox-shadowhost")})},qt=function(){wa&&yn(re.dom),Be(Jn.removeClass),K.unbind(),q.from(_e.get()).each(function(la){return la.fullscreenChangeHandler.unbind()})};if(gr)gr.fullscreenChangeHandler.unbind(),wo(re)&&No(vr)&&Wa(ba(vr)),Ie.width=gr.iframeWidth,Ie.height=gr.iframeHeight,j.width=gr.containerWidth,j.height=gr.containerHeight,j.top=gr.containerTop,j.left=gr.containerLeft,Zn(gr.scrollPos),_e.set(null),Gr(re,!1),qt(),re.off("remove",qt);else{var mr=ho(ba(vr),Ho(),function(la){wo(re)&&!No(vr)&&_e.get()!==null&&xe(re,_e)}),sa={scrollPos:$t(),containerWidth:j.width,containerHeight:j.height,containerTop:j.top,containerLeft:j.left,iframeWidth:Ie.width,iframeHeight:Ie.height,fullscreenChangeHandler:mr};wa&&Je(re.dom,Ut,Fr),Ie.width=Ie.height="100%",j.width=j.height="",Be(Jn.addClass),K.bind(Ut),re.on("remove",qt),_e.set(sa),wo(re)&&Vo(vr),Gr(re,!0)}},Oe=function(re,_e){re.addCommand("mceFullScreen",function(){xe(re,_e)})},at=function(re,_e){return function(ct){ct.setActive(_e.get()!==null);var Qt=function(Sn){return ct.setActive(Sn.state)};return re.on("FullscreenStateChanged",Qt),function(){return re.off("FullscreenStateChanged",Qt)}}},kn=function(re,_e){re.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:function(){return re.execCommand("mceFullScreen")},onSetup:at(re,_e)}),re.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:function(){return re.execCommand("mceFullScreen")},onSetup:at(re,_e)})};function Dn(){qn.add("fullscreen",function(re){var _e=Le(null);return re.inline||(Oe(re,_e),kn(re,_e),re.addShortcut("Meta+Shift+F","","mceFullScreen")),tn(_e)})}Dn()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=function(ve){ve.addCommand("InsertHorizontalRule",function(){ve.execCommand("mceInsertContent",!1,"<hr />")})},tn=function(ve){ve.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:function(){return ve.execCommand("InsertHorizontalRule")}}),ve.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:function(){return ve.execCommand("InsertHorizontalRule")}})};function bt(){Le.add("hr",function(ve){qn(ve),tn(ve)})}bt()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=function(){return qn=Object.assign||function(oe){for(var L,st=1,Ee=arguments.length;st<Ee;st++){L=arguments[st];for(var sr in L)Object.prototype.hasOwnProperty.call(L,sr)&&(oe[sr]=L[sr])}return oe},qn.apply(this,arguments)},tn=function(){},bt=function(B){return function(){return B}},ve=bt(!1),rt=bt(!0),gn=function(){return vn},vn=function(){var B=function(Ee){return Ee.isNone()},oe=function(Ee){return Ee()},L=function(Ee){return Ee},st={fold:function(Ee,sr){return Ee()},is:ve,isSome:ve,isNone:rt,getOr:L,getOrThunk:oe,getOrDie:function(Ee){throw new Error(Ee||"error: getOrDie called on none.")},getOrNull:bt(null),getOrUndefined:bt(void 0),or:L,orThunk:oe,map:gn,each:tn,bind:gn,exists:ve,forall:rt,filter:gn,equals:B,equals_:B,toArray:function(){return[]},toString:bt("none()")};return st}(),Ct=function(B){var oe=bt(B),L=function(){return Ee},st=function(sr){return sr(B)},Ee={fold:function(sr,Da){return Da(B)},is:function(sr){return B===sr},isSome:rt,isNone:ve,getOr:oe,getOrThunk:oe,getOrDie:oe,getOrNull:oe,getOrUndefined:oe,or:L,orThunk:L,map:function(sr){return Ct(sr(B))},each:function(sr){sr(B)},bind:st,exists:st,forall:st,filter:function(sr){return sr(B)?Ee:vn},toArray:function(){return[B]},toString:function(){return"some("+B+")"},equals:function(sr){return sr.is(B)},equals_:function(sr,Da){return sr.fold(ve,function(nr){return Da(B,nr)})}};return Ee},Et=function(B){return B==null?vn:Ct(B)},Qe={some:Ct,none:gn,from:Et},Ze=Object.keys,te=Object.hasOwnProperty,vt=function(B,oe){for(var L=Ze(B),st=0,Ee=L.length;st<Ee;st++){var sr=L[st],Da=B[sr];oe(Da,sr)}},q=function(B){return function(oe,L){B[L]=oe}},We=function(B,oe,L,st){var Ee={};return vt(B,function(sr,Da){(oe(sr,Da)?L:st)(sr,Da)}),Ee},dn=function(B,oe){var L={};return We(B,oe,q(L),tn),L},Xe=function(B,oe){return te.call(B,oe)},cr=function(B,oe){return Xe(B,oe)&&B[oe]!==void 0&&B[oe]!==null},S=function(B){var oe=typeof B;return B===null?"null":oe==="object"&&(Array.prototype.isPrototypeOf(B)||B.constructor&&B.constructor.name==="Array")?"array":oe==="object"&&(String.prototype.isPrototypeOf(B)||B.constructor&&B.constructor.name==="String")?"string":oe},mn=function(B){return function(oe){return S(oe)===B}},Pn=function(B){return function(oe){return typeof oe===B}},hn=function(B){return function(oe){return B===oe}},an=mn("string"),$n=mn("object"),Cr=mn("array"),lr=hn(null),Me=Pn("boolean"),z=function(B){return B==null},Yt=function(B){return!z(B)},It=Pn("number"),In=Array.prototype.push,zn=function(B){for(var oe=[],L=0,st=B.length;L<st;++L){if(!Cr(B[L]))throw new Error("Arr.flatten item "+L+" was not an array, input: "+B);In.apply(oe,B[L])}return oe},jn=function(B,oe){return oe>=0&&oe<B.length?Qe.some(B[oe]):Qe.none()},yt=function(B){return jn(B,0)},mt=function(B,oe){for(var L=0;L<B.length;L++){var st=oe(B[L],L);if(st.isSome())return st}return Qe.none()};typeof window!="undefined"||Function("return this;")();var fn=function(B,oe,L){if(an(L)||Me(L)||It(L))B.setAttribute(oe,L+"");else throw console.error("Invalid call to Attribute.set. Key ",oe,":: Value ",L,":: Element ",B),new Error("Attribute value was not simple")},Yr=function(B,oe,L){fn(B.dom,oe,L)},yr=function(B,oe){B.dom.removeAttribute(oe)},Re=function(B,oe){var L=oe||document,st=L.createElement("div");if(st.innerHTML=B,!st.hasChildNodes()||st.childNodes.length>1)throw console.error("HTML does not have a single root node",B),new Error("HTML must have a single root node");return Vt(st.childNodes[0])},ut=function(B,oe){var L=oe||document,st=L.createElement(B);return Vt(st)},kt=function(B,oe){var L=oe||document,st=L.createTextNode(B);return Vt(st)},Vt=function(B){if(B==null)throw new Error("Node cannot be null or undefined");return{dom:B}},we=function(B,oe,L){return Qe.from(B.dom.elementFromPoint(oe,L)).map(Vt)},Ye={fromHtml:Re,fromTag:ut,fromText:kt,fromDom:Vt,fromPoint:we},rn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),qe=tinymce.util.Tools.resolve("tinymce.util.Promise"),de=tinymce.util.Tools.resolve("tinymce.util.XHR"),Ue=function(B){return B.getParam("image_dimensions",!0,"boolean")},ee=function(B){return B.getParam("image_advtab",!1,"boolean")},ke=function(B){return B.getParam("image_uploadtab",!0,"boolean")},he=function(B){return B.getParam("image_prepend_url","","string")},Pt=function(B){return B.getParam("image_class_list")},pn=function(B){return B.getParam("image_description",!0,"boolean")},St=function(B){return B.getParam("image_title",!1,"boolean")},ir=function(B){return B.getParam("image_caption",!1,"boolean")},Rn=function(B){return B.getParam("image_list",!1)},Zr=function(B){return Yt(B.getParam("images_upload_url"))},Ir=function(B){return Yt(B.getParam("images_upload_handler"))},ba=function(B){return B.getParam("a11y_advanced_options",!1,"boolean")},zt=function(B){return B.getParam("automatic_uploads",!0,"boolean")},pt=function(B,oe){return Math.max(parseInt(B,10),parseInt(oe,10))},Jt=function(B){return new qe(function(oe){var L=document.createElement("img"),st=function(sr){L.parentNode&&L.parentNode.removeChild(L),oe(sr)};L.onload=function(){var sr=pt(L.width,L.clientWidth),Da=pt(L.height,L.clientHeight),nr={width:sr,height:Da};st(qe.resolve(nr))},L.onerror=function(){st(qe.reject("Failed to get image dimensions for: "+B))};var Ee=L.style;Ee.visibility="hidden",Ee.position="fixed",Ee.bottom=Ee.left="0px",Ee.width=Ee.height="auto",document.body.appendChild(L),L.src=B})},Kt=function(B){return B&&(B=B.replace(/px$/,"")),B},Xt=function(B){return B.length>0&&/^[0-9]+$/.test(B)&&(B+="px"),B},Nn=function(B){if(B.margin){var oe=String(B.margin).split(" ");switch(oe.length){case 1:B["margin-top"]=B["margin-top"]||oe[0],B["margin-right"]=B["margin-right"]||oe[0],B["margin-bottom"]=B["margin-bottom"]||oe[0],B["margin-left"]=B["margin-left"]||oe[0];break;case 2:B["margin-top"]=B["margin-top"]||oe[0],B["margin-right"]=B["margin-right"]||oe[1],B["margin-bottom"]=B["margin-bottom"]||oe[0],B["margin-left"]=B["margin-left"]||oe[1];break;case 3:B["margin-top"]=B["margin-top"]||oe[0],B["margin-right"]=B["margin-right"]||oe[1],B["margin-bottom"]=B["margin-bottom"]||oe[2],B["margin-left"]=B["margin-left"]||oe[1];break;case 4:B["margin-top"]=B["margin-top"]||oe[0],B["margin-right"]=B["margin-right"]||oe[1],B["margin-bottom"]=B["margin-bottom"]||oe[2],B["margin-left"]=B["margin-left"]||oe[3]}delete B.margin}return B},dr=function(B,oe){var L=Rn(B);typeof L=="string"?de.send({url:L,success:function(st){oe(JSON.parse(st))}}):typeof L=="function"?L(oe):oe(L)},Nt=function(B,oe,L){var st=function(){L.onload=L.onerror=null,B.selection&&(B.selection.select(L),B.nodeChanged())};L.onload=function(){!oe.width&&!oe.height&&Ue(B)&&B.dom.setAttribs(L,{width:String(L.clientWidth),height:String(L.clientHeight)}),st()},L.onerror=st},lt=function(B){return new qe(function(oe,L){var st=new FileReader;st.onload=function(){oe(st.result)},st.onerror=function(){L(st.error.message)},st.readAsDataURL(B)})},Tn=function(B){return B.nodeName==="IMG"&&(B.hasAttribute("data-mce-object")||B.hasAttribute("data-mce-placeholder"))},or=rn.DOM,zr=function(B){return B.style.marginLeft&&B.style.marginRight&&B.style.marginLeft===B.style.marginRight?Kt(B.style.marginLeft):""},Pr=function(B){return B.style.marginTop&&B.style.marginBottom&&B.style.marginTop===B.style.marginBottom?Kt(B.style.marginTop):""},na=function(B){return B.style.borderWidth?Kt(B.style.borderWidth):""},Or=function(B,oe){return B.hasAttribute(oe)?B.getAttribute(oe):""},xa=function(B,oe){return B.style[oe]?B.style[oe]:""},Ce=function(B){return B.parentNode!==null&&B.parentNode.nodeName==="FIGURE"},et=function(B,oe,L){L===""?B.removeAttribute(oe):B.setAttribute(oe,L)},Wt=function(B){var oe=or.create("figure",{class:"image"});or.insertAfter(oe,B),oe.appendChild(B),oe.appendChild(or.create("figcaption",{contentEditable:"true"},"Caption")),oe.contentEditable="false"},Fn=function(B){var oe=B.parentNode;or.insertAfter(B,oe),or.remove(oe)},un=function(B){Ce(B)?Fn(B):Wt(B)},fr=function(B,oe){var L=B.getAttribute("style"),st=oe(L!==null?L:"");st.length>0?(B.setAttribute("style",st),B.setAttribute("data-mce-style",st)):B.removeAttribute("style")},ya=function(B,oe){return function(L,st,Ee){L.style[st]?(L.style[st]=Xt(Ee),fr(L,oe)):et(L,st,Ee)}},Nr=function(B,oe){return B.style[oe]?Kt(B.style[oe]):Or(B,oe)},kr=function(B,oe){var L=Xt(oe);B.style.marginLeft=L,B.style.marginRight=L},qa=function(B,oe){var L=Xt(oe);B.style.marginTop=L,B.style.marginBottom=L},Ro=function(B,oe){var L=Xt(oe);B.style.borderWidth=L},Ta=function(B,oe){B.style.borderStyle=oe},Ko=function(B){return xa(B,"borderStyle")},Oa=function(B){return B.nodeName==="FIGURE"},ho=function(B){return B.nodeName==="IMG"},ao=function(B){return or.getAttrib(B,"alt").length===0&&or.getAttrib(B,"role")==="presentation"},ur=function(B){return ao(B)?"":Or(B,"alt")},ua=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},Pa=function(B,oe){var L=document.createElement("img");return et(L,"style",oe.style),(zr(L)||oe.hspace!=="")&&kr(L,oe.hspace),(Pr(L)||oe.vspace!=="")&&qa(L,oe.vspace),(na(L)||oe.border!=="")&&Ro(L,oe.border),(Ko(L)||oe.borderStyle!=="")&&Ta(L,oe.borderStyle),B(L.getAttribute("style"))},Ga=function(B,oe){var L=document.createElement("img");if(Gr(B,qn(qn({},oe),{caption:!1}),L),mo(L,oe.alt,oe.isDecorative),oe.caption){var st=or.create("figure",{class:"image"});return st.appendChild(L),st.appendChild(or.create("figcaption",{contentEditable:"true"},"Caption")),st.contentEditable="false",st}else return L},Gn=function(B,oe){return{src:Or(oe,"src"),alt:ur(oe),title:Or(oe,"title"),width:Nr(oe,"width"),height:Nr(oe,"height"),class:Or(oe,"class"),style:B(Or(oe,"style")),caption:Ce(oe),hspace:zr(oe),vspace:Pr(oe),border:na(oe),borderStyle:xa(oe,"borderStyle"),isDecorative:ao(oe)}},oo=function(B,oe,L,st,Ee){L[st]!==oe[st]&&Ee(B,st,L[st])},mo=function(B,oe,L){if(L){or.setAttrib(B,"role","presentation");var st=Ye.fromDom(B);Yr(st,"alt","")}else{if(lr(oe)){var st=Ye.fromDom(B);yr(st,"alt")}else{var st=Ye.fromDom(B);Yr(st,"alt",oe)}or.getAttrib(B,"role")==="presentation"&&or.setAttrib(B,"role","")}},Po=function(B,oe,L){(L.alt!==oe.alt||L.isDecorative!==oe.isDecorative)&&mo(B,L.alt,L.isDecorative)},yo=function(B,oe){return function(L,st,Ee){B(L,Ee),fr(L,oe)}},Gr=function(B,oe,L){var st=Gn(B,L);oo(L,st,oe,"caption",function(Ee,sr,Da){return un(Ee)}),oo(L,st,oe,"src",et),oo(L,st,oe,"title",et),oo(L,st,oe,"width",ya("width",B)),oo(L,st,oe,"height",ya("height",B)),oo(L,st,oe,"class",et),oo(L,st,oe,"style",yo(function(Ee,sr){return et(Ee,"style",sr)},B)),oo(L,st,oe,"hspace",yo(kr,B)),oo(L,st,oe,"vspace",yo(qa,B)),oo(L,st,oe,"border",yo(Ro,B)),oo(L,st,oe,"borderStyle",yo(Ta,B)),Po(L,st,oe)},wo=function(B,oe){var L=B.dom.styles.parse(oe),st=Nn(L),Ee=B.dom.styles.parse(B.dom.styles.serialize(st));return B.dom.styles.serialize(Ee)},lo=function(B){var oe=B.selection.getNode(),L=B.dom.getParent(oe,"figure.image");return L?B.dom.select("img",L)[0]:oe&&(oe.nodeName!=="IMG"||Tn(oe))?null:oe},po=function(B,oe){var L=B.dom,st=dn(B.schema.getTextBlockElements(),function(sr,Da){return!B.schema.isValidChild(Da,"figure")}),Ee=L.getParent(oe.parentNode,function(sr){return cr(st,sr.nodeName)},B.getBody());return Ee?L.split(Ee,oe):oe},Ho=function(B){var oe=lo(B);return oe?Gn(function(L){return wo(B,L)},oe):ua()},Vo=function(B,oe){var L=Ga(function(sr){return wo(B,sr)},oe);B.dom.setAttrib(L,"data-mce-id","__mcenew"),B.focus(),B.selection.setContent(L.outerHTML);var st=B.dom.select('*[data-mce-id="__mcenew"]')[0];if(B.dom.setAttrib(st,"data-mce-id",null),Oa(st)){var Ee=po(B,st);B.selection.select(Ee)}else B.selection.select(st)},Wa=function(B,oe){B.dom.setAttrib(oe,"src",oe.getAttribute("src"))},No=function(B,oe){if(oe){var L=B.dom.is(oe.parentNode,"figure.image")?oe.parentNode:oe;B.dom.remove(L),B.focus(),B.nodeChanged(),B.dom.isEmpty(B.getBody())&&(B.setContent(""),B.selection.setCursorLocation())}},ce=function(B,oe){var L=lo(B);if(Gr(function(Ee){return wo(B,Ee)},oe,L),Wa(B,L),Oa(L.parentNode)){var st=L.parentNode;po(B,st),B.selection.select(L.parentNode)}else B.selection.select(L),Nt(B,oe,L)},I=function(B,oe){var L=lo(B);if(L){var st=Gn(function(sr){return wo(B,sr)},L),Ee=qn(qn({},st),oe);Ee.src?ce(B,Ee):No(B,L)}else oe.src&&Vo(B,qn(qn({},ua()),oe))},W=Object.prototype.hasOwnProperty,le=function(B,oe){var L=$n(B)&&$n(oe);return L?Pe(B,oe):oe},De=function(B){return function(){for(var oe=[],L=0;L<arguments.length;L++)oe[L]=arguments[L];if(oe.length===0)throw new Error("Can't merge zero objects");for(var st={},Ee=0;Ee<oe.length;Ee++){var sr=oe[Ee];for(var Da in sr)W.call(sr,Da)&&(st[Da]=B(st[Da],sr[Da]))}return st}},Pe=De(le),tt=function(B){return B.length>0},$=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Z=tinymce.util.Tools.resolve("tinymce.util.Tools"),ye=function(B){return an(B.value)?B.value:""},ue=function(B){return an(B.text)?B.text:an(B.title)?B.title:""},Ge=function(B,oe){var L=[];return Z.each(B,function(st){var Ee=ue(st);if(st.menu!==void 0){var sr=Ge(st.menu,oe);L.push({text:Ee,items:sr})}else{var Da=oe(st);L.push({text:Ee,value:Da})}}),L},Je=function(B){return B===void 0&&(B=ye),function(oe){return oe?Qe.from(oe).map(function(L){return Ge(L,B)}):Qe.none()}},yn=function(B){return Je(ye)(B)},Jn=function(B){return Object.prototype.hasOwnProperty.call(B,"items")},$t=function(B,oe){return mt(B,function(L){return Jn(L)?$t(L.items,oe):L.value===oe?Qe.some(L):Qe.none()})},Zn=function(B,oe){return B.bind(function(L){return $t(L,oe)})},K={sanitizer:Je,sanitize:yn,findEntry:Zn},xe=function(B){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Oe={makeTab:xe},at=function(B){var oe=K.sanitizer(function(oi){return B.convertURL(oi.value||oi.url,"src")}),L=new qe(function(oi){dr(B,function(Nc){oi(oe(Nc).map(function(ia){return zn([[{text:"None",value:""}],ia])}))})}),st=K.sanitize(Pt(B)),Ee=ee(B),sr=ke(B),Da=Zr(B),nr=Ir(B),ai=Ho(B),vu=pn(B),Eo=St(B),_i=Ue(B),ms=ir(B),Yf=ba(B),du=zt(B),xr=Qe.some(he(B)).filter(function(oi){return an(oi)&&oi.length>0});return L.then(function(oi){return{image:ai,imageList:oi,classList:st,hasAdvTab:Ee,hasUploadTab:sr,hasUploadUrl:Da,hasUploadHandler:nr,hasDescription:vu,hasImageTitle:Eo,hasDimensions:_i,hasImageCaption:ms,prependURL:xr,hasAccessibilityOptions:Yf,automaticUploads:du}})},kn=function(B){var oe={name:"src",type:"urlinput",filetype:"image",label:"Source"},L=B.imageList.map(function(vu){return{name:"images",type:"listbox",label:"Image list",items:vu}}),st={name:"alt",type:"input",label:"Alternative description",disabled:B.hasAccessibilityOptions&&B.image.isDecorative},Ee={name:"title",type:"input",label:"Image title"},sr={name:"dimensions",type:"sizeinput"},Da={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},nr=B.classList.map(function(vu){return{name:"classes",type:"listbox",label:"Class",items:vu}}),ai={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]};return zn([[oe],L.toArray(),B.hasAccessibilityOptions&&B.hasDescription?[Da]:[],B.hasDescription?[st]:[],B.hasImageTitle?[Ee]:[],B.hasDimensions?[sr]:[],[{type:"grid",columns:2,items:zn([nr.toArray(),B.hasImageCaption?[ai]:[]])}]])},Dn=function(B){return{title:"General",name:"general",items:kn(B)}},re={makeTab:Dn,makeItems:kn},_e=function(B){var oe=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:oe}},ct={makeTab:_e},Qt=function(B){return{prevImage:K.findEntry(B.imageList,B.image.src),prevAlt:B.image.alt,open:!0}},Sn=function(B){return{src:{value:B.src,meta:{}},images:B.src,alt:B.alt,title:B.title,dimensions:{width:B.width,height:B.height},classes:B.class,caption:B.caption,style:B.style,vspace:B.vspace,border:B.border,hspace:B.hspace,borderstyle:B.borderStyle,fileinput:[],isDecorative:B.isDecorative}},Ut=function(B,oe){return{src:B.src.value,alt:B.alt.length===0&&oe?null:B.alt,title:B.title,width:B.dimensions.width,height:B.dimensions.height,class:B.classes,style:B.style,caption:B.caption,hspace:B.hspace,vspace:B.vspace,border:B.border,borderStyle:B.borderstyle,isDecorative:B.isDecorative}},vr=function(B,oe){return/^(?:[a-zA-Z]+:)?\/\//.test(oe)?Qe.none():B.prependURL.bind(function(L){return oe.substring(0,L.length)!==L?Qe.some(L+oe):Qe.none()})},gr=function(B,oe){var L=oe.getData();vr(B,L.src.value).each(function(st){oe.setData({src:{value:st,meta:L.src.meta}})})},Fr=function(B,oe,L){B.hasDescription&&an(L.alt)&&(oe.alt=L.alt),B.hasAccessibilityOptions&&(oe.isDecorative=L.isDecorative||oe.isDecorative||!1),B.hasImageTitle&&an(L.title)&&(oe.title=L.title),B.hasDimensions&&(an(L.width)&&(oe.dimensions.width=L.width),an(L.height)&&(oe.dimensions.height=L.height)),an(L.class)&&K.findEntry(B.classList,L.class).each(function(st){oe.classes=st.value}),B.hasImageCaption&&Me(L.caption)&&(oe.caption=L.caption),B.hasAdvTab&&(an(L.style)&&(oe.style=L.style),an(L.vspace)&&(oe.vspace=L.vspace),an(L.border)&&(oe.border=L.border),an(L.hspace)&&(oe.hspace=L.hspace),an(L.borderstyle)&&(oe.borderstyle=L.borderstyle))},wa=function(B,oe){var L=oe.getData(),st=L.src.meta;if(st!==void 0){var Ee=Pe({},L);Fr(B,Ee,st),oe.setData(Ee)}},j=function(B,oe,L,st){var Ee=st.getData(),sr=Ee.src.value,Da=Ee.src.meta||{};!Da.width&&!Da.height&&oe.hasDimensions&&(tt(sr)?B.imageSize(sr).then(function(nr){L.open&&st.setData({dimensions:nr})}).catch(function(nr){return console.error(nr)}):st.setData({dimensions:{width:"",height:""}}))},Fe=function(B,oe,L){var st=L.getData(),Ee=K.findEntry(B.imageList,st.src.value);oe.prevImage=Ee,L.setData({images:Ee.map(function(sr){return sr.value}).getOr("")})},Ie=function(B,oe,L,st){gr(oe,st),wa(oe,st),j(B,oe,L,st),Fe(oe,L,st)},Be=function(B,oe,L,st){var Ee=st.getData(),sr=K.findEntry(oe.imageList,Ee.images);sr.each(function(Da){var nr=Ee.alt===""||L.prevImage.map(function(ai){return ai.text===Ee.alt}).getOr(!1);nr?Da.value===""?st.setData({src:Da,alt:L.prevAlt}):st.setData({src:Da,alt:Da.text}):st.setData({src:Da})}),L.prevImage=sr,Ie(B,oe,L,st)},qt=function(B){var oe=B["margin-top"]&&B["margin-bottom"]&&B["margin-top"]===B["margin-bottom"];return oe?Kt(String(B["margin-top"])):""},mr=function(B){var oe=B["margin-right"]&&B["margin-left"]&&B["margin-right"]===B["margin-left"];return oe?Kt(String(B["margin-right"])):""},sa=function(B){return B["border-width"]?Kt(String(B["border-width"])):""},la=function(B){return B["border-style"]?String(B["border-style"]):""},Qr=function(B,oe,L){return oe(B(oe(L)))},uo=function(B,oe,L){var st=Nn(B(L.style)),Ee=Pe({},L);return Ee.vspace=qt(st),Ee.hspace=mr(st),Ee.border=sa(st),Ee.borderstyle=la(st),Ee.style=Qr(B,oe,st),Ee},oa=function(B,oe){var L=oe.getData(),st=uo(B.parseStyle,B.serializeStyle,L);oe.setData(st)},ra=function(B,oe,L){var st=Pe(Sn(oe.image),L.getData()),Ee=Pa(B.normalizeCss,Ut(st,!1));L.setData({style:Ee})},bi=function(B,oe,L,st){var Ee=st.getData();st.block("Uploading image"),yt(Ee.fileinput).fold(function(){st.unblock()},function(sr){var Da=URL.createObjectURL(sr),nr=function(){st.unblock(),URL.revokeObjectURL(Da)},ai=function(vu){st.setData({src:{value:vu,meta:{}}}),st.showTab("general"),Ie(B,oe,L,st)};lt(sr).then(function(vu){var Eo=B.createBlobCache(sr,Da,vu);oe.automaticUploads?B.uploadImage(Eo).then(function(_i){ai(_i.url),nr()}).catch(function(_i){nr(),B.alertErr(_i)}):(B.addToBlobCache(Eo),ai(Eo.blobUri()),st.unblock())})})},Yl=function(B,oe,L){return function(st,Ee){Ee.name==="src"?Ie(B,oe,L,st):Ee.name==="images"?Be(B,oe,L,st):Ee.name==="alt"?L.prevAlt=st.getData().alt:Ee.name==="style"?oa(B,st):Ee.name==="vspace"||Ee.name==="hspace"||Ee.name==="border"||Ee.name==="borderstyle"?ra(B,oe,st):Ee.name==="fileinput"?bi(B,oe,L,st):Ee.name==="isDecorative"&&(st.getData().isDecorative?st.disable("alt"):st.enable("alt"))}},Jl=function(B){return function(){B.open=!1}},bd=function(B){if(B.hasAdvTab||B.hasUploadUrl||B.hasUploadHandler){var oe={type:"tabpanel",tabs:zn([[re.makeTab(B)],B.hasAdvTab?[Oe.makeTab(B)]:[],B.hasUploadTab&&(B.hasUploadUrl||B.hasUploadHandler)?[ct.makeTab(B)]:[]])};return oe}else{var L={type:"panel",items:re.makeItems(B)};return L}},Ln=function(B){return function(oe){var L=Qt(oe);return{title:"Insert/Edit Image",size:"normal",body:bd(oe),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Sn(oe.image),onSubmit:B.onSubmit(oe),onChange:Yl(B,oe,L),onClose:Jl(L)}}},Kf=function(B){return function(oe){return function(L){var st=Pe(Sn(oe.image),L.getData());B.execCommand("mceUpdateImage",!1,Ut(st,oe.hasAccessibilityOptions)),B.editorUpload.uploadImagesAuto(),L.close()}}},Oi=function(B){return function(oe){return Jt(B.documentBaseURI.toAbsolute(oe)).then(function(L){return{width:String(L.width),height:String(L.height)}})}},Zl=function(B){return function(oe,L,st){return B.editorUpload.blobCache.create({blob:oe,blobUri:L,name:oe.name?oe.name.replace(/\.[^\.]+$/,""):null,filename:oe.name,base64:st.split(",")[1]})}},Ls=function(B){return function(oe){B.editorUpload.blobCache.add(oe)}},Ba=function(B){return function(oe){B.windowManager.alert(oe)}},ju=function(B){return function(oe){return wo(B,oe)}},Uo=function(B){return function(oe){return B.dom.parseStyle(oe)}},ds=function(B){return function(oe,L){return B.dom.serializeStyle(oe,L)}},fu=function(B){return function(oe){return $(B).upload([oe],!1).then(function(L){return L.length===0?qe.reject("Failed to upload image"):L[0].status===!1?qe.reject(L[0].error):L[0]})}},yi=function(B){var oe={onSubmit:Kf(B),imageSize:Oi(B),addToBlobCache:Ls(B),createBlobCache:Zl(B),alertErr:Ba(B),normalizeCss:ju(B),parseStyle:Uo(B),serializeStyle:ds(B),uploadImage:fu(B)},L=function(){at(B).then(Ln(oe)).then(B.windowManager.open)};return{open:L}},$m=function(B){B.addCommand("mceImage",yi(B).open),B.addCommand("mceUpdateImage",function(oe,L){B.undoManager.transact(function(){return I(B,L)})})},Di=function(B){var oe=B.attr("class");return oe&&/\bimage\b/.test(oe)},dt=function(B){return function(oe){for(var L=oe.length,st=function(sr){sr.attr("contenteditable",B?"true":null)};L--;){var Ee=oe[L];Di(Ee)&&(Ee.attr("contenteditable",B?"false":null),Z.each(Ee.getAll("figcaption"),st))}}},Xf=function(B){B.on("PreInit",function(){B.parser.addNodeFilter("figure",dt(!0)),B.serializer.addNodeFilter("figure",dt(!1))})},bo=function(B){B.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:yi(B).open,onSetup:function(oe){return B.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",oe.setActive).unbind}}),B.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:yi(B).open}),B.ui.registry.addContextMenu("image",{update:function(oe){return Oa(oe)||ho(oe)&&!Tn(oe)?["image"]:[]}})};function fc(){Le.add("image",function(B){Xf(B),bo(B),$m(B)})}fc()})();(function(){var Le=function(K){var xe=K,Oe=function(){return xe},at=function(kn){xe=kn};return{get:Oe,set:at}},qn=tinymce.util.Tools.resolve("tinymce.PluginManager"),tn=tinymce.util.Tools.resolve("tinymce.util.Tools"),bt=function(){},ve=function(K){return function(){return K}},rt=ve(!1),gn=ve(!0),vn=function(){return Ct},Ct=function(){var K=function(kn){return kn.isNone()},xe=function(kn){return kn()},Oe=function(kn){return kn},at={fold:function(kn,Dn){return kn()},is:rt,isSome:rt,isNone:gn,getOr:Oe,getOrThunk:xe,getOrDie:function(kn){throw new Error(kn||"error: getOrDie called on none.")},getOrNull:ve(null),getOrUndefined:ve(void 0),or:Oe,orThunk:xe,map:vn,each:bt,bind:vn,exists:rt,forall:gn,filter:vn,equals:K,equals_:K,toArray:function(){return[]},toString:ve("none()")};return at}(),Et=function(K){var xe=ve(K),Oe=function(){return kn},at=function(Dn){return Dn(K)},kn={fold:function(Dn,re){return re(K)},is:function(Dn){return K===Dn},isSome:gn,isNone:rt,getOr:xe,getOrThunk:xe,getOrDie:xe,getOrNull:xe,getOrUndefined:xe,or:Oe,orThunk:Oe,map:function(Dn){return Et(Dn(K))},each:function(Dn){Dn(K)},bind:at,exists:at,forall:at,filter:function(Dn){return Dn(K)?kn:Ct},toArray:function(){return[K]},toString:function(){return"some("+K+")"},equals:function(Dn){return Dn.is(K)},equals_:function(Dn,re){return Dn.fold(rt,function(_e){return re(K,_e)})}};return kn},Qe=function(K){return K==null?Ct:Et(K)},Ze={some:Et,none:vn,from:Qe},te=function(K){return function(xe){return typeof xe===K}},vt=function(K){return K==null},q=function(K){return!vt(K)},We=te("function"),dn=function(K,xe){return S(document.createElement("canvas"),K,xe)},Xe=function(K){var xe=dn(K.width,K.height),Oe=cr(xe);return Oe.drawImage(K,0,0),xe},cr=function(K){return K.getContext("2d")},S=function(K,xe,Oe){return K.width=xe,K.height=Oe,K},mn=function(K){return K.naturalWidth||K.width},Pn=function(K){return K.naturalHeight||K.height},hn=function(){var K=function(Ut){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Ut!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],Sn(Ut,at(re,this),at(_e,this))},xe=window,Oe=K.immediateFn||typeof xe.setImmediate=="function"&&xe.setImmediate||function(Ut){return setTimeout(Ut,1)},at=function(Ut,vr){return function(){for(var gr=[],Fr=0;Fr<arguments.length;Fr++)gr[Fr]=arguments[Fr];return Ut.apply(vr,gr)}},kn=Array.isArray||function(Ut){return Object.prototype.toString.call(Ut)==="[object Array]"};function Dn(Ut){var vr=this;if(this._state===null){this._deferreds.push(Ut);return}Oe(function(){var gr=vr._state?Ut.onFulfilled:Ut.onRejected;if(gr===null){(vr._state?Ut.resolve:Ut.reject)(vr._value);return}var Fr;try{Fr=gr(vr._value)}catch(wa){Ut.reject(wa);return}Ut.resolve(Fr)})}function re(Ut){try{if(Ut===this)throw new TypeError("A promise cannot be resolved with itself.");if(Ut&&(typeof Ut=="object"||typeof Ut=="function")){var vr=Ut.then;if(typeof vr=="function"){Sn(at(vr,Ut),at(re,this),at(_e,this));return}}this._state=!0,this._value=Ut,ct.call(this)}catch(gr){_e.call(this,gr)}}function _e(Ut){this._state=!1,this._value=Ut,ct.call(this)}function ct(){for(var Ut=0,vr=this._deferreds;Ut<vr.length;Ut++){var gr=vr[Ut];Dn.call(this,gr)}this._deferreds=[]}function Qt(Ut,vr,gr,Fr){this.onFulfilled=typeof Ut=="function"?Ut:null,this.onRejected=typeof vr=="function"?vr:null,this.resolve=gr,this.reject=Fr}var Sn=function(Ut,vr,gr){var Fr=!1;try{Ut(function(wa){Fr||(Fr=!0,vr(wa))},function(wa){Fr||(Fr=!0,gr(wa))})}catch(wa){if(Fr)return;Fr=!0,gr(wa)}};return K.prototype.catch=function(Ut){return this.then(null,Ut)},K.prototype.then=function(Ut,vr){var gr=this;return new K(function(Fr,wa){Dn.call(gr,new Qt(Ut,vr,Fr,wa))})},K.all=function(){for(var Ut=[],vr=0;vr<arguments.length;vr++)Ut[vr]=arguments[vr];var gr=Array.prototype.slice.call(Ut.length===1&&kn(Ut[0])?Ut[0]:Ut);return new K(function(Fr,wa){if(gr.length===0)return Fr([]);for(var j=gr.length,Fe=function(Be,qt){try{if(qt&&(typeof qt=="object"||typeof qt=="function")){var mr=qt.then;if(typeof mr=="function"){mr.call(qt,function(sa){Fe(Be,sa)},wa);return}}gr[Be]=qt,--j===0&&Fr(gr)}catch(sa){wa(sa)}},Ie=0;Ie<gr.length;Ie++)Fe(Ie,gr[Ie])})},K.resolve=function(Ut){return Ut&&typeof Ut=="object"&&Ut.constructor===K?Ut:new K(function(vr){vr(Ut)})},K.reject=function(Ut){return new K(function(vr,gr){gr(Ut)})},K.race=function(Ut){return new K(function(vr,gr){for(var Fr=0,wa=Ut;Fr<wa.length;Fr++){var j=wa[Fr];j.then(vr,gr)}})},K},an=window.Promise?window.Promise:hn(),$n=function(K){var xe=K.src;return xe.indexOf("data:")===0?z(xe):lr(xe)},Cr=function(K){return new an(function(xe,Oe){var at=URL.createObjectURL(K),kn=new Image,Dn=function(){kn.removeEventListener("load",re),kn.removeEventListener("error",_e)},re=function(){Dn(),xe(kn)},_e=function(){Dn(),Oe("Unable to load data of type "+K.type+": "+at)};kn.addEventListener("load",re),kn.addEventListener("error",_e),kn.src=at,kn.complete&&setTimeout(re,0)})},lr=function(K){return new an(function(xe,Oe){var at=new XMLHttpRequest;at.open("GET",K,!0),at.responseType="blob",at.onload=function(){this.status===200&&xe(this.response)},at.onerror=function(){var kn=this,Dn=function(){var _e=new Error("No access to download image");return _e.code=18,_e.name="SecurityError",_e},re=function(){return new Error("Error "+kn.status+" downloading image")};Oe(this.status===0?Dn():re())},at.send()})},Me=function(K){var xe=K.split(","),Oe=/data:([^;]+)/.exec(xe[0]);if(!Oe)return Ze.none();for(var at=Oe[1],kn=xe[1],Dn=1024,re=atob(kn),_e=re.length,ct=Math.ceil(_e/Dn),Qt=new Array(ct),Sn=0;Sn<ct;++Sn){for(var Ut=Sn*Dn,vr=Math.min(Ut+Dn,_e),gr=new Array(vr-Ut),Fr=Ut,wa=0;Fr<vr;++wa,++Fr)gr[wa]=re[Fr].charCodeAt(0);Qt[Sn]=new Uint8Array(gr)}return Ze.some(new Blob(Qt,{type:at}))},z=function(K){return new an(function(xe,Oe){Me(K).fold(function(){Oe("uri is not base64: "+K)},xe)})},Yt=function(K,xe,Oe){return xe=xe||"image/png",We(HTMLCanvasElement.prototype.toBlob)?new an(function(at,kn){K.toBlob(function(Dn){Dn?at(Dn):kn()},xe,Oe)}):z(K.toDataURL(xe,Oe))},It=function(K,xe,Oe){return xe=xe||"image/png",K.toDataURL(xe,Oe)},In=function(K){return Cr(K).then(function(xe){jn(xe);var Oe=dn(mn(xe),Pn(xe)),at=cr(Oe);return at.drawImage(xe,0,0),Oe})},zn=function(K){return new an(function(xe){var Oe=new FileReader;Oe.onloadend=function(){xe(Oe.result)},Oe.readAsDataURL(K)})},jn=function(K){URL.revokeObjectURL(K.src)},yt=function(K){return Cr(K)},mt=function(K){return $n(K)},fn=function(K,xe){for(var Oe=0,at=K.length;Oe<at;Oe++){var kn=K[Oe];xe(kn,Oe)}},Yr=function(K,xe,Oe){return fn(K,function(at){Oe=xe(Oe,at)}),Oe},yr=function(K,xe,Oe){for(var at=0,kn=K.length;at<kn;at++){var Dn=K[at];if(xe(Dn,at))return Ze.some(Dn);if(Oe(Dn,at))break}return Ze.none()},Re=function(K,xe){return yr(K,xe,rt)},ut=function(K,xe,Oe){var at=xe.type,kn=ve(at),Dn=function(){return an.resolve(xe)},re=ve(Oe),_e=function(){return Oe.split(",")[1]},ct=function(vr,gr){return K.then(function(Fr){return Yt(Fr,vr,gr)})},Qt=function(vr,gr){return K.then(function(Fr){return It(Fr,vr,gr)})},Sn=function(vr,gr){return Qt(vr,gr).then(function(Fr){return Fr.split(",")[1]})},Ut=function(){return K.then(Xe)};return{getType:kn,toBlob:Dn,toDataURL:re,toBase64:_e,toAdjustedBlob:ct,toAdjustedDataURL:Qt,toAdjustedBase64:Sn,toCanvas:Ut}},kt=function(K){return zn(K).then(function(xe){return ut(In(K),K,xe)})},Vt=function(K,xe){return Yt(K,xe).then(function(Oe){return ut(an.resolve(K),Oe,K.toDataURL())})},we=function(K,xe){return K.toCanvas().then(function(Oe){return Ye(Oe,K.getType(),xe)})},Ye=function(K,xe,Oe){var at=dn(K.width,K.height),kn=cr(at),Dn=0,re=0;return Oe=Oe<0?360+Oe:Oe,(Oe===90||Oe===270)&&S(at,at.height,at.width),(Oe===90||Oe===180)&&(Dn=at.width),(Oe===270||Oe===180)&&(re=at.height),kn.translate(Dn,re),kn.rotate(Oe*Math.PI/180),kn.drawImage(K,0,0),Vt(at,xe)},rn=function(K,xe){return K.toCanvas().then(function(Oe){return qe(Oe,K.getType(),xe)})},qe=function(K,xe,Oe){var at=dn(K.width,K.height),kn=cr(at);return Oe==="v"?(kn.scale(1,-1),kn.drawImage(K,0,-at.height)):(kn.scale(-1,1),kn.drawImage(K,-at.width,0)),Vt(at,xe)},de=function(K,xe){return rn(K,xe)},Ue=function(K,xe){return we(K,xe)},ee=Object.keys,ke=function(K,xe){for(var Oe=ee(K),at=0,kn=Oe.length;at<kn;at++){var Dn=Oe[at],re=K[Dn];xe(re,Dn)}},he=function(K,xe,Oe){return Oe===void 0&&(Oe=!1),new an(function(at){var kn=new XMLHttpRequest;kn.onreadystatechange=function(){kn.readyState===4&&at({status:kn.status,blob:kn.response})},kn.open("GET",K,!0),kn.withCredentials=Oe,ke(xe,function(Dn,re){kn.setRequestHeader(re,Dn)}),kn.responseType="blob",kn.send()})},Pt=function(K){return new an(function(xe,Oe){var at=new FileReader;at.onload=function(){xe(at.result)},at.onerror=function(kn){Oe(kn)},at.readAsText(K)})},pn=function(K){try{return Ze.some(JSON.parse(K))}catch{return Ze.none()}},St=[{code:404,message:"Could not find Image Proxy"},{code:403,message:"Rejected request"},{code:0,message:"Incorrect Image Proxy URL"}],ir=[{type:"not_found",message:"Failed to load image."},{type:"key_missing",message:"The request did not include an api key."},{type:"key_not_found",message:"The provided api key could not be found."},{type:"domain_not_trusted",message:"The api key is not valid for the request origins."}],Rn=function(K,xe){var Oe=Yr(xe,function(at,kn){return q(at)?at[kn]:void 0},K);return Ze.from(Oe)},Zr=function(K,xe){return(xe==null?void 0:xe.type)==="application/json"&&(K===400||K===403||K===404||K===500)},Ir=function(K){var xe=Re(St,function(Oe){return K===Oe.code}).fold(ve("Unknown ImageProxy error"),function(Oe){return Oe.message});return"ImageProxy HTTP error: "+xe},ba=function(K){var xe=Ir(K);return an.reject(xe)},zt=function(K){return Re(ir,function(xe){return xe.type===K}).fold(ve("Unknown service error"),function(xe){return xe.message})},pt=function(K){var xe=pn(K),Oe=xe.bind(function(at){return Rn(at,["error","type"]).map(zt)}).getOr("Invalid JSON in service error message");return"ImageProxy Service error: "+Oe},Jt=function(K){return Pt(K).then(function(xe){var Oe=pt(xe);return an.reject(Oe)})},Kt=function(K,xe){return Zr(K,xe)?Jt(xe):ba(K)},Xt=function(K,xe){var Oe=K.indexOf("?")===-1?"?":"&";return/[?&]apiKey=/.test(K)?K:K+Oe+"apiKey="+encodeURIComponent(xe)},Nn=function(K){return K<200||K>=300},dr=function(K,xe){var Oe={"Content-Type":"application/json;charset=UTF-8","tiny-api-key":xe};return he(Xt(K,xe),Oe).then(function(at){return Nn(at.status)?Kt(at.status,at.blob):an.resolve(at.blob)})},Nt=function(K,xe){return he(K,{},xe).then(function(Oe){return Nn(Oe.status)?ba(Oe.status):an.resolve(Oe.blob)})},lt=function(K,xe,Oe){return Oe===void 0&&(Oe=!1),xe?dr(K,xe):Nt(K,Oe)},Tn=function(K){return kt(K)},or=1,zr=function(K,xe){var Oe=xe||document,at=Oe.createElement("div");if(at.innerHTML=K,!at.hasChildNodes()||at.childNodes.length>1)throw console.error("HTML does not have a single root node",K),new Error("HTML must have a single root node");return Or(at.childNodes[0])},Pr=function(K,xe){var Oe=xe||document,at=Oe.createElement(K);return Or(at)},na=function(K,xe){var Oe=xe||document,at=Oe.createTextNode(K);return Or(at)},Or=function(K){if(K==null)throw new Error("Node cannot be null or undefined");return{dom:K}},xa=function(K,xe,Oe){return Ze.from(K.dom.elementFromPoint(xe,Oe)).map(Or)},Ce={fromHtml:zr,fromTag:Pr,fromText:na,fromDom:Or,fromPoint:xa},et=function(K,xe){var Oe=K.dom;if(Oe.nodeType!==or)return!1;var at=Oe;if(at.matches!==void 0)return at.matches(xe);if(at.msMatchesSelector!==void 0)return at.msMatchesSelector(xe);if(at.webkitMatchesSelector!==void 0)return at.webkitMatchesSelector(xe);if(at.mozMatchesSelector!==void 0)return at.mozMatchesSelector(xe);throw new Error("Browser lacks native selectors")};typeof window!="undefined"||Function("return this;")();var Wt=function(K,xe){var Oe=function(kn){return xe(Ce.fromDom(kn))},at=Re(K.dom.childNodes,Oe);return at.map(Ce.fromDom)},Fn=function(K,xe){return Wt(K,function(Oe){return et(Oe,xe)})},un=tinymce.util.Tools.resolve("tinymce.util.Delay"),fr=tinymce.util.Tools.resolve("tinymce.util.Promise"),ya=tinymce.util.Tools.resolve("tinymce.util.URI"),Nr=function(K){return K.getParam("imagetools_toolbar","rotateleft rotateright flipv fliph editimage imageoptions")},kr=function(K){return K.getParam("imagetools_proxy")},qa=function(K){return K.getParam("imagetools_cors_hosts",[],"string[]")},Ro=function(K){return K.getParam("imagetools_credentials_hosts",[],"string[]")},Ta=function(K){return Ze.from(K.getParam("imagetools_fetch_image",null,"function"))},Ko=function(K){return K.getParam("api_key",K.getParam("imagetools_api_key","","string"),"string")},Oa=function(K){return K.getParam("images_upload_timeout",3e4,"number")},ho=function(K){return K.getParam("images_reuse_filename",!1,"boolean")},ao=function(K){var xe,Oe,at=function(kn){return/^[0-9\.]+px$/.test(kn)};return xe=K.style.width,Oe=K.style.height,xe||Oe?at(xe)&&at(Oe)?{w:parseInt(xe,10),h:parseInt(Oe,10)}:null:(xe=K.width,Oe=K.height,xe&&Oe?{w:parseInt(xe,10),h:parseInt(Oe,10)}:null)},ur=function(K,xe){var Oe,at;xe&&(Oe=K.style.width,at=K.style.height,(Oe||at)&&(K.style.width=xe.w+"px",K.style.height=xe.h+"px",K.removeAttribute("data-mce-style")),Oe=K.width,at=K.height,(Oe||at)&&(K.setAttribute("width",String(xe.w)),K.setAttribute("height",String(xe.h))))},ua=function(K){return{w:K.naturalWidth,h:K.naturalHeight}},Pa=0,Ga=function(K){return Fn(Ce.fromDom(K),"img")},Gn=function(K,xe){return K.dom.is(xe,"figure")},oo=function(K,xe){return K.dom.is(xe,"img:not([data-mce-object],[data-mce-placeholder])")},mo=function(K,xe){var Oe=function(at){return oo(K,at)&&(lo(K,at)||po(K,at)||q(kr(K)))};return Gn(K,xe)?Ga(xe).bind(function(at){return Oe(at.dom)?Ze.some(at.dom):Ze.none()}):Oe(xe)?Ze.some(xe):Ze.none()},Po=function(K,xe){K.notificationManager.open({text:xe,type:"error"})},yo=function(K){var xe=K.selection.getNode(),Oe=K.dom.getParent(xe,"figure.image");return Oe!==null&&Gn(K,Oe)?Ga(Oe):oo(K,xe)?Ze.some(Ce.fromDom(xe)):Ze.none()},Gr=function(K,xe,Oe){var at=xe.match(/(?:\/|^)(([^\/\?]+)\.(?:[a-z0-9.]+))(?:\?|$)/i);return q(at)?K.dom.encode(at[Oe]):null},wo=function(){return"imagetools"+Pa++},lo=function(K,xe){var Oe=xe.src;return Oe.indexOf("data:")===0||Oe.indexOf("blob:")===0||new ya(Oe).host===K.documentBaseURI.host},po=function(K,xe){return tn.inArray(qa(K),new ya(xe.src).host)!==-1},Ho=function(K,xe){return tn.inArray(Ro(K),new ya(xe.src).host)!==-1},Vo=function(K,xe){if(po(K,xe))return lt(xe.src,null,Ho(K,xe));if(!lo(K,xe)){var Oe=kr(K),at=Oe+(Oe.indexOf("?")===-1?"?":"&")+"url="+encodeURIComponent(xe.src),kn=Ko(K);return lt(at,kn,!1)}return mt(xe)},Wa=function(K,xe){return Ta(K).fold(function(){return Vo(K,xe)},function(Oe){return Oe(xe)})},No=function(K,xe){var Oe=K.editorUpload.blobCache.getByUri(xe.src);return Oe?fr.resolve(Oe.blob()):Wa(K,xe)},ce=function(K,xe){var Oe=un.setEditorTimeout(K,function(){K.editorUpload.uploadImagesAuto()},Oa(K));xe.set(Oe)},I=function(K){un.clearTimeout(K.get())},W=function(K,xe,Oe,at,kn,Dn,re){return Oe.toBlob().then(function(_e){var ct,Qt,Sn,Ut,vr=K.editorUpload.blobCache;ct=Dn.src;var gr=xe.type===_e.type;return ho(K)&&(Ut=vr.getByUri(ct),q(Ut)?(ct=Ut.uri(),Qt=Ut.name(),Sn=Ut.filename()):(Qt=Gr(K,ct,2),Sn=Gr(K,ct,1))),Ut=vr.create({id:wo(),blob:_e,base64:Oe.toBase64(),uri:ct,name:Qt,filename:gr?Sn:void 0}),vr.add(Ut),K.undoManager.transact(function(){var Fr=function(){K.$(Dn).off("load",Fr),K.nodeChanged(),at?K.editorUpload.uploadImagesAuto():(I(kn),ce(K,kn))};K.$(Dn).on("load",Fr),re&&K.$(Dn).attr({width:re.w,height:re.h}),K.$(Dn).attr({src:Ut.blobUri()}).removeAttr("data-mce-src")}),Ut})},le=function(K,xe,Oe,at){return function(){var kn=yo(K);return kn.fold(function(){Po(K,"Could not find selected image")},function(Dn){return K._scanForImages().then(function(){return No(K,Dn.dom)}).then(function(re){return Tn(re).then(Oe).then(function(_e){return W(K,re,_e,!1,xe,Dn.dom,at)})}).catch(function(re){Po(K,re)})})}},De=function(K,xe,Oe){return function(){var at=yo(K),kn=at.fold(function(){return null},function(Dn){var re=ao(Dn.dom);return re?{w:re.h,h:re.w}:null});return le(K,xe,function(Dn){return Ue(Dn,Oe)},kn)()}},Pe=function(K,xe,Oe){return function(){return le(K,xe,function(at){return de(at,Oe)})()}},tt=function(K,xe,Oe,at,kn){return yt(kn).then(function(Dn){var re=ua(Dn);return(at.w!==re.w||at.h!==re.h)&&ao(Oe)&&ur(Oe,re),URL.revokeObjectURL(Dn.src),kn}).then(Tn).then(function(Dn){return W(K,kn,Dn,!0,xe,Oe)})},$="save-state",Z="disable",ye="enable",ue=function(K){return{blob:K,url:URL.createObjectURL(K)}},Ge=function(K,xe){return function(){var Oe=function(Dn){return{title:"Edit Image",size:"large",body:{type:"panel",items:[{type:"imagetools",name:"imagetools",label:"Edit Image",currentState:Dn}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0,disabled:!0}],onSubmit:function(re){var _e=re.getData().imagetools.blob;at.each(function(ct){kn.each(function(Qt){tt(K,xe,ct.dom,Qt,_e)})}),re.close()},onCancel:bt,onAction:function(re,_e){switch(_e.name){case $:_e.value?re.enable("save"):re.disable("save");break;case Z:re.disable("save"),re.disable("cancel");break;case ye:re.enable("cancel");break}}}},at=yo(K),kn=at.map(function(Dn){return ua(Dn.dom)});at.each(function(Dn){mo(K,Dn.dom).each(function(re){No(K,Dn.dom).then(function(_e){var ct=ue(_e);K.windowManager.open(Oe(ct))})})})}},Je=function(K,xe){tn.each({mceImageRotateLeft:De(K,xe,-90),mceImageRotateRight:De(K,xe,90),mceImageFlipVertical:Pe(K,xe,"v"),mceImageFlipHorizontal:Pe(K,xe,"h"),mceEditImage:Ge(K,xe)},function(Oe,at){K.addCommand(at,Oe)})},yn=function(K,xe,Oe){K.on("NodeChange",function(at){var kn=Oe.get(),Dn=mo(K,at.element);kn&&!Dn.exists(function(re){return kn.src===re.src})&&(I(xe),K.editorUpload.uploadImagesAuto(),Oe.set(null)),Dn.each(Oe.set)})},Jn=function(K){var xe=function(Oe){return function(){return K.execCommand(Oe)}};K.ui.registry.addButton("rotateleft",{tooltip:"Rotate counterclockwise",icon:"rotate-left",onAction:xe("mceImageRotateLeft")}),K.ui.registry.addButton("rotateright",{tooltip:"Rotate clockwise",icon:"rotate-right",onAction:xe("mceImageRotateRight")}),K.ui.registry.addButton("flipv",{tooltip:"Flip vertically",icon:"flip-vertically",onAction:xe("mceImageFlipVertical")}),K.ui.registry.addButton("fliph",{tooltip:"Flip horizontally",icon:"flip-horizontally",onAction:xe("mceImageFlipHorizontal")}),K.ui.registry.addButton("editimage",{tooltip:"Edit image",icon:"edit-image",onAction:xe("mceEditImage"),onSetup:function(Oe){var at=function(){var kn=yo(K).forall(function(Dn){return mo(K,Dn.dom).isNone()});Oe.setDisabled(kn)};return K.on("NodeChange",at),function(){K.off("NodeChange",at)}}}),K.ui.registry.addButton("imageoptions",{tooltip:"Image options",icon:"image",onAction:xe("mceImage")}),K.ui.registry.addContextMenu("imagetools",{update:function(Oe){return mo(K,Oe).fold(function(){return[]},function(at){return[{text:"Edit image",icon:"edit-image",onAction:xe("mceEditImage")}]})}})},$t=function(K){K.ui.registry.addContextToolbar("imagetools",{items:Nr(K),predicate:function(xe){return mo(K,xe).isSome()},position:"node",scope:"node"})};function Zn(){qn.add("imagetools",function(K){var xe=Le(0),Oe=Le(null);Je(K,xe),Jn(K),$t(K),yn(K,xe,Oe)})}Zn()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=function(S){return S.getParam("insertdatetime_dateformat",S.translate("%Y-%m-%d"))},tn=function(S){return S.getParam("insertdatetime_timeformat",S.translate("%H:%M:%S"))},bt=function(S){return S.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},ve=function(S){var mn=bt(S);return mn.length>0?mn[0]:tn(S)},rt=function(S){return S.getParam("insertdatetime_element",!1)},gn="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),vn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Ct="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Et="January February March April May June July August September October November December".split(" "),Qe=function(S,mn){if(S=""+S,S.length<mn)for(var Pn=0;Pn<mn-S.length;Pn++)S="0"+S;return S},Ze=function(S,mn,Pn){return Pn=Pn||new Date,mn=mn.replace("%D","%m/%d/%Y"),mn=mn.replace("%r","%I:%M:%S %p"),mn=mn.replace("%Y",""+Pn.getFullYear()),mn=mn.replace("%y",""+Pn.getYear()),mn=mn.replace("%m",Qe(Pn.getMonth()+1,2)),mn=mn.replace("%d",Qe(Pn.getDate(),2)),mn=mn.replace("%H",""+Qe(Pn.getHours(),2)),mn=mn.replace("%M",""+Qe(Pn.getMinutes(),2)),mn=mn.replace("%S",""+Qe(Pn.getSeconds(),2)),mn=mn.replace("%I",""+((Pn.getHours()+11)%12+1)),mn=mn.replace("%p",Pn.getHours()<12?"AM":"PM"),mn=mn.replace("%B",""+S.translate(Et[Pn.getMonth()])),mn=mn.replace("%b",""+S.translate(Ct[Pn.getMonth()])),mn=mn.replace("%A",""+S.translate(vn[Pn.getDay()])),mn=mn.replace("%a",""+S.translate(gn[Pn.getDay()])),mn=mn.replace("%%","%"),mn},te=function(S,mn,Pn,hn){var an=S.dom.create("time",{datetime:Pn},hn);mn.parentNode.insertBefore(an,mn),S.dom.remove(mn),S.selection.select(an,!0),S.selection.collapse(!1)},vt=function(S,mn){if(rt(S)){var Pn=Ze(S,mn),hn=void 0;/%[HMSIp]/.test(mn)?hn=Ze(S,"%Y-%m-%dT%H:%M"):hn=Ze(S,"%Y-%m-%d");var an=S.dom.getParent(S.selection.getStart(),"time");an?te(S,an,hn,Pn):S.insertContent('<time datetime="'+hn+'">'+Pn+"</time>")}else S.insertContent(Ze(S,mn))},q=function(S){S.addCommand("mceInsertDate",function(){vt(S,qn(S))}),S.addCommand("mceInsertTime",function(){vt(S,tn(S))})},We=function(S){var mn=S,Pn=function(){return mn},hn=function(an){mn=an};return{get:Pn,set:hn}},dn=tinymce.util.Tools.resolve("tinymce.util.Tools"),Xe=function(S){var mn=bt(S),Pn=We(ve(S));S.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(an){return an===Pn.get()},fetch:function(an){an(dn.map(mn,function($n){return{type:"choiceitem",text:Ze(S,$n),value:$n}}))},onAction:function(an){vt(S,Pn.get())},onItemAction:function(an,$n){Pn.set($n),vt(S,$n)}});var hn=function(an){return function(){Pn.set(an),vt(S,an)}};S.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return dn.map(mn,function(an){return{type:"menuitem",text:Ze(S,an),onAction:hn(an)}})}})};function cr(){Le.add("insertdatetime",function(S){q(S),Xe(S)})}cr()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=tinymce.util.Tools.resolve("tinymce.util.VK"),tn=function(j){var Fe=typeof j;return j===null?"null":Fe==="object"&&(Array.prototype.isPrototypeOf(j)||j.constructor&&j.constructor.name==="Array")?"array":Fe==="object"&&(String.prototype.isPrototypeOf(j)||j.constructor&&j.constructor.name==="String")?"string":Fe},bt=function(j){return function(Fe){return tn(Fe)===j}},ve=function(j){return function(Fe){return typeof Fe===j}},rt=function(j){return function(Fe){return j===Fe}},gn=bt("string"),vn=bt("array"),Ct=rt(null),Et=ve("boolean"),Qe=ve("function"),Ze=function(j){var Fe=j.getParam("link_assume_external_targets",!1);return Et(Fe)&&Fe?1:gn(Fe)&&(Fe==="http"||Fe==="https")?Fe:0},te=function(j){return j.getParam("link_context_toolbar",!1,"boolean")},vt=function(j){return j.getParam("link_list")},q=function(j){return j.getParam("default_link_target")},We=function(j){return j.getParam("target_list",!0)},dn=function(j){return j.getParam("rel_list",[],"array")},Xe=function(j){return j.getParam("link_class_list",[],"array")},cr=function(j){return j.getParam("link_title",!0,"boolean")},S=function(j){return j.getParam("allow_unsafe_link_target",!1,"boolean")},mn=function(j){return j.getParam("link_quicklink",!1,"boolean")},Pn=function(j){return j.getParam("link_default_protocol","http","string")},hn=function(){},an=function(j){return function(){return j}},$n=an(!1),Cr=an(!0),lr=function(){return Me},Me=function(){var j=function(qt){return qt.isNone()},Fe=function(qt){return qt()},Ie=function(qt){return qt},Be={fold:function(qt,mr){return qt()},is:$n,isSome:$n,isNone:Cr,getOr:Ie,getOrThunk:Fe,getOrDie:function(qt){throw new Error(qt||"error: getOrDie called on none.")},getOrNull:an(null),getOrUndefined:an(void 0),or:Ie,orThunk:Fe,map:lr,each:hn,bind:lr,exists:$n,forall:Cr,filter:lr,equals:j,equals_:j,toArray:function(){return[]},toString:an("none()")};return Be}(),z=function(j){var Fe=an(j),Ie=function(){return qt},Be=function(mr){return mr(j)},qt={fold:function(mr,sa){return sa(j)},is:function(mr){return j===mr},isSome:Cr,isNone:$n,getOr:Fe,getOrThunk:Fe,getOrDie:Fe,getOrNull:Fe,getOrUndefined:Fe,or:Ie,orThunk:Ie,map:function(mr){return z(mr(j))},each:function(mr){mr(j)},bind:Be,exists:Be,forall:Be,filter:function(mr){return mr(j)?qt:Me},toArray:function(){return[j]},toString:function(){return"some("+j+")"},equals:function(mr){return mr.is(j)},equals_:function(mr,sa){return mr.fold($n,function(la){return sa(j,la)})}};return qt},Yt=function(j){return j==null?Me:z(j)},It={some:z,none:lr,from:Yt},In=Array.prototype.indexOf,zn=Array.prototype.push,jn=function(j,Fe){return In.call(j,Fe)},yt=function(j,Fe){return jn(j,Fe)>-1},mt=function(j,Fe){for(var Ie=j.length,Be=new Array(Ie),qt=0;qt<Ie;qt++){var mr=j[qt];Be[qt]=Fe(mr,qt)}return Be},fn=function(j,Fe){for(var Ie=0,Be=j.length;Ie<Be;Ie++){var qt=j[Ie];Fe(qt,Ie)}},Yr=function(j,Fe,Ie){return fn(j,function(Be){Ie=Fe(Ie,Be)}),Ie},yr=function(j){for(var Fe=[],Ie=0,Be=j.length;Ie<Be;++Ie){if(!vn(j[Ie]))throw new Error("Arr.flatten item "+Ie+" was not an array, input: "+j);zn.apply(Fe,j[Ie])}return Fe},Re=function(j,Fe){return yr(mt(j,Fe))},ut=function(j,Fe){for(var Ie=0;Ie<j.length;Ie++){var Be=Fe(j[Ie],Ie);if(Be.isSome())return Be}return It.none()},kt=function(j){for(var Fe=[],Ie=function(qt){Fe.push(qt)},Be=0;Be<j.length;Be++)j[Be].each(Ie);return Fe},Vt=function(j,Fe){return j?It.some(Fe):It.none()},we=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ye=function(j){return gn(j.value)?j.value:""},rn=function(j){return gn(j.text)?j.text:gn(j.title)?j.title:""},qe=function(j,Fe){var Ie=[];return we.each(j,function(Be){var qt=rn(Be);if(Be.menu!==void 0){var mr=qe(Be.menu,Fe);Ie.push({text:qt,items:mr})}else{var sa=Fe(Be);Ie.push({text:qt,value:sa})}}),Ie},de=function(j){return j===void 0&&(j=Ye),function(Fe){return It.from(Fe).map(function(Ie){return qe(Ie,j)})}},Ue=function(j){return de(Ye)(j)},ee=function(j,Fe){return function(Ie){return{name:j,type:"listbox",label:Fe,items:Ie}}},ke={sanitize:Ue,sanitizeWith:de,createUi:ee,getValue:Ye},he=function(){return he=Object.assign||function(Fe){for(var Ie,Be=1,qt=arguments.length;Be<qt;Be++){Ie=arguments[Be];for(var mr in Ie)Object.prototype.hasOwnProperty.call(Ie,mr)&&(Fe[mr]=Ie[mr])}return Fe},he.apply(this,arguments)},Pt=Object.keys,pn=Object.hasOwnProperty,St=function(j,Fe){for(var Ie=Pt(j),Be=0,qt=Ie.length;Be<qt;Be++){var mr=Ie[Be],sa=j[mr];Fe(sa,mr)}},ir=function(j){return function(Fe,Ie){j[Ie]=Fe}},Rn=function(j,Fe,Ie,Be){var qt={};return St(j,function(mr,sa){(Fe(mr,sa)?Ie:Be)(mr,sa)}),qt},Zr=function(j,Fe){var Ie={};return Rn(j,Fe,ir(Ie),hn),Ie},Ir=function(j,Fe){return pn.call(j,Fe)},ba=function(j,Fe){return Ir(j,Fe)&&j[Fe]!==void 0&&j[Fe]!==null},zt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),pt=function(j){return j&&j.nodeName.toLowerCase()==="a"},Jt=function(j){return pt(j)&&!!Nn(j)},Kt=function(j,Fe){if(j.collapsed)return[];var Ie=j.cloneContents(),Be=new zt(Ie.firstChild,Ie),qt=[],mr=Ie.firstChild;do Fe(mr)&&qt.push(mr);while(mr=Be.next());return qt},Xt=function(j){return/^\w+:/i.test(j)},Nn=function(j){var Fe=j.getAttribute("data-mce-href");return Fe||j.getAttribute("href")},dr=function(j,Fe){var Ie=["noopener"],Be=j?j.split(/\s+/):[],qt=function(Qr){return we.trim(Qr.sort().join(" "))},mr=function(Qr){return Qr=sa(Qr),Qr.length>0?Qr.concat(Ie):Ie},sa=function(Qr){return Qr.filter(function(uo){return we.inArray(Ie,uo)===-1})},la=Fe?mr(Be):sa(Be);return la.length>0?qt(la):""},Nt=function(j){return j.replace(/\uFEFF/g,"")},lt=function(j,Fe){return Fe=Fe||j.selection.getNode(),na(Fe)?j.dom.select("a[href]",Fe)[0]:j.dom.getParent(Fe,"a[href]")},Tn=function(j,Fe){var Ie=Fe?Fe.innerText||Fe.textContent:j.getContent({format:"text"});return Nt(Ie)},or=function(j){return we.grep(j,Jt).length>0},zr=function(j){return Kt(j,Jt).length>0},Pr=function(j){var Fe=j.schema.getTextInlineElements(),Ie=function(qt){return qt.nodeType===1&&!pt(qt)&&!Ir(Fe,qt.nodeName.toLowerCase())},Be=Kt(j.selection.getRng(),Ie);return Be.length===0},na=function(j){return j&&j.nodeName==="FIGURE"&&/\bimage\b/i.test(j.className)},Or=function(j){return Yr(["title","rel","class","target"],function(Fe,Ie){return j[Ie].each(function(Be){Fe[Ie]=Be.length>0?Be:null}),Fe},{href:j.href})},xa=function(j,Fe){return(Fe==="http"||Fe==="https")&&!Xt(j)?Fe+"://"+j:j},Ce=function(j,Fe){var Ie=he({},Fe);if(!(dn(j).length>0)&&S(j)===!1){var Be=dr(Ie.rel,Ie.target==="_blank");Ie.rel=Be||null}return It.from(Ie.target).isNone()&&We(j)===!1&&(Ie.target=q(j)),Ie.href=xa(Ie.href,Ze(j)),Ie},et=function(j,Fe,Ie,Be){Ie.each(function(qt){Fe.hasOwnProperty("innerText")?Fe.innerText=qt:Fe.textContent=qt}),j.dom.setAttribs(Fe,Be),j.selection.select(Fe)},Wt=function(j,Fe,Ie,Be){na(Fe)?Ro(j,Fe,Be):Ie.fold(function(){j.execCommand("mceInsertLink",!1,Be)},function(qt){j.insertContent(j.dom.createHTML("a",Be,j.dom.encode(qt)))})},Fn=function(j,Fe,Ie){var Be=j.selection.getNode(),qt=lt(j,Be),mr=Ce(j,Or(Ie));j.undoManager.transact(function(){Ie.href===Fe.href&&Fe.attach(),qt?(j.focus(),et(j,qt,Ie.text,mr)):Wt(j,Be,Ie.text,mr)})},un=function(j){var Fe=j.dom,Ie=j.selection,Be=Ie.getBookmark(),qt=Ie.getRng().cloneRange(),mr=Fe.getParent(qt.startContainer,"a[href]",j.getBody()),sa=Fe.getParent(qt.endContainer,"a[href]",j.getBody());mr&&qt.setStartBefore(mr),sa&&qt.setEndAfter(sa),Ie.setRng(qt),j.execCommand("unlink"),Ie.moveToBookmark(Be)},fr=function(j){j.undoManager.transact(function(){var Fe=j.selection.getNode();na(Fe)?qa(j,Fe):un(j),j.focus()})},ya=function(j){var Fe=j.class,Ie=j.href,Be=j.rel,qt=j.target,mr=j.text,sa=j.title;return Zr({class:Fe.getOrNull(),href:Ie,rel:Be.getOrNull(),target:qt.getOrNull(),text:mr.getOrNull(),title:sa.getOrNull()},function(la,Qr){return Ct(la)===!1})},Nr=function(j,Fe,Ie){j.hasPlugin("rtc",!0)?j.execCommand("createlink",!1,ya(Ie)):Fn(j,Fe,Ie)},kr=function(j){j.hasPlugin("rtc",!0)?j.execCommand("unlink"):fr(j)},qa=function(j,Fe){var Ie=j.dom.select("img",Fe)[0];if(Ie){var Be=j.dom.getParents(Ie,"a[href]",Fe)[0];Be&&(Be.parentNode.insertBefore(Ie,Be),j.dom.remove(Be))}},Ro=function(j,Fe,Ie){var Be=j.dom.select("img",Fe)[0];if(Be){var qt=j.dom.create("a",Ie);Be.parentNode.insertBefore(qt,Be),qt.appendChild(Be)}},Ta=function(j){return ba(j,"items")},Ko=function(j,Fe){return ut(Fe,function(Ie){return Ta(Ie)?Ko(j,Ie.items):Vt(Ie.value===j,Ie)})},Oa=function(j,Fe,Ie,Be){var qt=Be[Fe],mr=j.length>0;return qt!==void 0?Ko(qt,Ie).map(function(sa){return{url:{value:sa.value,meta:{text:mr?j:sa.text,attach:hn}},text:mr?j:sa.text}}):It.none()},ho=function(j,Fe){return Fe==="link"?j.link:Fe==="anchor"?j.anchor:It.none()},ao=function(j,Fe){var Ie={text:j.text,title:j.title},Be=function(Qr){return Vt(Ie.title.length<=0,It.from(Qr.meta.title).getOr(""))},qt=function(Qr){return Vt(Ie.text.length<=0,It.from(Qr.meta.text).getOr(Qr.value))},mr=function(Qr){var uo=qt(Qr.url),oa=Be(Qr.url);return uo.isSome()||oa.isSome()?It.some(he(he({},uo.map(function(ra){return{text:ra}}).getOr({})),oa.map(function(ra){return{title:ra}}).getOr({}))):It.none()},sa=function(Qr,uo){var oa=ho(Fe,uo.name).getOr([]);return Oa(Ie.text,uo.name,oa,Qr)},la=function(Qr,uo){var oa=uo.name;return oa==="url"?mr(Qr()):yt(["anchor","link"],oa)?sa(Qr(),uo):((oa==="text"||oa==="title")&&(Ie[oa]=Qr()[oa]),It.none())};return{onChange:la}},ur={init:ao,getDelta:Oa},ua=tinymce.util.Tools.resolve("tinymce.util.Delay"),Pa=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ga=function(j,Fe,Ie){var Be=j.selection.getRng();ua.setEditorTimeout(j,function(){j.windowManager.confirm(Fe,function(qt){j.selection.setRng(Be),Ie(qt)})})},Gn=function(j){var Fe=j.href,Ie=Fe.indexOf("@")>0&&Fe.indexOf("/")===-1&&Fe.indexOf("mailto:")===-1;return Ie?It.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(Be){return he(he({},Be),{href:"mailto:"+Fe})}}):It.none()},oo=function(j,Fe){return function(Ie){var Be=Ie.href,qt=j===1&&!Xt(Be)||j===0&&/^\s*www(\.|\d\.)/i.test(Be);return qt?It.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+Fe+":// prefix?",preprocess:function(mr){return he(he({},mr),{href:Fe+"://"+Be})}}):It.none()}},mo=function(j,Fe){return ut([Gn,oo(Ze(j),Pn(j))],function(Ie){return Ie(Fe)}).fold(function(){return Pa.resolve(Fe)},function(Ie){return new Pa(function(Be){Ga(j,Ie.message,function(qt){Be(qt?Ie.preprocess(Fe):Fe)})})})},Po={preprocess:mo},yo=function(j){var Fe=j.dom.select("a:not([href])"),Ie=Re(Fe,function(Be){var qt=Be.name||Be.id;return qt?[{text:qt,value:"#"+qt}]:[]});return Ie.length>0?It.some([{text:"None",value:""}].concat(Ie)):It.none()},Gr={getAnchors:yo},wo=function(j){var Fe=Xe(j);return Fe.length>0?ke.sanitize(Fe):It.none()},lo={getClasses:wo},po=tinymce.util.Tools.resolve("tinymce.util.XHR"),Ho=function(j){try{return It.some(JSON.parse(j))}catch{return It.none()}},Vo=function(j){var Fe=function(Be){return j.convertURL(Be.value||Be.url,"href")},Ie=vt(j);return new Pa(function(Be){gn(Ie)?po.send({url:Ie,success:function(qt){return Be(Ho(qt))},error:function(qt){return Be(It.none())}}):Qe(Ie)?Ie(function(qt){return Be(It.some(qt))}):Be(It.from(Ie))}).then(function(Be){return Be.bind(ke.sanitizeWith(Fe)).map(function(qt){if(qt.length>0){var mr=[{text:"None",value:""}];return mr.concat(qt)}else return qt})})},Wa={getLinks:Vo},No=function(j,Fe){var Ie=dn(j);if(Ie.length>0){var Be=Fe.is("_blank"),qt=S(j)===!1,mr=function(la){return dr(ke.getValue(la),Be)},sa=qt?ke.sanitizeWith(mr):ke.sanitize;return sa(Ie)}return It.none()},ce={getRels:No},I=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],W=function(j){var Fe=We(j);return vn(Fe)?ke.sanitize(Fe).orThunk(function(){return It.some(I)}):Fe===!1?It.none():It.some(I)},le={getTargets:W},De=function(j,Fe,Ie){var Be=j.getAttrib(Fe,Ie);return Be!==null&&Be.length>0?It.some(Be):It.none()},Pe=function(j,Fe){var Ie=j.dom,Be=Pr(j),qt=Be?It.some(Tn(j.selection,Fe)):It.none(),mr=Fe?It.some(Ie.getAttrib(Fe,"href")):It.none(),sa=Fe?It.from(Ie.getAttrib(Fe,"target")):It.none(),la=De(Ie,Fe,"rel"),Qr=De(Ie,Fe,"class"),uo=De(Ie,Fe,"title");return{url:mr,text:qt,title:uo,target:sa,rel:la,linkClass:Qr}},tt=function(j,Fe){return Wa.getLinks(j).then(function(Ie){var Be=Pe(j,Fe);return{anchor:Be,catalogs:{targets:le.getTargets(j),rels:ce.getRels(j,Be.target),classes:lo.getClasses(j),anchor:Gr.getAnchors(j),link:Ie},optNode:It.from(Fe),flags:{titleEnabled:cr(j)}}})},$={collect:tt},Z=function(j,Fe){return function(Ie){var Be=Ie.getData();if(!Be.url.value){kr(j),Ie.close();return}var qt=function(la){return It.from(Be[la]).filter(function(Qr){return!Fe.anchor[la].is(Qr)})},mr={href:Be.url.value,text:qt("text"),target:qt("target"),rel:qt("rel"),class:qt("linkClass"),title:qt("title")},sa={href:Be.url.value,attach:Be.url.meta!==void 0&&Be.url.meta.attach?Be.url.meta.attach:hn};Po.preprocess(j,mr).then(function(la){Nr(j,sa,la)}),Ie.close()}},ye=function(j){var Fe=lt(j);return $.collect(j,Fe)},ue=function(j,Fe){var Ie=j.anchor,Be=Ie.url.getOr("");return{url:{value:Be,meta:{original:{value:Be}}},text:Ie.text.getOr(""),title:Ie.title.getOr(""),anchor:Be,link:Be,rel:Ie.rel.getOr(""),target:Ie.target.or(Fe).getOr(""),linkClass:Ie.linkClass.getOr("")}},Ge=function(j,Fe,Ie){var Be=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],qt=j.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),mr=j.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],sa=It.from(q(Ie)),la=ue(j,sa),Qr=j.catalogs,uo=ur.init(la,Qr),oa={type:"panel",items:yr([Be,qt,mr,kt([Qr.anchor.map(ke.createUi("anchor","Anchors")),Qr.rels.map(ke.createUi("rel","Rel")),Qr.targets.map(ke.createUi("target","Open link in...")),Qr.link.map(ke.createUi("link","Link list")),Qr.classes.map(ke.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:oa,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:la,onChange:function(ra,bi){var Yl=bi.name;uo.onChange(ra.getData,{name:Yl}).each(function(Jl){ra.setData(Jl)})},onSubmit:Fe}},Je=function(j){var Fe=ye(j);Fe.then(function(Ie){var Be=Z(j,Ie);return Ge(Ie,Be,j)}).then(function(Ie){j.windowManager.open(Ie)})},yn=function(j,Fe){document.body.appendChild(j),j.dispatchEvent(Fe),document.body.removeChild(j)},Jn=function(j){var Fe=document.createElement("a");Fe.target="_blank",Fe.href=j,Fe.rel="noreferrer noopener";var Ie=document.createEvent("MouseEvents");Ie.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),yn(Fe,Ie)},$t=function(j,Fe){return j.dom.getParent(Fe,"a[href]")},Zn=function(j){return $t(j,j.selection.getStart())},K=function(j){return j.altKey===!0&&j.shiftKey===!1&&j.ctrlKey===!1&&j.metaKey===!1},xe=function(j,Fe){if(Fe){var Ie=Nn(Fe);if(/^#/.test(Ie)){var Be=j.$(Ie);Be.length&&j.selection.scrollIntoView(Be[0],!0)}else Jn(Fe.href)}},Oe=function(j){return function(){Je(j)}},at=function(j){return function(){xe(j,Zn(j))}},kn=function(j){j.on("click",function(Fe){var Ie=$t(j,Fe.target);Ie&&qn.metaKeyPressed(Fe)&&(Fe.preventDefault(),xe(j,Ie))}),j.on("keydown",function(Fe){var Ie=Zn(j);Ie&&Fe.keyCode===13&&K(Fe)&&(Fe.preventDefault(),xe(j,Ie))})},Dn=function(j,Fe){return j.on("NodeChange",Fe),function(){return j.off("NodeChange",Fe)}},re=function(j){return function(Fe){return Dn(j,function(){Fe.setActive(!j.mode.isReadOnly()&&lt(j,j.selection.getNode())!==null)})}},_e=function(j){return function(Fe){var Ie=function(){return Fe.setDisabled(lt(j,j.selection.getNode())===null)};return Ie(),Dn(j,Ie)}},ct=function(j){return function(Fe){var Ie=function(qt){return or(qt)||zr(j.selection.getRng())},Be=j.dom.getParents(j.selection.getStart());return Fe.setDisabled(!Ie(Be)),Dn(j,function(qt){return Fe.setDisabled(!Ie(qt.parents))})}},Qt=function(j){j.addCommand("mceLink",function(){mn(j)?j.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):Oe(j)()})},Sn=function(j){j.addShortcut("Meta+K","",function(){j.execCommand("mceLink")})},Ut=function(j){j.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Oe(j),onSetup:re(j)}),j.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:at(j),onSetup:_e(j)}),j.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return kr(j)},onSetup:ct(j)})},vr=function(j){j.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:at(j),onSetup:_e(j)}),j.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Oe(j)}),j.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return kr(j)},onSetup:ct(j)})},gr=function(j){var Fe="link unlink openlink",Ie="link";j.ui.registry.addContextMenu("link",{update:function(Be){return or(j.dom.getParents(Be,"a"))?Fe:Ie}})},Fr=function(j){var Fe=function(Be){Be.selection.collapse(!1)},Ie=function(Be){var qt=j.selection.getNode();return Be.setDisabled(!lt(j,qt)),hn};j.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:re(j)},label:"Link",predicate:function(Be){return!!lt(j,Be)&&te(j)},initValue:function(){var Be=lt(j);return Be?Nn(Be):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(Be){var qt=j.selection.getNode();return Be.setActive(!!lt(j,qt)),re(j)(Be)},onAction:function(Be){var qt=lt(j),mr=Be.getValue();if(qt)j.undoManager.transact(function(){j.dom.setAttrib(qt,"href",mr),Fe(j),Be.hide()});else{var sa={href:mr,attach:hn},la=Pr(j),Qr=la?It.some(Tn(j.selection,qt)).filter(function(uo){return uo.length>0}).or(It.from(mr)):It.none();Nr(j,sa,{href:mr,text:Qr,title:It.none(),rel:It.none(),target:It.none(),class:It.none()}),Be.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Ie,onAction:function(Be){kr(j),Be.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Ie,onAction:function(Be){at(j)(),Be.hide()}}]})};function wa(){Le.add("link",function(j){Ut(j),vr(j),gr(j),Fr(j),kn(j),Qt(j),Sn(j)})}wa()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=function(){},tn=function(A){return function(){return A}},bt=function(A){return function(M){return!A(M)}},ve=tn(!1),rt=tn(!0),gn=function(){return vn},vn=function(){var A=function(He){return He.isNone()},M=function(He){return He()},V=function(He){return He},ge={fold:function(He,Dt){return He()},is:ve,isSome:ve,isNone:rt,getOr:V,getOrThunk:M,getOrDie:function(He){throw new Error(He||"error: getOrDie called on none.")},getOrNull:tn(null),getOrUndefined:tn(void 0),or:V,orThunk:M,map:gn,each:qn,bind:gn,exists:ve,forall:rt,filter:gn,equals:A,equals_:A,toArray:function(){return[]},toString:tn("none()")};return ge}(),Ct=function(A){var M=tn(A),V=function(){return He},ge=function(Dt){return Dt(A)},He={fold:function(Dt,ar){return ar(A)},is:function(Dt){return A===Dt},isSome:rt,isNone:ve,getOr:M,getOrThunk:M,getOrDie:M,getOrNull:M,getOrUndefined:M,or:V,orThunk:V,map:function(Dt){return Ct(Dt(A))},each:function(Dt){Dt(A)},bind:ge,exists:ge,forall:ge,filter:function(Dt){return Dt(A)?He:vn},toArray:function(){return[A]},toString:function(){return"some("+A+")"},equals:function(Dt){return Dt.is(A)},equals_:function(Dt,ar){return Dt.fold(ve,function(Rr){return ar(A,Rr)})}};return He},Et=function(A){return A==null?vn:Ct(A)},Qe={some:Ct,none:gn,from:Et},Ze=function(A){var M=typeof A;return A===null?"null":M==="object"&&(Array.prototype.isPrototypeOf(A)||A.constructor&&A.constructor.name==="Array")?"array":M==="object"&&(String.prototype.isPrototypeOf(A)||A.constructor&&A.constructor.name==="String")?"string":M},te=function(A){return function(M){return Ze(M)===A}},vt=function(A){return function(M){return typeof M===A}},q=te("string"),We=te("array"),dn=vt("boolean"),Xe=vt("function"),cr=vt("number"),S=Array.prototype.slice,mn=Array.prototype.push,Pn=function(A,M){for(var V=A.length,ge=new Array(V),He=0;He<V;He++){var Dt=A[He];ge[He]=M(Dt,He)}return ge},hn=function(A,M){for(var V=0,ge=A.length;V<ge;V++){var He=A[V];M(He,V)}},an=function(A,M){for(var V=[],ge=0,He=A.length;ge<He;ge++){var Dt=A[ge];M(Dt,ge)&&V.push(Dt)}return V},$n=function(A,M){if(A.length===0)return[];for(var V=M(A[0]),ge=[],He=[],Dt=0,ar=A.length;Dt<ar;Dt++){var Rr=A[Dt],_r=M(Rr);_r!==V&&(ge.push(He),He=[]),V=_r,He.push(Rr)}return He.length!==0&&ge.push(He),ge},Cr=function(A,M,V){return hn(A,function(ge){V=M(V,ge)}),V},lr=function(A,M,V){for(var ge=0,He=A.length;ge<He;ge++){var Dt=A[ge];if(M(Dt,ge))return Qe.some(Dt);if(V(Dt,ge))break}return Qe.none()},Me=function(A,M){return lr(A,M,ve)},z=function(A){for(var M=[],V=0,ge=A.length;V<ge;++V){if(!We(A[V]))throw new Error("Arr.flatten item "+V+" was not an array, input: "+A);mn.apply(M,A[V])}return M},Yt=function(A,M){return z(Pn(A,M))},It=function(A){var M=S.call(A,0);return M.reverse(),M},In=function(A,M){return M>=0&&M<A.length?Qe.some(A[M]):Qe.none()},zn=function(A){return In(A,0)},jn=function(A){return In(A,A.length-1)},yt=function(){return yt=Object.assign||function(M){for(var V,ge=1,He=arguments.length;ge<He;ge++){V=arguments[ge];for(var Dt in V)Object.prototype.hasOwnProperty.call(V,Dt)&&(M[Dt]=V[Dt])}return M},yt.apply(this,arguments)};function mt(){for(var A=0,M=0,V=arguments.length;M<V;M++)A+=arguments[M].length;for(var ge=Array(A),He=0,M=0;M<V;M++)for(var Dt=arguments[M],ar=0,Rr=Dt.length;ar<Rr;ar++,He++)ge[He]=Dt[ar];return ge}var fn=function(A){var M=!1,V;return function(){for(var ge=[],He=0;He<arguments.length;He++)ge[He]=arguments[He];return M||(M=!0,V=A.apply(null,ge)),V}},Yr=function(A,M,V,ge){var He=A.isiOS()&&/ipad/i.test(V)===!0,Dt=A.isiOS()&&!He,ar=A.isiOS()||A.isAndroid(),Rr=ar||ge("(pointer:coarse)"),_r=He||!Dt&&ar&&ge("(min-device-width:768px)"),Ea=Dt||ar&&!_r,Vr=M.isSafari()&&A.isiOS()&&/safari/i.test(V)===!1,ji=!Ea&&!_r&&!Vr;return{isiPad:tn(He),isiPhone:tn(Dt),isTablet:tn(_r),isPhone:tn(Ea),isTouch:tn(Rr),isAndroid:A.isAndroid,isiOS:A.isiOS,isWebView:tn(Vr),isDesktop:tn(ji)}},yr=function(A,M){for(var V=0;V<A.length;V++){var ge=A[V];if(ge.test(M))return ge}},Re=function(A,M){var V=yr(A,M);if(!V)return{major:0,minor:0};var ge=function(He){return Number(M.replace(V,"$"+He))};return Vt(ge(1),ge(2))},ut=function(A,M){var V=String(M).toLowerCase();return A.length===0?kt():Re(A,V)},kt=function(){return Vt(0,0)},Vt=function(A,M){return{major:A,minor:M}},we={nu:Vt,detect:ut,unknown:kt},Ye=function(A,M){var V=String(M).toLowerCase();return Me(A,function(ge){return ge.search(V)})},rn=function(A,M){return Ye(A,M).map(function(V){var ge=we.detect(V.versionRegexes,M);return{current:V.name,version:ge}})},qe=function(A,M){return Ye(A,M).map(function(V){var ge=we.detect(V.versionRegexes,M);return{current:V.name,version:ge}})},de={detectBrowser:rn,detectOs:qe},Ue=function(A,M){return A.indexOf(M)!==-1},ee=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ke=function(A){return function(M){return Ue(M,A)}},he=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(A){return Ue(A,"edge/")&&Ue(A,"chrome")&&Ue(A,"safari")&&Ue(A,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ee],search:function(A){return Ue(A,"chrome")&&!Ue(A,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(A){return Ue(A,"msie")||Ue(A,"trident")}},{name:"Opera",versionRegexes:[ee,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ke("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ke("firefox")},{name:"Safari",versionRegexes:[ee,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(A){return(Ue(A,"safari")||Ue(A,"mobile/"))&&Ue(A,"applewebkit")}}],Pt=[{name:"Windows",search:ke("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(A){return Ue(A,"iphone")||Ue(A,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ke("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ke("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ke("linux"),versionRegexes:[]},{name:"Solaris",search:ke("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ke("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ke("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],pn={browsers:tn(he),oses:tn(Pt)},St="Edge",ir="Chrome",Rn="IE",Zr="Opera",Ir="Firefox",ba="Safari",zt=function(){return pt({current:void 0,version:we.unknown()})},pt=function(A){var M=A.current,V=A.version,ge=function(He){return function(){return M===He}};return{current:M,version:V,isEdge:ge(St),isChrome:ge(ir),isIE:ge(Rn),isOpera:ge(Zr),isFirefox:ge(Ir),isSafari:ge(ba)}},Jt={unknown:zt,nu:pt,edge:tn(St),chrome:tn(ir),ie:tn(Rn),opera:tn(Zr),firefox:tn(Ir),safari:tn(ba)},Kt="Windows",Xt="iOS",Nn="Android",dr="Linux",Nt="OSX",lt="Solaris",Tn="FreeBSD",or="ChromeOS",zr=function(){return Pr({current:void 0,version:we.unknown()})},Pr=function(A){var M=A.current,V=A.version,ge=function(He){return function(){return M===He}};return{current:M,version:V,isWindows:ge(Kt),isiOS:ge(Xt),isAndroid:ge(Nn),isOSX:ge(Nt),isLinux:ge(dr),isSolaris:ge(lt),isFreeBSD:ge(Tn),isChromeOS:ge(or)}},na={unknown:zr,nu:Pr,windows:tn(Kt),ios:tn(Xt),android:tn(Nn),linux:tn(dr),osx:tn(Nt),solaris:tn(lt),freebsd:tn(Tn),chromeos:tn(or)},Or=function(A,M){var V=pn.browsers(),ge=pn.oses(),He=de.detectBrowser(V,A).fold(Jt.unknown,Jt.nu),Dt=de.detectOs(ge,A).fold(na.unknown,na.nu),ar=Yr(Dt,He,A,M);return{browser:He,os:Dt,deviceType:ar}},xa={detect:Or},Ce=function(A){return window.matchMedia(A).matches},et=fn(function(){return xa.detect(navigator.userAgent,Ce)}),Wt=function(){return et()},Fn=function(A,M,V){return(A.compareDocumentPosition(M)&V)!==0},un=function(A,M){return Fn(A,M,Node.DOCUMENT_POSITION_CONTAINED_BY)},fr=1,ya=function(A,M){var V=M||document,ge=V.createElement("div");if(ge.innerHTML=A,!ge.hasChildNodes()||ge.childNodes.length>1)throw console.error("HTML does not have a single root node",A),new Error("HTML must have a single root node");return qa(ge.childNodes[0])},Nr=function(A,M){var V=M||document,ge=V.createElement(A);return qa(ge)},kr=function(A,M){var V=M||document,ge=V.createTextNode(A);return qa(ge)},qa=function(A){if(A==null)throw new Error("Node cannot be null or undefined");return{dom:A}},Ro=function(A,M,V){return Qe.from(A.dom.elementFromPoint(M,V)).map(qa)},Ta={fromHtml:ya,fromTag:Nr,fromText:kr,fromDom:qa,fromPoint:Ro},Ko=function(A,M){var V=A.dom;if(V.nodeType!==fr)return!1;var ge=V;if(ge.matches!==void 0)return ge.matches(M);if(ge.msMatchesSelector!==void 0)return ge.msMatchesSelector(M);if(ge.webkitMatchesSelector!==void 0)return ge.webkitMatchesSelector(M);if(ge.mozMatchesSelector!==void 0)return ge.mozMatchesSelector(M);throw new Error("Browser lacks native selectors")},Oa=function(A,M){return A.dom===M.dom},ho=function(A,M){var V=A.dom,ge=M.dom;return V===ge?!1:V.contains(ge)},ao=function(A,M){return un(A.dom,M.dom)},ur=function(A,M){return Wt().browser.isIE()?ao(A,M):ho(A,M)},ua=Ko,Pa=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ga=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Gn=tinymce.util.Tools.resolve("tinymce.util.VK"),oo=Object.keys,mo=function(A,M){for(var V=oo(A),ge=0,He=V.length;ge<He;ge++){var Dt=V[ge],ar=A[Dt];M(ar,Dt)}},Po=function(A){return function(M,V){A[V]=M}},yo=function(A,M,V,ge){var He={};return mo(A,function(Dt,ar){(M(Dt,ar)?V:ge)(Dt,ar)}),He},Gr=function(A,M){var V={};return yo(A,M,Po(V),qn),V};typeof window!="undefined"||Function("return this;")();var wo=function(A){var M=A.dom.nodeName;return M.toLowerCase()},lo=function(A){return A.dom.nodeType},po=function(A){return function(M){return lo(M)===A}},Ho=po(fr),Vo=function(A,M,V){if(q(V)||dn(V)||cr(V))A.setAttribute(M,V+"");else throw console.error("Invalid call to Attribute.set. Key ",M,":: Value ",V,":: Element ",A),new Error("Attribute value was not simple")},Wa=function(A,M){var V=A.dom;mo(M,function(ge,He){Vo(V,He,ge)})},No=function(A){return Cr(A.dom.attributes,function(M,V){return M[V.name]=V.value,M},{})},ce=function(A){return Qe.from(A.dom.parentNode).map(Ta.fromDom)},I=function(A){return Pn(A.dom.childNodes,Ta.fromDom)},W=function(A,M){var V=A.dom.childNodes;return Qe.from(V[M]).map(Ta.fromDom)},le=function(A){return W(A,0)},De=function(A){return W(A,A.dom.childNodes.length-1)},Pe=function(A,M){var V=ce(A);V.each(function(ge){ge.dom.insertBefore(M.dom,A.dom)})},tt=function(A,M){A.dom.appendChild(M.dom)},$=function(A,M){hn(M,function(V){Pe(A,V)})},Z=function(A,M){hn(M,function(V){tt(A,V)})},ye=function(A){var M=A.dom;M.parentNode!==null&&M.parentNode.removeChild(M)},ue=function(A,M){return Ta.fromDom(A.dom.cloneNode(M))},Ge=function(A){return ue(A,!0)},Je=function(A,M){var V=Ta.fromTag(M),ge=No(A);return Wa(V,ge),V},yn=function(A,M){var V=Je(A,M);Pe(A,V);var ge=I(A);return Z(V,ge),ye(A),V},Jn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),$t=tinymce.util.Tools.resolve("tinymce.util.Tools"),Zn=function(A){return function(M){return M&&M.nodeName.toLowerCase()===A}},K=function(A){return function(M){return M&&A.test(M.nodeName)}},xe=function(A){return A&&A.nodeType===3},Oe=K(/^(OL|UL|DL)$/),at=K(/^(OL|UL)$/),kn=Zn("ol"),Dn=K(/^(LI|DT|DD)$/),re=K(/^(DT|DD)$/),_e=K(/^(TH|TD)$/),ct=Zn("br"),Qt=function(A){return A.parentNode.firstChild===A},Sn=function(A,M){return M&&!!A.schema.getTextBlockElements()[M.nodeName]},Ut=function(A,M){return A&&A.nodeName in M},vr=function(A,M){return ct(M)?A.isBlock(M.nextSibling)&&!ct(M.previousSibling):!1},gr=function(A,M,V){var ge=A.isEmpty(M);return V&&A.select("span[data-mce-type=bookmark]",M).length>0?!1:ge},Fr=function(A,M){return A.isChildOf(M,A.getRoot())},wa=function(A){return A.getParam("lists_indent_on_tab",!0)},j=function(A){var M=A.getParam("forced_root_block","p");return M===!1?"":M===!0?"p":M},Fe=function(A){return A.getParam("forced_root_block_attrs",{})},Ie=function(A,M){var V=A.dom,ge=A.schema.getBlockElements(),He=V.createFragment(),Dt=j(A),ar,Rr,_r;if(Dt&&(Rr=V.create(Dt),Rr.tagName===Dt.toUpperCase()&&V.setAttribs(Rr,Fe(A)),Ut(M.firstChild,ge)||He.appendChild(Rr)),M)for(;ar=M.firstChild;){var Ea=ar.nodeName;!_r&&(Ea!=="SPAN"||ar.getAttribute("data-mce-type")!=="bookmark")&&(_r=!0),Ut(ar,ge)?(He.appendChild(ar),Rr=null):Dt?(Rr||(Rr=V.create(Dt),He.appendChild(Rr)),Rr.appendChild(ar)):He.appendChild(ar)}return Dt?_r||Rr.appendChild(V.create("br",{"data-mce-bogus":"1"})):He.appendChild(V.create("br")),He},Be=Jn.DOM,qt=function(A,M,V){var ge=function(Ea){$t.each(He,function(Vr){Ea.parentNode.insertBefore(Vr,V.parentNode)}),Be.remove(Ea)},He=Be.select('span[data-mce-type="bookmark"]',M),Dt=Ie(A,V),ar=Be.createRng();ar.setStartAfter(V),ar.setEndAfter(M);for(var Rr=ar.extractContents(),_r=Rr.firstChild;_r;_r=_r.firstChild)if(_r.nodeName==="LI"&&A.dom.isEmpty(_r)){Be.remove(_r);break}A.dom.isEmpty(Rr)||Be.insertAfter(Rr,M),Be.insertAfter(Dt,M),gr(A.dom,V.parentNode)&&ge(V.parentNode),Be.remove(V),gr(A.dom,M)&&Be.remove(M)},mr=function(A,M){ua(M,"dd")?yn(M,"dt"):ua(M,"dt")&&ce(M).each(function(V){return qt(A,V.dom,M.dom)})},sa=function(A){ua(A,"dt")&&yn(A,"dd")},la=function(A,M,V){M==="Indent"?hn(V,sa):hn(V,function(ge){return mr(A,ge)})},Qr=function(A,M){if(xe(A))return{container:A,offset:M};var V=Pa.getNode(A,M);return xe(V)?{container:V,offset:M>=A.childNodes.length?V.data.length:0}:V.previousSibling&&xe(V.previousSibling)?{container:V.previousSibling,offset:V.previousSibling.data.length}:V.nextSibling&&xe(V.nextSibling)?{container:V.nextSibling,offset:0}:{container:A,offset:M}},uo=function(A){var M=A.cloneRange(),V=Qr(A.startContainer,A.startOffset);M.setStart(V.container,V.offset);var ge=Qr(A.endContainer,A.endOffset);return M.setEnd(ge.container,ge.offset),M},oa=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),ra=function(A,M){var V=M||A.selection.getStart(!0);return A.dom.getParent(V,"OL,UL,DL",Oi(A,V))},bi=function(A,M){return A&&M.length===1&&M[0]===A},Yl=function(A){return $t.grep(A.querySelectorAll("ol,ul,dl"),function(M){return Oe(M)})},Jl=function(A){var M=ra(A),V=A.selection.getSelectedBlocks();return bi(M,V)?Yl(M):$t.grep(V,function(ge){return Oe(ge)&&M!==ge})},bd=function(A,M){var V=$t.map(M,function(ge){var He=A.dom.getParent(ge,"li,dd,dt",Oi(A,ge));return He||ge});return oa.unique(V)},Ln=function(A){var M=A.selection.getSelectedBlocks();return $t.grep(bd(A,M),function(V){return Dn(V)})},Kf=function(A){return an(Ln(A),re)},Oi=function(A,M){var V=A.dom.getParents(M,"TD,TH"),ge=V.length>0?V[0]:A.getBody();return ge},Zl=function(A,M){var V=A.dom.getParents(M,"ol,ul",Oi(A,M));return jn(V)},Ls=function(A){var M=Zl(A,A.selection.getStart()),V=an(A.selection.getSelectedBlocks(),at);return M.toArray().concat(V)},Ba=function(A){var M=Ls(A);return ju(A,M)},ju=function(A,M){var V=Pn(M,function(ge){return Zl(A,ge).getOr(ge)});return oa.unique(V)},Uo=function(A,M,V){return A.isSome()&&M.isSome()?Qe.some(V(A.getOrDie(),M.getOrDie())):Qe.none()},ds=function(A,M){var V=M||document,ge=V.createDocumentFragment();return hn(A,function(He){ge.appendChild(He.dom)}),Ta.fromDom(ge)},fu=function(A,M,V){return A.fire("ListMutation",{action:M,element:V})},yi=function(A){return A.style!==void 0&&Xe(A.style.getPropertyValue)},$m=function(A,M,V){if(!q(V))throw console.error("Invalid call to CSS.set. Property ",M,":: Value ",V,":: Element ",A),new Error("CSS value must be a string: "+V);yi(A)&&A.style.setProperty(M,V)},Di=function(A,M,V){var ge=A.dom;$m(ge,M,V)},dt=function(A,M){tt(A.item,M.list)},Xf=function(A){for(var M=1;M<A.length;M++)dt(A[M-1],A[M])},bo=function(A,M){Uo(jn(A),zn(M),dt)},fc=function(A,M){var V={list:Ta.fromTag(M,A),item:Ta.fromTag("li",A)};return tt(V.list,V.item),V},B=function(A,M,V){for(var ge=[],He=0;He<V;He++)ge.push(fc(A,M.listType));return ge},oe=function(A,M){for(var V=0;V<A.length-1;V++)Di(A[V].item,"list-style-type","none");jn(A).each(function(ge){Wa(ge.list,M.listAttributes),Wa(ge.item,M.itemAttributes),Z(ge.item,M.content)})},L=function(A,M){wo(A.list)!==M.listType&&(A.list=yn(A.list,M.listType)),Wa(A.list,M.listAttributes)},st=function(A,M,V){var ge=Ta.fromTag("li",A);return Wa(ge,M),Z(ge,V),ge},Ee=function(A,M){tt(A.list,M),A.item=M},sr=function(A,M,V){var ge=M.slice(0,V.depth);return jn(ge).each(function(He){var Dt=st(A,V.itemAttributes,V.content);Ee(He,Dt),L(He,V)}),ge},Da=function(A,M,V){var ge=B(A,V,V.depth-M.length);return Xf(ge),oe(ge,V),bo(M,ge),M.concat(ge)},nr=function(A,M){var V=Cr(M,function(ge,He){return He.depth>ge.length?Da(A,ge,He):sr(A,ge,He)},[]);return zn(V).map(function(ge){return ge.list})},ai=function(A){return ua(A,"OL,UL")},vu=function(A){return le(A).map(ai).getOr(!1)},Eo=function(A){return De(A).map(ai).getOr(!1)},_i=function(A){return A.depth>0},ms=function(A){return A.isSelected},Yf=function(A){var M=I(A),V=Eo(A)?M.slice(0,-1):M;return Pn(V,Ge)},du=function(A,M,V){return ce(A).filter(Ho).map(function(ge){return{depth:M,dirty:!1,isSelected:V,content:Yf(A),itemAttributes:No(A),listAttributes:No(ge),listType:wo(ge)}})},xr=function(A,M){switch(A){case"Indent":M.depth++;break;case"Outdent":M.depth--;break;case"Flatten":M.depth=0}M.dirty=!0},oi=function(A,M){A.listType=M.listType,A.listAttributes=yt({},M.listAttributes)},Nc=function(A){A.listAttributes=Gr(A.listAttributes,function(M,V){return V!=="start"})},ia=function(A,M){var V=A[M].depth,ge=function(Dt){return Dt.depth===V&&!Dt.dirty},He=function(Dt){return Dt.depth<V};return lr(It(A.slice(0,M)),ge,He).orThunk(function(){return lr(A.slice(M+1),ge,He)})},Na=function(A){return hn(A,function(M,V){ia(A,V).fold(function(){M.dirty&&Nc(M)},function(ge){return oi(M,ge)})}),A},Im=function(A){var M=A,V=function(){return M},ge=function(He){M=He};return{get:V,set:ge}},Xo=function(A,M,V,ge){return le(ge).filter(ai).fold(function(){M.each(function(ar){Oa(ar.start,ge)&&V.set(!0)});var He=du(ge,A,V.get());M.each(function(ar){Oa(ar.end,ge)&&V.set(!1)});var Dt=De(ge).filter(ai).map(function(ar){return yd(A,M,V,ar)}).getOr([]);return He.toArray().concat(Dt)},function(He){return yd(A,M,V,He)})},yd=function(A,M,V,ge){return Yt(I(ge),function(He){var Dt=ai(He)?yd:Xo,ar=A+1;return Dt(ar,M,V,He)})},$e=function(A,M){var V=Im(!1),ge=0;return Pn(A,function(He){return{sourceList:He,entries:yd(ge,M,V,He)}})},Ao=function(A,M){var V=Na(M);return Pn(V,function(ge){var He=ds(ge.content);return Ta.fromDom(Ie(A,He.dom))})},vc=function(A,M){var V=Na(M);return nr(A.contentDocument,V).toArray()},dl=function(A,M){return Yt($n(M,_i),function(V){var ge=zn(V).map(_i).getOr(!1);return ge?vc(A,V):Ao(A,V)})},Eu=function(A,M){hn(an(A,ms),function(V){return xr(M,V)})},fa=function(A){var M=Pn(Ln(A),Ta.fromDom);return Uo(Me(M,bt(vu)),Me(It(M),bt(vu)),function(V,ge){return{start:V,end:ge}})},no=function(A,M,V){var ge=$e(M,fa(A));hn(ge,function(He){Eu(He.entries,V);var Dt=dl(A,He.entries);hn(Dt,function(ar){fu(A,V==="Indent"?"IndentList":"OutdentList",ar.dom)}),$(He.sourceList,Dt),ye(He.sourceList)})},Mo=function(A,M){var V=Pn(Ba(A),Ta.fromDom),ge=Pn(Kf(A),Ta.fromDom),He=!1;if(V.length||ge.length){var Dt=A.selection.getBookmark();no(A,V,M),la(A,M,ge),A.selection.moveToBookmark(Dt),A.selection.setRng(uo(A.selection.getRng())),A.nodeChanged(),He=!0}return He},ii=function(A){return Mo(A,"Indent")},qu=function(A){return Mo(A,"Outdent")},Co=function(A){return Mo(A,"Flatten")},Zt=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),gs=Jn.DOM,hs=function(A){var M={},V=function(ge){var He,Dt,ar;Dt=A[ge?"startContainer":"endContainer"],ar=A[ge?"startOffset":"endOffset"],Dt.nodeType===1&&(He=gs.create("span",{"data-mce-type":"bookmark"}),Dt.hasChildNodes()?(ar=Math.min(ar,Dt.childNodes.length-1),ge?Dt.insertBefore(He,Dt.childNodes[ar]):gs.insertAfter(He,Dt.childNodes[ar])):Dt.appendChild(He),Dt=He,ar=0),M[ge?"startContainer":"endContainer"]=Dt,M[ge?"startOffset":"endOffset"]=ar};return V(!0),A.collapsed||V(),M},ml=function(A){var M=function(ge){var He,Dt,ar,Rr=function(_r){for(var Ea=_r.parentNode.firstChild,Vr=0;Ea;){if(Ea===_r)return Vr;(Ea.nodeType!==1||Ea.getAttribute("data-mce-type")!=="bookmark")&&Vr++,Ea=Ea.nextSibling}return-1};He=ar=A[ge?"startContainer":"endContainer"],Dt=A[ge?"startOffset":"endOffset"],!!He&&(He.nodeType===1&&(Dt=Rr(He),He=He.parentNode,gs.remove(ar),!He.hasChildNodes()&&gs.isBlock(He)&&He.appendChild(gs.create("br"))),A[ge?"startContainer":"endContainer"]=He,A[ge?"startOffset":"endOffset"]=Dt)};M(!0),M();var V=gs.createRng();return V.setStart(A.startContainer,A.startOffset),A.endContainer&&V.setEnd(A.endContainer,A.endOffset),uo(V)},Yo=function(A){switch(A){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Oo=function(A){return/\btox\-/.test(A.className)},_n=function(A,M,V){var ge=function(Dt){var ar=lr(Dt.parents,Oe,_e).filter(function(Rr){return Rr.nodeName===M&&!Oo(Rr)}).isSome();V(ar)},He=A.dom.getParents(A.selection.getNode());return ge({parents:He}),A.on("NodeChange",ge),function(){return A.off("NodeChange",ge)}},ps=function(A,M,V){var ge=V["list-style-type"]?V["list-style-type"]:null;A.setStyle(M,"list-style-type",ge)},zm=function(A,M){$t.each(M,function(V,ge){A.setAttribute(ge,V)})},Hs=function(A,M,V){zm(M,V["list-attributes"]),$t.each(A.select("li",M),function(ge){zm(ge,V["list-item-attributes"])})},Gu=function(A,M,V){ps(A,M,V),Hs(A,M,V)},Lm=function(A,M,V){$t.each(V,function(ge){var He;return A.setStyle(M,(He={},He[ge]="",He))})},bs=function(A,M,V,ge){var He=M[V?"startContainer":"endContainer"],Dt=M[V?"startOffset":"endOffset"];for(He.nodeType===1&&(He=He.childNodes[Math.min(Dt,He.childNodes.length-1)]||He),!V&&ct(He.nextSibling)&&(He=He.nextSibling);He.parentNode!==ge;){if(Sn(A,He)||/^(TD|TH)$/.test(He.parentNode.nodeName))return He;He=He.parentNode}return He},Au=function(A,M,V){for(var ge=[],He=A.dom,Dt=bs(A,M,!0,V),ar=bs(A,M,!1,V),Rr,_r=[],Ea=Dt;Ea&&(_r.push(Ea),Ea!==ar);Ea=Ea.nextSibling);return $t.each(_r,function(Vr){if(Sn(A,Vr)){ge.push(Vr),Rr=null;return}if(He.isBlock(Vr)||ct(Vr)){ct(Vr)&&He.remove(Vr),Rr=null;return}var ji=Vr.nextSibling;if(Zt.isBookmarkNode(Vr)&&(Oe(ji)||Sn(A,ji)||!ji&&Vr.parentNode===V)){Rr=null;return}Rr||(Rr=He.create("p"),Vr.parentNode.insertBefore(Rr,Vr),ge.push(Rr)),Rr.appendChild(Vr)}),ge},wd=function(A,M,V){var ge=A.getStyle(M,"list-style-type"),He=V?V["list-style-type"]:"";return He=He===null?"":He,ge===He},Hm=function(A,M,V){V===void 0&&(V={});var ge=A.selection.getRng(),He="LI",Dt=Oi(A,A.selection.getStart(!0)),ar=A.dom;if(ar.getContentEditable(A.selection.getNode())!=="false"){M=M.toUpperCase(),M==="DL"&&(He="DT");var Rr=hs(ge),_r=Au(A,ge,Dt);$t.each(_r,function(Ea){var Vr,ji=Ea.previousSibling,Dh=Ea.parentNode;Dn(Dh)||(ji&&Oe(ji)&&ji.nodeName===M&&wd(ar,ji,V)?(Vr=ji,Ea=ar.rename(Ea,He),ji.appendChild(Ea)):(Vr=ar.create(M),Ea.parentNode.insertBefore(Vr,Ea),Vr.appendChild(Ea),Ea=ar.rename(Ea,He)),Lm(ar,Ea,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Gu(ar,Vr,V),Vs(A.dom,Vr))}),A.selection.setRng(ml(Rr))}},Cd=function(A,M){return A&&M&&Oe(A)&&A.nodeName===M.nodeName},Ql=function(A,M,V){var ge=A.getStyle(M,"list-style-type",!0),He=A.getStyle(V,"list-style-type",!0);return ge===He},Vm=function(A,M){return A.className===M.className},Ya=function(A,M,V){return Cd(M,V)&&Ql(A,M,V)&&Vm(M,V)},Vs=function(A,M){var V,ge;if(V=M.nextSibling,Ya(A,M,V)){for(;ge=V.firstChild;)M.appendChild(ge);A.remove(V)}if(V=M.previousSibling,Ya(A,M,V)){for(;ge=V.lastChild;)M.insertBefore(ge,M.firstChild);A.remove(V)}},Oh=function(A,M,V,ge){if(M.nodeName!==V){var He=A.dom.rename(M,V);Gu(A.dom,He,ge),fu(A,Yo(V),He)}else Gu(A.dom,M,ge),fu(A,Yo(V),M)},Jo=function(A,M,V,ge,He){var Dt=Oe(M);if(Dt&&M.nodeName===ge&&!dc(He))Co(A);else{Hm(A,ge,He);var ar=hs(A.selection.getRng(!0)),Rr=Dt?mt([M],V):V;$t.each(Rr,function(_r){Oh(A,_r,ge,He)}),A.selection.setRng(ml(ar))}},dc=function(A){return"list-style-type"in A},ys=function(A,M,V,ge){if(M!==A.getBody())if(M)if(M.nodeName===V&&!dc(ge)&&!Oo(M))Co(A);else{var He=hs(A.selection.getRng(!0));Gu(A.dom,M,ge);var Dt=A.dom.rename(M,V);Vs(A.dom,Dt),A.selection.setRng(ml(He)),Hm(A,V,ge),fu(A,Yo(V),Dt)}else Hm(A,V,ge),fu(A,Yo(V),M)},io=function(A,M,V){var ge=ra(A),He=Jl(A);V=V||{},He.length>0?Jo(A,ge,He,M,V):ys(A,ge,M,V)},ef=Jn.DOM,Zo=function(A,M){var V,ge=M.parentNode;ge.nodeName==="LI"&&ge.firstChild===M&&(V=ge.previousSibling,V&&V.nodeName==="LI"?(V.appendChild(M),gr(A,ge)&&ef.remove(ge)):ef.setStyle(ge,"listStyleType","none")),Oe(ge)&&(V=ge.previousSibling,V&&V.nodeName==="LI"&&V.appendChild(M))},xd=function(A,M){$t.each($t.grep(A.select("ol,ul",M)),function(V){Zo(A,V)})},gl=function(A,M,V,ge){var He=M.startContainer,Dt=M.startOffset;if(xe(He)&&(V?Dt<He.data.length:Dt>0))return He;var ar=A.schema.getNonEmptyElements();He.nodeType===1&&(He=Pa.getNode(He,Dt));var Rr=new Ga(He,ge);for(V&&vr(A.dom,He)&&Rr.next();He=Rr[V?"next":"prev2"]();)if(He.nodeName==="LI"&&!He.hasChildNodes()||ar[He.nodeName]||xe(He)&&He.data.length>0)return He},Jf=function(A,M){var V=M.childNodes;return V.length===1&&!Oe(V[0])&&A.isBlock(V[0])},hl=function(A,M){Jf(A,M)&&A.remove(M.firstChild,!0)},Sd=function(A,M,V){var ge,He=Jf(A,V)?V.firstChild:V;if(hl(A,M),!gr(A,M,!0))for(;ge=M.firstChild;)He.appendChild(ge)},Mc=function(A,M,V){var ge,He=M.parentNode;if(!(!Fr(A,M)||!Fr(A,V))){Oe(V.lastChild)&&(ge=V.lastChild),He===V.lastChild&&ct(He.previousSibling)&&A.remove(He.previousSibling);var Dt=V.lastChild;Dt&&ct(Dt)&&M.hasChildNodes()&&A.remove(Dt),gr(A,V,!0)&&A.$(V).empty(),Sd(A,M,V),ge&&V.appendChild(ge);var ar=ur(Ta.fromDom(V),Ta.fromDom(M)),Rr=ar?A.getParents(M,Oe,V):[];A.remove(M),hn(Rr,function(_r){gr(A,_r)&&_r!==A.getRoot()&&A.remove(_r)})}},Zf=function(A,M,V){A.dom.$(V).empty(),Mc(A.dom,M,V),A.selection.setCursorLocation(V,0)},Qf=function(A,M,V,ge){var He=A.dom;if(He.isEmpty(ge))Zf(A,V,ge);else{var Dt=hs(M);Mc(He,V,ge),A.selection.setRng(ml(Dt))}},ev=function(A,M,V,ge){var He=hs(M);Mc(A.dom,V,ge);var Dt=ml(He);A.selection.setRng(Dt)},Ou=function(A,M){var V=A.dom,ge=A.selection,He=ge.getStart(),Dt=Oi(A,He),ar=V.getParent(ge.getStart(),"LI",Dt);if(ar){var Rr=ar.parentNode;if(Rr===A.getBody()&&gr(V,Rr))return!0;var _r=uo(ge.getRng()),Ea=V.getParent(gl(A,_r,M,Dt),"LI",Dt);if(Ea&&Ea!==ar)return A.undoManager.transact(function(){M?Qf(A,_r,Ea,ar):Qt(ar)?qu(A):ev(A,_r,ar,Ea)}),!0;if(!Ea&&!M&&_r.startOffset===0&&_r.endOffset===0)return A.undoManager.transact(function(){Co(A)}),!0}return!1},Wi=function(A,M,V){var ge=A.getParent(M.parentNode,A.isBlock,V);A.remove(M),ge&&A.isEmpty(ge)&&A.remove(ge)},Du=function(A,M){var V=A.dom,ge=A.selection.getStart(),He=Oi(A,ge),Dt=V.getParent(ge,V.isBlock,He);if(Dt&&V.isEmpty(Dt)){var ar=uo(A.selection.getRng()),Rr=V.getParent(gl(A,ar,M,He),"LI",He);if(Rr)return A.undoManager.transact(function(){Wi(V,Dt,He),Vs(V,Rr.parentNode),A.selection.select(Rr,!0),A.selection.collapse(M)}),!0}return!1},Bi=function(A,M){return Ou(A,M)||Du(A,M)},tf=function(A){var M=A.selection.getStart(),V=Oi(A,M),ge=A.dom.getParent(M,"LI,DT,DD",V);return ge||Ln(A).length>0?(A.undoManager.transact(function(){A.execCommand("Delete"),xd(A.dom,A.getBody())}),!0):!1},Fc=function(A,M){return A.selection.isCollapsed()?Bi(A,M):tf(A)},ws=function(A){A.on("keydown",function(M){M.keyCode===Gn.BACKSPACE?Fc(A,!1)&&M.preventDefault():M.keyCode===Gn.DELETE&&Fc(A,!0)&&M.preventDefault()})},Hr=function(A){return{backspaceDelete:function(M){Fc(A,M)}}},Ku=function(A){var M=A.dom,V=ra(A);!kn(V)||A.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:M.getAttrib(V,"start")||"1"},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(ge){var He=ge.getData();A.undoManager.transact(function(){M.setAttrib(ra(A),"start",He.start==="1"?"":He.start)}),ge.close()}})},pl=function(A,M){return function(){var V=A.dom.getParent(A.selection.getStart(),"UL,OL,DL");return V&&V.nodeName===M}},Td=function(A){A.on("BeforeExecCommand",function(M){var V=M.command.toLowerCase();V==="indent"?ii(A):V==="outdent"&&qu(A)}),A.addCommand("InsertUnorderedList",function(M,V){io(A,"UL",V)}),A.addCommand("InsertOrderedList",function(M,V){io(A,"OL",V)}),A.addCommand("InsertDefinitionList",function(M,V){io(A,"DL",V)}),A.addCommand("RemoveList",function(){Co(A)}),A.addCommand("mceListProps",function(){Ku(A)}),A.addQueryStateHandler("InsertUnorderedList",pl(A,"UL")),A.addQueryStateHandler("InsertOrderedList",pl(A,"OL")),A.addQueryStateHandler("InsertDefinitionList",pl(A,"DL"))},I1=function(A){A.on("keydown",function(M){M.keyCode!==Gn.TAB||Gn.metaKeyPressed(M)||A.undoManager.transact(function(){(M.shiftKey?qu(A):ii(A))&&M.preventDefault()})})},bl=function(A){wa(A)&&I1(A),ws(A)},z1=function(A){var M=function(V){return function(){return A.execCommand(V)}};A.hasPlugin("advlist")||(A.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:M("InsertOrderedList"),onSetup:function(V){return _n(A,"OL",V.setActive)}}),A.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:M("InsertUnorderedList"),onSetup:function(V){return _n(A,"UL",V.setActive)}}))},nf=function(A){var M={text:"List properties...",icon:"ordered-list",onAction:function(){return Ku(A)},onSetup:function(V){return _n(A,"OL",function(ge){return V.setDisabled(!ge)})}};A.ui.registry.addMenuItem("listprops",M),A.ui.registry.addContextMenu("lists",{update:function(V){var ge=ra(A,V);return kn(ge)?["listprops"]:[]}})};function Xu(){Le.add("lists",function(A){return A.hasPlugin("rtc",!0)===!1&&(bl(A),Td(A)),z1(A),nf(A),Hr(A)})}Xu()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=function(){return qn=Object.assign||function(I){for(var W,le=1,De=arguments.length;le<De;le++){W=arguments[le];for(var Pe in W)Object.prototype.hasOwnProperty.call(W,Pe)&&(I[Pe]=W[Pe])}return I},qn.apply(this,arguments)},tn=function(){},bt=function(ce){return function(){return ce}},ve=bt(!1),rt=bt(!0),gn=function(){return vn},vn=function(){var ce=function(De){return De.isNone()},I=function(De){return De()},W=function(De){return De},le={fold:function(De,Pe){return De()},is:ve,isSome:ve,isNone:rt,getOr:W,getOrThunk:I,getOrDie:function(De){throw new Error(De||"error: getOrDie called on none.")},getOrNull:bt(null),getOrUndefined:bt(void 0),or:W,orThunk:I,map:gn,each:tn,bind:gn,exists:ve,forall:rt,filter:gn,equals:ce,equals_:ce,toArray:function(){return[]},toString:bt("none()")};return le}(),Ct=function(ce){var I=bt(ce),W=function(){return De},le=function(Pe){return Pe(ce)},De={fold:function(Pe,tt){return tt(ce)},is:function(Pe){return ce===Pe},isSome:rt,isNone:ve,getOr:I,getOrThunk:I,getOrDie:I,getOrNull:I,getOrUndefined:I,or:W,orThunk:W,map:function(Pe){return Ct(Pe(ce))},each:function(Pe){Pe(ce)},bind:le,exists:le,forall:le,filter:function(Pe){return Pe(ce)?De:vn},toArray:function(){return[ce]},toString:function(){return"some("+ce+")"},equals:function(Pe){return Pe.is(ce)},equals_:function(Pe,tt){return Pe.fold(ve,function($){return tt(ce,$)})}};return De},Et=function(ce){return ce==null?vn:Ct(ce)},Qe={some:Ct,none:gn,from:Et},Ze=function(ce){var I=typeof ce;return ce===null?"null":I==="object"&&(Array.prototype.isPrototypeOf(ce)||ce.constructor&&ce.constructor.name==="Array")?"array":I==="object"&&(String.prototype.isPrototypeOf(ce)||ce.constructor&&ce.constructor.name==="String")?"string":I},te=function(ce){return function(I){return Ze(I)===ce}},vt=te("string"),q=te("object"),We=te("array"),dn=function(ce){return ce==null},Xe=function(ce){return!dn(ce)},cr=Array.prototype.push,S=function(ce,I){for(var W=0,le=ce.length;W<le;W++){var De=ce[W];I(De,W)}},mn=function(ce){for(var I=[],W=0,le=ce.length;W<le;++W){if(!We(ce[W]))throw new Error("Arr.flatten item "+W+" was not an array, input: "+ce);cr.apply(I,ce[W])}return I},Pn=function(ce){var I=ce,W=function(){return I},le=function(De){I=De};return{get:W,set:le}},hn=Object.keys,an=Object.hasOwnProperty,$n=function(ce,I){for(var W=hn(ce),le=0,De=W.length;le<De;le++){var Pe=W[le],tt=ce[Pe];I(tt,Pe)}},Cr=function(ce){return function(I,W){ce[W]=I}},lr=function(ce,I,W,le){var De={};return $n(ce,function(Pe,tt){(I(Pe,tt)?W:le)(Pe,tt)}),De},Me=function(ce,I){var W={};return lr(ce,I,Cr(W),tn),W},z=function(ce,I){return Yt(ce,I)?Qe.from(ce[I]):Qe.none()},Yt=function(ce,I){return an.call(ce,I)},It=function(ce){return ce.getParam("media_scripts")},In=function(ce){return ce.getParam("audio_template_callback")},zn=function(ce){return ce.getParam("video_template_callback")},jn=function(ce){return ce.getParam("media_live_embeds",!0)},yt=function(ce){return ce.getParam("media_filter_html",!0)},mt=function(ce){return ce.getParam("media_url_resolver")},fn=function(ce){return ce.getParam("media_alt_source",!0)},Yr=function(ce){return ce.getParam("media_poster",!0)},yr=function(ce){return ce.getParam("media_dimensions",!0)},Re=tinymce.util.Tools.resolve("tinymce.util.Tools"),ut=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),kt=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),Vt=function(ce,I){if(ce){for(var W=0;W<ce.length;W++)if(I.indexOf(ce[W].filter)!==-1)return ce[W]}},we=ut.DOM,Ye=function(ce){return ce.replace(/px$/,"")},rn=function(ce){var I=ce.map.style,W=I?we.parseStyle(I):{};return{type:"ephox-embed-iri",source:ce.map["data-ephox-embed-iri"],altsource:"",poster:"",width:z(W,"max-width").map(Ye).getOr(""),height:z(W,"max-height").map(Ye).getOr("")}},qe=function(ce,I){var W=Pn(!1),le={};return kt({validate:!1,allow_conditional_comments:!0,start:function(De,Pe){if(!W.get())if(Yt(Pe.map,"data-ephox-embed-iri"))W.set(!0),le=rn(Pe);else{if(!le.source&&De==="param"&&(le.source=Pe.map.movie),(De==="iframe"||De==="object"||De==="embed"||De==="video"||De==="audio")&&(le.type||(le.type=De),le=Re.extend(Pe.map,le)),De==="script"){var tt=Vt(ce,Pe.map.src);if(!tt)return;le={type:"script",source:Pe.map.src,width:String(tt.width),height:String(tt.height)}}De==="source"&&(le.source?le.altsource||(le.altsource=Pe.map.src):le.source=Pe.map.src),De==="img"&&!le.poster&&(le.poster=Pe.map.src)}}}).parse(I),le.source=le.source||le.src||le.data,le.altsource=le.altsource||"",le.poster=le.poster||"",le},de=function(ce){var I={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},W=ce.toLowerCase().split(".").pop(),le=I[W];return le||""},Ue=tinymce.util.Tools.resolve("tinymce.html.Schema"),ee=tinymce.util.Tools.resolve("tinymce.html.Writer"),ke=ut.DOM,he=function(ce){return/^[0-9.]+$/.test(ce)?ce+"px":ce},Pt=function(ce,I){$n(I,function(W,le){var De=""+W;if(ce.map[le])for(var Pe=ce.length;Pe--;){var tt=ce[Pe];tt.name===le&&(De?(ce.map[le]=De,tt.value=De):(delete ce.map[le],ce.splice(Pe,1)))}else De&&(ce.push({name:le,value:De}),ce.map[le]=De)})},pn=function(ce,I){var W=I.map.style,le=W?ke.parseStyle(W):{};le["max-width"]=he(ce.width),le["max-height"]=he(ce.height),Pt(I,{style:ke.serializeStyle(le)})},St=["source","altsource"],ir=function(ce,I,W){var le=ee(),De=Pn(!1),Pe=0,tt;return kt({validate:!1,allow_conditional_comments:!0,comment:function($){le.comment($)},cdata:function($){le.cdata($)},text:function($,Z){le.text($,Z)},start:function($,Z,ye){if(!De.get())if(Yt(Z.map,"data-ephox-embed-iri"))De.set(!0),pn(I,Z);else{switch($){case"video":case"object":case"embed":case"img":case"iframe":I.height!==void 0&&I.width!==void 0&&Pt(Z,{width:I.width,height:I.height});break}if(W)switch($){case"video":Pt(Z,{poster:I.poster,src:""}),I.altsource&&Pt(Z,{src:""});break;case"iframe":Pt(Z,{src:I.source});break;case"source":if(Pe<2&&(Pt(Z,{src:I[St[Pe]],type:I[St[Pe]+"mime"]}),!I[St[Pe]]))return;Pe++;break;case"img":if(!I.poster)return;tt=!0;break}}le.start($,Z,ye)},end:function($){if(!De.get()){if($==="video"&&W){for(var Z=0;Z<2;Z++)if(I[St[Z]]){var ye=[];ye.map={},Pe<=Z&&(Pt(ye,{src:I[St[Z]],type:I[St[Z]+"mime"]}),le.start("source",ye,!0))}}if(I.poster&&$==="object"&&W&&!tt){var ue=[];ue.map={},Pt(ue,{src:I.poster,width:I.width,height:I.height}),le.start("img",ue,!0)}}le.end($)}},Ue({})).parse(ce),le.getContent()},Rn=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Zr=function(ce){var I=ce.match(/^(https?:\/\/|www\.)(.+)$/i);return I&&I.length>1?I[1]==="www."?"https://":I[1]:"https://"},Ir=function(ce,I){for(var W=Zr(I),le=ce.regex.exec(I),De=W+ce.url,Pe=function($){De=De.replace("$"+$,function(){return le[$]?le[$]:""})},tt=0;tt<le.length;tt++)Pe(tt);return De.replace(/\?$/,"")},ba=function(ce){var I=Rn.filter(function(W){return W.regex.test(ce)});return I.length>0?Re.extend({},I[0],{url:Ir(I[0],ce)}):null},zt=function(ce){var I=ce.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+ce.source+'" width="'+ce.width+'" height="'+ce.height+'"'+I+"></iframe>"},pt=function(ce){var I='<object data="'+ce.source+'" width="'+ce.width+'" height="'+ce.height+'" type="application/x-shockwave-flash">';return ce.poster&&(I+='<img src="'+ce.poster+'" width="'+ce.width+'" height="'+ce.height+'" />'),I+="</object>",I},Jt=function(ce,I){return I?I(ce):'<audio controls="controls" src="'+ce.source+'">'+(ce.altsource?`
<source src="`+ce.altsource+'"'+(ce.altsourcemime?' type="'+ce.altsourcemime+'"':"")+` />
`:"")+"</audio>"},Kt=function(ce,I){return I?I(ce):'<video width="'+ce.width+'" height="'+ce.height+'"'+(ce.poster?' poster="'+ce.poster+'"':"")+` controls="controls">
<source src="`+ce.source+'"'+(ce.sourcemime?' type="'+ce.sourcemime+'"':"")+` />
`+(ce.altsource?'<source src="'+ce.altsource+'"'+(ce.altsourcemime?' type="'+ce.altsourcemime+'"':"")+` />
`:"")+"</video>"},Xt=function(ce){return'<script src="'+ce.source+'"><\/script>'},Nn=function(ce,I){var W=Re.extend({},I);if(!W.source&&(Re.extend(W,qe(It(ce),W.embed)),!W.source))return"";W.altsource||(W.altsource=""),W.poster||(W.poster=""),W.source=ce.convertURL(W.source,"source"),W.altsource=ce.convertURL(W.altsource,"source"),W.sourcemime=de(W.source),W.altsourcemime=de(W.altsource),W.poster=ce.convertURL(W.poster,"poster");var le=ba(W.source);if(le&&(W.source=le.url,W.type=le.type,W.allowfullscreen=le.allowFullscreen,W.width=W.width||String(le.w),W.height=W.height||String(le.h)),W.embed)return ir(W.embed,W,!0);var De=Vt(It(ce),W.source);De&&(W.type="script",W.width=String(De.width),W.height=String(De.height));var Pe=In(ce),tt=zn(ce);return W.width=W.width||"300",W.height=W.height||"150",Re.each(W,function($,Z){W[Z]=ce.dom.encode(""+$)}),W.type==="iframe"?zt(W):W.sourcemime==="application/x-shockwave-flash"?pt(W):W.sourcemime.indexOf("audio")!==-1?Jt(W,Pe):W.type==="script"?Xt(W):Kt(W,tt)},dr=tinymce.util.Tools.resolve("tinymce.util.Promise"),Nt={},lt=function(ce,I,W){return new dr(function(le,De){var Pe=function(tt){return tt.html&&(Nt[ce.source]=tt),le({url:ce.source,html:tt.html?tt.html:I(ce)})};Nt[ce.source]?Pe(Nt[ce.source]):W({url:ce.source},Pe,De)})},Tn=function(ce,I){return new dr(function(W){W({html:I(ce),url:ce.source})})},or=function(ce){return function(I){return Nn(ce,I)}},zr=function(ce,I){var W=mt(ce);return W?lt(I,or(ce),W):Tn(I,or(ce))},Pr=function(ce){return Nt.hasOwnProperty(ce)},na=function(ce,I){return z(I,ce).bind(function(W){return z(W,"meta")})},Or=function(ce,I,W){return function(le){var De,Pe=function(){return z(ce,le)},tt=function(){return z(I,le)},$=function(ue){return z(ue,"value").bind(function(Ge){return Ge.length>0?Qe.some(Ge):Qe.none()})},Z=function(){return Pe().bind(function(ue){return q(ue)?$(ue).orThunk(tt):tt().orThunk(function(){return Qe.from(ue)})})},ye=function(){return tt().orThunk(function(){return Pe().bind(function(ue){return q(ue)?$(ue):Qe.from(ue)})})};return De={},De[le]=(le===W?Z():ye()).getOr(""),De}},xa=function(ce,I){var W={};return z(ce,"dimensions").each(function(le){S(["width","height"],function(De){z(I,De).orThunk(function(){return z(le,De)}).each(function(Pe){return W[De]=Pe})})}),W},Ce=function(ce,I){var W=I?na(I,ce).getOr({}):{},le=Or(ce,W,I);return qn(qn(qn(qn(qn({},le("source")),le("altsource")),le("poster")),le("embed")),xa(ce,W))},et=function(ce){var I=qn(qn({},ce),{source:{value:z(ce,"source").getOr("")},altsource:{value:z(ce,"altsource").getOr("")},poster:{value:z(ce,"poster").getOr("")}});return S(["width","height"],function(W){z(ce,W).each(function(le){var De=I.dimensions||{};De[W]=le,I.dimensions=De})}),I},Wt=function(ce){return function(I){var W=I&&I.msg?"Media embed handler error: "+I.msg:"Media embed handler threw unknown error.";ce.notificationManager.open({type:"error",text:W})}},Fn=function(ce,I){return qe(It(ce),I)},un=function(ce){return ce.getAttribute("data-mce-object")||ce.getAttribute("data-ephox-embed-iri")},fr=function(ce){var I=ce.selection.getNode(),W=un(I)?ce.serializer.serialize(I,{selection:!0}):"";return qn({embed:W},qe(It(ce),W))},ya=function(ce,I){return function(W){if(vt(W.url)&&W.url.trim().length>0){var le=W.html,De=Fn(I,le),Pe=qn(qn({},De),{source:W.url,embed:le});ce.setData(et(Pe))}}},Nr=function(ce,I){for(var W=ce.dom.select("*[data-mce-object]"),le=0;le<I.length;le++)for(var De=W.length-1;De>=0;De--)I[le]===W[De]&&W.splice(De,1);ce.selection.select(W[0])},kr=function(ce,I){var W=ce.dom.select("*[data-mce-object]");ce.insertContent(I),Nr(ce,W),ce.nodeChanged()},qa=function(ce,I,W){I.embed=ir(I.embed,I),I.embed&&(ce.source===I.source||Pr(I.source))?kr(W,I.embed):zr(W,I).then(function(le){kr(W,le.html)}).catch(Wt(W))},Ro=function(ce){var I=fr(ce),W=Pn(I),le=et(I),De=function(K,xe){var Oe=Ce(xe.getData(),"source");K.source!==Oe.source&&(ya(Zn,ce)({url:Oe.source,html:""}),zr(ce,Oe).then(ya(Zn,ce)).catch(Wt(ce)))},Pe=function(K){var xe=Ce(K.getData()),Oe=Fn(ce,xe.embed);K.setData(et(Oe))},tt=function(K,xe){var Oe=Ce(K.getData(),xe),at=Nn(ce,Oe);K.setData(et(qn(qn({},Oe),{embed:at})))},$=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],Z=yr(ce)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],ye={title:"General",name:"general",items:mn([$,Z])},ue={type:"textarea",name:"embed",label:"Paste your embed code below:"},Ge={title:"Embed",items:[ue]},Je=[];fn(ce)&&Je.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),Yr(ce)&&Je.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var yn={title:"Advanced",name:"advanced",items:Je},Jn=[ye,Ge];Je.length>0&&Jn.push(yn);var $t={type:"tabpanel",tabs:Jn},Zn=ce.windowManager.open({title:"Insert/Edit Media",size:"normal",body:$t,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(K){var xe=Ce(K.getData());qa(W.get(),xe,ce),K.close()},onChange:function(K,xe){switch(xe.name){case"source":De(W.get(),K);break;case"embed":Pe(K);break;case"dimensions":case"altsource":case"poster":tt(K,xe.name);break}W.set(Ce(K.getData()))},initialData:le})},Ta=function(ce){var I=function(){Ro(ce)};return{showDialog:I}},Ko=function(ce){var I=function(){Ro(ce)};ce.addCommand("mceMedia",I)},Oa=tinymce.util.Tools.resolve("tinymce.html.Node"),ho=tinymce.util.Tools.resolve("tinymce.Env"),ao=tinymce.util.Tools.resolve("tinymce.html.DomParser"),ur=function(ce,I){if(yt(ce)===!1)return I;var W=ee(),le;return kt({validate:!1,allow_conditional_comments:!1,comment:function(De){le||W.comment(De)},cdata:function(De){le||W.cdata(De)},text:function(De,Pe){le||W.text(De,Pe)},start:function(De,Pe,tt){if(le=!0,!(De==="script"||De==="noscript"||De==="svg")){for(var $=Pe.length-1;$>=0;$--){var Z=Pe[$].name;Z.indexOf("on")===0&&(delete Pe.map[Z],Pe.splice($,1)),Z==="style"&&(Pe[$].value=ce.dom.serializeStyle(ce.dom.parseStyle(Pe[$].value),De))}W.start(De,Pe,tt),le=!1}},end:function(De){le||W.end(De)}},Ue({})).parse(I),W.getContent()},ua=function(ce){var I=ce.name;return I==="iframe"||I==="video"||I==="audio"},Pa=function(ce,I,W,le){le===void 0&&(le=null);var De=ce.attr(W);return Xe(De)?De:Yt(I,W)?null:le},Ga=function(ce,I,W){var le=I.name==="img"||ce.name==="video",De=le?"300":null,Pe=ce.name==="audio"?"30":"150",tt=le?Pe:null;I.attr({width:Pa(ce,W,"width",De),height:Pa(ce,W,"height",tt)})},Gn=function(ce,I,W,le){for(var De=ao({forced_root_block:!1,validate:!1},ce.schema).parse(le,{context:I});De.firstChild;)W.append(De.firstChild)},oo=function(ce,I){var W=I.name,le=new Oa("img",1);return le.shortEnded=!0,Po(ce,I,le),Ga(I,le,{}),le.attr({style:I.attr("style"),src:ho.transparentSrc,"data-mce-object":W,class:"mce-object mce-object-"+W}),le},mo=function(ce,I){var W=I.name,le=ce.dom.parseStyle(I.attr("style")),De=Me(le,function(ue,Ge){return Ge!=="width"&&Ge!=="height"}),Pe=new Oa("span",1);Pe.attr({contentEditable:"false",style:ce.dom.serializeStyle(De),"data-mce-object":W,class:"mce-preview-object mce-object-"+W}),Po(ce,I,Pe);var tt=new Oa(W,1);if(Ga(I,tt,le),tt.attr({src:I.attr("src"),style:I.attr("style"),class:I.attr("class")}),W==="iframe")tt.attr({allowfullscreen:I.attr("allowfullscreen"),frameborder:"0"});else{var $=["controls","crossorigin","currentTime","loop","muted","poster","preload"];S($,function(ue){tt.attr(ue,I.attr(ue))});var Z=Pe.attr("data-mce-html");Xe(Z)&&Gn(ce,W,tt,Z)}var ye=new Oa("span",1);return ye.attr("class","mce-shim"),Pe.append(tt),Pe.append(ye),Pe},Po=function(ce,I,W){for(var le=I.attributes,De=le.length;De--;){var Pe=le[De].name,tt=le[De].value;Pe!=="width"&&Pe!=="height"&&Pe!=="style"&&((Pe==="data"||Pe==="src")&&(tt=ce.convertURL(tt,Pe)),W.attr("data-mce-p-"+Pe,tt))}var $=I.firstChild&&I.firstChild.value;$&&(W.attr("data-mce-html",escape(ur(ce,$))),W.firstChild=null)},yo=function(ce){var I=ce.attr("class");return I&&/\btiny-pageembed\b/.test(I)},Gr=function(ce){for(;ce=ce.parent;)if(ce.attr("data-ephox-embed-iri")||yo(ce))return!0;return!1},wo=function(ce){return function(I){for(var W=I.length,le,De;W--;)le=I[W],!!le.parent&&(le.parent.attr("data-mce-object")||le.name==="script"&&(De=Vt(It(ce),le.attr("src")),!De)||(De&&(De.width&&le.attr("width",De.width.toString()),De.height&&le.attr("height",De.height.toString())),ua(le)&&jn(ce)&&ho.ceFalse?Gr(le)||le.replace(mo(ce,le)):Gr(le)||le.replace(oo(ce,le))))}},lo=function(ce){ce.on("preInit",function(){var I=ce.schema.getSpecialElements();Re.each("video audio iframe object".split(" "),function(le){I[le]=new RegExp("</"+le+"[^>]*>","gi")});var W=ce.schema.getBoolAttrs();Re.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(le){W[le]={}}),ce.parser.addNodeFilter("iframe,video,audio,object,embed,script",wo(ce)),ce.serializer.addAttributeFilter("data-mce-object",function(le,De){for(var Pe=le.length,tt,$,Z,ye,ue,Ge,Je,yn;Pe--;)if(tt=le[Pe],!!tt.parent){for(Je=tt.attr(De),$=new Oa(Je,1),Je!=="audio"&&Je!=="script"&&(yn=tt.attr("class"),yn&&yn.indexOf("mce-preview-object")!==-1?$.attr({width:tt.firstChild.attr("width"),height:tt.firstChild.attr("height")}):$.attr({width:tt.attr("width"),height:tt.attr("height")})),$.attr({style:tt.attr("style")}),ye=tt.attributes,Z=ye.length;Z--;){var Jn=ye[Z].name;Jn.indexOf("data-mce-p-")===0&&$.attr(Jn.substr(11),ye[Z].value)}Je==="script"&&$.attr("type","text/javascript"),ue=tt.attr("data-mce-html"),ue&&(Ge=new Oa("#text",3),Ge.raw=!0,Ge.value=ur(ce,unescape(ue)),$.append(Ge)),tt.replace($)}})}),ce.on("SetContent",function(){ce.$("span.mce-preview-object").each(function(I,W){var le=ce.$(W);le.find("span.mce-shim").length===0&&le.append('<span class="mce-shim"></span>')})})},po=function(ce){ce.on("ResolveName",function(I){var W;I.target.nodeType===1&&(W=I.target.getAttribute("data-mce-object"))&&(I.name=W)})},Ho=function(ce){ce.on("click keyup touchend",function(){var I=ce.selection.getNode();I&&ce.dom.hasClass(I,"mce-preview-object")&&ce.dom.getAttrib(I,"data-mce-selected")&&I.setAttribute("data-mce-selected","2")}),ce.on("ObjectSelected",function(I){var W=I.target.getAttribute("data-mce-object");W==="script"&&I.preventDefault()}),ce.on("ObjectResized",function(I){var W=I.target,le;W.getAttribute("data-mce-object")&&(le=W.getAttribute("data-mce-html"),le&&(le=unescape(le),W.setAttribute("data-mce-html",escape(ir(le,{width:String(I.width),height:String(I.height)})))))})},Vo=function(ce,I){return function(W){return ce.selection.selectorChangedWithUnbind(I.join(","),W.setActive).unbind}},Wa=function(ce){ce.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:function(){ce.execCommand("mceMedia")},onSetup:Vo(ce,["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"])}),ce.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:function(){ce.execCommand("mceMedia")}})};function No(){Le.add("media",function(ce){return Ko(ce),Wa(ce),po(ce),lo(ce),Ho(ce),Ta(ce)})}No()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=function(Ze){var te=Ze.getParam("nonbreaking_force_tab",0);return typeof te=="boolean"?te===!0?3:0:te},tn=function(Ze){return Ze.getParam("nonbreaking_wrap",!0,"boolean")},bt=function(Ze,te){for(var vt="",q=0;q<te;q++)vt+=Ze;return vt},ve=function(Ze){return Ze.plugins.visualchars?Ze.plugins.visualchars.isEnabled():!1},rt=function(Ze,te){var vt=function(){return ve(Ze)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"},q=function(){return'<span class="'+vt()+'" contenteditable="false">'+bt("&nbsp;",te)+"</span>"},We=tn(Ze),dn=We||Ze.plugins.visualchars?q():bt("&nbsp;",te);Ze.undoManager.transact(function(){return Ze.insertContent(dn)})},gn=function(Ze){Ze.addCommand("mceNonBreaking",function(){rt(Ze,1)})},vn=tinymce.util.Tools.resolve("tinymce.util.VK"),Ct=function(Ze){var te=qn(Ze);te>0&&Ze.on("keydown",function(vt){if(vt.keyCode===vn.TAB&&!vt.isDefaultPrevented()){if(vt.shiftKey)return;vt.preventDefault(),vt.stopImmediatePropagation(),rt(Ze,te)}})},Et=function(Ze){Ze.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:function(){return Ze.execCommand("mceNonBreaking")}}),Ze.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:function(){return Ze.execCommand("mceNonBreaking")}})};function Qe(){Le.add("nonbreaking",function(Ze){gn(Ze),Et(Ze),Ct(Ze)})}Qe()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=tinymce.util.Tools.resolve("tinymce.util.Tools"),tn=function(Qe){return Qe.getParam("noneditable_noneditable_class","mceNonEditable")},bt=function(Qe){return Qe.getParam("noneditable_editable_class","mceEditable")},ve=function(Qe){var Ze=Qe.getParam("noneditable_regexp",[]);return Ze&&Ze.constructor===RegExp?[Ze]:Ze},rt=function(Qe){return function(Ze){return(" "+Ze.attr("class")+" ").indexOf(Qe)!==-1}},gn=function(Qe,Ze,te){return function(vt){var q=arguments,We=q[q.length-2],dn=We>0?Ze.charAt(We-1):"";if(dn==='"')return vt;if(dn===">"){var Xe=Ze.lastIndexOf("<",We);if(Xe!==-1){var cr=Ze.substring(Xe,We);if(cr.indexOf('contenteditable="false"')!==-1)return vt}}return'<span class="'+te+'" data-mce-content="'+Qe.dom.encode(q[0])+'">'+Qe.dom.encode(typeof q[1]=="string"?q[1]:q[0])+"</span>"}},vn=function(Qe,Ze,te){var vt=Ze.length,q=te.content;if(te.format!=="raw"){for(;vt--;)q=q.replace(Ze[vt],gn(Qe,q,tn(Qe)));te.content=q}},Ct=function(Qe){var Ze="contenteditable",te=" "+qn.trim(bt(Qe))+" ",vt=" "+qn.trim(tn(Qe))+" ",q=rt(te),We=rt(vt),dn=ve(Qe);Qe.on("PreInit",function(){dn.length>0&&Qe.on("BeforeSetContent",function(Xe){vn(Qe,dn,Xe)}),Qe.parser.addAttributeFilter("class",function(Xe){for(var cr=Xe.length,S;cr--;)S=Xe[cr],q(S)?S.attr(Ze,"true"):We(S)&&S.attr(Ze,"false")}),Qe.serializer.addAttributeFilter(Ze,function(Xe){for(var cr=Xe.length,S;cr--;)S=Xe[cr],!(!q(S)&&!We(S))&&(dn.length>0&&S.attr("data-mce-content")?(S.name="#text",S.type=3,S.raw=!0,S.value=S.attr("data-mce-content")):S.attr(Ze,null))})})};function Et(){Le.add("noneditable",function(Qe){Ct(Qe)})}Et()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=tinymce.util.Tools.resolve("tinymce.Env"),tn=function(Ze){return Ze.getParam("pagebreak_separator","<!-- pagebreak -->")},bt=function(Ze){return Ze.getParam("pagebreak_split_block",!1)},ve=function(){return"mce-pagebreak"},rt=function(){return'<img src="'+qn.transparentSrc+'" class="'+ve()+'" data-mce-resize="false" data-mce-placeholder />'},gn=function(Ze){var te=tn(Ze),vt=new RegExp(te.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(q){return"\\"+q}),"gi");Ze.on("BeforeSetContent",function(q){q.content=q.content.replace(vt,rt())}),Ze.on("PreInit",function(){Ze.serializer.addNodeFilter("img",function(q){for(var We=q.length,dn,Xe;We--;)if(dn=q[We],Xe=dn.attr("class"),Xe&&Xe.indexOf("mce-pagebreak")!==-1){var cr=dn.parent;if(Ze.schema.getBlockElements()[cr.name]&&bt(Ze)){cr.type=3,cr.value=te,cr.raw=!0,dn.remove();continue}dn.type=3,dn.value=te,dn.raw=!0}})})},vn=function(Ze){Ze.addCommand("mcePageBreak",function(){bt(Ze)?Ze.insertContent("<p>"+rt()+"</p>"):Ze.insertContent(rt())})},Ct=function(Ze){Ze.on("ResolveName",function(te){te.target.nodeName==="IMG"&&Ze.dom.hasClass(te.target,ve())&&(te.name="pagebreak")})},Et=function(Ze){Ze.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:function(){return Ze.execCommand("mcePageBreak")}}),Ze.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:function(){return Ze.execCommand("mcePageBreak")}})};function Qe(){Le.add("pagebreak",function(Ze){vn(Ze),Et(Ze),gn(Ze),Ct(Ze)})}Qe()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=tinymce.util.Tools.resolve("tinymce.Env"),tn=tinymce.util.Tools.resolve("tinymce.util.Tools"),bt=function(q){return q.getParam("content_style","","string")},ve=function(q){return q.getParam("content_css_cors",!1,"boolean")},rt=function(q){var We=q.getParam("body_class","","hash");return We[q.id]||""},gn=function(q){var We=q.getParam("body_class","","string");return We.indexOf("=")===-1?We:rt(q)},vn=function(q){var We=q.getParam("body_id","","hash");return We[q.id]||We},Ct=function(q){var We=q.getParam("body_id","tinymce","string");return We.indexOf("=")===-1?We:vn(q)},Et=function(q){var We="",dn=q.dom.encode,Xe=bt(q);We+='<base href="'+dn(q.documentBaseURI.getURI())+'">';var cr=ve(q)?' crossorigin="anonymous"':"";tn.each(q.contentCSS,function(lr){We+='<link type="text/css" rel="stylesheet" href="'+dn(q.documentBaseURI.toAbsolute(lr))+'"'+cr+">"}),Xe&&(We+='<style type="text/css">'+Xe+"</style>");var S=Ct(q),mn=gn(q),Pn=qn.mac?"e.metaKey":"e.ctrlKey && !e.altKey",hn='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+Pn+")) {e.preventDefault();}}}, false);<\/script> ",an=q.getBody().dir,$n=an?' dir="'+dn(an)+'"':"",Cr="<!DOCTYPE html><html><head>"+We+'</head><body id="'+dn(S)+'" class="mce-content-body '+dn(mn)+'"'+$n+">"+q.getContent()+hn+"</body></html>";return Cr},Qe=function(q){var We=Et(q),dn=q.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:We}});dn.focus("close")},Ze=function(q){q.addCommand("mcePreview",function(){Qe(q)})},te=function(q){q.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:function(){return q.execCommand("mcePreview")}}),q.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:function(){return q.execCommand("mcePreview")}})};function vt(){Le.add("preview",function(q){Ze(q),te(q)})}vt()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),tn=tinymce.util.Tools.resolve("tinymce.util.Tools"),bt=function(vt){return vt.getParam("save_enablewhendirty",!0)},ve=function(vt){return!!vt.getParam("save_onsavecallback")},rt=function(vt){return!!vt.getParam("save_oncancelcallback")},gn=function(vt,q){vt.notificationManager.open({text:q,type:"error"})},vn=function(vt){var q=qn.DOM.getParent(vt.id,"form");if(!(bt(vt)&&!vt.isDirty())){if(vt.save(),ve(vt)){vt.execCallback("save_onsavecallback",vt),vt.nodeChanged();return}q?(vt.setDirty(!1),(!q.onsubmit||q.onsubmit())&&(typeof q.submit=="function"?q.submit():gn(vt,"Error: Form submit field collision.")),vt.nodeChanged()):gn(vt,"Error: No form element found.")}},Ct=function(vt){var q=tn.trim(vt.startContent);if(rt(vt)){vt.execCallback("save_oncancelcallback",vt);return}vt.resetContent(q)},Et=function(vt){vt.addCommand("mceSave",function(){vn(vt)}),vt.addCommand("mceCancel",function(){Ct(vt)})},Qe=function(vt){return function(q){var We=function(){q.setDisabled(bt(vt)&&!vt.isDirty())};return vt.on("NodeChange dirty",We),function(){return vt.off("NodeChange dirty",We)}}},Ze=function(vt){vt.ui.registry.addButton("save",{icon:"save",tooltip:"Save",disabled:!0,onAction:function(){return vt.execCommand("mceSave")},onSetup:Qe(vt)}),vt.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",disabled:!0,onAction:function(){return vt.execCommand("mceCancel")},onSetup:Qe(vt)}),vt.addShortcut("Meta+S","","mceSave")};function te(){Le.add("save",function(vt){Ze(vt),Et(vt)})}te()})();(function(){var Le=function(I){var W=I,le=function(){return W},De=function(Pe){W=Pe};return{get:le,set:De}},qn=tinymce.util.Tools.resolve("tinymce.PluginManager"),tn=function(){return tn=Object.assign||function(W){for(var le,De=1,Pe=arguments.length;De<Pe;De++){le=arguments[De];for(var tt in le)Object.prototype.hasOwnProperty.call(le,tt)&&(W[tt]=le[tt])}return W},tn.apply(this,arguments)},bt=function(){},ve=function(I){return function(){return I}},rt=ve(!1),gn=ve(!0),vn="[!-#%-*,-\\/:;?@\\[-\\]_{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]",Ct=ve(vn),Et=function(){return Qe},Qe=function(){var I=function(Pe){return Pe.isNone()},W=function(Pe){return Pe()},le=function(Pe){return Pe},De={fold:function(Pe,tt){return Pe()},is:rt,isSome:rt,isNone:gn,getOr:le,getOrThunk:W,getOrDie:function(Pe){throw new Error(Pe||"error: getOrDie called on none.")},getOrNull:ve(null),getOrUndefined:ve(void 0),or:le,orThunk:W,map:Et,each:bt,bind:Et,exists:rt,forall:gn,filter:Et,equals:I,equals_:I,toArray:function(){return[]},toString:ve("none()")};return De}(),Ze=function(I){var W=ve(I),le=function(){return Pe},De=function(tt){return tt(I)},Pe={fold:function(tt,$){return $(I)},is:function(tt){return I===tt},isSome:gn,isNone:rt,getOr:W,getOrThunk:W,getOrDie:W,getOrNull:W,getOrUndefined:W,or:le,orThunk:le,map:function(tt){return Ze(tt(I))},each:function(tt){tt(I)},bind:De,exists:De,forall:De,filter:function(tt){return tt(I)?Pe:Qe},toArray:function(){return[I]},toString:function(){return"some("+I+")"},equals:function(tt){return tt.is(I)},equals_:function(tt,$){return tt.fold(rt,function(Z){return $(I,Z)})}};return Pe},te=function(I){return I==null?Qe:Ze(I)},vt={some:Ze,none:Et,from:te},q=Ct,We=tinymce.util.Tools.resolve("tinymce.util.Tools"),dn=function(I){var W=typeof I;return I===null?"null":W==="object"&&(Array.prototype.isPrototypeOf(I)||I.constructor&&I.constructor.name==="Array")?"array":W==="object"&&(String.prototype.isPrototypeOf(I)||I.constructor&&I.constructor.name==="String")?"string":W},Xe=function(I){return function(W){return dn(W)===I}},cr=function(I){return function(W){return typeof W===I}},S=Xe("string"),mn=Xe("array"),Pn=cr("boolean"),hn=cr("number"),an=Array.prototype.slice,$n=Array.prototype.push,Cr=function(I,W){for(var le=I.length,De=new Array(le),Pe=0;Pe<le;Pe++){var tt=I[Pe];De[Pe]=W(tt,Pe)}return De},lr=function(I,W){for(var le=0,De=I.length;le<De;le++){var Pe=I[le];W(Pe,le)}},Me=function(I,W){for(var le=I.length-1;le>=0;le--){var De=I[le];W(De,le)}},z=function(I,W){if(I.length===0)return[];for(var le=W(I[0]),De=[],Pe=[],tt=0,$=I.length;tt<$;tt++){var Z=I[tt],ye=W(Z);ye!==le&&(De.push(Pe),Pe=[]),le=ye,Pe.push(Z)}return Pe.length!==0&&De.push(Pe),De},Yt=function(I,W,le){return lr(I,function(De){le=W(le,De)}),le},It=function(I){for(var W=[],le=0,De=I.length;le<De;++le){if(!mn(I[le]))throw new Error("Arr.flatten item "+le+" was not an array, input: "+I);$n.apply(W,I[le])}return W},In=function(I,W){return It(Cr(I,W))},zn=function(I,W){var le=an.call(I,0);return le.sort(W),le},jn=Object.hasOwnProperty,yt=function(I,W){return jn.call(I,W)};typeof window!="undefined"||Function("return this;")();var mt=9,fn=11,Yr=1,yr=3,Re=function(I){return I.dom.nodeType},ut=function(I){return function(W){return Re(W)===I}},kt=ut(yr),Vt=function(I,W,le){if(S(le)||Pn(le)||hn(le))I.setAttribute(W,le+"");else throw console.error("Invalid call to Attribute.set. Key ",W,":: Value ",le,":: Element ",I),new Error("Attribute value was not simple")},we=function(I,W,le){Vt(I.dom,W,le)},Ye=function(I,W,le){return(I.compareDocumentPosition(W)&le)!==0},rn=function(I,W){return Ye(I,W,Node.DOCUMENT_POSITION_PRECEDING)},qe=function(I,W){var le=W||document,De=le.createElement("div");if(De.innerHTML=I,!De.hasChildNodes()||De.childNodes.length>1)throw console.error("HTML does not have a single root node",I),new Error("HTML must have a single root node");return ee(De.childNodes[0])},de=function(I,W){var le=W||document,De=le.createElement(I);return ee(De)},Ue=function(I,W){var le=W||document,De=le.createTextNode(I);return ee(De)},ee=function(I){if(I==null)throw new Error("Node cannot be null or undefined");return{dom:I}},ke=function(I,W,le){return vt.from(I.dom.elementFromPoint(W,le)).map(ee)},he={fromHtml:qe,fromTag:de,fromText:Ue,fromDom:ee,fromPoint:ke},Pt=function(I){return I.nodeType!==Yr&&I.nodeType!==mt&&I.nodeType!==fn||I.childElementCount===0},pn=function(I,W){var le=W===void 0?document:W.dom;return Pt(le)?[]:Cr(le.querySelectorAll(I),he.fromDom)},St=function(I){return vt.from(I.dom.parentNode).map(he.fromDom)},ir=function(I){return Cr(I.dom.childNodes,he.fromDom)},Rn=function(I,W){return{element:I,offset:W}},Zr=function(I,W){var le=ir(I);return le.length>0&&W<le.length?Rn(le[W],0):Rn(I,W)},Ir=function(I,W){var le=St(I);le.each(function(De){De.dom.insertBefore(W.dom,I.dom)})},ba=function(I,W){I.dom.appendChild(W.dom)},zt=function(I,W){Ir(I,W),ba(W,I)},pt=function(I,W){var le=function(tt){if(!I(tt))throw new Error("Can only get "+W+" value of a "+W+" node");return De(tt).getOr("")},De=function(tt){return I(tt)?vt.from(tt.dom.nodeValue):vt.none()},Pe=function(tt,$){if(!I(tt))throw new Error("Can only set raw "+W+" value of a "+W+" node");tt.dom.nodeValue=$};return{get:le,getOption:De,set:Pe}},Jt=pt(kt,"text"),Kt=function(I){return Jt.get(I)},Xt=function(I,W){return pn(W,I)},Nn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),dr=function(I,W){return I.isBlock(W)||yt(I.schema.getShortEndedElements(),W.nodeName)},Nt=function(I,W){return I.getContentEditable(W)==="false"},lt=function(I,W){return I.getContentEditable(W)==="true"&&I.getContentEditableParent(W.parentNode)==="false"},Tn=function(I,W){return!I.isBlock(W)&&yt(I.schema.getWhiteSpaceElements(),W.nodeName)},or=function(I,W){return dr(I,W)||Nt(I,W)||Tn(I,W)||lt(I,W)},zr=function(I){return I.nodeType===3},Pr=function(){return{sOffset:0,fOffset:0,elements:[]}},na=function(I,W){return Zr(he.fromDom(I),W)},Or=function(I,W,le,De,Pe,tt){tt===void 0&&(tt=!0);for(var $=tt?W(!1):le;$;){var Z=Nt(I,$);if(Z||Tn(I,$)){var ye=Z?De.cef($):De.boundary($);if(ye)break;$=W(!0);continue}else if(dr(I,$)){if(De.boundary($))break}else zr($)&&De.text($);if($===Pe)break;$=W(!1)}},xa=function(I,W,le,De,Pe){if(!or(I,le)){var tt=I.getParent(De,I.isBlock),$=new Nn(le,tt),Z=Pe?$.next.bind($):$.prev.bind($);Or(I,Z,le,{boundary:gn,cef:gn,text:function(ye){Pe?W.fOffset+=ye.length:W.sOffset+=ye.length,W.elements.push(he.fromDom(ye))}})}},Ce=function(I,W,le,De,Pe,tt){tt===void 0&&(tt=!0);var $=new Nn(le,W),Z=[],ye=Pr();xa(I,ye,le,W,!1);var ue=function(){return ye.elements.length>0&&(Z.push(ye),ye=Pr()),!1};return Or(I,$.next.bind($),le,{boundary:ue,cef:function(Ge){return ue(),Pe&&Z.push.apply(Z,Pe.cef(Ge)),!1},text:function(Ge){ye.elements.push(he.fromDom(Ge)),Pe&&Pe.text(Ge,ye)}},De,tt),De&&xa(I,ye,De,W,!0),ue(),Z},et=function(I,W){var le=na(W.startContainer,W.startOffset),De=le.element.dom,Pe=na(W.endContainer,W.endOffset),tt=Pe.element.dom;return Ce(I,W.commonAncestorContainer,De,tt,{text:function($,Z){$===tt?Z.fOffset+=$.length-Pe.offset:$===De&&(Z.sOffset+=le.offset)},cef:function($){var Z=In(Xt(he.fromDom($),"*[contenteditable=true]"),function(ye){var ue=ye.dom;return Ce(I,ue,ue)});return zn(Z,function(ye,ue){return rn(ye.elements[0].dom,ue.elements[0].dom)?1:-1})}},!1)},Wt=function(I,W){return W.collapsed?[]:et(I,W)},Fn=function(I,W){var le=I.createRng();return le.selectNode(W),Wt(I,le)},un=function(I,W){return In(W,function(le){return Fn(I,le)})},fr=function(I,W,le,De){le===void 0&&(le=0),De===void 0&&(De=I.length);var Pe=W.regex;Pe.lastIndex=le;for(var tt=[],$;$=Pe.exec(I);){var Z=$[W.matchIndex],ye=$.index+$[0].indexOf(Z),ue=ye+Z.length;if(ue>De)break;tt.push({start:ye,finish:ue}),Pe.lastIndex=ue}return tt},ya=function(I,W){var le=Yt(I,function(De,Pe){var tt=Kt(Pe),$=De.last,Z=$+tt.length,ye=In(W,function(ue,Ge){return ue.start<Z&&ue.finish>$?[{element:Pe,start:Math.max($,ue.start)-$,finish:Math.min(Z,ue.finish)-$,matchId:Ge}]:[]});return{results:De.results.concat(ye),last:Z}},{results:[],last:0}).results;return z(le,function(De){return De.matchId})},Nr=function(I,W){return In(W,function(le){var De=le.elements,Pe=Cr(De,Kt).join(""),tt=fr(Pe,I,le.sOffset,Pe.length-le.fOffset);return ya(De,tt)})},kr=function(I,W){Me(I,function(le,De){Me(le,function(Pe){var tt=he.fromDom(W.cloneNode(!1));we(tt,"data-mce-index",De);var $=Pe.element.dom;if($.length===Pe.finish&&Pe.start===0)zt(Pe.element,tt);else{$.length!==Pe.finish&&$.splitText(Pe.finish);var Z=$.splitText(Pe.start);zt(he.fromDom(Z),tt)}})})},qa=function(I,W,le,De){var Pe=Fn(I,le),tt=Nr(W,Pe);return kr(tt,De),tt.length},Ro=function(I,W,le,De){var Pe=le.getBookmark(),tt=I.select("td[data-mce-selected],th[data-mce-selected]"),$=tt.length>0?un(I,tt):Wt(I,le.getRng()),Z=Nr(W,$);return kr(Z,De),le.moveToBookmark(Pe),Z.length},Ta=function(I){var W=I.getAttribute("data-mce-index");return typeof W=="number"?""+W:W},Ko=function(I,W,le,De){var Pe=I.dom.create("span",{"data-mce-bogus":1});Pe.className="mce-match-marker";var tt=I.getBody();return Po(I,W,!1),De?Ro(I.dom,le,I.selection,Pe):qa(I.dom,le,tt,Pe)},Oa=function(I){var W=I.parentNode;I.firstChild&&W.insertBefore(I.firstChild,I),I.parentNode.removeChild(I)},ho=function(I,W){var le=[],De=We.toArray(I.getBody().getElementsByTagName("span"));if(De.length)for(var Pe=0;Pe<De.length;Pe++){var tt=Ta(De[Pe]);tt===null||!tt.length||tt===W.toString()&&le.push(De[Pe])}return le},ao=function(I,W,le){var De=W.get(),Pe=De.index,tt=I.dom;le=le!==!1,le?Pe+1===De.count?Pe=0:Pe++:Pe-1===-1?Pe=De.count-1:Pe--,tt.removeClass(ho(I,De.index),"mce-match-marker-selected");var $=ho(I,Pe);return $.length?(tt.addClass(ho(I,Pe),"mce-match-marker-selected"),I.selection.scrollIntoView($[0]),Pe):-1},ur=function(I,W){var le=W.parentNode;I.remove(W),I.isEmpty(le)&&I.remove(le)},ua=function(I,W){var le=I.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),De="("+le+")";return W?"(?:^|\\s|"+q()+")"+De+("(?=$|\\s|"+q()+")"):De},Pa=function(I,W,le,De,Pe,tt){var $=ua(le,Pe),Z={regex:new RegExp($,De?"g":"gi"),matchIndex:1},ye=Ko(I,W,Z,tt);if(ye){var ue=ao(I,W,!0);W.set({index:ue,count:ye,text:le,matchCase:De,wholeWord:Pe,inSelection:tt})}return ye},Ga=function(I,W){var le=ao(I,W,!0);W.set(tn(tn({},W.get()),{index:le}))},Gn=function(I,W){var le=ao(I,W,!1);W.set(tn(tn({},W.get()),{index:le}))},oo=function(I){var W=Ta(I);return W!==null&&W.length>0},mo=function(I,W,le,De,Pe){var tt=W.get(),$=tt.index,Z,ye=$;De=De!==!1;for(var ue=I.getBody(),Ge=We.grep(We.toArray(ue.getElementsByTagName("span")),oo),Je=0;Je<Ge.length;Je++){var yn=Ta(Ge[Je]),Jn=Z=parseInt(yn,10);if(Pe||Jn===tt.index){for(le.length?(Ge[Je].firstChild.nodeValue=le,Oa(Ge[Je])):ur(I.dom,Ge[Je]);Ge[++Je];)if(Jn=parseInt(Ta(Ge[Je]),10),Jn===Z)ur(I.dom,Ge[Je]);else{Je--;break}De&&ye--}else Z>$&&Ge[Je].setAttribute("data-mce-index",String(Z-1))}return W.set(tn(tn({},tt),{count:Pe?0:tt.count-1,index:ye})),De?Ga(I,W):Gn(I,W),!Pe&&W.get().count>0},Po=function(I,W,le){var De,Pe,tt,$=W.get(),Z=We.toArray(I.getBody().getElementsByTagName("span"));for(De=0;De<Z.length;De++){var ye=Ta(Z[De]);ye!==null&&ye.length&&(ye===$.index.toString()&&(Pe||(Pe=Z[De].firstChild),tt=Z[De].firstChild),Oa(Z[De]))}if(W.set(tn(tn({},$),{index:-1,count:0,text:""})),Pe&&tt){var ue=I.dom.createRng();return ue.setStart(Pe,0),ue.setEnd(tt,tt.data.length),le!==!1&&I.selection.setRng(ue),ue}},yo=function(I,W){return W.get().count>1},Gr=function(I,W){return W.get().count>1},wo=function(I,W){var le=function(Z){return Po(I,W,Z)},De=function(Z,ye,ue,Ge){return Ge===void 0&&(Ge=!1),Pa(I,W,Z,ye,ue,Ge)},Pe=function(){return Ga(I,W)},tt=function(){return Gn(I,W)},$=function(Z,ye,ue){return mo(I,W,Z,ye,ue)};return{done:le,find:De,next:Pe,prev:tt,replace:$}},lo=function(){var I=Le(vt.none()),W=function(){return I.set(vt.none())},le=function(tt){return I.set(vt.some(tt))},De=function(){return I.get().isSome()},Pe=function(tt){return I.get().each(tt)};return{clear:W,set:le,isSet:De,on:Pe}},po=tinymce.util.Tools.resolve("tinymce.Env"),Ho=function(I,W){var le=lo();I.undoManager.add();var De=We.trim(I.selection.getContent({format:"text"})),Pe=function($t){var Zn=yo(I,W)?$t.enable:$t.disable;Zn("next");var K=Gr(I,W)?$t.enable:$t.disable;K("prev")},tt=function($t){var Zn=$t.getData(),K=W.get();W.set(tn(tn({},K),{matchCase:Zn.matchcase,wholeWord:Zn.wholewords,inSelection:Zn.inselection}))},$=function($t,Zn){var K=["replace","replaceall","prev","next"],xe=Zn?$t.disable:$t.enable;lr(K,xe)},Z=function($t){I.windowManager.alert("Could not find the specified string.",function(){$t.focus("findtext")})},ye=function($t,Zn){po.browser.isSafari()&&po.deviceType.isTouch()&&(Zn==="find"||Zn==="replace"||Zn==="replaceall")&&$t.focus(Zn)},ue=function($t){Po(I,W,!1),$($t,!0),Pe($t)},Ge=function($t){var Zn=$t.getData(),K=W.get();if(!Zn.findtext.length){ue($t);return}if(K.text===Zn.findtext&&K.matchCase===Zn.matchcase&&K.wholeWord===Zn.wholewords)Ga(I,W);else{var xe=Pa(I,W,Zn.findtext,Zn.matchcase,Zn.wholewords,Zn.inselection);xe<=0&&Z($t),$($t,xe===0)}Pe($t)},Je=W.get(),yn={findtext:De,replacetext:"",wholewords:Je.wholeWord,matchcase:Je.matchCase,inselection:Je.inSelection},Jn={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace All",disabled:!0}],initialData:yn,onChange:function($t,Zn){Zn.name==="findtext"&&W.get().count>0&&ue($t)},onAction:function($t,Zn){var K=$t.getData();switch(Zn.name){case"find":Ge($t);break;case"replace":mo(I,W,K.replacetext)?Pe($t):ue($t);break;case"replaceall":mo(I,W,K.replacetext,!0,!0),ue($t);break;case"prev":Gn(I,W),Pe($t);break;case"next":Ga(I,W),Pe($t);break;case"matchcase":case"wholewords":case"inselection":tt($t),ue($t);break}ye($t,Zn.name)},onSubmit:function($t){Ge($t),ye($t,"find")},onClose:function(){I.focus(),Po(I,W),I.undoManager.add()}};le.set(I.windowManager.open(Jn,{inline:"toolbar"}))},Vo=function(I,W){I.addCommand("SearchReplace",function(){Ho(I,W)})},Wa=function(I,W){return function(){Ho(I,W)}},No=function(I,W){I.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Wa(I,W),icon:"search"}),I.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Wa(I,W),icon:"search"}),I.shortcuts.add("Meta+F","",Wa(I,W))};function ce(){qn.add("searchreplace",function(I){var W=Le({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return Vo(I,W),No(I,W),wo(I,W)})}ce()})();(function(){var Le=function(Re){var ut=Re,kt=function(){return ut},Vt=function(we){ut=we};return{get:kt,set:Vt}},qn=tinymce.util.Tools.resolve("tinymce.PluginManager"),tn=function(Re){return Re.hasPlugin("tinymcespellchecker",!0)?(typeof window.console!="undefined"&&window.console.log&&window.console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option."),!0):!1},bt=Object.hasOwnProperty,ve=function(Re){for(var ut in Re)if(bt.call(Re,ut))return!1;return!0},rt=tinymce.util.Tools.resolve("tinymce.util.Tools"),gn=tinymce.util.Tools.resolve("tinymce.util.URI"),vn=tinymce.util.Tools.resolve("tinymce.util.XHR"),Ct=function(Re){return Re.fire("SpellcheckStart")},Et=function(Re){return Re.fire("SpellcheckEnd")},Qe=function(Re){var ut="English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv";return Re.getParam("spellchecker_languages",ut)},Ze=function(Re){var ut=Re.getParam("language","en");return Re.getParam("spellchecker_language",ut)},te=function(Re){return Re.getParam("spellchecker_rpc_url")},vt=function(Re){return Re.getParam("spellchecker_callback")},q=function(Re){var ut=new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`\xA7\xA9\xAB\xAE\xB1\xB6\xB7\xB8\xBB\xBC\xBD\xBE\xBF\xD7\xF7\xA4\u201D\u201C\u201E\xA0\u2002\u2003\u2009]+',"g");return Re.getParam("spellchecker_wordchar_pattern",ut)},We=function(Re){return Re&&Re.nodeType===1&&Re.contentEditable==="false"},dn=function(Re,ut){var kt,Vt=[],we=ut.dom,Ye=ut.schema.getBlockElements(),rn=ut.schema.getWhiteSpaceElements(),qe=ut.schema.getShortEndedElements(),de=function(Nt,lt){if(!Nt[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return{start:Nt.index,end:Nt.index+Nt[0].length,text:Nt[0],data:lt}},Ue=function(Nt){var lt;if(Nt.nodeType===3)return Nt.data;if(rn[Nt.nodeName]&&!Ye[Nt.nodeName])return"";if(We(Nt))return`
`;if(lt="",(Ye[Nt.nodeName]||qe[Nt.nodeName])&&(lt+=`
`),Nt=Nt.firstChild)do lt+=Ue(Nt);while(Nt=Nt.nextSibling);return lt},ee=function(Nt,lt,Tn){var or,zr,Pr,na,Or=[],xa=0,Ce=Nt,et,Wt=0;lt=lt.slice(0),lt.sort(function(Fn,un){return Fn.start-un.start}),et=lt.shift();e:for(;;){if((Ye[Ce.nodeName]||qe[Ce.nodeName]||We(Ce))&&xa++,Ce.nodeType===3&&(!zr&&Ce.length+xa>=et.end?(zr=Ce,na=et.end-xa):or&&Or.push(Ce),!or&&Ce.length+xa>et.start&&(or=Ce,Pr=et.start-xa),xa+=Ce.length),or&&zr){if(Ce=Tn({startNode:or,startNodeIndex:Pr,endNode:zr,endNodeIndex:na,innerNodes:Or,match:et.text,matchIndex:Wt}),xa-=zr.length-na,or=null,zr=null,Or=[],et=lt.shift(),Wt++,!et)break}else if((!rn[Ce.nodeName]||Ye[Ce.nodeName])&&Ce.firstChild){if(!We(Ce)){Ce=Ce.firstChild;continue}}else if(Ce.nextSibling){Ce=Ce.nextSibling;continue}for(;;)if(Ce.nextSibling){Ce=Ce.nextSibling;break}else if(Ce.parentNode!==Nt)Ce=Ce.parentNode;else break e}},ke=function(Nt){var lt=function(Tn,or){var zr=Vt[or];zr.stencil||(zr.stencil=Nt(zr));var Pr=zr.stencil.cloneNode(!1);return Pr.setAttribute("data-mce-index",or),Tn&&Pr.appendChild(we.doc.createTextNode(Tn)),Pr};return function(Tn){var or,zr,Pr,na=Tn.startNode,Or=Tn.endNode,xa=Tn.matchIndex,Ce=we.doc;if(na===Or){var et=na;Pr=et.parentNode,Tn.startNodeIndex>0&&(or=Ce.createTextNode(et.data.substring(0,Tn.startNodeIndex)),Pr.insertBefore(or,et));var Wt=lt(Tn.match,xa);return Pr.insertBefore(Wt,et),Tn.endNodeIndex<et.length&&(zr=Ce.createTextNode(et.data.substring(Tn.endNodeIndex)),Pr.insertBefore(zr,et)),et.parentNode.removeChild(et),Wt}or=Ce.createTextNode(na.data.substring(0,Tn.startNodeIndex)),zr=Ce.createTextNode(Or.data.substring(Tn.endNodeIndex));for(var Fn=lt(na.data.substring(Tn.startNodeIndex),xa),un=0,fr=Tn.innerNodes.length;un<fr;++un){var ya=Tn.innerNodes[un],Nr=lt(ya.data,xa);ya.parentNode.replaceChild(Nr,ya)}var kr=lt(Or.data.substring(0,Tn.endNodeIndex),xa);return Pr=na.parentNode,Pr.insertBefore(or,na),Pr.insertBefore(Fn,na),Pr.removeChild(na),Pr=Or.parentNode,Pr.insertBefore(kr,Or),Pr.insertBefore(zr,Or),Pr.removeChild(Or),kr}},he=function(Nt){for(var lt=Nt.parentNode;Nt.childNodes.length>0;)lt.insertBefore(Nt.childNodes[0],Nt);lt.removeChild(Nt)},Pt=function(Nt){return Nt.className.indexOf("mce-spellchecker-word")!==-1},pn=function(Nt){var lt=Re.getElementsByTagName("*"),Tn=[];Nt=typeof Nt=="number"?""+Nt:null;for(var or=0;or<lt.length;or++){var zr=lt[or],Pr=zr.getAttribute("data-mce-index");Pr!==null&&Pr.length&&Pt(zr)&&(Pr===Nt||Nt===null)&&Tn.push(zr)}return Tn},St=function(Nt){for(var lt=Vt.length;lt--;)if(Vt[lt]===Nt)return lt;return-1};function ir(Nt){var lt=[];return Rn(function(Tn,or){Nt(Tn,or)&&lt.push(Tn)}),Vt=lt,this}function Rn(Nt){for(var lt=0,Tn=Vt.length;lt<Tn&&Nt(Vt[lt],lt)!==!1;lt++);return this}function Zr(Nt){return Vt.length&&ee(Re,Vt,ke(Nt)),this}function Ir(Nt,lt){if(dr&&Nt.global)for(;kt=Nt.exec(dr);)Vt.push(de(kt,lt));return this}function ba(Nt){var lt,Tn=pn(Nt?St(Nt):null);for(lt=Tn.length;lt--;)he(Tn[lt]);return this}var zt=function(Nt){return Vt[Nt.getAttribute("data-mce-index")]},pt=function(Nt){return pn(St(Nt))[0]};function Jt(Nt,lt,Tn){return Vt.push({start:Nt,end:Nt+lt,text:dr.substr(Nt,lt),data:Tn}),this}var Kt=function(Nt){var lt=pn(St(Nt)),Tn=ut.dom.createRng();return Tn.setStartBefore(lt[0]),Tn.setEndAfter(lt[lt.length-1]),Tn},Xt=function(Nt,lt){var Tn=Kt(Nt);return Tn.deleteContents(),lt.length>0&&Tn.insertNode(ut.dom.doc.createTextNode(lt)),Tn};function Nn(){return Vt.splice(0,Vt.length),ba(),this}var dr=Ue(Re);return{text:dr,matches:Vt,each:Rn,filter:ir,reset:Nn,matchFromElement:zt,elementFromMatch:pt,find:Ir,add:Jt,wrap:Zr,unwrap:ba,replace:Xt,rangeFromMatch:Kt,indexOf:St}},Xe=function(Re,ut){if(!ut.get()){var kt=dn(Re.getBody(),Re);ut.set(kt)}return ut.get()},cr=function(Re,ut,kt){return function(Vt,we,Ye,rn){var qe={method:Vt,lang:kt.get()},de="";qe[Vt==="addToDictionary"?"word":"text"]=we,rt.each(qe,function(Ue,ee){de&&(de+="&"),de+=ee+"="+encodeURIComponent(Ue)}),vn.send({url:new gn(ut).toAbsolute(te(Re)),type:"post",content_type:"application/x-www-form-urlencoded",data:de,success:function(Ue){var ee=JSON.parse(Ue);if(ee)ee.error?rn(ee.error):Ye(ee);else{var ke=Re.translate("Server response wasn't proper JSON.");rn(ke)}},error:function(){var Ue=Re.translate("The spelling service was not found: (")+te(Re)+Re.translate(")");rn(Ue)}})}},S=function(Re,ut,kt,Vt,we,Ye,rn){var qe=vt(Re),de=qe||cr(Re,ut,kt);de.call(Re.plugins.spellchecker,Vt,we,Ye,rn)},mn=function(Re,ut,kt,Vt,we,Ye){if(!$n(Re,kt,Vt)){var rn=function(de){Re.notificationManager.open({text:de,type:"error"}),Re.setProgressState(!1),$n(Re,kt,Vt)},qe=function(de){Me(Re,kt,Vt,we,de)};Re.setProgressState(!0),S(Re,ut,Ye,"spellcheck",Xe(Re,Vt).text,qe,rn),Re.focus()}},Pn=function(Re,ut,kt){Re.dom.select("span.mce-spellchecker-word").length||$n(Re,ut,kt)},hn=function(Re,ut,kt,Vt,we,Ye,rn){Re.setProgressState(!0),S(Re,ut,we,"addToDictionary",Ye,function(){Re.setProgressState(!1),Re.dom.remove(rn,!0),Pn(Re,kt,Vt)},function(qe){Re.notificationManager.open({text:qe,type:"error"}),Re.setProgressState(!1)})},an=function(Re,ut,kt,Vt,we,Ye){Re.selection.collapse(),Ye?rt.each(Re.dom.select("span.mce-spellchecker-word"),function(rn){rn.getAttribute("data-mce-word")===Vt&&Re.dom.remove(rn,!0)}):Re.dom.remove(we,!0),Pn(Re,ut,kt)},$n=function(Re,ut,kt){var Vt=Re.selection.getBookmark();if(Xe(Re,kt).reset(),Re.selection.moveToBookmark(Vt),kt.set(null),ut.get())return ut.set(!1),Et(Re),!0},Cr=function(Re){var ut=Re.getAttribute("data-mce-index");return typeof ut=="number"?""+ut:ut},lr=function(Re,ut){var kt=[],Vt=rt.toArray(Re.getBody().getElementsByTagName("span"));if(Vt.length)for(var we=0;we<Vt.length;we++){var Ye=Cr(Vt[we]);Ye===null||!Ye.length||Ye===ut.toString()&&kt.push(Vt[we])}return kt},Me=function(Re,ut,kt,Vt,we){var Ye=!!we.dictionary,rn=we.words;if(Re.setProgressState(!1),ve(rn)){var qe=Re.translate("No misspellings found.");Re.notificationManager.open({text:qe,type:"info"}),ut.set(!1);return}Vt.set({suggestions:rn,hasDictionarySupport:Ye});var de=Re.selection.getBookmark();Xe(Re,kt).find(q(Re)).filter(function(Ue){return!!rn[Ue.text]}).wrap(function(Ue){return Re.dom.create("span",{class:"mce-spellchecker-word","aria-invalid":"spelling","data-mce-bogus":1,"data-mce-word":Ue.text})}),Re.selection.moveToBookmark(de),ut.set(!0),Ct(Re)},z=function(Re,ut,kt,Vt,we,Ye){var rn=function(){return q(Re)},qe=function(de){Me(Re,ut,Vt,kt,de)};return{getTextMatcher:Vt.get,getWordCharPattern:rn,markErrors:qe,getLanguage:we.get}},Yt=function(Re,ut,kt,Vt,we,Ye){Re.addCommand("mceSpellCheck",function(){mn(Re,ut,kt,Vt,we,Ye)})},It=function(){return It=Object.assign||function(ut){for(var kt,Vt=1,we=arguments.length;Vt<we;Vt++){kt=arguments[Vt];for(var Ye in kt)Object.prototype.hasOwnProperty.call(kt,Ye)&&(ut[Ye]=kt[Ye])}return ut},It.apply(this,arguments)},In="SpellcheckStart SpellcheckEnd",zn=function(Re,ut){var kt=[];return rt.each(ut,function(Vt){kt.push({selectable:!0,text:Vt.name,data:Vt.value})}),kt},jn=function(Re){return rt.map(Qe(Re).split(","),function(ut){var kt=ut.split("=");return{name:kt[0],value:kt[1]}})},yt=function(Re,ut,kt,Vt,we,Ye){var rn=zn("Language",jn(Re)),qe=function(){mn(Re,ut,kt,Vt,Ye,we)},de={tooltip:"Spellcheck",onAction:qe,icon:"spell-check",onSetup:function(ee){var ke=function(){ee.setActive(kt.get())};return Re.on(In,ke),function(){Re.off(In,ke)}}},Ue=It(It({},de),{type:"splitbutton",select:function(ee){return ee===we.get()},fetch:function(ee){var ke=rt.map(rn,function(he){return{type:"choiceitem",value:he.data,text:he.text}});ee(ke)},onItemAction:function(ee,ke){we.set(ke)}});rn.length>1?Re.ui.registry.addSplitButton("spellchecker",Ue):Re.ui.registry.addToggleButton("spellchecker",de),Re.ui.registry.addToggleMenuItem("spellchecker",{text:"Spellcheck",icon:"spell-check",onSetup:function(ee){ee.setActive(kt.get());var ke=function(){ee.setActive(kt.get())};return Re.on(In,ke),function(){Re.off(In,ke)}},onAction:qe})},mt=!0,fn=function(Re,ut,kt,Vt,we,Ye,rn,qe){var de=[],Ue=kt.get().suggestions[rn];rt.each(Ue,function(ke){de.push({text:ke,onAction:function(){Re.insertContent(Re.dom.encode(ke)),Re.dom.remove(qe),Pn(Re,Vt,we)}})});var ee=kt.get().hasDictionarySupport;return ee&&(de.push({type:"separator"}),de.push({text:"Add to dictionary",onAction:function(){hn(Re,ut,Vt,we,Ye,rn,qe)}})),de.push.apply(de,[{type:"separator"},{text:"Ignore",onAction:function(){an(Re,Vt,we,rn,qe)}},{text:"Ignore all",onAction:function(){an(Re,Vt,we,rn,qe,mt)}}]),de},Yr=function(Re,ut,kt,Vt,we,Ye){var rn=function(qe){var de=qe;if(de.className==="mce-spellchecker-word"){var Ue=lr(Re,Cr(de));if(Ue.length>0){var ee=Re.dom.createRng();return ee.setStartBefore(Ue[0]),ee.setEndAfter(Ue[Ue.length-1]),Re.selection.setRng(ee),fn(Re,ut,kt,Vt,we,Ye,de.getAttribute("data-mce-word"),Ue)}}else return[]};Re.ui.registry.addContextMenu("spellchecker",{update:rn})};function yr(){qn.add("spellchecker",function(Re,ut){if(tn(Re)===!1){var kt=Le(!1),Vt=Le(Ze(Re)),we=Le(null),Ye=Le(null);return yt(Re,ut,kt,we,Vt,Ye),Yr(Re,ut,Ye,kt,we,Vt),Yt(Re,ut,kt,we,Ye,Vt),z(Re,kt,Ye,we,Vt)}})}yr()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),tn=tinymce.util.Tools.resolve("tinymce.EditorManager"),bt=tinymce.util.Tools.resolve("tinymce.Env"),ve=tinymce.util.Tools.resolve("tinymce.util.Delay"),rt=tinymce.util.Tools.resolve("tinymce.util.Tools"),gn=tinymce.util.Tools.resolve("tinymce.util.VK"),vn=function(vt){return vt.getParam("tabfocus_elements",":prev,:next")},Ct=function(vt){return vt.getParam("tab_focus",vn(vt))},Et=qn.DOM,Qe=function(vt){vt.keyCode===gn.TAB&&!vt.ctrlKey&&!vt.altKey&&!vt.metaKey&&vt.preventDefault()},Ze=function(vt){var q=function(We){var dn,Xe;if(!(We.keyCode!==gn.TAB||We.ctrlKey||We.altKey||We.metaKey||We.isDefaultPrevented())){var cr=function(hn){var an=Et.select(":input:enabled,*[tabindex]:not(iframe)"),$n=function(lr){return lr.nodeName==="BODY"||lr.type!=="hidden"&&lr.style.display!=="none"&&lr.style.visibility!=="hidden"&&$n(lr.parentNode)},Cr=function(lr){return/INPUT|TEXTAREA|BUTTON/.test(lr.tagName)&&tn.get(We.id)&&lr.tabIndex!==-1&&$n(lr)};if(rt.each(an,function(lr,Me){if(lr.id===vt.id)return dn=Me,!1}),hn>0){for(Xe=dn+1;Xe<an.length;Xe++)if(Cr(an[Xe]))return an[Xe]}else for(Xe=dn-1;Xe>=0;Xe--)if(Cr(an[Xe]))return an[Xe];return null},S=rt.explode(Ct(vt));S.length===1&&(S[1]=S[0],S[0]=":prev");var mn;if(We.shiftKey?S[0]===":prev"?mn=cr(-1):mn=Et.get(S[0]):S[1]===":next"?mn=cr(1):mn=Et.get(S[1]),mn){var Pn=tn.get(mn.id||mn.name);mn.id&&Pn?Pn.focus():ve.setTimeout(function(){bt.webkit||window.focus(),mn.focus()},10),We.preventDefault()}}};vt.on("init",function(){vt.inline&&Et.setAttrib(vt.getBody(),"tabIndex",null),vt.on("keyup",Qe),bt.gecko?vt.on("keypress keydown",q):vt.on("keydown",q)})};function te(){Le.add("tabfocus",function(vt){Ze(vt)})}te()})();(function(){var Le=function(){},qn=function(u,l){return function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];return u(l.apply(null,d))}},tn=function(u,l){return function(d){return u(l(d))}},bt=function(u){return function(){return u}},ve=function(u){return u};function rt(u){for(var l=[],d=1;d<arguments.length;d++)l[d-1]=arguments[d];return function(){for(var h=[],C=0;C<arguments.length;C++)h[C]=arguments[C];var T=l.concat(h);return u.apply(null,T)}}var gn=function(u){return function(l){return!u(l)}},vn=function(u){return function(){throw new Error(u)}},Ct=bt(!1),Et=bt(!0),Qe=function(){return Ze},Ze=function(){var u=function(C){return C.isNone()},l=function(C){return C()},d=function(C){return C},h={fold:function(C,T){return C()},is:Ct,isSome:Ct,isNone:Et,getOr:d,getOrThunk:l,getOrDie:function(C){throw new Error(C||"error: getOrDie called on none.")},getOrNull:bt(null),getOrUndefined:bt(void 0),or:d,orThunk:l,map:Qe,each:Le,bind:Qe,exists:Ct,forall:Et,filter:Qe,equals:u,equals_:u,toArray:function(){return[]},toString:bt("none()")};return h}(),te=function(u){var l=bt(u),d=function(){return C},h=function(T){return T(u)},C={fold:function(T,D){return D(u)},is:function(T){return u===T},isSome:Et,isNone:Ct,getOr:l,getOrThunk:l,getOrDie:l,getOrNull:l,getOrUndefined:l,or:d,orThunk:d,map:function(T){return te(T(u))},each:function(T){T(u)},bind:h,exists:h,forall:h,filter:function(T){return T(u)?C:Ze},toArray:function(){return[u]},toString:function(){return"some("+u+")"},equals:function(T){return T.is(u)},equals_:function(T,D){return T.fold(Ct,function(U){return D(u,U)})}};return C},vt=function(u){return u==null?Ze:te(u)},q={some:te,none:Qe,from:vt},We=function(u){var l=typeof u;return u===null?"null":l==="object"&&(Array.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="Array")?"array":l==="object"&&(String.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="String")?"string":l},dn=function(u){return function(l){return We(l)===u}},Xe=function(u){return function(l){return typeof l===u}},cr=function(u){return function(l){return u===l}},S=dn("string"),mn=dn("object"),Pn=dn("array"),hn=Xe("boolean"),an=cr(void 0),$n=function(u){return u==null},Cr=function(u){return!$n(u)},lr=Xe("function"),Me=Xe("number"),z=Array.prototype.slice,Yt=Array.prototype.indexOf,It=Array.prototype.push,In=function(u,l){return Yt.call(u,l)},zn=function(u,l){return In(u,l)>-1},jn=function(u,l){for(var d=0,h=u.length;d<h;d++){var C=u[d];if(l(C,d))return!0}return!1},yt=function(u,l){for(var d=[],h=0;h<u;h++)d.push(l(h));return d},mt=function(u,l){for(var d=u.length,h=new Array(d),C=0;C<d;C++){var T=u[C];h[C]=l(T,C)}return h},fn=function(u,l){for(var d=0,h=u.length;d<h;d++){var C=u[d];l(C,d)}},Yr=function(u,l){for(var d=u.length-1;d>=0;d--){var h=u[d];l(h,d)}},yr=function(u,l){for(var d=[],h=[],C=0,T=u.length;C<T;C++){var D=u[C],U=l(D,C)?d:h;U.push(D)}return{pass:d,fail:h}},Re=function(u,l){for(var d=[],h=0,C=u.length;h<C;h++){var T=u[h];l(T,h)&&d.push(T)}return d},ut=function(u,l,d){return Yr(u,function(h){d=l(d,h)}),d},kt=function(u,l,d){return fn(u,function(h){d=l(d,h)}),d},Vt=function(u,l,d){for(var h=0,C=u.length;h<C;h++){var T=u[h];if(l(T,h))return q.some(T);if(d(T,h))break}return q.none()},we=function(u,l){return Vt(u,l,Ct)},Ye=function(u,l){for(var d=0,h=u.length;d<h;d++){var C=u[d];if(l(C,d))return q.some(d)}return q.none()},rn=function(u){for(var l=[],d=0,h=u.length;d<h;++d){if(!Pn(u[d]))throw new Error("Arr.flatten item "+d+" was not an array, input: "+u);It.apply(l,u[d])}return l},qe=function(u,l){return rn(mt(u,l))},de=function(u,l){for(var d=0,h=u.length;d<h;++d){var C=u[d];if(l(C,d)!==!0)return!1}return!0},Ue=function(u){var l=z.call(u,0);return l.reverse(),l},ee=function(u,l){for(var d={},h=0,C=u.length;h<C;h++){var T=u[h];d[String(T)]=l(T,h)}return d},ke=function(u){return[u]},he=function(u,l){var d=z.call(u,0);return d.sort(l),d},Pt=function(u,l){return l>=0&&l<u.length?q.some(u[l]):q.none()},pn=function(u){return Pt(u,0)},St=function(u){return Pt(u,u.length-1)},ir=function(u,l){for(var d=0;d<u.length;d++){var h=l(u[d],d);if(h.isSome())return h}return q.none()},Rn=function(){return Rn=Object.assign||function(l){for(var d,h=1,C=arguments.length;h<C;h++){d=arguments[h];for(var T in d)Object.prototype.hasOwnProperty.call(d,T)&&(l[T]=d[T])}return l},Rn.apply(this,arguments)};function Zr(){for(var u=0,l=0,d=arguments.length;l<d;l++)u+=arguments[l].length;for(var h=Array(u),C=0,l=0;l<d;l++)for(var T=arguments[l],D=0,U=T.length;D<U;D++,C++)h[C]=T[D];return h}var Ir=function(u){var l=!1,d;return function(){for(var h=[],C=0;C<arguments.length;C++)h[C]=arguments[C];return l||(l=!0,d=u.apply(null,h)),d}},ba=function(u,l,d,h){var C=u.isiOS()&&/ipad/i.test(d)===!0,T=u.isiOS()&&!C,D=u.isiOS()||u.isAndroid(),U=D||h("(pointer:coarse)"),H=C||!T&&D&&h("(min-device-width:768px)"),se=T||D&&!H,Se=l.isSafari()&&u.isiOS()&&/safari/i.test(d)===!1,At=!se&&!H&&!Se;return{isiPad:bt(C),isiPhone:bt(T),isTablet:bt(H),isPhone:bt(se),isTouch:bt(U),isAndroid:u.isAndroid,isiOS:u.isiOS,isWebView:bt(Se),isDesktop:bt(At)}},zt=function(u,l){for(var d=0;d<u.length;d++){var h=u[d];if(h.test(l))return h}},pt=function(u,l){var d=zt(u,l);if(!d)return{major:0,minor:0};var h=function(C){return Number(l.replace(d,"$"+C))};return Xt(h(1),h(2))},Jt=function(u,l){var d=String(l).toLowerCase();return u.length===0?Kt():pt(u,d)},Kt=function(){return Xt(0,0)},Xt=function(u,l){return{major:u,minor:l}},Nn={nu:Xt,detect:Jt,unknown:Kt},dr=function(u,l){var d=String(l).toLowerCase();return we(u,function(h){return h.search(d)})},Nt=function(u,l){return dr(u,l).map(function(d){var h=Nn.detect(d.versionRegexes,l);return{current:d.name,version:h}})},lt=function(u,l){return dr(u,l).map(function(d){var h=Nn.detect(d.versionRegexes,l);return{current:d.name,version:h}})},Tn={detectBrowser:Nt,detectOs:lt},or=function(u,l,d){return l===""||u.length>=l.length&&u.substr(d,d+l.length)===l},zr=function(u,l){return u.indexOf(l)!==-1},Pr=function(u,l){return or(u,l,0)},na=function(u,l){return or(u,l,u.length-l.length)},Or=function(u){return function(l){return l.replace(u,"")}},xa=Or(/^\s+|\s+$/g),Ce=function(u){return u.length>0},et=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Wt=function(u){return function(l){return zr(l,u)}},Fn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(u){return zr(u,"edge/")&&zr(u,"chrome")&&zr(u,"safari")&&zr(u,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,et],search:function(u){return zr(u,"chrome")&&!zr(u,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(u){return zr(u,"msie")||zr(u,"trident")}},{name:"Opera",versionRegexes:[et,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Wt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Wt("firefox")},{name:"Safari",versionRegexes:[et,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(u){return(zr(u,"safari")||zr(u,"mobile/"))&&zr(u,"applewebkit")}}],un=[{name:"Windows",search:Wt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(u){return zr(u,"iphone")||zr(u,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Wt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Wt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Wt("linux"),versionRegexes:[]},{name:"Solaris",search:Wt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Wt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Wt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],fr={browsers:bt(Fn),oses:bt(un)},ya="Edge",Nr="Chrome",kr="IE",qa="Opera",Ro="Firefox",Ta="Safari",Ko=function(){return Oa({current:void 0,version:Nn.unknown()})},Oa=function(u){var l=u.current,d=u.version,h=function(C){return function(){return l===C}};return{current:l,version:d,isEdge:h(ya),isChrome:h(Nr),isIE:h(kr),isOpera:h(qa),isFirefox:h(Ro),isSafari:h(Ta)}},ho={unknown:Ko,nu:Oa,edge:bt(ya),chrome:bt(Nr),ie:bt(kr),opera:bt(qa),firefox:bt(Ro),safari:bt(Ta)},ao="Windows",ur="iOS",ua="Android",Pa="Linux",Ga="OSX",Gn="Solaris",oo="FreeBSD",mo="ChromeOS",Po=function(){return yo({current:void 0,version:Nn.unknown()})},yo=function(u){var l=u.current,d=u.version,h=function(C){return function(){return l===C}};return{current:l,version:d,isWindows:h(ao),isiOS:h(ur),isAndroid:h(ua),isOSX:h(Ga),isLinux:h(Pa),isSolaris:h(Gn),isFreeBSD:h(oo),isChromeOS:h(mo)}},Gr={unknown:Po,nu:yo,windows:bt(ao),ios:bt(ur),android:bt(ua),linux:bt(Pa),osx:bt(Ga),solaris:bt(Gn),freebsd:bt(oo),chromeos:bt(mo)},wo=function(u,l){var d=fr.browsers(),h=fr.oses(),C=Tn.detectBrowser(d,u).fold(ho.unknown,ho.nu),T=Tn.detectOs(h,u).fold(Gr.unknown,Gr.nu),D=ba(T,C,u,l);return{browser:C,os:T,deviceType:D}},lo={detect:wo},po=function(u){return window.matchMedia(u).matches},Ho=Ir(function(){return lo.detect(navigator.userAgent,po)}),Vo=function(){return Ho()},Wa=function(u,l,d){return(u.compareDocumentPosition(l)&d)!==0},No=function(u,l){return Wa(u,l,Node.DOCUMENT_POSITION_CONTAINED_BY)},ce=8,I=9,W=11,le=1,De=3,Pe=function(u,l){var d=l||document,h=d.createElement("div");if(h.innerHTML=u,!h.hasChildNodes()||h.childNodes.length>1)throw console.error("HTML does not have a single root node",u),new Error("HTML must have a single root node");return Z(h.childNodes[0])},tt=function(u,l){var d=l||document,h=d.createElement(u);return Z(h)},$=function(u,l){var d=l||document,h=d.createTextNode(u);return Z(h)},Z=function(u){if(u==null)throw new Error("Node cannot be null or undefined");return{dom:u}},ye=function(u,l,d){return q.from(u.dom.elementFromPoint(l,d)).map(Z)},ue={fromHtml:Pe,fromTag:tt,fromText:$,fromDom:Z,fromPoint:ye},Ge=function(u,l){var d=u.dom;if(d.nodeType!==le)return!1;var h=d;if(h.matches!==void 0)return h.matches(l);if(h.msMatchesSelector!==void 0)return h.msMatchesSelector(l);if(h.webkitMatchesSelector!==void 0)return h.webkitMatchesSelector(l);if(h.mozMatchesSelector!==void 0)return h.mozMatchesSelector(l);throw new Error("Browser lacks native selectors")},Je=function(u){return u.nodeType!==le&&u.nodeType!==I&&u.nodeType!==W||u.childElementCount===0},yn=function(u,l){var d=l===void 0?document:l.dom;return Je(d)?[]:mt(d.querySelectorAll(u),ue.fromDom)},Jn=function(u,l){var d=l===void 0?document:l.dom;return Je(d)?q.none():q.from(d.querySelector(u)).map(ue.fromDom)},$t=function(u,l){return u.dom===l.dom},Zn=function(u,l){var d=u.dom,h=l.dom;return d===h?!1:d.contains(h)},K=function(u,l){return No(u.dom,l.dom)},xe=function(u,l){return Vo().browser.isIE()?K(u,l):Zn(u,l)},Oe=Ge,at=Object.keys,kn=Object.hasOwnProperty,Dn=function(u,l){for(var d=at(u),h=0,C=d.length;h<C;h++){var T=d[h],D=u[T];l(D,T)}},re=function(u,l){return _e(u,function(d,h){return{k:h,v:l(d,h)}})},_e=function(u,l){var d={};return Dn(u,function(h,C){var T=l(h,C);d[T.k]=T.v}),d},ct=function(u){return function(l,d){u[d]=l}},Qt=function(u,l,d,h){var C={};return Dn(u,function(T,D){(l(T,D)?d:h)(T,D)}),C},Sn=function(u,l){var d={};return Qt(u,l,ct(d),Le),d},Ut=function(u,l){var d=[];return Dn(u,function(h,C){d.push(l(h,C))}),d},vr=function(u){return Ut(u,function(l){return l})},gr=function(u){return at(u).length},Fr=function(u,l){return wa(u,l)?q.from(u[l]):q.none()},wa=function(u,l){return kn.call(u,l)},j=function(u,l){return wa(u,l)&&u[l]!==void 0&&u[l]!==null},Fe=function(u){for(var l in u)if(kn.call(u,l))return!1;return!0},Ie=["tfoot","thead","tbody","colgroup"],Be=function(u){return zn(Ie,u)},qt=function(u,l){return{rows:u,columns:l}},mr=function(u,l){return{row:u,column:l}},sa=function(u,l,d){return{element:u,rowspan:l,colspan:d}},la=function(u,l,d,h){return{element:u,rowspan:l,colspan:d,isNew:h}},Qr=function(u,l,d,h,C,T){return{element:u,rowspan:l,colspan:d,row:h,column:C,isLocked:T}},uo=function(u,l,d){return{element:u,cells:l,section:d}},oa=function(u,l,d){return{element:u,isNew:l,isLocked:d}},ra=function(u,l,d,h){return{element:u,cells:l,section:d,isNew:h}},bi=function(u,l){return{cells:u,section:l}},Yl=function(u,l){return{details:u,section:l}},Jl=function(u,l,d,h){return{startRow:u,startCol:l,finishRow:d,finishCol:h}},bd=function(u,l,d){return{element:u,colspan:l,column:d}};typeof window!="undefined"||Function("return this;")();var Ln=function(u){var l=u.dom.nodeName;return l.toLowerCase()},Kf=function(u){return u.dom.nodeType},Oi=function(u){return function(l){return Kf(l)===u}},Zl=function(u){return Kf(u)===ce||Ln(u)==="#comment"},Ls=Oi(le),Ba=Oi(De),ju=Oi(I),Uo=Oi(W),ds=function(u){return function(l){return Ls(l)&&Ln(l)===u}},fu=function(u){return ue.fromDom(u.dom.ownerDocument)},yi=function(u){return ju(u)?u:fu(u)},$m=function(u){return ue.fromDom(yi(u).dom.defaultView)},Di=function(u){return q.from(u.dom.parentNode).map(ue.fromDom)},dt=function(u,l){for(var d=lr(l)?l:Ct,h=u.dom,C=[];h.parentNode!==null&&h.parentNode!==void 0;){var T=h.parentNode,D=ue.fromDom(T);if(C.push(D),d(D)===!0)break;h=T}return C},Xf=function(u){return q.from(u.dom.offsetParent).map(ue.fromDom)},bo=function(u){return q.from(u.dom.previousSibling).map(ue.fromDom)},fc=function(u){return q.from(u.dom.nextSibling).map(ue.fromDom)},B=function(u){return mt(u.dom.childNodes,ue.fromDom)},oe=function(u,l){var d=u.dom.childNodes;return q.from(d[l]).map(ue.fromDom)},L=function(u){return oe(u,0)},st=function(u){return Uo(u)&&Cr(u.dom.host)},Ee=lr(Element.prototype.attachShadow)&&lr(Node.prototype.getRootNode),sr=bt(Ee),Da=Ee?function(u){return ue.fromDom(u.dom.getRootNode())}:yi,nr=function(u){var l=Da(u);return st(l)?q.some(l):q.none()},ai=function(u){return ue.fromDom(u.dom.host)},vu=function(u){if(sr()&&Cr(u.target)){var l=ue.fromDom(u.target);if(Ls(l)&&Eo(l)&&u.composed&&u.composedPath){var d=u.composedPath();if(d)return pn(d)}}return q.from(u.target)},Eo=function(u){return Cr(u.dom.shadowRoot)},_i=function(u){var l=Ba(u)?u.dom.parentNode:u.dom;if(l==null||l.ownerDocument===null)return!1;var d=l.ownerDocument;return nr(ue.fromDom(l)).fold(function(){return d.body.contains(l)},tn(_i,ai))},ms=function(){return Yf(ue.fromDom(document))},Yf=function(u){var l=u.dom.body;if(l==null)throw new Error("Body is not available yet");return ue.fromDom(l)},du=function(u,l,d){return Re(dt(u,d),l)},xr=function(u,l){return Re(B(u),l)},oi=function(u,l){var d=[];return fn(B(u),function(h){l(h)&&(d=d.concat([h])),d=d.concat(oi(h,l))}),d},Nc=function(u,l,d){return du(u,function(h){return Ge(h,l)},d)},ia=function(u,l){return xr(u,function(d){return Ge(d,l)})},Na=function(u,l){return yn(l,u)};function Im(u,l,d,h,C){return u(d,h)?q.some(d):lr(C)&&C(d)?q.none():l(d,h,C)}var Xo=function(u,l,d){for(var h=u.dom,C=lr(d)?d:Ct;h.parentNode;){h=h.parentNode;var T=ue.fromDom(h);if(l(T))return q.some(T);if(C(T))break}return q.none()},yd=function(u,l,d){var h=function(C,T){return T(C)};return Im(h,Xo,u,l,d)},$e=function(u,l){var d=function(C){return l(ue.fromDom(C))},h=we(u.dom.childNodes,d);return h.map(ue.fromDom)},Ao=function(u,l){var d=function(h){for(var C=0;C<h.childNodes.length;C++){var T=ue.fromDom(h.childNodes[C]);if(l(T))return q.some(T);var D=d(h.childNodes[C]);if(D.isSome())return D}return q.none()};return d(u.dom)},vc=function(u,l,d){return Xo(u,function(h){return Ge(h,l)},d)},dl=function(u,l){return $e(u,function(d){return Ge(d,l)})},Eu=function(u,l){return Jn(l,u)},fa=function(u,l,d){var h=function(C,T){return Ge(C,T)};return Im(h,vc,u,l,d)},no=function(u,l,d){if(S(d)||hn(d)||Me(d))u.setAttribute(l,d+"");else throw console.error("Invalid call to Attribute.set. Key ",l,":: Value ",d,":: Element ",u),new Error("Attribute value was not simple")},Mo=function(u,l,d){no(u.dom,l,d)},ii=function(u,l){var d=u.dom;Dn(l,function(h,C){no(d,C,h)})},qu=function(u,l){var d=u.dom.getAttribute(l);return d===null?void 0:d},Co=function(u,l){return q.from(qu(u,l))},Zt=function(u,l){u.dom.removeAttribute(l)},gs=function(u){return kt(u.dom.attributes,function(l,d){return l[d.name]=d.value,l},{})},hs=function(u){return u.style!==void 0&&lr(u.style.getPropertyValue)},ml=function(u,l,d){if(!S(d))throw console.error("Invalid call to CSS.set. Property ",l,":: Value ",d,":: Element ",u),new Error("CSS value must be a string: "+d);hs(u)&&u.style.setProperty(l,d)},Yo=function(u,l){hs(u)&&u.style.removeProperty(l)},Oo=function(u,l,d){var h=u.dom;ml(h,l,d)},_n=function(u,l){var d=u.dom;Dn(l,function(h,C){ml(d,C,h)})},ps=function(u,l){var d=u.dom,h=window.getComputedStyle(d),C=h.getPropertyValue(l);return C===""&&!_i(u)?zm(d,l):C},zm=function(u,l){return hs(u)?u.style.getPropertyValue(l):""},Hs=function(u,l){var d=u.dom,h=zm(d,l);return q.from(h).filter(function(C){return C.length>0})},Gu=function(u,l){var d=u.dom;Yo(d,l),Co(u,"style").map(xa).is("")&&Zt(u,"style")},Lm=function(u,l){var d=u.dom,h=l.dom;hs(d)&&hs(h)&&(h.style.cssText=d.style.cssText)},bs=function(u,l,d){return d===void 0&&(d=0),Co(u,l).map(function(h){return parseInt(h,10)}).getOr(d)},Au=function(u,l){return bs(u,l,1)},wd=function(u){return Au(u,"colspan")>1},Hm=function(u){return Au(u,"rowspan")>1},Cd=function(u,l){return parseInt(ps(u,l),10)},Ql=bt(10),Vm=bt(10),Ya=function(u,l){return Vs(u,l,Et)},Vs=function(u,l,d){return qe(B(u),function(h){return Ge(h,l)?d(h)?[h]:[]:Vs(h,l,d)})},Oh=function(u,l,d){if(d===void 0&&(d=Ct),d(l))return q.none();if(zn(u,Ln(l)))return q.some(l);var h=function(C){return Ge(C,"table")||d(C)};return vc(l,u.join(","),h)},Jo=function(u,l){return Oh(["td","th"],u,l)},dc=function(u){return Ya(u,"th,td")},ys=function(u){return Ge(u,"colgroup")?ia(u,"col"):qe(Zo(u),function(l){return ia(l,"col")})},io=function(u,l){return fa(u,"table",l)},ef=function(u){return Ya(u,"tr")},Zo=function(u){return io(u).fold(bt([]),function(l){return ia(l,"colgroup")})},xd=function(u,l){return mt(u,function(d){if(Ln(d)==="colgroup"){var h=mt(ys(d),function(C){var T=bs(C,"span",1);return sa(C,1,T)});return uo(d,h,"colgroup")}else{var h=mt(dc(d),function(T){var D=bs(T,"rowspan",1),U=bs(T,"colspan",1);return sa(T,D,U)});return uo(d,h,l(d))}})},gl=function(u){return Di(u).map(function(l){var d=Ln(l);return Be(d)?d:"tbody"}).getOr("tbody")},Jf=function(u){var l=ef(u),d=Zo(u),h=Zr(d,l);return xd(h,gl)},hl=function(u,l){return xd(u,function(){return l})},Sd=function(u,l,d){var h=u.cells,C=h.slice(0,l),T=h.slice(l),D=C.concat(d).concat(T);return Qf(u,D)},Mc=function(u,l,d){return Sd(u,l,[d])},Zf=function(u,l,d){var h=u.cells;h[l]=d},Qf=function(u,l){return bi(l,u.section)},ev=function(u,l){var d=u.cells,h=mt(d,l);return bi(h,u.section)},Ou=function(u,l){return u.cells[l]},Wi=function(u,l){return Ou(u,l).element},Du=function(u){return u.cells.length},Bi=function(u){var l=yr(u,function(d){return d.section==="colgroup"});return{rows:l.fail,cols:l.pass}},tf="data-snooker-locked-cols",Fc=function(u){return Co(u,tf).bind(function(l){return q.from(l.match(/\d+/g))}).map(function(l){return ee(l,Et)})},ws=function(u){var l=kt(Bi(u).rows,function(h,C){return fn(C.cells,function(T,D){T.isLocked&&(h[D]=!0)}),h},{}),d=Ut(l,function(h,C){return parseInt(C,10)});return he(d)},Hr=function(u,l){return u+","+l},Ku=function(u,l,d){var h=u.access[Hr(l,d)];return h!==void 0?q.some(h):q.none()},pl=function(u,l,d){var h=Td(u,function(C){return d(l,C.element)});return h.length>0?q.some(h[0]):q.none()},Td=function(u,l){var d=qe(u.all,function(h){return h.cells});return Re(d,l)},I1=function(u){var l={},d=0;return fn(u.cells,function(h){var C=h.colspan;yt(C,function(T){var D=d+T;l[D]=bd(h.element,C,D)}),d+=C}),l},bl=function(u){var l={},d=[],h={},C=pn(u).map(function(Se){return Se.element}).bind(io),T=C.bind(Fc).getOr({}),D=0,U=0,H=0;fn(u,function(Se){if(Se.section==="colgroup")h=I1(Se);else{var At=[];fn(Se.cells,function(xt){for(var Ot=0;l[Hr(H,Ot)]!==void 0;)Ot++;for(var Ke=j(T,Ot.toString()),nt=Qr(xt.element,xt.rowspan,xt.colspan,H,Ot,Ke),Rt=0;Rt<xt.colspan;Rt++)for(var rr=0;rr<xt.rowspan;rr++){var ta=H+rr,Dr=Ot+Rt,ca=Hr(ta,Dr);l[ca]=nt,U=Math.max(U,Dr+1)}At.push(nt)}),D++,d.push(uo(Se.element,At,Se.section)),H++}});var se=qt(D,U);return{grid:se,access:l,all:d,columns:h}},z1=function(u){var l=Jf(u);return bl(l)},nf=function(u){return qe(u.all,function(l){return l.cells})},Xu=function(u){return vr(u.columns)},A=function(u){return at(u.columns).length>0},M=function(u,l){return q.from(u.columns[l])},V={fromTable:z1,generate:bl,getAt:Ku,findItem:pl,filterItems:Td,justCells:nf,justColumns:Xu,hasColumns:A,getColumnAt:M},ge=function(u,l){var d=l.column,h=l.column+l.colspan-1,C=l.row,T=l.row+l.rowspan-1;return d<=u.finishCol&&h>=u.startCol&&C<=u.finishRow&&T>=u.startRow},He=function(u,l){return l.column>=u.startCol&&l.column+l.colspan-1<=u.finishCol&&l.row>=u.startRow&&l.row+l.rowspan-1<=u.finishRow},Dt=function(u,l){for(var d=!0,h=rt(He,l),C=l.startRow;C<=l.finishRow;C++)for(var T=l.startCol;T<=l.finishCol;T++)d=d&&V.getAt(u,C,T).exists(h);return d?q.some(l):q.none()},ar=function(u,l){return Jl(Math.min(u.row,l.row),Math.min(u.column,l.column),Math.max(u.row+u.rowspan-1,l.row+l.rowspan-1),Math.max(u.column+u.colspan-1,l.column+l.colspan-1))},Rr=function(u,l,d){var h=V.findItem(u,l,$t),C=V.findItem(u,d,$t);return h.bind(function(T){return C.map(function(D){return ar(T,D)})})},_r=function(u,l,d){return Rr(u,l,d).bind(function(h){return Dt(u,h)})},Ea=function(u,l,d,h){return V.findItem(u,l,$t).bind(function(C){var T=d>0?C.row+C.rowspan-1:C.row,D=h>0?C.column+C.colspan-1:C.column,U=V.getAt(u,T+d,D+h);return U.map(function(H){return H.element})})},Vr=function(u,l,d){return Rr(u,l,d).map(function(h){var C=V.filterItems(u,rt(ge,h));return mt(C,function(T){return T.element})})},ji=function(u,l){var d=function(h,C){return xe(C,h)};return V.findItem(u,l,d).map(function(h){return h.element})},Dh=function(u,l,d){return io(u).bind(function(h){var C=Ed(h);return Ea(C,u,l,d)})},Us=function(u,l,d){var h=Ed(u);return Vr(h,l,d)},mc=function(u,l,d,h,C){var T=Ed(u),D=$t(u,d)?q.some(l):ji(T,l),U=$t(u,C)?q.some(h):ji(T,h);return D.bind(function(H){return U.bind(function(se){return Vr(T,H,se)})})},kd=function(u,l,d){var h=Ed(u);return _r(h,l,d)},Ed=V.fromTable,Um=function(u,l){var d=Di(u);d.each(function(h){h.dom.insertBefore(l.dom,u.dom)})},mu=function(u,l){var d=fc(u);d.fold(function(){var h=Di(u);h.each(function(C){Wo(C,l)})},function(h){Um(h,l)})},L1=function(u,l){var d=L(u);d.fold(function(){Wo(u,l)},function(h){u.dom.insertBefore(l.dom,h.dom)})},Wo=function(u,l){u.dom.appendChild(l.dom)},Zx=function(u,l){Um(u,l),Wo(l,u)},yl=function(u,l){fn(l,function(d){Um(u,d)})},Ri=function(u,l){fn(l,function(d,h){var C=h===0?u:l[h-1];mu(C,d)})},qi=function(u,l){fn(l,function(d){Wo(u,d)})},rf=function(u){u.dom.textContent="",fn(B(u),function(l){nu(l)})},nu=function(u){var l=u.dom;l.parentNode!==null&&l.parentNode.removeChild(l)},Yy=function(u){var l=B(u);l.length>0&&yl(u,l),nu(u)},Cs=function(u,l){var d=function(T){if(!u(T))throw new Error("Can only get "+l+" value of a "+l+" node");return h(T).getOr("")},h=function(T){return u(T)?q.from(T.dom.nodeValue):q.none()},C=function(T,D){if(!u(T))throw new Error("Can only set raw "+l+" value of a "+l+" node");T.dom.nodeValue=D};return{get:d,getOption:h,set:C}},Ad=Cs(Ba,"text"),tv=function(u){return Ad.get(u)},_h=function(u){return Ad.getOption(u)},wl=function(u,l){return Ad.set(u,l)},Cl=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function Wm(){var u=function(H){return ue.fromDom(H.dom.cloneNode(!1))},l=function(H){return yi(H).dom},d=function(H){return Ls(H)?Ln(H)==="body"?!0:zn(Cl,Ln(H)):!1},h=function(H){return Ls(H)?zn(["br","img","hr","input"],Ln(H)):!1},C=function(H){return Ls(H)&&qu(H,"contenteditable")==="false"},T=function(H,se){return H.dom.compareDocumentPosition(se.dom)},D=function(H,se){var Se=gs(H);ii(se,Se)},U=function(H){var se=Ln(H);return zn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],se)};return{up:bt({selector:vc,closest:fa,predicate:Xo,all:dt}),down:bt({selector:Na,predicate:oi}),styles:bt({get:ps,getRaw:Hs,set:Oo,remove:Gu}),attrs:bt({get:qu,set:Mo,remove:Zt,copyTo:D}),insert:bt({before:Um,after:mu,afterAll:Ri,append:Wo,appendAll:qi,prepend:L1,wrap:Zx}),remove:bt({unwrap:Yy,remove:nu}),create:bt({nu:ue.fromTag,clone:u,text:ue.fromText}),query:bt({comparePosition:T,prevSibling:bo,nextSibling:fc}),property:bt({children:B,name:Ln,parent:Di,document:l,isText:Ba,isComment:Zl,isElement:Ls,isSpecial:U,getText:tv,setText:wl,isBoundary:d,isEmptyTag:h,isNonEditable:C}),eq:$t,is:Oe}}var Od=function(u,l,d,h){var C=d[0],T=d.slice(1);return h(u,l,C,T)},Qx=function(u,l,d){return d.length>0?Od(u,l,d,Dd):q.none()},Dd=function(u,l,d,h){var C=l(u,d);return ut(h,function(T,D){var U=l(u,D);return jm(u,T,U)},C)},jm=function(u,l,d){return l.bind(function(h){return d.filter(rt(u.eq,h))})},$c=function(u,l){return rt(u.eq,l)},H1=function(u,l,d,h){h===void 0&&(h=Ct);var C=[l].concat(u.up().all(l)),T=[d].concat(u.up().all(d)),D=function(Se){var At=Ye(Se,h);return At.fold(function(){return Se},function(xt){return Se.slice(0,xt+1)})},U=D(C),H=D(T),se=we(U,function(Se){return jn(H,$c(u,Se))});return{firstpath:U,secondpath:H,shared:se}},eS=Qx,xo=H1,Jy=Wm(),Ic=function(u,l){return eS(Jy,function(d,h){return u(h)},l)},af=function(u,l,d){return xo(Jy,u,l,d)},xl=function(u){return vc(u,"table")},zc=function(u,l,d){var h=function(C){return function(T){return d!==void 0&&d(T)||$t(T,C)}};return $t(u,l)?q.some({boxes:q.some([u]),start:u,finish:l}):xl(u).bind(function(C){return xl(l).bind(function(T){if($t(C,T))return q.some({boxes:Us(C,u,l),start:u,finish:l});if(xe(C,T)){var D=Nc(l,"td,th",h(C)),U=D.length>0?D[D.length-1]:l;return q.some({boxes:mc(C,u,C,l,T),start:u,finish:U})}else if(xe(T,C)){var D=Nc(u,"td,th",h(T)),H=D.length>0?D[D.length-1]:u;return q.some({boxes:mc(T,u,C,l,T),start:u,finish:H})}else return af(u,l).shared.bind(function(se){return fa(se,"table",d).bind(function(Se){var At=Nc(l,"td,th",h(Se)),xt=At.length>0?At[At.length-1]:l,Ot=Nc(u,"td,th",h(Se)),Ke=Ot.length>0?Ot[Ot.length-1]:u;return q.some({boxes:mc(Se,u,C,l,T),start:Ke,finish:xt})})})})})},ru=function(u,l){var d=Na(u,l);return d.length>0?q.some(d):q.none()},qm=function(u,l){return we(u,function(d){return Ge(d,l)})},xs=function(u,l,d){return Eu(u,l).bind(function(h){return Eu(u,d).bind(function(C){return Ic(xl,[h,C]).map(function(T){return{first:h,last:C,table:T}})})})},Zy=function(u,l){return vc(u,"table").bind(function(d){return Eu(d,l).bind(function(h){return zc(h,u).bind(function(C){return C.boxes.map(function(T){return{boxes:T,start:C.start,finish:C.finish}})})})})},Gm=function(u,l,d,h,C){return qm(u,C).bind(function(T){return Dh(T,l,d).bind(function(D){return Zy(D,h)})})},of=function(u,l){return ru(u,l)},nv=function(u,l,d){return xs(u,l,d).bind(function(h){var C=function(H){return $t(u,H)},T="thead,tfoot,tbody,table",D=vc(h.first,T,C),U=vc(h.last,T,C);return D.bind(function(H){return U.bind(function(se){return $t(H,se)?kd(h.table,h.first,h.last):q.none()})})})},tS=function(u){if(!Pn(u))throw new Error("cases must be an array");if(u.length===0)throw new Error("there must be at least one case");var l=[],d={};return fn(u,function(h,C){var T=at(h);if(T.length!==1)throw new Error("one and only one name per case");var D=T[0],U=h[D];if(d[D]!==void 0)throw new Error("duplicate key detected:"+D);if(D==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Pn(U))throw new Error("case arguments must be an array");l.push(D),d[D]=function(){for(var H=[],se=0;se<arguments.length;se++)H[se]=arguments[se];var Se=H.length;if(Se!==U.length)throw new Error("Wrong number of arguments to case "+D+". Expected "+U.length+" ("+U+"), got "+Se);var At=function(xt){var Ot=at(xt);if(l.length!==Ot.length)throw new Error("Wrong number of arguments to match. Expected: "+l.join(",")+`
Actual: `+Ot.join(","));var Ke=de(l,function(nt){return zn(Ot,nt)});if(!Ke)throw new Error("Not all branches were specified when using match. Specified: "+Ot.join(", ")+`
Required: `+l.join(", "));return xt[D].apply(null,H)};return{fold:function(){for(var xt=[],Ot=0;Ot<arguments.length;Ot++)xt[Ot]=arguments[Ot];if(xt.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+xt.length);var Ke=xt[C];return Ke.apply(null,H)},match:At,log:function(xt){console.log(xt,{constructors:l,constructor:D,params:H})}}}}),d},Sl={generate:tS},uf=Sl.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),Tl=function(u,l,d,h){return u.fold(l,d,h)},kl=uf.none,Km=uf.multiple,Fo=uf.single,Bh=function(u,l,d){var h=function(){return of(u(),d).fold(function(){return l().map(Fo).getOrThunk(kl)},function(C){return Km(C)})};return{get:h}},Qy=tinymce.util.Tools.resolve("tinymce.PluginManager"),_d=function(u,l){return ue.fromDom(u.dom.cloneNode(l))},Rh=function(u){return _d(u,!1)},rv=function(u){return _d(u,!0)},ew=function(u,l){var d=ue.fromTag(l),h=gs(u);return ii(d,h),d},Ph=function(u,l){var d=ew(u,l),h=B(rv(u));return qi(d,h),d},Lr=function(u){for(var l=[],d=function(C){l.push(C)},h=0;h<u.length;h++)u[h].each(d);return l},Sr=function(u,l,d){return u.isSome()&&l.isSome()?q.some(d(u.getOrDie(),l.getOrDie())):q.none()},av=function(u,l){return u!=null?l(u):q.none()},Xm=function(u,l){return u?q.some(l):q.none()},jo=function(u,l){var d=function(U,H){if(!Me(H)&&!H.match(/^[0-9]+$/))throw new Error(u+".set accepts only positive integer values. Value was "+H);var se=U.dom;hs(se)&&(se.style[u]=H+"px")},h=function(U){var H=l(U);if(H<=0||H===null){var se=ps(U,u);return parseFloat(se)||0}return H},C=h,T=function(U,H){return kt(H,function(se,Se){var At=ps(U,Se),xt=At===void 0?0:parseInt(At,10);return isNaN(xt)?se:se+xt},0)},D=function(U,H,se){var Se=T(U,se),At=H>Se?H-Se:0;return At};return{set:d,get:h,getOuter:C,aggregate:T,max:D}},V1=jo("width",function(u){return u.dom.offsetWidth}),ma=function(u){return V1.get(u)},Nh=function(u){return V1.getOuter(u)},U1=function(u,l){l===void 0&&(l=Et);var d=u.grid,h=yt(d.columns,ve),C=yt(d.rows,ve);return mt(h,function(T){var D=function(){return qe(C,function(se){return V.getAt(u,se,T).filter(function(Se){return Se.column===T}).toArray()})},U=function(se){return se.colspan===1&&l(se.element)},H=function(){return V.getAt(u,0,T)};return W1(D,U,H)})},W1=function(u,l,d){var h=u(),C=we(h,l),T=C.orThunk(function(){return q.from(h[0]).orThunk(d)});return T.map(function(D){return D.element})},_t=function(u){var l=u.grid,d=yt(l.rows,ve),h=yt(l.columns,ve);return mt(d,function(C){var T=function(){return qe(h,function(H){return V.getAt(u,C,H).filter(function(se){return se.row===C}).fold(bt([]),function(se){return[se]})})},D=function(H){return H.rowspan===1},U=function(){return V.getAt(u,C,0)};return W1(T,D,U)})},j1=function(u,l){if(l<0||l>=u.length-1)return q.none();var d=u[l].fold(function(){var C=Ue(u.slice(0,l));return ir(C,function(T,D){return T.map(function(U){return{value:U,delta:D+1}})})},function(C){return q.some({value:C,delta:0})}),h=u[l+1].fold(function(){var C=u.slice(l+1);return ir(C,function(T,D){return T.map(function(U){return{value:U,delta:D+1}})})},function(C){return q.some({value:C,delta:1})});return d.bind(function(C){return h.map(function(T){var D=T.delta+C.delta;return Math.abs(T.value-C.value)/D})})},tw=function(u,l){return function(d){return gc(d)==="rtl"?l:u}},gc=function(u){return ps(u,"direction")==="rtl"?"rtl":"ltr"},nw=jo("height",function(u){var l=u.dom;return _i(u)?l.getBoundingClientRect().height:l.offsetHeight}),Gi=function(u){return nw.get(u)},Mh=function(u){return nw.getOuter(u)},Lc=function(u,l){var d=function(h,C){return Lc(u+h,l+C)};return{left:u,top:l,translate:d}},Yu=Lc,ov=function(u){var l=u.getBoundingClientRect();return Yu(l.left,l.top)},so=function(u,l){return u!==void 0?u:l!==void 0?l:0},au=function(u){var l=u.dom.ownerDocument,d=l.body,h=l.defaultView,C=l.documentElement;if(d===u.dom)return Yu(d.offsetLeft,d.offsetTop);var T=so(h==null?void 0:h.pageYOffset,C.scrollTop),D=so(h==null?void 0:h.pageXOffset,C.scrollLeft),U=so(C.clientTop,d.clientTop),H=so(C.clientLeft,d.clientLeft);return nS(u).translate(D-H,T-U)},nS=function(u){var l=u.dom,d=l.ownerDocument,h=d.body;return h===l?Yu(h.offsetLeft,h.offsetTop):_i(u)?ov(l):Yu(0,0)},Ss=function(u,l){return{row:u,y:l}},Ju=function(u,l){return{col:u,x:l}},rw=function(u){var l=au(u);return l.left+Nh(u)},iv=function(u){return au(u).left},ui=function(u,l){return Ju(u,iv(l))},uv=function(u,l){return Ju(u,rw(l))},q1=function(u){return au(u).top},Pi=function(u,l){return Ss(u,q1(l))},Ts=function(u,l){return Ss(u,q1(l)+Mh(l))},ks=function(u,l,d){if(d.length===0)return[];var h=mt(d.slice(1),function(T,D){return T.map(function(U){return u(D,U)})}),C=d[d.length-1].map(function(T){return l(d.length-1,T)});return h.concat([C])},G1=function(u){return-u},hc={delta:ve,positions:function(u){return ks(Pi,Ts,u)},edge:q1},wi={delta:ve,edge:iv,positions:function(u){return ks(ui,uv,u)}},Bd={delta:G1,edge:rw,positions:function(u){return ks(uv,ui,u)}},gu=tw(wi,Bd),Ym={delta:function(u,l){return gu(l).delta(u,l)},positions:function(u,l){return gu(l).positions(u,l)},edge:function(u){return gu(u).edge(u)}},pc={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Jm=function(){var u="[0-9]+",l="[+-]?"+u,d="[eE]"+l,h="\\.",C=function(U){return"(?:"+U+")?"},T=["Infinity",u+h+C(u)+C(d),h+u+C(d),u+C(d)].join("|"),D="[+-]?(?:"+T+")";return new RegExp("^("+D+")(.*)$")}(),K1=function(u,l){return jn(l,function(d){return jn(pc[d],function(h){return u===h})})},X1=function(u,l){var d=q.from(Jm.exec(u));return d.bind(function(h){var C=Number(h[1]),T=h[2];return K1(T,l)?q.some({value:C,unit:T}):q.none()})},Y1=function(){var u=Vo().browser;return u.isIE()||u.isEdge()},Fh=function(u,l){var d=parseFloat(u);return isNaN(d)?l:d},qo=function(u,l,d){return Fh(ps(u,l),d)},$h=function(u){var l=u.dom.getBoundingClientRect().height,d=ps(u,"box-sizing");if(d==="border-box")return l;var h=qo(u,"padding-top",0),C=qo(u,"padding-bottom",0),T=qo(u,"border-top-width",0),D=qo(u,"border-bottom-width",0),U=T+D;return l-h-C-U},J1=function(u){var l=u.dom.getBoundingClientRect().width,d=ps(u,"box-sizing");if(d==="border-box")return l;var h=qo(u,"padding-left",0),C=qo(u,"padding-right",0),T=qo(u,"border-left-width",0),D=qo(u,"border-right-width",0),U=T+D;return l-h-C-U},aw=function(u){return Y1()?$h(u):qo(u,"height",Gi(u))},Ih=function(u){return Y1()?J1(u):qo(u,"width",ma(u))},zh=/(\d+(\.\d+)?)%/,Z1=/(\d+(\.\d+)?)px|em/,Lh=function(u,l){var d=Xf(u).getOr(Yf(fu(u)));return l(u)/l(d)*100},ow=function(u,l){Oo(u,"width",l+"px")},Q1=function(u,l){Oo(u,"width",l+"%")},_u=function(u,l){Oo(u,"height",l+"px")},rS=function(u){return Hs(u,"height").getOrThunk(function(){return aw(u)+"px"})},Hc=function(u,l,d,h){var C=io(u).map(function(T){var D=d(T);return Math.floor(l/100*D)}).getOr(l);return h(u,C),C},iw=function(u,l,d,h){var C=parseInt(u,10);return na(u,"%")&&Ln(l)!=="table"?Hc(l,C,d,h):C},Zm=function(u){var l=rS(u);return l?iw(l,u,Gi,_u):Gi(u)},sf=function(u,l,d){var h=d(u),C=Au(u,l);return h/C},sv=function(u){var l=Hs(u,"width");return l.fold(function(){return q.from(qu(u,"width"))},function(d){return q.some(d)})},uw=function(u,l){return u/l.pixelWidth()*100},Rd=function(u,l,d){var h=zh.exec(l);if(h!==null)return parseFloat(h[1]);var C=Ih(u);return uw(C,d)},Qm=function(u,l){var d=sv(u);return d.fold(function(){var h=ma(u);return uw(h,l)},function(h){return Rd(u,h,l)})},cv=function(u,l){return u/100*l.pixelWidth()},sw=function(u,l,d){var h=Z1.exec(l);if(h!==null)return parseInt(h[1],10);var C=zh.exec(l);if(C!==null){var T=parseFloat(C[1]);return cv(T,d)}return Ih(u)},ga=function(u,l){var d=sv(u);return d.fold(function(){return Ih(u)},function(h){return sw(u,h,l)})},cw=function(u){return sf(u,"rowspan",Zm)},Ci=function(u){var l=sv(u);return l.bind(function(d){return X1(d,["fixed","relative","empty"])})},lv=function(u,l,d){Oo(u,"width",l+d)},lw=function(u){return ma(u)+"px"},Bu=function(u){return Lh(u,ma)+"%"},aS=function(u){return sv(u).exists(function(l){return zh.test(l)})},Zu=function(u){return sv(u).exists(function(l){return Z1.test(l)})},oS=function(u){return sv(u).isNone()},El=bt(zh),iS=bt(Z1),eb=ds("col"),fw=function(u,l,d){return Hs(u,l).fold(function(){return d(u)+"px"},function(h){return h})},vw=function(u,l){var d=function(h){return eb(h)?ma(h):ga(h,l)};return fw(u,"width",d)},Qn=function(u){return fw(u,"height",cw)},tb=function(u){return mt(V.justColumns(u),function(l){return q.from(l.element)})},dw=function(u,l){return Hs(u,l).isSome()},Hh=function(u){return!eb(u)||dw(u,"width")},fv=function(u,l,d,h,C,T){return u.filter(h).fold(function(){return T(j1(d,l))},function(D){return C(D)})},nb=function(u,l,d,h,C){var T=U1(u,function(se){return dw(se,"width")}),D=V.hasColumns(u)?tb(u):T,U=[q.some(Ym.edge(l))].concat(mt(Ym.positions(T,l),function(se){return se.map(function(Se){return Se.x})})),H=gn(wd);return mt(D,function(se,Se){return fv(se,Se,U,H,function(At){if(Hh(At))return d(At,C);var xt=av(T[Se],ve);return fv(xt,Se,U,H,function(Ot){return h(q.some(ma(Ot)))},h)},h)})},Vh=function(u){return u.map(function(l){return l+"px"}).getOr("")},eg=function(u,l,d){return nb(u,l,vw,Vh,d)},bc=function(u,l,d){return nb(u,l,Qm,function(h){return h.fold(function(){return d.minCellWidth()},function(C){return C/d.pixelWidth()*100})},d)},rb=function(u,l,d){return nb(u,l,ga,function(h){return h.getOrThunk(d.minCellWidth)},d)},tg=function(u,l,d,h,C){var T=_t(u),D=[q.some(d.edge(l))].concat(mt(d.positions(T,l),function(U){return U.map(function(H){return H.y})}));return mt(T,function(U,H){return fv(U,H,D,gn(Hm),h,C)})},mw=function(u,l,d){return tg(u,l,d,cw,function(h){return h.getOrThunk(Vm)})},ab=function(u,l,d){return tg(u,l,d,Qn,Vh)},hu=function(u){var l=u,d=function(){return l},h=function(C){l=C};return{get:d,set:h}},Uh=function(u){var l=function(){return ma(u)},d=bt(0),h=function(C,T){return rb(C,u,T)};return{width:l,pixelWidth:l,getWidths:h,getCellDelta:d,singleColumnWidth:bt([0]),minCellWidth:d,setElementWidth:Le,adjustTableWidth:Le,isRelative:!0,label:"none"}},ob=function(u,l){var d=hu(parseFloat(u)),h=hu(ma(l)),C=function(se){return se/h.get()*100},T=function(se,Se){return[100-se]},D=function(){return Ql()/h.get()*100},U=function(se){var Se=d.get(),At=se/100*Se,xt=Se+At;Q1(l,xt),d.set(xt),h.set(ma(l))},H=function(se,Se){return bc(se,l,Se)};return{width:d.get,pixelWidth:h.get,getWidths:H,getCellDelta:C,singleColumnWidth:T,minCellWidth:D,setElementWidth:Q1,adjustTableWidth:U,isRelative:!0,label:"percent"}},Pd=function(u,l){var d=hu(u),h=d.get,C=ve,T=function(H,se){var Se=Math.max(Ql(),H+se);return[Se-H]},D=function(H){var se=h()+H;ow(l,se),d.set(se)},U=function(H,se){return rb(H,l,se)};return{width:h,pixelWidth:h,getWidths:U,getCellDelta:C,singleColumnWidth:T,minCellWidth:Ql,setElementWidth:ow,adjustTableWidth:D,isRelative:!1,label:"pixel"}},gw=function(u,l){var d=El().exec(l);if(d!==null)return ob(d[1],u);var h=iS().exec(l);if(h!==null){var C=parseInt(h[1],10);return Pd(C,u)}var T=ma(u);return Pd(T,u)},uS=function(u){var l=sv(u);return l.fold(function(){return Uh(u)},function(d){return gw(u,d)})},Ru={getTableSize:uS,pixelSize:Pd,percentageSize:ob,noneSize:Uh},Ki=function(u,l,d,h,C,T){return{minRow:u,minCol:l,maxRow:d,maxCol:h,allCells:C,selectedCells:T}},Es=function(u,l){var d=u.grid.columns,h=u.grid.rows,C=h,T=d,D=0,U=0,H=[],se=[];return Dn(u.access,function(Se){if(H.push(Se),l(Se)){se.push(Se);var At=Se.row,xt=At+Se.rowspan-1,Ot=Se.column,Ke=Ot+Se.colspan-1;At<C?C=At:xt>D&&(D=xt),Ot<T?T=Ot:Ke>U&&(U=Ke)}}),Ki(C,T,D,U,H,se)},Nd=function(u,l,d){var h=u[d].element,C=ue.fromTag("td");Wo(C,ue.fromTag("br"));var T=l?Wo:L1;T(h,C)},ou=function(u,l,d,h){for(var C=l.grid.columns,T=l.grid.rows,D=0;D<T;D++)for(var U=!1,H=0;H<C;H++)if(!(D<d.minRow||D>d.maxRow||H<d.minCol||H>d.maxCol)){var se=V.getAt(l,D,H).filter(h).isNone();se?Nd(u,U,D):U=!0}},ib=function(u,l,d,h){Dn(d.columns,function(D){(D.column<l.minCol||D.column>l.maxCol)&&nu(D.element)});var C=Re(Ya(u,"tr"),function(D){return D.dom.childElementCount===0});fn(C,nu),(l.minCol===l.maxCol||l.minRow===l.maxRow)&&fn(Ya(u,"th,td"),function(D){Zt(D,"rowspan"),Zt(D,"colspan")}),Zt(u,tf),Zt(u,"data-snooker-col-series");var T=Ru.getTableSize(u);T.adjustTableWidth(h)},ub=function(u,l,d,h){if(h.minCol===0&&l.grid.columns===h.maxCol+1)return 0;var C=rb(l,u,d),T=kt(C,function(se,Se){return se+Se},0),D=kt(C.slice(h.minCol,h.maxCol+1),function(se,Se){return se+Se},0),U=D/T*d.pixelWidth(),H=U-d.pixelWidth();return d.getCellDelta(H)},Ws=function(u,l){var d=function(xt){return Ge(xt.element,l)},h=rv(u),C=Jf(h),T=Ru.getTableSize(u),D=V.generate(C),U=Es(D,d),H="th:not("+l+"),td:not("+l+")",se=Vs(h,"th,td",function(xt){return Ge(xt,H)});fn(se,nu),ou(C,D,U,d);var Se=V.fromTable(u),At=ub(u,Se,T,U);return ib(h,U,D,At),h},xi="\xA0",cf=function(u){return Ln(u)==="img"?1:_h(u).fold(function(){return B(u).length},function(l){return l.length})},sb=function(u){return _h(u).filter(function(l){return l.trim().length!==0||l.indexOf(xi)>-1}).isSome()},lf=["img","br"],cb=function(u){var l=sb(u);return l||zn(lf,Ln(u))},Md=function(u){return Ao(u,cb)},ng=function(u){return sS(u,cb)},sS=function(u,l){var d=function(h){for(var C=B(h),T=C.length-1;T>=0;T--){var D=C[T];if(l(D))return q.some(D);var U=d(D);if(U.isSome())return U}return q.none()};return d(u)},cS={scope:["row","col"]},lb=function(){var u=ue.fromTag("td");return Wo(u,ue.fromTag("br")),u},Wh=function(){return ue.fromTag("col")},vv=function(){return ue.fromTag("colgroup")},fb=function(u,l,d){var h=Ph(u,l);return Dn(d,function(C,T){C===null?Zt(h,T):Mo(h,T,C)}),h},jh=function(u){return u},hw=function(u){return function(){return ue.fromTag("tr",u.dom)}},js=function(u,l,d){var h=Md(u);return h.map(function(C){var T=d.join(","),D=Nc(C,T,function(U){return $t(U,u)});return ut(D,function(U,H){var se=Rh(H);return Zt(se,"contenteditable"),Wo(U,se),se},l)}).getOr(l)},lS=function(u,l){Dn(cS,function(d,h){return Co(u,h).filter(function(C){return zn(d,C)}).each(function(C){return Mo(l,h,C)})})},ff=function(u,l,d){var h=function(D,U){Lm(D.element,U),Gu(U,"height"),D.colspan!==1&&Gu(U,"width")},C=function(D){var U=fu(D.element),H=ue.fromTag(Ln(D.element),U.dom),se=d.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Se=se.length>0?js(D.element,H,se):H;return Wo(Se,ue.fromTag("br")),h(D,H),lS(D.element,H),u(D.element,H),H},T=function(D){var U=fu(D.element),H=ue.fromTag(Ln(D.element),U.dom);return h(D,H),u(D.element,H),H};return{col:T,colgroup:vv,row:hw(l),cell:C,replace:fb,gap:lb}},si=function(u){return{col:Wh,colgroup:vv,row:hw(u),cell:lb,replace:jh,gap:lb}},ro=function(u,l){var d=l||document,h=d.createElement("div");return h.innerHTML=u,B(ue.fromDom(h))},dv=function(u){return mt(u,ue.fromDom)},mv=function(u){return u.nodeName.toLowerCase()},yc=function(u){return ue.fromDom(u.getBody())},gv=function(u){return u.getBoundingClientRect().width},vb=function(u){return u.getBoundingClientRect().height},Fd=function(u){return function(l){return $t(l,yc(u))}},vf=function(u){return u?u.replace(/px$/,""):""},ja=function(u){return/^\d+(\.\d+)?$/.test(u)?u+"px":u},Qu=function(u){Zt(u,"data-mce-style");var l=function(d){return Zt(d,"data-mce-style")};fn(dc(u),l),fn(ys(u),l)},Va=function(u,l){var d=u.dom.getStyle(l,"width")||u.dom.getAttrib(l,"width");return q.from(d).filter(Ce)},es=function(u){return/^(\d+(\.\d+)?)%$/.test(u)},ts=function(u){return/^(\d+(\.\d+)?)px$/.test(u)},go=function(u){return ue.fromDom(u.selection.getStart())},As=function(u){return Tl(u.get(),bt([]),ve,ke)},wc=function(u){var l=function(C,T){return Co(C,T).exists(function(D){return parseInt(D,10)>1})},d=function(C){return l(C,"rowspan")||l(C,"colspan")},h=As(u);return h.length>0&&de(h,d)?q.some(h):q.none()},Os=function(u,l,d){return Tl(l.get(),q.none,function(h){return h.length<=1?q.none():nv(u,d.firstSelectedSelector,d.lastSelectedSelector).map(function(C){return{bounds:C,cells:h}})},q.none)},ci="data-mce-selected",Ds="td["+ci+"],th["+ci+"]",Cc="["+ci+"]",Kr="data-mce-first-selected",hv="td["+Kr+"],th["+Kr+"]",$d="data-mce-last-selected",_s="td["+$d+"],th["+$d+"]",qh=Cc,fo={selected:ci,selectedSelector:Ds,firstSelected:Kr,firstSelectedSelector:hv,lastSelected:$d,lastSelectedSelector:_s},db=function(u){return{element:u,mergable:q.none(),unmergable:q.none(),selection:[u]}},Id=function(u,l,d){return{element:d,mergable:Os(l,u,fo),unmergable:wc(u),selection:As(u)}},Ma=function(u,l,d){return{element:u,clipboard:l,generators:d}},rg=function(u,l,d,h){return{selection:As(u),clipboard:d,generators:h}},df=function(u){return io(u[0]).map(function(l){var d=Ws(l,qh);return Qu(d),[d]})},qs=function(u,l){return mt(l,function(d){return u.selection.serializer.serialize(d.dom,{})}).join("")},pw=function(u){return mt(u,function(l){return l.dom.innerText}).join("")},pv=function(u,l,d,h){u.on("BeforeGetContent",function(C){var T=function(D){C.preventDefault(),df(D).each(function(U){C.content=C.format==="text"?pw(U):qs(u,U)})};C.selection===!0&&Tl(l.get(),Le,T,Le)}),u.on("BeforeSetContent",function(C){if(C.selection===!0&&C.paste===!0){var T=q.from(u.dom.getParent(u.selection.getStart(),"th,td"));T.each(function(D){var U=ue.fromDom(D);io(U).each(function(H){var se=Re(ro(C.content),function(Ke){return Ln(Ke)!=="meta"}),Se=function(Ke){return Ln(Ke)==="table"};if(se.length===1&&Se(se[0])){C.preventDefault();var At=ue.fromDom(u.getDoc()),xt=si(At),Ot=Ma(U,se[0],xt);d.pasteCells(H,Ot).each(function(Ke){u.selection.setRng(Ke.rng),u.focus(),h.clear(H)})}})})}})},fS=Sl.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),vo=Rn({},fS),bv=function(u,l){return u.length===0?vo.none():u.length===1?vo.only(0):l===0?vo.left(0,1):l===u.length-1?vo.right(l-1,l):l>0&&l<u.length-1?vo.middle(l-1,l,l+1):vo.none()},bw=function(u,l,d,h,C){var T=u.slice(0),D=bv(u,l),U=bt(mt(T,bt(0))),H=function(xt){return h.singleColumnWidth(T[xt],d)},se=function(xt,Ot){return C.calcLeftEdgeDeltas(T,xt,Ot,d,h.minCellWidth(),h.isRelative)},Se=function(xt,Ot,Ke){return C.calcMiddleDeltas(T,xt,Ot,Ke,d,h.minCellWidth(),h.isRelative)},At=function(xt,Ot){return C.calcRightEdgeDeltas(T,xt,Ot,d,h.minCellWidth(),h.isRelative)};return D.fold(U,H,se,Se,At)},mb=function(u,l,d){for(var h=0,C=u;C<l;C++)h+=d[C]!==void 0?d[C]:0;return h},Gh=function(u,l){var d=V.justCells(u);return mt(d,function(h){var C=mb(h.column,h.column+h.colspan,l);return{element:h.element,width:C,colspan:h.colspan}})},vS=function(u,l){var d=V.justColumns(u);return mt(d,function(h,C){return{element:h.element,width:l[C],colspan:h.colspan}})},mf=function(u,l){var d=V.justCells(u);return mt(d,function(h){var C=mb(h.row,h.row+h.rowspan,l);return{element:h.element,height:C,rowspan:h.rowspan}})},gb=function(u,l){return mt(u.all,function(d,h){return{element:d.element,height:l[h]}})},dS=function(u){return ut(u,function(l,d){return l+d},0)},iu=function(u,l){return V.hasColumns(u)?vS(u,l):Gh(u,l)},Ni=function(u,l,d){var h=iu(u,l);fn(h,function(C){d.setElementWidth(C.element,C.width)})},hb=function(u,l,d,h,C){var T=V.fromTable(u),D=C.getCellDelta(l),U=C.getWidths(T,C),H=d===T.grid.columns-1,se=h.clampTableDelta(U,d,D,C.minCellWidth(),H),Se=bw(U,d,se,C,h),At=mt(Se,function(xt,Ot){return xt+U[Ot]});Ni(T,At,C),h.resizeTable(C.adjustTableWidth,se,H)},pb=function(u,l,d,h){var C=V.fromTable(u),T=mw(C,u,h),D=mt(T,function(Se,At){return d===At?Math.max(l+Se,Vm()):Se}),U=mf(C,D),H=gb(C,D);fn(H,function(Se){_u(Se.element,Se.height)}),fn(U,function(Se){_u(Se.element,Se.height)});var se=dS(D);_u(u,se)},Mi=function(u,l,d,h,C){var T=V.generate(l),D=h.getWidths(T,h),U=h.pixelWidth(),H=C.calcRedestributedWidths(D,U,d.pixelDelta,h.isRelative),se=H.newSizes,Se=H.delta;Ni(T,se,h),h.adjustTableWidth(Se)},yv=function(u,l,d,h){var C=V.generate(l),T=h.getWidths(C,h);Ni(C,T,h)},zd=function(u){return mt(u,bt(0))},bb=function(u,l,d,h,C){return C(u.slice(0,l)).concat(h).concat(C(u.slice(d)))},Ka=function(u){return function(l,d,h,C){if(u(h)){var T=Math.max(C,l[d]-Math.abs(h)),D=Math.abs(T-l[d]);return h>=0?D:-D}else return h}},xc=Ka(function(u){return u<0}),Fa=Ka(Et),Sc=function(){var u=function(U,H,se,Se,At){var xt=xc(U,H,Se,At);return bb(U,H,se+1,[xt,0],zd)},l=function(U,H,se,Se){var At=(100+se)/100,xt=Math.max(Se,(U[H]+se)/At);return mt(U,function(Ot,Ke){var nt=Ke===H?xt:Ot/At;return nt-Ot})},d=function(U,H,se,Se,At,xt){return xt?l(U,H,Se,At):u(U,H,se,Se,At)},h=function(U,H,se,Se,At,xt,Ot){return d(U,se,Se,At,xt,Ot)},C=function(U,H){return U(H)},T=function(U,H,se,Se,At,xt){if(xt)return l(U,se,Se,At);var Ot=xc(U,se,Se,At);return zd(U.slice(0,se)).concat([Ot])},D=function(U,H,se,Se){if(Se){var At=H+se,xt=At/H,Ot=mt(U,function(Ke){return Ke/xt});return{delta:xt*100-100,newSizes:Ot}}else return{delta:se,newSizes:U}};return{resizeTable:C,clampTableDelta:xc,calcLeftEdgeDeltas:d,calcMiddleDeltas:h,calcRightEdgeDeltas:T,calcRedestributedWidths:D}},Pu=function(){var u=function(D,U,H,se,Se){var At=se>=0?H:U,xt=Fa(D,At,se,Se);return bb(D,U,H+1,[xt,-xt],zd)},l=function(D,U,H,se,Se,At){return u(D,H,se,Se,At)},d=function(D,U,H){H&&D(U)},h=function(D,U,H,se,Se,At){if(At)return zd(D);var xt=se/D.length;return mt(D,bt(xt))},C=function(D,U,H,se,Se){if(Se){if(H>=0)return H;var At=kt(D,function(xt,Ot){return xt+Ot-se},0);return Math.max(-At,H)}else return xc(D,U,H,se)},T=function(D,U,H,se){return{delta:0,newSizes:D}};return{resizeTable:d,clampTableDelta:C,calcLeftEdgeDeltas:u,calcMiddleDeltas:l,calcRightEdgeDeltas:h,calcRedestributedWidths:T}},ag=function(u,l){var d=q.from(u.dom.documentElement).map(ue.fromDom).getOr(u);return{parent:bt(d),view:bt(u),origin:bt(Yu(0,0)),isResizable:l}},mS=function(u,l,d){var h=function(){return au(l)};return{parent:bt(l),view:bt(u),origin:h,isResizable:d}},pu=function(u,l,d){return{parent:bt(l),view:bt(u),origin:bt(Yu(0,0)),isResizable:d}},Bs={only:ag,detached:mS,body:pu},wv=Sl.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),yb=function(u,l,d){var h=d.substring(0,d.length-u.length),C=parseFloat(h);return h===C.toString()?l(C):wv.invalid(d)},og=function(u){return na(u,"%")?yb("%",wv.percent,u):na(u,"px")?yb("px",wv.pixels,u):wv.invalid(u)},Al=Rn(Rn({},wv),{from:og}),Kh=function(u,l){return mt(u,function(d){var h=Al.from(d);return h.fold(function(){return d},function(C){var T=C/l*100;return T+"%"},function(C){return C+"%"})})},gS=function(u,l,d){var h=d/l;return mt(u,function(C){var T=Al.from(C);return T.fold(function(){return C},function(D){return D*h+"px"},function(D){return D/100*d+"px"})})},Xh=function(u,l){var d=u.fold(function(){return bt("")},function(h){var C=h/l;return bt(C+"px")},function(){var h=100/l;return bt(h+"%")});return yt(l,d)},wb=function(u,l,d){return u.fold(function(){return l},function(h){return gS(l,d,h)},function(h){return Kh(l,d)})},Gs=function(u,l,d){var h=Al.from(d),C=de(u,function(T){return T==="0px"})?Xh(h,u.length):wb(h,u,l);return ww(C)},Yh=function(u,l){return u.length===0?l:ut(u,function(d,h){return Al.from(h).fold(bt(0),ve,ve)+d},0)},yw=function(u,l){var d=Math.floor(u);return{value:d+l,remainder:u-d}},Jh=function(u,l){return Al.from(u).fold(bt(u),function(d){return d+l+"px"},function(d){return d+l+"%"})},ww=function(u){if(u.length===0)return u;var l=ut(u,function(h,C){var T=Al.from(C).fold(function(){return{value:C,remainder:0}},function(D){return yw(D,"px")},function(D){return{value:D+"%",remainder:0}});return{output:[T.value].concat(h.output),remainder:h.remainder+T.remainder}},{output:[],remainder:0}),d=l.output;return d.slice(0,d.length-1).concat([Jh(d[d.length-1],Math.round(l.remainder))])},Cw=Al.from,ig=function(u,l,d){fn(l,function(h){var C=u.slice(h.column,h.colspan+h.column),T=Yh(C,Ql());Oo(h.element,"width",T+d)})},hS=function(u,l,d){fn(l,function(h,C){var T=Yh([u[C]],Ql());Oo(h.element,"width",T+d)})},ug=function(u,l,d,h){fn(d,function(C){var T=u.slice(C.row,C.rowspan+C.row),D=Yh(T,Vm());Oo(C.element,"height",D+h)}),fn(l,function(C,T){Oo(C.element,"height",u[T])})},Zh=function(u){return Cw(u).fold(bt("px"),bt("px"),bt("%"))},Qh=function(u,l,d,h){var C=V.fromTable(u),T=C.all,D=V.justCells(C),U=V.justColumns(C);l.each(function(H){var se=Zh(H),Se=ma(u),At=eg(C,u,h),xt=Gs(At,Se,H);V.hasColumns(C)?hS(xt,U,se):ig(xt,D,se),Oo(u,"width",H)}),d.each(function(H){var se=Zh(H),Se=Gi(u),At=ab(C,u,hc),xt=Gs(At,Se,H);ug(xt,T,D,se),Oo(u,"height",H)})},Cb=aS,Cv=Zu,ns=oS,rs=Bu,gf=function(u){var l=V.fromTable(u);return l.grid},Fi=function(u){var l=[],d=function(T){if(T===void 0)throw new Error("Event bind error: undefined handler");l.push(T)},h=function(T){l=Re(l,function(D){return D!==T})},C=function(){for(var T=[],D=0;D<arguments.length;D++)T[D]=arguments[D];var U={};fn(u,function(H,se){U[H]=T[se]}),fn(l,function(H){H(U)})};return{bind:d,unbind:h,trigger:C}},hf=function(u){var l=re(u,function(h){return{bind:h.bind,unbind:h.unbind}}),d=re(u,function(h){return h.trigger});return{registry:l,trigger:d}},xw=function(u,l){var d=null,h=function(){d!==null&&(clearTimeout(d),d=null)},C=function(){for(var T=[],D=0;D<arguments.length;D++)T[D]=arguments[D];d!==null&&clearTimeout(d),d=setTimeout(function(){u.apply(null,T),d=null},l)};return{cancel:h,throttle:C}},pf=function(u){return u.slice(0).sort()},xb=function(u,l){throw new Error("All required keys ("+pf(u).join(", ")+") were not specified. Specified keys were: "+pf(l).join(", ")+".")},as=function(u){throw new Error("Unsupported keys for object: "+pf(u).join(", "))},ep=function(u,l){if(!Pn(l))throw new Error("The "+u+" fields must be an array. Was: "+l+".");fn(l,function(d){if(!S(d))throw new Error("The value "+d+" in the "+u+" fields was not a string.")})},$i=function(u,l){throw new Error("All values need to be of type: "+l+". Keys ("+pf(u).join(", ")+") were not.")},Ks=function(u){var l=pf(u),d=we(l,function(h,C){return C<l.length-1&&h===l[C+1]});d.each(function(h){throw new Error("The field: "+h+" occurs more than once in the combined fields: ["+l.join(", ")+"].")})},Ol=function(u,l){return Sb(u,l,{validate:lr,label:"function"})},Sb=function(u,l,d){if(l.length===0)throw new Error("You must specify at least one required field.");return ep("required",l),Ks(l),function(h){var C=at(h),T=de(l,function(U){return zn(C,U)});T||xb(l,C),u(l,C);var D=Re(l,function(U){return!d.validate(h[U],U)});return D.length>0&&$i(D,d.label),h}},Tb=function(u,l){var d=Re(l,function(h){return!zn(u,h)});d.length>0&&as(d)},Vc=function(u){return Ol(Tb,u)},tp=Vc(["compare","extract","mutate","sink"]),xv=Vc(["element","start","stop","destroy"]),Ur=Vc(["forceDrop","drop","move","delayDrop"]),sg=function(){var u=q.none(),l=function(){u=q.none()},d=function(T,D){var U=u.map(function(H){return T.compare(H,D)});return u=q.some(D),U},h=function(T,D){var U=D.extract(T);U.each(function(H){var se=d(D,H);se.each(function(Se){C.trigger.move(Se)})})},C=hf({move:Fi(["info"])});return{onEvent:h,reset:l,events:C.registry}},pS=function(){var u=hf({move:Fi(["info"])});return{onEvent:Le,reset:Le,events:u.registry}},Sw=function(){var u=pS(),l=sg(),d=u,h=function(){d.reset(),d=l},C=function(){d.reset(),d=u},T=function(U,H){d.onEvent(U,H)},D=function(){return d===l};return{on:h,off:C,isOn:D,onEvent:T,events:l.events}},bS=function(u,l,d){var h=!1,C=hf({start:Fi([]),stop:Fi([])}),T=Sw(),D=function(){Ot.stop(),T.isOn()&&(T.off(),C.trigger.stop())},U=xw(D,200),H=function(nt){Ot.start(nt),T.on(),C.trigger.start()},se=function(nt){U.cancel(),T.onEvent(nt,l)};T.events.move.bind(function(nt){l.mutate(u,nt.info)});var Se=function(){h=!0},At=function(){h=!1},xt=function(nt){return function(){for(var Rt=[],rr=0;rr<arguments.length;rr++)Rt[rr]=arguments[rr];h&&nt.apply(null,Rt)}},Ot=l.sink(Ur({forceDrop:D,drop:xt(D),move:xt(se),delayDrop:xt(U.throttle)}),d),Ke=function(){Ot.destroy()};return{element:Ot.element,go:H,on:Se,off:At,destroy:Ke,events:C.registry}},yS=function(u,l,d,h,C,T,D){return{target:u,x:l,y:d,stop:h,prevent:C,kill:T,raw:D}},cg=function(u){var l=ue.fromDom(vu(u).getOr(u.target)),d=function(){return u.stopPropagation()},h=function(){return u.preventDefault()},C=qn(h,d);return yS(l,u.clientX,u.clientY,d,h,C,u)},Ld=function(u,l){return function(d){u(d)&&l(cg(d))}},Ja=function(u,l,d,h,C){var T=Ld(d,h);return u.dom.addEventListener(l,T,C),{unbind:rt(Eb,u,l,T,C)}},kb=function(u,l,d,h){return Ja(u,l,d,h,!1)},Eb=function(u,l,d,h){u.dom.removeEventListener(l,d,h)},wS=Et,Hd=function(u,l,d){return kb(u,l,wS,d)},Dl=cg,Xs=function(u,l){var d=qu(u,l);return d===void 0||d===""?[]:d.split(" ")},lg=function(u,l,d){var h=Xs(u,l),C=h.concat([d]);return Mo(u,l,C.join(" ")),!0},ea=function(u,l,d){var h=Re(Xs(u,l),function(C){return C!==d});return h.length>0?Mo(u,l,h.join(" ")):Zt(u,l),!1},Ia=function(u){return u.dom.classList!==void 0},Sv=function(u){return Xs(u,"class")},Ab=function(u,l){return lg(u,"class",l)},za=function(u,l){return ea(u,"class",l)},Ys=function(u,l){Ia(u)?u.dom.classList.add(l):Ab(u,l)},Ob=function(u){var l=Ia(u)?u.dom.classList:Sv(u);l.length===0&&Zt(u,"class")},Xi=function(u,l){if(Ia(u)){var d=u.dom.classList;d.remove(l)}else za(u,l);Ob(u)},Uc=function(u,l){return Ia(u)&&u.dom.classList.contains(l)},Tw=function(u){var l=u.replace(/\./g,"-"),d=function(h){return l+"-"+h};return{resolve:d}},CS=Tw("ephox-dragster"),kw=CS.resolve,np=function(u){var l=Rn({layerClass:kw("blocker")},u),d=ue.fromTag("div");Mo(d,"role","presentation"),_n(d,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Ys(d,kw("blocker")),Ys(d,l.layerClass);var h=function(){return d},C=function(){nu(d)};return{element:h,destroy:C}},Db=function(u,l){return Yu(l.left-u.left,l.top-u.top)},Rs=function(u){return q.some(Yu(u.x,u.y))},bu=function(u,l){u.mutate(l.left,l.top)},rp=function(u,l){var d=np(l),h=Hd(d.element(),"mousedown",u.forceDrop),C=Hd(d.element(),"mouseup",u.drop),T=Hd(d.element(),"mousemove",u.move),D=Hd(d.element(),"mouseout",u.delayDrop),U=function(){d.destroy(),C.unbind(),T.unbind(),D.unbind(),h.unbind()},H=function(Se){Wo(Se,d.element())},se=function(){nu(d.element())};return xv({element:d.element,start:H,stop:se,destroy:U})},_b=tp({compare:Db,extract:Rs,sink:rp,mutate:bu}),Bb=function(u,l){l===void 0&&(l={});var d=l.mode!==void 0?l.mode:_b;return bS(u,d,l)},xS=function(u){return qu(u,"contenteditable")==="true"},SS=function(u,l){return fa(u,"[contenteditable]",l)},li=Tw("ephox-snooker"),ap=li.resolve,Ew=function(){var u=hf({drag:Fi(["xDelta","yDelta"])}),l=function(d,h){u.trigger.drag(d,h)};return{mutate:l,events:u.registry}},Aw=function(){var u=hf({drag:Fi(["xDelta","yDelta","target"])}),l=q.none(),d=Ew();d.events.drag.bind(function(T){l.each(function(D){u.trigger.drag(T.xDelta,T.yDelta,D)})});var h=function(T){l=q.some(T)},C=function(){return l};return{assign:h,get:C,mutate:d.mutate,events:u.registry}},fg=function(u,l,d,h,C){var T=ue.fromTag("div");return _n(T,{position:"absolute",left:l-h/2+"px",top:d+"px",height:C+"px",width:h+"px"}),ii(T,{"data-column":u,role:"presentation"}),T},Rb=function(u,l,d,h,C){var T=ue.fromTag("div");return _n(T,{position:"absolute",left:l+"px",top:d-C/2+"px",height:C+"px",width:h+"px"}),ii(T,{"data-row":u,role:"presentation"}),T},vg=ap("resizer-bar"),op=ap("resizer-rows"),Pb=ap("resizer-cols"),yu=7,fi=function(u,l){return qe(u.all,function(d,h){return l(d.element)?[h]:[]})},Go=function(u,l){var d=[];return yt(u.grid.columns,function(h){var C=V.getColumnAt(u,h).map(function(T){return T.element});C.forall(l)&&d.push(h)}),Re(d,function(h){var C=V.filterItems(u,function(T){return T.column===h});return de(C,function(T){return l(T.element)})})},vi=function(u){var l=Na(u.parent(),"."+vg);fn(l,nu)},Yi=function(u,l,d){var h=u.origin();fn(l,function(C){C.each(function(T){var D=d(h,T);Ys(D,vg),Wo(u.parent(),D)})})},Nu=function(u,l,d,h){Yi(u,l,function(C,T){var D=fg(T.col,T.x-C.left,d.top-C.top,yu,h);return Ys(D,Pb),D})},Ii=function(u,l,d,h){Yi(u,l,function(C,T){var D=Rb(T.row,d.left-C.left,T.y-C.top,h,yu);return Ys(D,op),D})},Nb=function(u,l,d,h,C){var T=au(d),D=l.isResizable,U=h.length>0?hc.positions(h,d):[],H=U.length>0?fi(u,D):[],se=Re(U,function(Ot,Ke){return jn(H,function(nt){return Ke===nt})});Ii(l,se,T,Nh(d));var Se=C.length>0?Ym.positions(C,d):[],At=Se.length>0?Go(u,D):[],xt=Re(Se,function(Ot,Ke){return jn(At,function(nt){return Ke===nt})});Nu(l,xt,T,Mh(d))},Vd=function(u,l){if(vi(u),u.isResizable(l)){var d=V.fromTable(l),h=_t(d),C=U1(d);Nb(d,u,l,h,C)}},Mb=function(u,l){var d=Na(u.parent(),"."+vg);fn(d,l)},Ow=function(u){Mb(u,function(l){Oo(l,"display","none")})},Fb=function(u){Mb(u,function(l){Oo(l,"display","block")})},$b=function(u){return Uc(u,op)},Ib=function(u){return Uc(u,Pb)},zb=ap("resizer-bar-dragging"),TS=function(u){var l=Aw(),d=Bb(l,{}),h=q.none(),C=function(Ke,nt){return q.from(qu(Ke,nt))};l.events.drag.bind(function(Ke){C(Ke.target,"data-row").each(function(nt){var Rt=Cd(Ke.target,"top");Oo(Ke.target,"top",Rt+Ke.yDelta+"px")}),C(Ke.target,"data-column").each(function(nt){var Rt=Cd(Ke.target,"left");Oo(Ke.target,"left",Rt+Ke.xDelta+"px")})});var T=function(Ke,nt){var Rt=Cd(Ke,nt),rr=bs(Ke,"data-initial-"+nt,0);return Rt-rr};d.events.stop.bind(function(){l.get().each(function(Ke){h.each(function(nt){C(Ke,"data-row").each(function(Rt){var rr=T(Ke,"top");Zt(Ke,"data-initial-top"),Ot.trigger.adjustHeight(nt,rr,parseInt(Rt,10))}),C(Ke,"data-column").each(function(Rt){var rr=T(Ke,"left");Zt(Ke,"data-initial-left"),Ot.trigger.adjustWidth(nt,rr,parseInt(Rt,10))}),Vd(u,nt)})})});var D=function(Ke,nt){Ot.trigger.startAdjust(),l.assign(Ke),Mo(Ke,"data-initial-"+nt,Cd(Ke,nt)),Ys(Ke,zb),Oo(Ke,"opacity","0.2"),d.go(u.parent())},U=Hd(u.parent(),"mousedown",function(Ke){$b(Ke.target)&&D(Ke.target,"top"),Ib(Ke.target)&&D(Ke.target,"left")}),H=function(Ke){return $t(Ke,u.view())},se=function(Ke){return fa(Ke,"table",H).filter(function(nt){return SS(nt,H).exists(xS)})},Se=Hd(u.view(),"mouseover",function(Ke){se(Ke.target).fold(function(){_i(Ke.target)&&vi(u)},function(nt){h=q.some(nt),Vd(u,nt)})}),At=function(){U.unbind(),Se.unbind(),d.destroy(),vi(u)},xt=function(Ke){Vd(u,Ke)},Ot=hf({adjustHeight:Fi(["table","delta","row"]),adjustWidth:Fi(["table","delta","column"]),startAdjust:Fi([])});return{destroy:At,refresh:xt,on:d.on,off:d.off,hideBars:rt(Ow,u),showBars:rt(Fb,u),events:Ot.registry}},Dw=function(u,l,d){var h=hc,C=Ym,T=TS(u),D=hf({beforeResize:Fi(["table","type"]),afterResize:Fi(["table","type"]),startDrag:Fi([])});return T.events.adjustHeight.bind(function(U){var H=U.table;D.trigger.beforeResize(H,"row");var se=h.delta(U.delta,H);pb(H,se,U.row,h),D.trigger.afterResize(H,"row")}),T.events.startAdjust.bind(function(U){D.trigger.startDrag()}),T.events.adjustWidth.bind(function(U){var H=U.table;D.trigger.beforeResize(H,"col");var se=C.delta(U.delta,H),Se=d(H);hb(H,se,U.column,l,Se),D.trigger.afterResize(H,"col")}),{on:T.on,off:T.off,hideBars:T.hideBars,showBars:T.showBars,destroy:T.destroy,events:D.registry}},_w={create:Dw},Tv=function(u,l){return u.fire("newrow",{node:l})},ip=function(u,l){return u.fire("newcell",{node:l})},up=function(u,l,d,h,C){u.fire("ObjectResizeStart",{target:l,width:d,height:h,origin:C})},Bw=function(u,l,d,h,C){u.fire("ObjectResized",{target:l,width:d,height:h,origin:C})},kS=function(u,l,d,h,C){u.fire("TableSelectionChange",{cells:l,start:d,finish:h,otherCells:C})},Mu=function(u){u.fire("TableSelectionClear")},bf=function(u,l,d){u.fire("TableModified",Rn(Rn({},d),{table:l}))},Lb={structure:!1,style:!0},Lt={structure:!0,style:!1},kv="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",$o={"border-collapse":"collapse",width:"100%"},ES=function(u){if(jd(u)){var l=u.getBody().offsetWidth;return Rn(Rn({},$o),{width:l+"px"})}else return Cf(u)?Sn($o,function(d,h){return h!=="width"}):$o},Hb={border:"1"},Ev="preservetable",zi=function(u){return u.getParam("table_sizing_mode","auto")},Vb=function(u){return u.getParam("table_responsive_width")},Ud=function(u){return u.getParam("table_default_attributes",Hb,"object")},yf=function(u){return u.getParam("table_default_styles",ES(u),"object")},wf=function(u){return u.getParam("table_resize_bars",!0,"boolean")},Rw=function(u){return u.getParam("table_tab_navigation",!0,"boolean")},Ub=function(u){return u.getParam("table_cell_advtab",!0,"boolean")},Tc=function(u){return u.getParam("table_row_advtab",!0,"boolean")},Ji=function(u){return u.getParam("table_advtab",!0,"boolean")},Pw=function(u){return u.getParam("table_appearance_options",!0,"boolean")},Js=function(u){return u.getParam("table_grid",!0,"boolean")},Wd=function(u){return u.getParam("table_style_by_css",!1,"boolean")},Av=function(u){return u.getParam("table_cell_class_list",[],"array")},Nw=function(u){return u.getParam("table_row_class_list",[],"array")},dg=function(u){return u.getParam("table_class_list",[],"array")},Ov=function(u){return zi(u)==="relative"||Vb(u)===!0},jd=function(u){return zi(u)==="fixed"||Vb(u)===!1},Cf=function(u){return zi(u)==="responsive"},Wb=function(u){return u.getParam("table_toolbar",kv)},jb=function(u){return u.getParam("table_use_colgroups",!1,"boolean")},qb=function(u){var l="section",d=u.getParam("table_header_type",l,"string"),h=["section","cells","sectionCells","auto"];return zn(h,d)?d:l},mg=function(u){var l=["preservetable","resizetable"],d=u.getParam("table_column_resizing",Ev,"string");return we(l,function(h){return h===d}).getOr(Ev)},Mw=function(u){return mg(u)==="preservetable"},Dv=function(u){return mg(u)==="resizetable"},kc=function(u){var l=u.getParam("table_clone_elements");return S(l)?q.some(l.split(/[ ,]/)):Array.isArray(l)?q.some(l):q.none()},os=function(u){var l=u.getParam("object_resizing",!0);return S(l)?l==="table":l},Wc=function(u,l){if(Ov(u)){var d=Va(u,l.dom).filter(es).getOrThunk(function(){return rs(l)});return Ru.percentageSize(d,l)}else return jd(u)?Ru.pixelSize(ma(l),l):Ru.getTableSize(l)},sp=function(u){Zt(u,"width")},gt=function(u,l){var d=Bu(u);Qh(u,q.some(d),q.none(),l),sp(u)},cp=function(u,l){var d=lw(u);Qh(u,q.some(d),q.none(),l),sp(u)},AS=function(u){Gu(u,"width");var l=ys(u),d=l.length>0?l:dc(u);fn(d,function(h){Gu(h,"width"),sp(h)}),sp(u)},gg=function(u,l){var d=Wc(u,l);gt(l,d)},hg=function(u,l){var d=Wc(u,l);cp(l,d)},Zs=AS,Fw=function(u){var l=V.fromTable(u);V.hasColumns(l)||fn(dc(u),function(d){var h=ps(d,"width");Oo(d,"width",h),Zt(d,"width")})},Gb=function(){var u=ue.fromTag("div");return _n(u,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Wo(ms(),u),u},$w=function(u,l){return u.inline?Bs.body(yc(u),Gb(),l):Bs.only(ue.fromDom(u.getDoc()),l)},qd=function(u,l){u.inline&&nu(l.parent())},lp="bar-",Kb=function(u){return qu(u,"data-mce-resize")!=="false"},OS=function(u){var l=q.none(),d=q.none(),h=q.none(),C,T,D=function(Ke){return Ke.nodeName==="TABLE"},U=function(){return d},H=function(){return h.getOr(Bs.only(ue.fromDom(u.getBody()),Kb))},se=function(Ke){return Wc(u,Ke)},Se=function(){return Mw(u)?Pu():Sc()},At=function(Ke){return gf(Ke).columns},xt=function(Ke,nt,Rt){var rr=na(nt,"e");if(T===""&&gg(u,Ke),Rt!==C&&T!==""){Oo(Ke,"width",T);var ta=Se(),Dr=se(Ke),ca=Mw(u)||rr?At(Ke)-1:0;hb(Ke,Rt-C,ca,ta,Dr)}else if(es(T)){var Ra=parseFloat(T.replace("%","")),Za=Rt*Ra/C;Oo(Ke,"width",Za+"%")}ts(T)&&Fw(Ke)},Ot=function(){d.each(function(Ke){Ke.destroy()}),h.each(function(Ke){qd(u,Ke)})};return u.on("init",function(){var Ke=$w(u,Kb);if(h=q.some(Ke),os(u)&&wf(u)){var nt=Se(),Rt=_w.create(Ke,nt,se);Rt.on(),Rt.events.startDrag.bind(function(rr){l=q.some(u.selection.getRng())}),Rt.events.beforeResize.bind(function(rr){var ta=rr.table.dom;up(u,ta,gv(ta),vb(ta),lp+rr.type)}),Rt.events.afterResize.bind(function(rr){var ta=rr.table,Dr=ta.dom;Qu(ta),l.each(function(ca){u.selection.setRng(ca),u.focus()}),Bw(u,Dr,gv(Dr),vb(Dr),lp+rr.type),u.undoManager.add()}),d=q.some(Rt)}}),u.on("ObjectResizeStart",function(Ke){var nt=Ke.target;if(D(nt)){var Rt=ue.fromDom(nt);fn(u.dom.select(".mce-clonedresizable"),function(rr){u.dom.addClass(rr,"mce-"+mg(u)+"-columns")}),!Cv(Rt)&&jd(u)?hg(u,Rt):!Cb(Rt)&&Ov(u)&&gg(u,Rt),ns(Rt)&&Pr(Ke.origin,lp)&&gg(u,Rt),C=Ke.width,T=Cf(u)?"":Va(u,nt).getOr("")}}),u.on("ObjectResized",function(Ke){var nt=Ke.target;if(D(nt)){var Rt=ue.fromDom(nt),rr=Ke.origin;Pr(rr,"corner-")&&xt(Rt,rr,Ke.width),Qu(Rt),bf(u,Rt.dom,Lb)}}),u.on("SwitchMode",function(){U().each(function(Ke){u.mode.isReadOnly()?Ke.hideBars():Ke.showBars()})}),{lazyResize:U,lazyWire:H,destroy:Ot}},Gd=function(u,l){return{element:u,offset:l}},Kd=function(u,l,d){return u.property().isText(l)&&u.property().getText(l).trim().length===0||u.property().isComment(l)?d(l).bind(function(h){return Kd(u,h,d).orThunk(function(){return q.some(h)})}):q.none()},Xd=function(u,l){if(u.property().isText(l))return u.property().getText(l).length;var d=u.property().children(l);return d.length},pg=function(u,l){var d=Kd(u,l,u.query().prevSibling).getOr(l);if(u.property().isText(d))return Gd(d,Xd(u,d));var h=u.property().children(d);return h.length>0?pg(u,h[h.length-1]):Gd(d,Xd(u,d))},Xb=pg,Iw=Wm(),Qs=function(u){return Xb(Iw,u)},Yb=function(u,l){var d=Au(u,"colspan");if(d===1){var h=Ci(u);h.each(function(C){var T=C.value/2;lv(u,T,C.unit),lv(l,T,C.unit)})}},Yd=function(u,l,d,h){d===h?Zt(u,l):Mo(u,l,d)},_l=function(u,l,d){St(ia(u,l)).fold(function(){return L1(u,d)},function(h){return mu(h,d)})},Jd=function(u,l){var d=dl(u,l).getOrThunk(function(){var h=ue.fromTag(l,fu(u).dom);return l==="thead"?_l(u,"caption,colgroup",h):l==="colgroup"?_l(u,"caption",h):Wo(u,h),h});return rf(d),d},zw=function(u,l){var d=[],h=[],C=function(Ot){return mt(Ot,function(Ke){Ke.isNew&&d.push(Ke.element);var nt=Ke.element;return rf(nt),fn(Ke.cells,function(Rt){Rt.isNew&&h.push(Rt.element),Yd(Rt.element,"colspan",Rt.colspan,1),Yd(Rt.element,"rowspan",Rt.rowspan,1),Wo(nt,Rt.element)}),nt})},T=function(Ot){return qe(Ot,function(Ke){return mt(Ke.cells,function(nt){return Yd(nt.element,"span",nt.colspan,1),nt.element})})},D=function(Ot,Ke){var nt=Jd(u,Ke),Rt=Ke==="colgroup"?T:C,rr=Rt(Ot);qi(nt,rr)},U=function(Ot){dl(u,Ot).each(nu)},H=function(Ot,Ke){Ot.length>0?D(Ot,Ke):U(Ke)},se=[],Se=[],At=[],xt=[];return fn(l,function(Ot){switch(Ot.section){case"thead":se.push(Ot);break;case"tbody":Se.push(Ot);break;case"tfoot":At.push(Ot);break;case"colgroup":xt.push(Ot);break}}),H(xt,"colgroup"),H(se,"thead"),H(Se,"tbody"),H(At,"tfoot"),{newRows:d,newCells:h}},Lw=function(u){return mt(u,function(l){var d=Rh(l.element);return fn(l.cells,function(h){var C=rv(h.element);Yd(C,"colspan",h.colspan,1),Yd(C,"rowspan",h.rowspan,1),Wo(d,C)}),d})},Hw=function(u,l){return mt(u,function(d){return Ou(d,l)})},DS=function(u,l){return u[l]},fp=function(u,l){if(u.length===0)return 0;var d=u[0],h=Ye(u,function(C){return!l(d.element,C.element)});return h.fold(function(){return u.length},function(C){return C})},_S=function(u,l,d,h){var C=DS(u,l).cells.slice(d),T=fp(C,h),D=Hw(u,d).slice(l),U=fp(D,h);return{colspan:T,rowspan:U}},BS=function(u,l){var d=mt(u,function(C){return mt(C.cells,Ct)}),h=function(C,T,D,U){for(var H=C;H<C+D;H++)for(var se=T;se<T+U;se++)d[H][se]=!0};return mt(u,function(C,T){var D=qe(C.cells,function(U,H){if(d[T][H]===!1){var se=_S(u,T,H,l);return h(T,H,se.rowspan,se.colspan),[la(U.element,se.rowspan,se.colspan,U.isNew)]}else return[]});return Yl(D,C.section)})},_v=function(u,l,d){var h=[];if(V.hasColumns(u)){var C=mt(V.justColumns(u),function(Se){return oa(Se.element,d,!1)});h.push(bi(C,"colgroup"))}for(var T=0;T<u.grid.rows;T++){for(var D=[],U=0;U<u.grid.columns;U++){var H=V.getAt(u,T,U).map(function(Se){return oa(Se.element,d,Se.isLocked)}).getOrThunk(function(){return oa(l.gap(),!0,!1)});D.push(H)}var se=bi(D,u.all[T].section);h.push(se)}return h},Vw=function(u,l){return _v(u,l,!1)},Uw=function(u,l){var d=function(h){var C=ir(h,function(T){return Di(T.element).map(function(D){var U=Di(D).isNone();return oa(D,U,!1)})});return C.getOrThunk(function(){return oa(l.row(),!0,!1)})};return mt(u,function(h){var C=d(h.details);return ra(C.element,h.details,h.section,C.isNew)})},bg=function(u,l){var d=BS(u,$t);return Uw(d,l)},Jb=function(u,l){return ir(u.all,function(d){return we(d.cells,function(h){return $t(l,h.element)})})},Zb=function(u,l,d){var h=mt(l.selection,function(T){return Jo(T).bind(function(D){return Jb(u,D)}).filter(d)}),C=Lr(h);return Xm(C.length>0,C)},uu=function(u,l,d,h,C){return function(T,D,U,H,se,Se){var At=V.fromTable(D),xt=l(At,U).map(function(Ot){var Ke=Vw(At,H),nt=u(Ke,Ot,$t,C(H)),Rt=ws(nt.grid),rr=bg(nt.grid,H);return{info:Ot,grid:rr,cursor:nt.cursor,lockedColumns:Rt}});return xt.bind(function(Ot){var Ke=zw(D,Ot.grid),nt=q.from(se).getOrThunk(function(){return Ru.getTableSize(D)}),Rt=q.from(Se).getOrThunk(Pu);return d(D,Ot.grid,Ot.info,nt,Rt),h(D),Vd(T,D),Zt(D,tf),Ot.lockedColumns.length>0&&Mo(D,tf,Ot.lockedColumns.join(",")),q.some({cursor:Ot.cursor,newRows:Ke.newRows,newCells:Ke.newCells})})}},Ww=function(u,l){return Jo(l.element).bind(function(d){return Jb(u,d).map(function(h){var C=Rn(Rn({},h),{generators:l.generators,clipboard:l.clipboard});return C})})},vp=function(u,l){return Zb(u,l,Et).map(function(d){return{cells:d,generators:l.generators,clipboard:l.clipboard}})},RS=function(u,l){return l.mergable},PS=function(u,l){return l.unmergable},xf=function(u,l){return Zb(u,l,Et)},yg=function(u,l){return Zb(u,l,function(d){return!d.isLocked})},NS=function(u,l){return Jb(u,l).exists(function(d){return!d.isLocked})},di=function(u,l){return de(l,function(d){return NS(u,d)})},Sf=function(u,l){return RS(u,l).filter(function(d){return di(u,d.cells)})},jw=function(u,l){return PS(u,l).filter(function(d){return di(u,d)})},MS=function(u,l,d,h){var C=Bi(u).rows;if(C.length===0)return u;for(var T=l.startRow;T<=l.finishRow;T++)for(var D=l.startCol;D<=l.finishCol;D++){var U=C[T],H=Ou(U,D).isLocked;Zf(U,D,oa(h(),!1,H))}return u},qw=function(u,l,d,h){for(var C=Bi(u).rows,T=!0,D=0;D<C.length;D++)for(var U=0;U<Du(C[0]);U++){var H=C[D],se=Ou(H,U),Se=se.element,At=d(Se,l);At===!0&&T===!1?Zf(H,U,oa(h(),!0,se.isLocked)):At===!0&&(T=!1)}return u},FS=function(u,l){return kt(u,function(d,h){return jn(d,function(C){return l(C.element,h.element)})?d:d.concat([h])},[])},$S=function(u,l,d,h){return l>0&&l<u[0].cells.length&&fn(u,function(C){var T=C.cells[l-1],D=C.cells[l],U=d(D.element,T.element);U&&Zf(C,l,oa(h(),!0,D.isLocked))}),u},IS=function(u,l,d,h){var C=Bi(u).rows;if(l>0&&l<C.length){var T=C[l-1].cells,D=FS(T,d);fn(D,function(U){for(var H=q.none(),se=l;se<C.length;se++)for(var Se=function(xt){var Ot=C[se],Ke=Ou(Ot,xt),nt=d(Ke.element,U.element);nt&&(H.isNone()&&(H=q.some(h())),H.each(function(Rt){Zf(Ot,xt,oa(Rt,!0,Ke.isLocked))}))},At=0;At<Du(C[0]);At++)Se(At)})}return u},Bl=function(u){var l=function(xt){return u===xt},d=function(xt){return Bl(u)},h=function(xt){return Bl(u)},C=function(xt){return Bl(xt(u))},T=function(xt){return Bl(u)},D=function(xt){xt(u)},U=function(xt){return xt(u)},H=function(xt,Ot){return Ot(u)},se=function(xt){return xt(u)},Se=function(xt){return xt(u)},At=function(){return q.some(u)};return{is:l,isValue:Et,isError:Ct,getOr:bt(u),getOrThunk:bt(u),getOrDie:bt(u),or:d,orThunk:h,fold:H,map:C,mapError:T,each:D,bind:U,exists:se,forall:Se,toOptional:At}},Zd=function(u){var l=function(se){return se()},d=function(){return vn(String(u))()},h=function(se){return se},C=function(se){return se()},T=function(se){return Zd(u)},D=function(se){return Zd(se(u))},U=function(se){return Zd(u)},H=function(se,Se){return se(u)};return{is:Ct,isValue:Ct,isError:Et,getOr:ve,getOrThunk:l,getOrDie:d,or:h,orThunk:C,fold:H,map:T,mapError:D,each:Le,bind:U,exists:Ct,forall:Et,toOptional:q.none}},zS=function(u,l){return u.fold(function(){return Zd(l)},Bl)},Gw={value:Bl,error:Zd,fromOption:zS},Kw=function(u,l,d){if(u.row>=l.length||u.column>Du(l[0]))return Gw.error("invalid start address out of table bounds, row: "+u.row+", column: "+u.column);var h=l.slice(u.row),C=h[0].cells.slice(u.column),T=Du(d[0]),D=d.length;return Gw.value({rowDelta:h.length-D,colDelta:C.length-T})},Xw=function(u,l){var d=Du(u[0]),h=Du(l[0]);return{rowDelta:0,colDelta:d-h}},Yw=function(u,l){var d=u.length,h=l.length;return{rowDelta:d-h,colDelta:0}},Qb=function(u,l,d,h){var C=l.section==="colgroup"?d.col:d.cell;return yt(u,function(T){return oa(C(),!0,h(T))})},wg=function(u,l,d,h){return u.concat(yt(l,function(){var C=u[u.length-1],T=Qb(C.cells.length,C,d,function(D){return wa(h,D.toString())});return Qf(C,T)}))},LS=function(u,l,d,h){return mt(u,function(C){var T=Qb(l,C,d,Ct);return Sd(C,h,T)})},HS=function(u,l,d){return mt(u,function(h){return kt(d,function(C,T){var D=Qb(1,h,l,Et)[0];return Mc(C,T,D)},h)})},Bv=function(u,l,d){var h=l.colDelta<0?LS:ve,C=l.rowDelta<0?wg:ve,T=ws(u),D=Du(u[0]),U=jn(T,function(Se){return Se===D-1}),H=h(u,Math.abs(l.colDelta),d,U?D-1:D),se=ws(H);return C(H,Math.abs(l.rowDelta),d,ee(se,Et))},e0=function(u,l,d,h){var C=Ou(u[l],d),T=rt(h,C.element),D=u[l];return u.length>1&&Du(D)>1&&(d>0&&T(Wi(D,d-1))||d<D.cells.length-1&&T(Wi(D,d+1))||l>0&&T(Wi(u[l-1],d))||l<u.length-1&&T(Wi(u[l+1],d)))},VS=function(u,l,d,h,C,T){for(var D=u.row,U=u.column,H=d.length,se=Du(d[0]),Se=D+H,At=U+se+T.length,xt=ee(T,Et),Ot=D;Ot<Se;Ot++)for(var Ke=0,nt=U;nt<At;nt++){if(xt[nt]){Ke++;continue}e0(l,Ot,nt,C)&&qw(l,Wi(l[Ot],nt),C,h.cell);var Rt=nt-U-Ke,rr=Ou(d[Ot-D],Rt),ta=rr.element,Dr=h.replace(ta);Zf(l[Ot],nt,oa(Dr,!0,rr.isLocked))}return l},Jw=function(u,l,d){var h=Du(l[0]),C=yt(h-u.column,function(D){return D+u.column}),T=we(C,function(D){return de(d,function(U){return U!==D})}).getOr(h-1);return Rn(Rn({},u),{column:T})},Qd=function(u,l,d){return Re(d,function(h){return h>=u.column&&h<=Du(l[0])+u.column})},Zw=function(u,l,d,h,C){var T=ws(l),D=Jw(u,l,T),U=Qd(D,d,T),H=Kw(D,l,d);return H.map(function(se){var Se=Rn(Rn({},se),{colDelta:se.colDelta-U.length}),At=Bv(l,Se,h),xt=ws(At),Ot=Qd(D,d,xt);return VS(D,At,d,h,C,Ot)})},t0=function(u,l,d,h,C){$S(l,u,C,h.cell);var T=Yw(d,l),D=Bv(d,T,h),U=Yw(l,D),H=Bv(l,U,h);return mt(H,function(se,Se){return Sd(se,u,D[Se].cells)})},Qw=function(u,l,d,h,C){IS(l,u,C,h.cell);var T=ws(l),D=Xw(l,d),U=Rn(Rn({},D),{colDelta:D.colDelta-T.length}),H=Bv(l,U,h),se=Bi(H),Se=se.cols,At=se.rows,xt=ws(H),Ot=Xw(d,l),Ke=Rn(Rn({},Ot),{colDelta:Ot.colDelta+xt.length}),nt=HS(d,h,xt),Rt=Bv(nt,Ke,h);return Se.concat(At.slice(0,u)).concat(Rt).concat(At.slice(u,At.length))},e2=function(u,l,d,h,C){var T=Bi(u),D=T.rows,U=T.cols,H=D.slice(0,l),se=D.slice(l),Se=ev(D[d],function(At,xt){var Ot=l>0&&l<D.length&&h(Wi(D[l-1],xt),Wi(D[l],xt)),Ke=Ot?Ou(D[l],xt):oa(C(At.element,h),!0,At.isLocked);return Ke});return U.concat(H).concat([Se]).concat(se)},t2=function(u,l,d,h,C,T,D){if(d==="colgroup"||!h){var U=Ou(u,C);return oa(D(U.element,T),!0,!1)}else return Ou(u,l)},n2=function(u,l,d,h,C){return mt(u,function(T){var D=l>0&&l<Du(T)&&h(Wi(T,l-1),Wi(T,l)),U=t2(T,l,T.section,D,d,h,C);return Mc(T,l,U)})},r2=function(u,l){return qe(u,function(d){var h=d.cells,C=ut(l,function(T,D){return D>=0&&D<T.length?T.slice(0,D).concat(T.slice(D+1)):T},h);return C.length>0?[bi(C,d.section)]:[]})},a2=function(u,l,d){var h=Bi(u),C=h.rows,T=h.cols;return T.concat(C.slice(0,l)).concat(C.slice(d+1))},o2=function(u,l,d,h){var C=function(T){return jn(l,function(D){return d(T.element,D.element)})};return mt(u,function(T){return ev(T,function(D){return C(D)?oa(h(D.element,d),!0,D.isLocked):D})})},Cg=function(u,l,d,h){return Wi(u[l],d)!==void 0&&l>0&&h(Wi(u[l-1],d),Wi(u[l],d))},US=function(u,l,d){return l>0&&d(Wi(u,l-1),Wi(u,l))},xg=function(u,l,d,h){var C=Bi(u).rows,T=qe(C,function(D,U){var H=Cg(u,U,l,d)||US(D,l,d);return H?[]:[Ou(D,l)]});return o2(u,T,d,h)},em=function(u){var l=function(d,h){var C=jn(d,function(T){return T.column===h.column});return C?d:d.concat([h])};return kt(u,l,[]).sort(function(d,h){return d.column-h.column})},WS=function(u){var l=bs(u,"colspan",1),d=bs(u,"rowspan",1);return{element:u,colspan:l,rowspan:d}},jS=function(u,l){l===void 0&&(l=WS);var d=hu(q.none()),h=function(H){switch(Ln(H.element)){case"col":return u.col(H);default:return u.cell(H)}},C=function(H){var se=l(H);return h(se)},T=function(H){var se=C(H);return d.get().isNone()&&d.set(q.some(se)),D=q.some({item:H,replacement:se}),se},D=q.none(),U=function(H,se){return D.fold(function(){return T(H)},function(Se){return se(H,Se.item)?Se.replacement:T(H)})};return{getOrInit:U,cursor:d.get}},wu=function(u,l){return function(d){var h=hu(q.none()),C=[],T=function(H,se){return we(C,function(Se){return se(Se.item,H)})},D=function(H){var se={scope:u},Se=d.replace(H,l,se);return C.push({item:H,sub:Se}),h.get().isNone()&&h.set(q.some(Se)),Se},U=function(H,se){return Ln(H)==="col"?H:T(H,se).fold(function(){return D(H)},function(Se){return se(H,Se.item)?Se.sub:D(H)})};return{replaceOrInit:U,cursor:h.get}}},i2=function(u){return Co(u,"scope").map(function(l){return l.substr(0,3)})},qS=function(u){var l=hu(q.none()),d=function(C){l.get().isNone()&&l.set(q.some(C));var T=i2(C);return T.each(function(D){return Mo(C,"scope",D)}),function(){var D=u.cell({element:C,colspan:1,rowspan:1});return Gu(D,"width"),Gu(C,"width"),T.each(function(U){return Mo(D,"scope",U)}),D}},h=function(C){var T=function(){var D=Lr(mt(C,i2));if(D.length===0)return q.none();var U=D[0],H=["row","col"],se=jn(D,function(Se){return Se!==U&&zn(H,Se)});return se?q.none():q.from(U)};return Gu(C[0],"width"),T().fold(function(){return Zt(C[0],"scope")},function(D){return Mo(C[0],"scope",D+"group")}),bt(C[0])};return{unmerge:d,merge:h,cursor:l.get}},Fu={modification:jS,transform:wu,merging:qS},u2=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],GS=function(u,l){var d=u.property().name(l);return zn(["ol","ul"],d)},KS=function(u,l){var d=u.property().name(l);return zn(u2,d)},n0=function(u,l){return zn(["br","img","hr","input"],u.property().name(l))},tm=Wm(),r0=function(u){return KS(tm,u)},s2=function(u){return GS(tm,u)},c2=function(u){return n0(tm,u)},XS=function(u){var l=function(H){return Ln(H)==="br"},d=function(H){return de(H,function(se){return l(se)||Ba(se)&&tv(se).trim().length===0})},h=function(H){return Ln(H)==="li"||Xo(H,s2).isSome()},C=function(H){return fc(H).map(function(se){return r0(se)?!0:c2(se)?Ln(se)!=="img":!1}).getOr(!1)},T=function(H){return ng(H).bind(function(se){var Se=C(se);return Di(se).map(function(At){return Se===!0||h(At)||l(se)||r0(At)&&!$t(H,At)?[]:[ue.fromTag("br")]})}).getOr([])},D=function(){var H=qe(u,function(se){var Se=B(se);return d(Se)?[]:Se.concat(T(se))});return H.length===0?[ue.fromTag("br")]:H},U=D();rf(u[0]),qi(u[0],U)},dp=function(u){var l=dc(u);l.length===0&&nu(u)},ec=function(u,l){return{grid:u,cursor:l}},Tf=function(u,l,d){var h=Bi(u).rows;return mp(h,l,d).orThunk(function(){return mp(h,0,0)})},mp=function(u,l,d){return q.from(u[l]).bind(function(h){return q.from(h.cells[d]).bind(function(C){return q.from(C.element)})})},Rv=function(u,l,d){var h=Bi(u).rows;return ec(u,mp(h,l,d))},gp=function(u){var l=function(d,h){var C=jn(d,function(T){return T.row===h.row});return C?d:d.concat([h])};return kt(u,l,[]).sort(function(d,h){return d.row-h.row})},l2=function(u,l,d,h){var C=l[0].row,T=gp(l),D=ut(T,function(U,H){var se=e2(U.grid,C,H.row+U.delta,d,h.getOrInit);return{grid:se,delta:U.delta+1}},{grid:u,delta:0}).grid;return Rv(D,C,l[0].column)},a0=function(u,l,d,h){var C=gp(l),T=C[C.length-1],D=T.row+T.rowspan,U=ut(C,function(H,se){return e2(H,D,se.row,d,h.getOrInit)},u);return Rv(U,D,l[0].column)},o0=function(u,l,d,h){var C=l.details,T=em(C),D=T[0].column,U=ut(T,function(H,se){var Se=n2(H.grid,D,se.column+H.delta,d,h.getOrInit);return{grid:Se,delta:H.delta+1}},{grid:u,delta:0}).grid;return Rv(U,C[0].row,D)},i0=function(u,l,d,h){var C=l.details,T=C[C.length-1],D=T.column+T.colspan,U=em(C),H=ut(U,function(se,Se){return n2(se,D,Se.column,d,h.getOrInit)},u);return Rv(H,C[0].row,D)},u0=function(u,l,d,h){var C=em(l),T=function(U,H){return xg(U,H.column,d,h.replaceOrInit)},D=kt(C,T,u);return Rv(D,l[0].row,l[0].column)},f2=function(u,l,d,h){var C=em(l),T=function(U,H){return xg(U,H.column,d,h.replaceOrInit)},D=kt(C,T,u);return Rv(D,l[0].row,l[0].column)},YS=function(u,l,d,h){var C=em(l.details),T=r2(u,mt(C,function(U){return U.column})),D=Tf(T,C[0].row,C[0].column);return ec(T,D)},JS=function(u,l,d,h){var C=gp(l),T=a2(u,C[0].row,C[C.length-1].row),D=Tf(T,l[0].row,l[0].column);return ec(T,D)},ZS=function(u,l,d,h){var C=l.cells;XS(C);var T=MS(u,l.bounds,d,h.merge(C));return ec(T,q.from(C[0]))},QS=function(u,l,d,h){var C=function(D,U){return qw(D,U,d,h.unmerge(U))},T=ut(l,C,u);return ec(T,q.from(l[0]))},eT=function(u,l,d,h){var C=function(H,se){var Se=V.fromTable(H);return _v(Se,se,!0)},T=C(l.clipboard,l.generators),D=mr(l.row,l.column),U=Zw(D,u,T,l.generators,d);return U.fold(function(){return ec(u,q.some(l.element))},function(H){var se=Tf(H,l.row,l.column);return ec(H,se)})},jc=function(u,l,d){var h=hl(u,d.section),C=V.generate(h);return _v(C,l,!0)},hp=function(u,l,d,h){var C=Bi(u).rows,T=l.cells[0].column,D=C[l.cells[0].row],U=jc(l.clipboard,l.generators,D),H=t0(T,u,U,l.generators,d),se=Tf(H,l.cells[0].row,l.cells[0].column);return ec(H,se)},v2=function(u,l,d,h){var C=Bi(u).rows,T=l.cells[l.cells.length-1].column+l.cells[l.cells.length-1].colspan,D=C[l.cells[0].row],U=jc(l.clipboard,l.generators,D),H=t0(T,u,U,l.generators,d),se=Tf(H,l.cells[0].row,l.cells[0].column);return ec(H,se)},tT=function(u,l,d,h){var C=Bi(u).rows,T=l.cells[0].row,D=C[T],U=jc(l.clipboard,l.generators,D),H=Qw(T,u,U,l.generators,d),se=Tf(H,l.cells[0].row,l.cells[0].column);return ec(H,se)},nT=function(u,l,d,h){var C=Bi(u).rows,T=l.cells[l.cells.length-1].row+l.cells[l.cells.length-1].rowspan,D=C[l.cells[0].row],U=jc(l.clipboard,l.generators,D),H=Qw(T,u,U,l.generators,d),se=Tf(H,l.cells[0].row,l.cells[0].column);return ec(H,se)},rT=function(u,l){var d=V.fromTable(u),h=xf(d,l);return h.bind(function(C){var T=C[C.length-1],D=C[0].column,U=T.column+T.colspan,H=rn(mt(d.all,function(se){return Re(se.cells,function(Se){return Se.column>=D&&Se.column<U})}));return Zi(H,function(se){return Ln(se.element)==="th"})}).getOr("")},Zi=function(u,l){var d=Re(u,l);return d.length===0?q.some("td"):d.length===u.length?q.some("th"):q.none()},nm=yv,rm=Mi,pp=function(u,l){return jn(l,function(d){return d.column===0&&d.isLocked})},am=function(u,l){return jn(l,function(d){return d.column+d.colspan>=u.grid.columns&&d.isLocked})},Rl=function(u,l){var d=U1(u),h=em(l);return kt(h,function(C,T){var D=d[T.column],U=D.map(Nh).getOr(0);return C+U},0)},qc=function(u){return function(l,d){return xf(l,d).filter(function(h){var C=u?pp:am;return!C(l,h)}).map(function(h){return{details:h,pixelDelta:Rl(l,h)}})}},d2=function(u,l){return yg(u,l).map(function(d){return{details:d,pixelDelta:-Rl(u,d)}})},s0=function(u){return function(l,d){return vp(l,d).filter(function(h){var C=u?pp:am;return!C(l,h.cells)})}},kf=uu(l2,xf,Le,Le,Fu.modification),c0=uu(a0,xf,Le,Le,Fu.modification),bp=uu(o0,qc(!0),rm,Le,Fu.modification),aT=uu(i0,qc(!1),rm,Le,Fu.modification),Pv=uu(YS,d2,rm,dp,Fu.modification),Ef=uu(JS,xf,Le,dp,Fu.modification),Sg=uu(u0,yg,Le,Le,Fu.transform("row","th")),Nv=uu(f2,yg,Le,Le,Fu.transform(null,"td")),Af=uu(ZS,Sf,nm,Le,Fu.merging),Gc=uu(QS,jw,nm,Le,Fu.merging),yp=uu(eT,Ww,nm,Le,Fu.modification),l0=uu(hp,s0(!0),Le,Le,Fu.modification),oT=uu(v2,s0(!1),Le,Le,Fu.modification),m2=uu(tT,vp,Le,Le,Fu.modification),Tg=uu(nT,vp,Le,Le,Fu.modification),kg=rT,Eg=function(u){return mv(u.parentNode)},g2=function(u){return u==="thead"?"header":u==="tfoot"?"footer":"body"},Mv=function(u,l){var d=Eg(l)==="thead",h=!jn(l.cells,function(C){return mv(C)!=="th"});return d||h?q.some({thead:d,ths:h}):q.none()},Ag=function(u,l){return g2(Mv(u,l).fold(function(){return Eg(l)},function(d){return"thead"}))},h2=function(u,l,d){var h=u.getParent(l,"table"),C=l.parentNode,T=mv(C);if(d!==T){var D=u.select(d,h)[0];if(!D){D=u.create(d);var U=h.firstChild;d==="thead"?St(ia(ue.fromDom(h),"caption,colgroup")).fold(function(){return h.insertBefore(D,U)},function(H){return u.insertAfter(D,H.dom)}):h.appendChild(D)}d==="tbody"&&T==="thead"&&D.firstChild?D.insertBefore(l,D.firstChild):D.appendChild(l),C.hasChildNodes()||u.remove(C)}},f0=function(u,l,d){if(Cr(d)&&mv(l)!==d){var h=u.dom.rename(l,d);return ip(u,h),h}else return l},Og=function(u,l,d,h){var C=u.dom,T=f0(u,l,d);return an(h)||C.setAttrib(T,"scope",h),T},Qo=function(u,l,d,h){return fn(l,function(C){return Og(u,C,d,h)})},p2=function(u,l,d){var h=function(){var U=io(ue.fromDom(l.cells[0])).map(function(H){return ef(H)}).getOr([]);return ir(U,function(H){return Mv(u,H.dom)}).map(function(H){return H.thead&&H.ths?"sectionCells":H.thead?"section":"cells"}).getOr("section")},C=u.dom;if(d==="header"){var T=qb(u),D=T==="auto"?h():T;Qo(u,l.cells,D==="section"?"td":"th","col"),h2(C,l,D==="cells"?"tbody":"thead")}else Qo(u,l.cells,"td",null),h2(C,l,d==="footer"?"tfoot":"tbody")},jr=function(u){return io(u).bind(function(l){return of(l,fo.firstSelectedSelector)}).fold(function(){return u},function(l){return l[0]})},Of=function(u){return function(l){var d=Ln(l),h=d==="col"||d==="colgroup"?jr(l):l;return fa(h,u)}},Ec=Of("th,td"),Kc=Of("th,td,caption"),Dg=function(u,l){return Ec(u).map(function(d){return As(l)}).getOr([])},Df=function(u,l){var d=Ec(u),h=d.bind(function(C){return io(C)}).map(function(C){return ef(C)});return Sr(d,h,function(C,T){return Re(T,function(D){return jn(dv(D.dom.cells),function(U){return qu(U,l)==="1"||$t(U,C)})})}).getOr([])},iT=function(u,l,d){var h=function(Qa){return Ln(yc(Qa))==="table"},C=function(Qa){return h(u)===!1||gf(Qa).rows>1},T=function(Qa){return h(u)===!1||gf(Qa).columns>1},D=kc(u),U=Dv(u)?Le:Yb,H=function(Qa,mi,gi,Bc,rd){return function(ad,Jp){Qu(ad);var cy=Bc(),mC=ue.fromDom(u.getDoc()),zl=ff(gi,mC,D),ok=Wc(u,ad),Zp=Dv(u)?Sc():Pu();return mi(ad)?Qa(cy,ad,Jp,zl,ok,Zp).bind(function(ly){return fn(ly.newRows,function(Jg){Tv(u,Jg.dom)}),fn(ly.newCells,function(Jg){ip(u,Jg.dom)}),ly.cursor.map(function(Jg){var Zg=Qs(Jg),Qp=u.dom.createRng();return Qp.setStart(Zg.element.dom,Zg.offset),Qp.setEnd(Zg.element.dom,Zg.offset),{rng:Qp,effect:rd}})}):q.none()}},se=H(Ef,C,Le,l,Lt),Se=H(Pv,T,Le,l,Lt),At=H(kf,Et,Le,l,Lt),xt=H(c0,Et,Le,l,Lt),Ot=H(bp,Et,U,l,Lt),Ke=H(aT,Et,U,l,Lt),nt=H(Af,Et,Le,l,Lt),Rt=H(Gc,Et,Le,l,Lt),rr=H(l0,Et,Le,l,Lt),ta=H(oT,Et,Le,l,Lt),Dr=H(m2,Et,Le,l,Lt),ca=H(Tg,Et,Le,l,Lt),Ra=H(yp,Et,Le,l,Lt),Za=function(Qa,mi){return Fr(Qa,"type").filter(function(gi){return zn(mi,gi)})},If=function(Qa,mi){return Za(mi,["td","th"]).each(function(gi){var Bc=mt(Dg(go(Qa),d),function(rd){return rd.dom});Qo(Qa,Bc,gi,null)})},bm=function(Qa,mi){return Za(mi,["header","body","footer"]).each(function(gi){mt(Df(go(Qa),fo.selected),function(Bc){return p2(Qa,Bc.dom,gi)})})},Il=H(Sg,Et,Le,l,Lt),ha=H(Nv,Et,Le,l,Lt),Si=function(Qa){var mi=Df(go(Qa),fo.selected);if(mi.length>0){var gi=mt(mi,function(Jp){return Ag(Qa,Jp.dom)}),Bc=zn(gi,"header"),rd=zn(gi,"footer");if(!Bc&&!rd)return"body";var ad=zn(gi,"body");return Bc&&!ad&&!rd?"header":!Bc&&!ad&&rd?"footer":""}},Ti=function(Qa){return Zi(Dg(go(Qa),d),function(mi){return Ln(mi)==="th"}).getOr("")},us=kg;return{deleteRow:se,deleteColumn:Se,insertRowsBefore:At,insertRowsAfter:xt,insertColumnsBefore:Ot,insertColumnsAfter:Ke,mergeCells:nt,unmergeCells:Rt,pasteColsBefore:rr,pasteColsAfter:ta,pasteRowsBefore:Dr,pasteRowsAfter:ca,pasteCells:Ra,setTableCellType:If,setTableRowType:bm,makeColumnsHeader:Il,unmakeColumnsHeader:ha,getTableRowType:Si,getTableCellType:Ti,getTableColType:us}},wp={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Cp=function(){return ue.fromTag("th")},b2=function(){return ue.fromTag("td")},v0=function(){return ue.fromTag("col")},Ac=function(u,l,d,h){for(var C=ue.fromTag("tr"),T=0;T<u;T++){var D=h<l||T<d?Cp():b2();T<d&&Mo(D,"scope","row"),h<l&&Mo(D,"scope","col"),Wo(D,ue.fromTag("br")),Wo(C,D)}return C},uT=function(u){var l=ue.fromTag("colgroup");return yt(u,function(){return Wo(l,v0())}),l},y2=function(u,l,d,h){return yt(u,function(C){return Ac(l,d,h,C)})},w2=function(u,l,d,h,C,T){T===void 0&&(T=wp);var D=ue.fromTag("table"),U=C!=="cells";_n(D,T.styles),ii(D,T.attributes),T.colGroups&&Wo(D,uT(l));var H=Math.min(u,d);if(U&&d>0){var se=ue.fromTag("thead");Wo(D,se);var Se=C==="sectionCells"?H:0,At=y2(d,l,Se,h);qi(se,At)}var xt=ue.fromTag("tbody");Wo(D,xt);var Ot=U?u-H:u,Ke=U?0:d,nt=y2(Ot,l,Ke,h);return qi(xt,nt),D},C2=function(u){return u.dom.innerHTML},d0=function(u){var l=ue.fromTag("div"),d=ue.fromDom(u.dom.cloneNode(!0));return Wo(l,d),C2(l)},sT=function(u,l){u.selection.select(l.dom,!0),u.selection.collapse(!0)},x2=function(u,l){Eu(l,"td,th").each(rt(sT,u))},Ps=function(u,l){fn(Na(l,"tr"),function(d){Tv(u,d.dom),fn(Na(d,"th,td"),function(h){ip(u,h.dom)})})},xp=function(u){return S(u)&&u.indexOf("%")!==-1},Sp=function(u,l,d,h,C){var T=yf(u),D={styles:T,attributes:Ud(u),colGroups:jb(u)};return u.undoManager.ignore(function(){var U=w2(d,l,C,h,qb(u),D);Mo(U,"data-mce-id","__mce");var H=d0(U);u.insertContent(H),u.addVisual()}),Eu(yc(u),'table[data-mce-id="__mce"]').map(function(U){return jd(u)?hg(u,U):Cf(u)?Zs(U):(Ov(u)||xp(T.width))&&gg(u,U),Qu(U),Zt(U,"data-mce-id"),Ps(u,U),x2(u,U),U.dom}).getOr(null)},Fv=function(u,l,d,h,C){h===void 0&&(h={});var T=function(H){return Me(H)&&H>0};if(T(l)&&T(d)){var D=h.headerRows||0,U=h.headerColumns||0;return Sp(u,d,l,U,D)}else return console.error(C),null},tc=function(u){return function(){return u().fold(function(){return[]},function(l){return mt(l,function(d){return d.dom})})}},Oc=function(u){return function(l){var d=l.length>0?q.some(dv(l)):q.none();u(d)}},Cu=function(u){return function(l,d,h){h===void 0&&(h={});var C=Fv(u,d,l,h,"Invalid values for insertTable - rows and columns values are required to insert a table.");return u.undoManager.add(),C}},Xc=function(u,l,d,h){return{insertTable:Cu(u),setClipboardRows:Oc(l.setRows),getClipboardRows:tc(l.getRows),setClipboardCols:Oc(l.setColumns),getClipboardCols:tc(l.getColumns),resizeHandler:d,selectionTargets:h}},m0=function(u,l,d){var h=bs(u,l,1);d===1||h<=1?Zt(u,l):Mo(u,l,Math.min(d,h))},Yc=function(u,l,d){if(V.hasColumns(u)){var h=Re(V.justColumns(u),function(D){return D.column>=l&&D.column<d}),C=mt(h,function(D){var U=rv(D.element);return m0(U,"span",d-l),U}),T=ue.fromTag("colgroup");return qi(T,C),[T]}else return[]},$v=function(u,l,d){return mt(u.all,function(h){var C=Re(h.cells,function(U){return U.column>=l&&U.column<d}),T=mt(C,function(U){var H=rv(U.element);return m0(H,"colspan",d-l),H}),D=ue.fromTag("tr");return qi(D,T),D})},cT=function(u,l){var d=V.fromTable(u),h=yg(d,l);return h.map(function(C){var T=C[C.length-1],D=C[0].column,U=T.column+T.colspan,H=Yc(d,D,U),se=$v(d,D,U);return Zr(H,se)})},lT=function(u,l,d){var h=V.fromTable(u),C=xf(h,l);return C.bind(function(T){var D=_v(h,d,!1),U=Bi(D).rows,H=U.slice(T[0].row,T[T.length-1].row+T[T.length-1].rowspan),se=qe(H,function(At){var xt=Re(At.cells,function(Ot){return!Ot.isLocked});return xt.length>0?[Rn(Rn({},At),{cells:xt})]:[]}),Se=bg(se,d);return Xm(Se.length>0,Se)}).map(function(T){return Lw(T)})},S2=tinymce.util.Tools.resolve("tinymce.util.Tools"),g0=function(u,l,d){var h=u.select("td,th",l),C,T=function(D,U){for(var H=0;H<U.length;H++){var se=u.getStyle(U[H],d);if(typeof D=="undefined"&&(D=se),D!==se)return""}return D};return T(C,h)},h0=function(u,l,d){d&&u.formatter.apply("align"+d,{},l)},T2=function(u,l,d){d&&u.formatter.apply("valign"+d,{},l)},wn=function(u,l){S2.each("left center right".split(" "),function(d){u.formatter.remove("align"+d,{},l)})},ei=function(u,l){S2.each("top middle bottom".split(" "),function(d){u.formatter.remove("valign"+d,{},l)})},Tp=function(u){return j(u,"menu")},Io=function(u,l){var d=function(h,C){return C.concat(mt(h,function(T){var D=T.text||T.title;return Tp(T)?{text:D,items:Io(T.menu)}:{text:D,value:T.value}}))};return d(u,l||[])},xu=function(u){return function(l){return Pr(l,"rgb")?u.toHex(l):l}},_g=function(u,l){var d=ue.fromDom(l);return{borderwidth:Hs(d,"border-width").getOr(""),borderstyle:Hs(d,"border-style").getOr(""),bordercolor:Hs(d,"border-color").map(xu(u)).getOr(""),backgroundcolor:Hs(d,"background-color").map(xu(u)).getOr("")}},Iv=function(u){var l=u[0],d=u.slice(1);return fn(d,function(h){fn(at(l),function(C){Dn(h,function(T,D){var U=l[C];U!==""&&C===D&&U!==T&&(l[C]="")})})}),l},om=function(u){var l=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],d={name:"borderwidth",type:"input",label:"Border width"},h=u==="cell"?[d].concat(l):l;return{title:"Advanced",name:"advanced",items:h}},k2=function(u,l,d,h){return we(u,function(C){return d.formatter.matchNode(h,l+C)}).getOr("")},p0=rt(k2,["left","center","right"],"align"),E2=rt(k2,["top","middle","bottom"],"valign"),fT=function(u,l){var d=yf(u),h=Ud(u),C=function(Se){return{borderstyle:Fr(d,"border-style").getOr(""),bordercolor:xu(Se)(Fr(d,"border-color").getOr("")),backgroundcolor:xu(Se)(Fr(d,"background-color").getOr(""))}},T={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},D=function(){var Se=d["border-width"];return Wd(u)&&Se?{border:Se}:Fr(h,"border").fold(function(){return{}},function(At){return{border:At}})},U=l?C(u.dom):{},H=function(){var Se=Fr(d,"border-spacing").or(Fr(h,"cellspacing")).fold(function(){return{}},function(xt){return{cellspacing:xt}}),At=Fr(d,"border-padding").or(Fr(h,"cellpadding")).fold(function(){return{}},function(xt){return{cellpadding:xt}});return Rn(Rn({},Se),At)},se=Rn(Rn(Rn(Rn(Rn(Rn({},T),d),h),U),D()),H());return se},vT=function(u,l,d){var h=function(T,D){var U=Hs(ue.fromDom(D),"border-width");return Wd(u)&&U.isSome()?U.getOr(""):T.getAttrib(D,"border")||g0(u.dom,D,"border-width")||g0(u.dom,D,"border")},C=u.dom;return Rn({width:C.getStyle(l,"width")||C.getAttrib(l,"width"),height:C.getStyle(l,"height")||C.getAttrib(l,"height"),cellspacing:C.getStyle(l,"border-spacing")||C.getAttrib(l,"cellspacing"),cellpadding:C.getAttrib(l,"cellpadding")||g0(u.dom,l,"padding"),border:h(C,l),caption:!!C.select("caption",l)[0],class:C.getAttrib(l,"class",""),align:p0(u,l)},d?_g(C,l):{})},dT=function(u,l,d){var h=u.dom;return Rn({height:h.getStyle(l,"height")||h.getAttrib(l,"height"),class:h.getAttrib(l,"class",""),type:Ag(u,l),align:p0(u,l)},d?_g(h,l):{})},$u=function(u,l,d,h){var C=u.dom,T=h.getOr(l),D=function(U,H){return C.getStyle(U,H)||C.getAttrib(U,H)};return Rn({width:D(T,"width"),height:D(l,"height"),scope:C.getAttrib(l,"scope"),celltype:mv(l),class:C.getAttrib(l,"class",""),halign:p0(u,l),valign:E2(u,l)},d?_g(C,l):{})},mT=function(u){var l=Io(Av(u));return l.length>0?q.some({name:"class",type:"listbox",label:"Class",items:l}):q.none()},im=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"H Align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"V Align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}],Jc=function(u){return im.concat(mT(u).toArray())},zv=function(u){return function(l,d){var h=l.dom,C=function(U,H){(!u||H)&&h.setAttrib(d,U,H)},T=function(U,H){(!u||H)&&h.setStyle(d,U,H)},D=function(U,H){(!u||H)&&(H===""?l.formatter.remove(U,{value:null},d,!0):l.formatter.apply(U,{value:H},d))};return{setAttrib:C,setStyle:T,setFormat:D}}},Dc={normal:zv(!1),ifTruthy:zv(!0)},Bg=function(u){return io(u[0]).map(function(l){var d=V.fromTable(l),h=V.justCells(d),C=Re(h,function(T){return jn(u,function(D){return $t(T.element,D)})});return mt(C,function(T){return{element:T.element.dom,column:V.getColumnAt(d,T.column).map(function(D){return D.element.dom})}})})},kp=function(u,l,d){u.setAttrib("scope",d.scope),u.setAttrib("class",d.class),u.setStyle("height",ja(d.height)),l.setStyle("width",ja(d.width))},b0=function(u,l){u.setFormat("tablecellbackgroundcolor",l.backgroundcolor),u.setFormat("tablecellbordercolor",l.bordercolor),u.setFormat("tablecellborderstyle",l.borderstyle),u.setFormat("tablecellborderwidth",ja(l.borderwidth))},um=function(u,l,d,h){var C=l.length===1,T=Sn(h,function(H,se){return d[se]!==H});if(gr(T)>0&&l.length>=1){var D=io(l[0]);Bg(l).each(function(H){fn(H,function(se){var Se=Og(u,se.element,h.celltype),At=C?Dc.normal(u,Se):Dc.ifTruthy(u,Se),xt=se.column.map(function(Ot){return C?Dc.normal(u,Ot):Dc.ifTruthy(u,Ot)}).getOr(At);kp(At,xt,h),Ub(u)&&b0(At,h),C&&(wn(u,Se),ei(u,Se)),h.halign&&h0(u,Se,h.halign),h.valign&&T2(u,Se,h.valign)})});var U=gr(Sn(T,function(H,se){return se!=="scope"&&se!=="celltype"}))>0;D.each(function(H){return bf(u,H.dom,{structure:wa(T,"celltype"),style:U})})}},Pl=function(u,l,d,h){var C=h.getData();h.close(),u.undoManager.transact(function(){um(u,l,d,C),u.focus()})},y0=function(u,l){var d=Bg(l).map(function(h){return mt(h,function(C){return $u(u,C.element,Ub(u),C.column)})});return Iv(d.getOrDie())},gT=function(u,l){var d=Dg(go(u),l);if(d.length!==0){var h=y0(u,d),C={type:"tabpanel",tabs:[{title:"General",name:"general",items:Jc(u)},om("cell")]},T={type:"panel",items:[{type:"grid",columns:2,items:Jc(u)}]};u.windowManager.open({title:"Cell Properties",size:"normal",body:Ub(u)?C:T,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onSubmit:rt(Pl,u,d,h)})}},_f=function(u){var l=Io(Nw(u));return l.length>0?q.some({name:"class",type:"listbox",label:"Class",items:l}):q.none()},w0=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Rg=function(u){return w0.concat(_f(u).toArray())},Pg=function(u,l){u.setAttrib("class",l.class),u.setStyle("height",ja(l.height))},A2=function(u,l){u.setStyle("background-color",l.backgroundcolor),u.setStyle("border-color",l.bordercolor),u.setStyle("border-style",l.borderstyle)},Lv=function(u,l,d,h){var C=l.length===1,T=Sn(h,function(H,se){return d[se]!==H});if(gr(T)>0){fn(l,function(H){h.type!==mv(H.parentNode)&&p2(u,H,h.type);var se=C?Dc.normal(u,H):Dc.ifTruthy(u,H);Pg(se,h),Tc(u)&&A2(se,h),h.align!==d.align&&(wn(u,H),h0(u,H,h.align))});var D=wa(T,"type"),U=D?gr(T)>1:!0;io(ue.fromDom(l[0])).each(function(H){return bf(u,H.dom,{structure:D,style:U})})}},Li=function(u,l,d,h){var C=h.getData();h.close(),u.undoManager.transact(function(){Lv(u,l,d,C),u.focus()})},nc=function(u){var l=Df(go(u),fo.selected);if(l.length!==0){var d=mt(l,function(D){return dT(u,D.dom,Tc(u))}),h=Iv(d),C={type:"tabpanel",tabs:[{title:"General",name:"general",items:Rg(u)},om("row")]},T={type:"panel",items:[{type:"grid",columns:2,items:Rg(u)}]};u.windowManager.open({title:"Row Properties",size:"normal",body:Tc(u)?C:T,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onSubmit:rt(Li,u,mt(l,function(D){return D.dom}),h)})}},Ns=tinymce.util.Tools.resolve("tinymce.Env"),sm=function(u,l,d){var h=d?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],C=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],T=Pw(u)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],D=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],U=l.length>0?[{type:"listbox",name:"class",label:"Class",items:l}]:[];return h.concat(C).concat(T).concat(D).concat(U)},Hv=function(u,l,d,h){if(l.tagName==="TD"||l.tagName==="TH")S(d)?u.setStyle(l,d,h):u.setStyle(l,d);else if(l.children)for(var C=0;C<l.children.length;C++)Hv(u,l.children[C],d,h)},cm=function(u,l,d){var h=u.dom,C={},T={};if(C.class=d.class,T.height=ja(d.height),h.getAttrib(l,"width")&&!Wd(u)?C.width=vf(d.width):T.width=ja(d.width),Wd(u)?(T["border-width"]=ja(d.border),T["border-spacing"]=ja(d.cellspacing)):(C.border=d.border,C.cellpadding=d.cellpadding,C.cellspacing=d.cellspacing),Wd(u)&&l.children)for(var D=0;D<l.children.length;D++)Hv(h,l.children[D],{"border-width":ja(d.border),padding:ja(d.cellpadding)}),Ji(u)&&Hv(h,l.children[D],{"border-color":d.bordercolor});Ji(u)&&(T["background-color"]=d.backgroundcolor,T["border-color"]=d.bordercolor,T["border-style"]=d.borderstyle),C.style=h.serializeStyle(Rn(Rn({},yf(u)),T)),h.setAttribs(l,Rn(Rn({},Ud(u)),C))},Ep=function(u,l,d,h){var C=u.dom,T,D=h.getData(),U=Sn(D,function(H,se){return d[se]!==H});h.close(),D.class===""&&delete D.class,u.undoManager.transact(function(){if(!l){var H=parseInt(D.cols,10)||1,se=parseInt(D.rows,10)||1;l=Sp(u,H,se,0,0)}if(gr(U)>0&&(cm(u,l,D),T=C.select("caption",l)[0],T&&!D.caption&&C.remove(T),!T&&D.caption&&(T=C.create("caption"),T.innerHTML=Ns.ie?xi:'<br data-mce-bogus="1"/>',l.insertBefore(T,l.firstChild)),D.align===""?wn(u,l):h0(u,l,D.align)),u.focus(),u.addVisual(),gr(U)>0){var Se=wa(U,"caption"),At=Se?gr(U)>1:!0;bf(u,l,{structure:Se,style:At})}})},C0=function(u,l){var d=u.dom,h,C=fT(u,Ji(u));l===!1?(h=d.getParent(u.selection.getStart(),"table"),h?C=vT(u,h,Ji(u)):Ji(u)&&(C.borderstyle="",C.bordercolor="",C.backgroundcolor="")):(C.cols="1",C.rows="1",Ji(u)&&(C.borderstyle="",C.bordercolor="",C.backgroundcolor=""));var T=Io(dg(u));T.length>0&&C.class&&(C.class=C.class.replace(/\s*mce\-item\-table\s*/g,""));var D={type:"grid",columns:2,items:sm(u,T,l)},U=function(){return{type:"panel",items:[D]}},H=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[D]},om("table")]}},se=Ji(u)?H():U();u.windowManager.open({title:"Table Properties",size:"normal",body:se,onSubmit:rt(Ep,u,h,C),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:C})},Ap=function(u){return Kc(go(u))},Op=function(u){return Ec(go(u))},Dp=function(u,l,d,h,C){var T=Fd(u),D=function(){return Ap(u).each(function(nt){io(nt,T).filter(gn(T)).each(function(Rt){var rr=ue.fromText("");if(mu(Rt,rr),nu(Rt),u.dom.isEmpty(u.getBody()))u.setContent(""),u.selection.setCursorLocation();else{var ta=u.dom.createRng();ta.setStart(rr.dom,0),ta.setEnd(rr.dom,0),u.selection.setRng(ta),u.nodeChanged()}})})},U=function(nt){return Ap(u).each(function(Rt){var rr=Cf(u)||jd(u)||Ov(u);rr||io(Rt,T).each(function(ta){nt==="relative"&&!Cb(ta)?gg(u,ta):nt==="fixed"&&!Cv(ta)?hg(u,ta):nt==="responsive"&&!ns(ta)&&Zs(ta),Qu(ta),bf(u,ta.dom,Lt)})})},H=function(nt){return io(nt,T)},se=function(nt){return function(Rt){u.selection.setRng(Rt.rng),u.focus(),d.clear(nt),Qu(nt),bf(u,nt.dom,Rt.effect)}},Se=function(nt){return Op(u).each(function(Rt){H(Rt).each(function(rr){var ta=Id(h,rr,Rt);nt(rr,ta).each(se(rr))})})},At=function(){return Op(u).map(function(nt){return H(nt).bind(function(Rt){var rr=Id(h,Rt,nt),ta=ff(Le,ue.fromDom(u.getDoc()),q.none());return lT(Rt,rr,ta)})})},xt=function(){return Op(u).map(function(nt){return H(nt).bind(function(Rt){var rr=Id(h,Rt,nt);return cT(Rt,rr)})})},Ot=function(nt,Rt){return Rt().each(function(rr){var ta=mt(rr,function(Dr){return rv(Dr)});Op(u).each(function(Dr){return H(Dr).each(function(ca){var Ra=si(ue.fromDom(u.getDoc())),Za=rg(h,Dr,ta,Ra);nt(ca,Za).each(se(ca))})})})};Dn({mceTableSplitCells:function(){return Se(l.unmergeCells)},mceTableMergeCells:function(){return Se(l.mergeCells)},mceTableInsertRowBefore:function(){return Se(l.insertRowsBefore)},mceTableInsertRowAfter:function(){return Se(l.insertRowsAfter)},mceTableInsertColBefore:function(){return Se(l.insertColumnsBefore)},mceTableInsertColAfter:function(){return Se(l.insertColumnsAfter)},mceTableDeleteCol:function(){return Se(l.deleteColumn)},mceTableDeleteRow:function(){return Se(l.deleteRow)},mceTableCutCol:function(nt){return xt().each(function(Rt){C.setColumns(Rt),Se(l.deleteColumn)})},mceTableCutRow:function(nt){return At().each(function(Rt){C.setRows(Rt),Se(l.deleteRow)})},mceTableCopyCol:function(nt){return xt().each(function(Rt){return C.setColumns(Rt)})},mceTableCopyRow:function(nt){return At().each(function(Rt){return C.setRows(Rt)})},mceTablePasteColBefore:function(nt){return Ot(l.pasteColsBefore,C.getColumns)},mceTablePasteColAfter:function(nt){return Ot(l.pasteColsAfter,C.getColumns)},mceTablePasteRowBefore:function(nt){return Ot(l.pasteRowsBefore,C.getRows)},mceTablePasteRowAfter:function(nt){return Ot(l.pasteRowsAfter,C.getRows)},mceTableDelete:D,mceTableSizingMode:function(nt,Rt){return U(Rt)}},function(nt,Rt){return u.addCommand(Rt,nt)});var Ke=function(nt,Rt){Rt.each(function(rr){bf(nt,rr.dom,Lt)})};Dn({mceTableCellType:function(nt,Rt){var rr=io(go(u),T);l.setTableCellType(u,Rt),Ke(u,rr)},mceTableRowType:function(nt,Rt){var rr=io(go(u),T);l.setTableRowType(u,Rt),Ke(u,rr)}},function(nt,Rt){return u.addCommand(Rt,nt)}),u.addCommand("mceTableColType",function(nt,Rt){return Fr(Rt,"type").each(function(rr){return Se(rr==="th"?l.makeColumnsHeader:l.unmakeColumnsHeader)})}),Dn({mceTableProps:rt(C0,u,!1),mceTableRowProps:rt(nc,u),mceTableCellProps:rt(gT,u,h)},function(nt,Rt){return u.addCommand(Rt,function(){return nt()})}),u.addCommand("mceInsertTable",function(nt,Rt){mn(Rt)&&at(Rt).length>0?Fv(u,Rt.rows,Rt.columns,Rt.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):C0(u,!0)}),u.addCommand("mceTableApplyCellStyle",function(nt,Rt){var rr=function(ca){return"tablecell"+ca.toLowerCase().replace("-","")};if(!!mn(Rt)){var ta=Dg(go(u),h);if(ta.length!==0){var Dr=Sn(Rt,function(ca,Ra){return u.formatter.has(rr(Ra))&&S(ca)});Fe(Dr)||(Dn(Dr,function(ca,Ra){fn(ta,function(Za){Dc.normal(u,Za.dom).setFormat(rr(Ra),ca)})}),H(ta[0]).each(function(ca){return bf(u,ca.dom,Lb)}))}}})},x0=function(u,l,d){var h=Fd(u),C=function(T){return io(T,h)};Dn({mceTableRowType:function(){return l.getTableRowType(u)},mceTableCellType:function(){return l.getTableCellType(u)},mceTableColType:function(){return Ec(go(u)).bind(function(T){return C(T).map(function(D){var U=Id(d,D,T);return l.getTableColType(D,U)})}).getOr("")}},function(T,D){return u.addQueryValueHandler(D,T)})},O2=function(){var u=hu(q.none()),l=hu(q.none()),d=function(h){h.set(q.none())};return{getRows:u.get,setRows:function(h){u.set(h),d(l)},clearRows:function(){return d(u)},getColumns:l.get,setColumns:function(h){l.set(h),d(u)},clearColumns:function(){return d(l)}}},S0={tablecellbackgroundcolor:{selector:"td,th",styles:{backgroundColor:"%value"},remove_similar:!0},tablecellbordercolor:{selector:"td,th",styles:{borderColor:"%value"},remove_similar:!0},tablecellborderstyle:{selector:"td,th",styles:{borderStyle:"%value"},remove_similar:!0},tablecellborderwidth:{selector:"td,th",styles:{borderWidth:"%value"},remove_similar:!0}},_p=function(u){u.formatter.register(S0)},$a=Sl.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),_c=function(u){return u===void 0&&(u=void 0),$a.none(u)},Bf=Rn(Rn({},$a),{none:_c}),lm=function(u,l){return io(u,l).bind(function(d){var h=dc(d),C=Ye(h,function(T){return $t(u,T)});return C.map(function(T){return{index:T,all:h}})})},T0=function(u,l){var d=lm(u,l);return d.fold(function(){return Bf.none(u)},function(h){return h.index+1<h.all.length?Bf.middle(u,h.all[h.index+1]):Bf.last(u)})},Rf=function(u,l){var d=lm(u,l);return d.fold(function(){return Bf.none()},function(h){return h.index-1>=0?Bf.middle(u,h.all[h.index-1]):Bf.first(u)})},k0=function(u,l,d,h){return{start:u,soffset:l,finish:d,foffset:h}},Vv={create:k0},Uv=Sl.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),E0=function(u,l,d,h){return u.fold(l,d,h)},D2=function(u){return u.fold(ve,ve,ve)},hT=Uv.before,A0=Uv.on,pT=Uv.after,Hi={before:hT,on:A0,after:pT,cata:E0,getStart:D2},Nl=Sl.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),bT=function(u){return Nl.exact(u.start,u.soffset,u.finish,u.foffset)},yT=function(u){return u.match({domRange:function(l){return ue.fromDom(l.startContainer)},relative:function(l,d){return Hi.getStart(l)},exact:function(l,d,h,C){return l}})},is=Nl.domRange,Vi=Nl.relative,Pf=Nl.exact,O0=function(u){var l=yT(u);return $m(l)},Bp=Vv.create,Zc={domRange:is,relative:Vi,exact:Pf,exactFromRange:bT,getWin:O0,range:Bp},D0=function(u,l){var d=u.document.createRange();return _2(d,l),d},_2=function(u,l){return u.selectNodeContents(l.dom)},fm=function(u,l){l.fold(function(d){u.setStartBefore(d.dom)},function(d,h){u.setStart(d.dom,h)},function(d){u.setStartAfter(d.dom)})},_0=function(u,l){l.fold(function(d){u.setEndBefore(d.dom)},function(d,h){u.setEnd(d.dom,h)},function(d){u.setEndAfter(d.dom)})},B2=function(u,l,d){var h=u.document.createRange();return fm(h,l),_0(h,d),h},Rp=function(u,l,d,h,C){var T=u.document.createRange();return T.setStart(l.dom,d),T.setEnd(h.dom,C),T},va=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom,width:u.width,height:u.height}},B0=function(u){var l=u.getClientRects(),d=l.length>0?l[0]:u.getBoundingClientRect();return d.width>0||d.height>0?q.some(d).map(va):q.none()},Ng=Sl.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),R2=function(u,l,d){return l(ue.fromDom(d.startContainer),d.startOffset,ue.fromDom(d.endContainer),d.endOffset)},vm=function(u,l){return l.match({domRange:function(d){return{ltr:bt(d),rtl:q.none}},relative:function(d,h){return{ltr:Ir(function(){return B2(u,d,h)}),rtl:Ir(function(){return q.some(B2(u,h,d))})}},exact:function(d,h,C,T){return{ltr:Ir(function(){return Rp(u,d,h,C,T)}),rtl:Ir(function(){return q.some(Rp(u,C,T,d,h))})}}})},Mg=function(u,l){var d=l.ltr();if(d.collapsed){var h=l.rtl().filter(function(C){return C.collapsed===!1});return h.map(function(C){return Ng.rtl(ue.fromDom(C.endContainer),C.endOffset,ue.fromDom(C.startContainer),C.startOffset)}).getOrThunk(function(){return R2(u,Ng.ltr,d)})}else return R2(u,Ng.ltr,d)},Wv=function(u,l){var d=vm(u,l);return Mg(u,d)},Fg=function(u,l){var d=Wv(u,l);return d.match({ltr:function(h,C,T,D){var U=u.document.createRange();return U.setStart(h.dom,C),U.setEnd(T.dom,D),U},rtl:function(h,C,T,D){var U=u.document.createRange();return U.setStart(T.dom,D),U.setEnd(h.dom,C),U}})};Ng.ltr,Ng.rtl;var wT=function(u,l,d,h,C){if(C===0)return 0;if(l===h)return C-1;for(var T=h,D=1;D<C;D++){var U=u(D),H=Math.abs(l-U.left);if(d<=U.bottom){if(d<U.top||H>T)return D-1;T=H}}return 0},Pp=function(u,l,d){return l>=u.left&&l<=u.right&&d>=u.top&&d<=u.bottom},CT=function(u,l,d,h,C){var T=function(se){var Se=u.dom.createRange();return Se.setStart(l.dom,se),Se.collapse(!0),Se},D=function(se){var Se=T(se);return Se.getBoundingClientRect()},U=tv(l).length,H=wT(D,d,h,C.right,U);return T(H)},xT=function(u,l,d,h){var C=u.dom.createRange();C.selectNode(l.dom);var T=C.getClientRects(),D=ir(T,function(U){return Pp(U,d,h)?q.some(U):q.none()});return D.map(function(U){return CT(u,l,d,h,U)})},P2=function(u,l,d,h){var C=u.dom.createRange(),T=B(l);return ir(T,function(D){return C.selectNode(D.dom),Pp(C.getBoundingClientRect(),d,h)?R0(u,D,d,h):q.none()})},R0=function(u,l,d,h){return Ba(l)?xT(u,l,d,h):P2(u,l,d,h)},N2=function(u,l,d,h){var C=u.dom.createRange();C.selectNode(l.dom);var T=C.getBoundingClientRect(),D=Math.max(T.left,Math.min(T.right,d)),U=Math.max(T.top,Math.min(T.bottom,h));return R0(u,l,D,U)},M2=!0,ST=!1,P0=function(u,l){return l-u.left<u.right-l?M2:ST},F2=function(u,l,d){var h=u.dom.createRange();return h.selectNode(l.dom),h.collapse(d),h},$2=function(u,l,d){var h=u.dom.createRange();h.selectNode(l.dom);var C=h.getBoundingClientRect(),T=P0(C,d),D=T===M2?Md:ng;return D(l).map(function(U){return F2(u,U,T)})},Bn=function(u,l,d){var h=l.dom.getBoundingClientRect(),C=P0(h,d);return q.some(F2(u,l,C))},TT=function(u,l,d){var h=B(l).length===0?Bn:$2;return h(u,l,d)},Ml=function(u,l,d){return q.from(u.dom.caretPositionFromPoint(l,d)).bind(function(h){if(h.offsetNode===null)return q.none();var C=u.dom.createRange();return C.setStart(h.offsetNode,h.offset),C.collapse(),q.some(C)})},Qc=function(u,l,d){return q.from(u.dom.caretRangeFromPoint(l,d))},Np=function(u,l,d,h){var C=u.dom.createRange();C.selectNode(l.dom);var T=C.getBoundingClientRect(),D=Math.max(T.left,Math.min(T.right,d)),U=Math.max(T.top,Math.min(T.bottom,h));return N2(u,l,D,U)},Iu=function(u,l,d){return ue.fromPoint(u,l,d).bind(function(h){var C=function(){return TT(u,h,l)};return B(h).length===0?C():Np(u,h,l,d).orThunk(C)})},Mp=function(){return document.caretPositionFromPoint?Ml:document.caretRangeFromPoint?Qc:Iu}(),jv=function(u,l,d){var h=ue.fromDom(u.document);return Mp(h,l,d).map(function(C){return Vv.create(ue.fromDom(C.startContainer),C.startOffset,ue.fromDom(C.endContainer),C.endOffset)})},Fl=function(u,l){var d=Ln(u);return d==="input"?Hi.after(u):zn(["br","img"],d)?l===0?Hi.before(u):Hi.after(u):Hi.on(u,l)},qv=function(u,l){var d=u.fold(Hi.before,Fl,Hi.after),h=l.fold(Hi.before,Fl,Hi.after);return Zc.relative(d,h)},Fp=function(u,l,d,h){var C=Fl(u,l),T=Fl(d,h);return Zc.relative(C,T)},kT=function(u){return u.match({domRange:function(l){var d=ue.fromDom(l.startContainer),h=ue.fromDom(l.endContainer);return Fp(d,l.startOffset,h,l.endOffset)},relative:qv,exact:Fp})},N0=function(u,l,d,h){var C=fu(u),T=C.dom.createRange();return T.setStart(u.dom,l),T.setEnd(d.dom,h),T},ET=function(u,l,d,h){var C=N0(u,l,d,h),T=$t(u,d)&&l===h;return C.collapsed&&!T},Jr=function(u){return q.from(u.getSelection())},Ms=function(u,l){Jr(u).each(function(d){d.removeAllRanges(),d.addRange(l)})},Nf=function(u,l,d,h,C){var T=Rp(u,l,d,h,C);Ms(u,T)},AT=function(u,l,d,h,C,T){l.collapse(d.dom,h),l.extend(C.dom,T)},Mf=function(u,l){return Wv(u,l).match({ltr:function(d,h,C,T){Nf(u,d,h,C,T)},rtl:function(d,h,C,T){Jr(u).each(function(D){if(D.setBaseAndExtent)D.setBaseAndExtent(d.dom,h,C.dom,T);else if(D.extend)try{AT(u,D,d,h,C,T)}catch{Nf(u,C,T,d,h)}else Nf(u,C,T,d,h)})}})},aa=function(u,l,d,h,C){var T=Fp(l,d,h,C);Mf(u,T)},$g=function(u,l,d){var h=qv(l,d);Mf(u,h)},Ig=function(u){var l=Zc.getWin(u).dom,d=function(C,T,D,U){return Rp(l,C,T,D,U)},h=kT(u);return Wv(l,h).match({ltr:d,rtl:d})},Ff=function(u){if(u.rangeCount>0){var l=u.getRangeAt(0),d=u.getRangeAt(u.rangeCount-1);return q.some(Vv.create(ue.fromDom(l.startContainer),l.startOffset,ue.fromDom(d.endContainer),d.endOffset))}else return q.none()},dm=function(u){if(u.anchorNode===null||u.focusNode===null)return Ff(u);var l=ue.fromDom(u.anchorNode),d=ue.fromDom(u.focusNode);return ET(l,u.anchorOffset,d,u.focusOffset)?q.some(Vv.create(l,u.anchorOffset,d,u.focusOffset)):Ff(u)},$p=function(u,l){var d=D0(u,l);Ms(u,d)},Gv=function(u){return Jr(u).filter(function(l){return l.rangeCount>0}).bind(dm)},M0=function(u){return Gv(u).map(function(l){return Zc.exact(l.start,l.soffset,l.finish,l.foffset)})},I2=function(u,l){var d=Fg(u,l);return B0(d)},OT=function(u,l,d){return jv(u,l,d)},DT=function(u){Jr(u).each(function(l){return l.removeAllRanges()})},zg=tinymce.util.Tools.resolve("tinymce.util.VK"),mm=function(u,l,d,h){return z2(u,l,T0(d),h)},_T=function(u,l,d,h){return z2(u,l,Rf(d),h)},Lg=function(u,l){var d=Zc.exact(l,0,l,0);return Ig(d)},BT=function(u,l){var d=Na(l,"tr");return St(d).bind(function(h){return Eu(h,"td,th").map(function(C){return Lg(u,C)})})},z2=function(u,l,d,h){return d.fold(q.none,q.none,function(C,T){return Md(T).map(function(D){return Lg(u,D)})},function(C){return io(C,l).bind(function(T){var D=db(C);return u.undoManager.transact(function(){h.insertRowsAfter(T,D)}),BT(u,T)})})},RT=["table","li","dl"],F0=function(u,l,d){if(u.keyCode===zg.TAB){var h=yc(l),C=function(U){var H=Ln(U);return $t(U,h)||zn(RT,H)},T=l.selection.getRng();if(T.collapsed){var D=ue.fromDom(T.startContainer);Jo(D,C).each(function(U){u.preventDefault();var H=u.shiftKey?_T:mm,se=H(l,C,U,d);se.each(function(Se){l.selection.setRng(Se)})})}}},PT=function(u,l){return{selection:u,kill:l}},gm={create:PT},$0=function(u,l,d,h){return{start:Hi.on(u,l),finish:Hi.on(d,h)}},Hg={create:$0},Ip=function(u,l){var d=Fg(u,l);return Vv.create(ue.fromDom(d.startContainer),d.startOffset,ue.fromDom(d.endContainer),d.endOffset)},Kv=Hg.create,L2=function(u,l,d,h,C,T,D){return $t(d,C)&&h===T?q.none():fa(d,"td,th",l).bind(function(U){return fa(C,"td,th",l).bind(function(H){return Vg(u,l,U,H,D)})})},Vg=function(u,l,d,h,C){return $t(d,h)?q.none():zc(d,h,l).bind(function(T){var D=T.boxes.getOr([]);return D.length>0?(C(u,D,T.start,T.finish),q.some(gm.create(q.some(Kv(d,0,d,cf(d))),!0))):q.none()})},I0=function(u,l,d,h,C){var T=function(D){return C.clearBeforeUpdate(d),C.selectRange(d,D.boxes,D.start,D.finish),D.boxes};return Gm(h,u,l,C.firstSelectedSelector,C.lastSelectedSelector).map(T)},Xv=function(u,l){return{item:u,mode:l}},z0=function(u,l,d,h){return h===void 0&&(h=Yv),u.property().parent(l).map(function(C){return Xv(C,h)})},Yv=function(u,l,d,h){return h===void 0&&(h=Ug),d.sibling(u,l).map(function(C){return Xv(C,h)})},Ug=function(u,l,d,h){h===void 0&&(h=Ug);var C=u.property().children(l),T=d.first(C);return T.map(function(D){return Xv(D,h)})},H2=[{current:z0,next:Yv,fallback:q.none()},{current:Yv,next:Ug,fallback:q.some(z0)},{current:Ug,next:Ug,fallback:q.some(Yv)}],L0=function(u,l,d,h,C){C===void 0&&(C=H2);var T=we(C,function(D){return D.current===d});return T.bind(function(D){return D.current(u,l,h,D.next).orThunk(function(){return D.fallback.bind(function(U){return L0(u,l,U,h)})})})},V2=function(){var u=function(d,h){return d.query().prevSibling(h)},l=function(d){return d.length>0?q.some(d[d.length-1]):q.none()};return{sibling:u,first:l}},Wg=function(){var u=function(d,h){return d.query().nextSibling(h)},l=function(d){return d.length>0?q.some(d[0]):q.none()};return{sibling:u,first:l}},H0={left:V2,right:Wg},V0=function(u,l,d,h,C,T){var D=L0(u,l,h,C);return D.bind(function(U){return T(U.item)?q.none():d(U.item)?q.some(U.item):V0(u,U.item,d,U.mode,C,T)})},U2=function(u,l,d,h){return V0(u,l,d,Yv,H0.left(),h)},U0=function(u,l,d,h){return V0(u,l,d,Yv,H0.right(),h)},W2=function(u){return function(l){return u.property().children(l).length===0}},NT=function(u,l,d){return zp(u,l,W2(u),d)},MT=function(u,l,d){return j2(u,l,W2(u),d)},zp=U2,j2=U0,Jv=Wm(),W0=function(u,l){return NT(Jv,u,l)},q2=function(u,l){return MT(Jv,u,l)},G2=function(u,l,d){return zp(Jv,u,l,d)},K2=function(u,l,d){return j2(Jv,u,l,d)},Lp=function(u,l,d){return Xo(u,l,d).isSome()},Hp=Sl.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),FT=function(u,l,d){var h=u.getRect(l),C=u.getRect(d);return C.right>h.left&&C.left<h.right},$T=function(u){return fa(u,"tr")},IT=function(u,l,d,h,C,T,D){return fa(h,"td,th",D).bind(function(U){return fa(l,"td,th",D).map(function(H){return $t(U,H)?$t(h,U)&&cf(U)===C?T(H):Hp.none("in same cell"):Ic($T,[U,H]).fold(function(){return FT(u,H,U)?Hp.success():T(H)},function(se){return T(H)})})}).getOr(Hp.none("default"))},Vp=function(u,l,d,h,C){return u.fold(l,d,h,C)},hm=Rn(Rn({},Hp),{verify:IT,cata:Vp}),zT=function(u,l,d,h){return{parent:u,children:l,element:d,index:h}},Up=function(u){return Di(u).bind(function(l){var d=B(l);return LT(d,u).map(function(h){return zT(l,d,u,h)})})},LT=function(u,l){return Ye(u,rt($t,l))},jg=function(u){return Ln(u)==="br"},Wp=function(u,l,d){return l(u,d).bind(function(h){return Ba(h)&&tv(h).trim().length===0?Wp(h,l,d):q.some(h)})},j0=function(u,l,d){return d.traverse(l).orThunk(function(){return Wp(l,d.gather,u)}).map(d.relative)},q0=function(u,l){return oe(u,l).filter(jg).orThunk(function(){return oe(u,l-1).filter(jg)})},X2=function(u,l,d,h){return q0(l,d).bind(function(C){return h.traverse(C).fold(function(){return Wp(C,h.gather,u).map(h.relative)},function(T){return Up(T).map(function(D){return Hi.on(D.parent,D.index)})})})},Y2=function(u,l,d,h){var C=jg(l)?j0(u,l,h):X2(u,l,d,h);return C.map(function(T){return{start:T,finish:T}})},HT=function(u){return hm.cata(u,function(l){return q.none()},function(){return q.none()},function(l){return q.some(Gd(l,0))},function(l){return q.some(Gd(l,cf(l)))})},Zv=function(u,l){return{left:u.left,top:u.top+l,right:u.right,bottom:u.bottom+l}},qg=function(u,l){return{left:u.left,top:u.top-l,right:u.right,bottom:u.bottom-l}},G0=function(u,l,d){return{left:u.left+l,top:u.top+d,right:u.right+l,bottom:u.bottom+d}},Gg=function(u){return u.top},J2=function(u){return u.bottom},K0=function(u,l,d){return d>=0&&d<cf(l)?u.getRangedRect(l,d,l,d+1):d>0?u.getRangedRect(l,d-1,l,d):q.none()},jp=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom}},Z2=function(u,l){return q.some(u.getRect(l))},X0=function(u,l,d){return Ls(l)?Z2(u,l).map(jp):Ba(l)?K0(u,l,d).map(jp):q.none()},Q2=function(u,l){return Ls(l)?Z2(u,l).map(jp):Ba(l)?u.getRangedRect(l,0,l,cf(l)).map(jp):q.none()},$l=5,VT=100,el=Sl.generate([{none:[]},{retry:["caret"]}]),UT=function(u,l){return u.left<l.left||Math.abs(l.right-u.left)<1||u.left>l.right},eC=function(u,l,d){return yd(l,r0).fold(Ct,function(h){return Q2(u,h).exists(function(C){return UT(d,C)})})},Kg=function(u,l,d,h,C){var T=Zv(C,$l);return Math.abs(d.bottom-h.bottom)<1||d.top>C.bottom?el.retry(T):d.top===C.bottom?el.retry(Zv(C,1)):eC(u,l,C)?el.retry(G0(T,$l,0)):el.none()},Y0=function(u,l,d,h,C){var T=qg(C,$l);return Math.abs(d.top-h.top)<1||d.bottom<C.top?el.retry(T):d.bottom===C.top?el.retry(qg(C,1)):eC(u,l,C)?el.retry(G0(T,$l,0)):el.none()},qp={point:Gg,adjuster:Y0,move:qg,gather:W0},tC={point:J2,adjuster:Kg,move:Zv,gather:q2},Xg=function(u,l,d){return u.elementFromPoint(l,d).filter(function(h){return Ln(h)==="table"}).isSome()},WT=function(u,l,d,h,C){return J0(u,l,d,l.move(h,$l),C)},J0=function(u,l,d,h,C){return C===0?q.some(h):Xg(u,h.left,l.point(h))?WT(u,l,d,h,C-1):u.situsFromPoint(h.left,l.point(h)).bind(function(T){return T.start.fold(q.none,function(D){return Q2(u,D).bind(function(U){return l.adjuster(u,D,U,d,h).fold(q.none,function(H){return J0(u,l,d,H,C-1)})}).orThunk(function(){return q.some(h)})},q.none)})},jT=function(u,l){return u.situsFromPoint(l.left,l.bottom+$l)},qT=function(u,l){return u.situsFromPoint(l.left,l.top-$l)},GT=function(u,l,d){return u.point(l)>d.getInnerHeight()?q.some(u.point(l)-d.getInnerHeight()):u.point(l)<0?q.some(-u.point(l)):q.none()},nC=function(u,l,d){var h=u.move(d,$l),C=J0(l,u,d,h,VT).getOr(h);return GT(u,C,l).fold(function(){return l.situsFromPoint(C.left,u.point(C))},function(T){return l.scrollBy(0,T),l.situsFromPoint(C.left,u.point(C)-T)})},pm={tryUp:rt(nC,qp),tryDown:rt(nC,tC),ieTryUp:qT,ieTryDown:jT,getJumpSize:bt($l)},rC=20,Gp=function(u,l,d){return u.getSelection().bind(function(h){return Y2(l,h.finish,h.foffset,d).fold(function(){return q.some(Gd(h.finish,h.foffset))},function(C){var T=u.fromSitus(C),D=hm.verify(u,h.finish,h.foffset,T.finish,T.foffset,d.failure,l);return HT(D)})})},Kp=function(u,l,d,h,C,T){return T===0?q.none():KT(u,l,d,h,C).bind(function(D){var U=u.fromSitus(D),H=hm.verify(u,d,h,U.finish,U.foffset,C.failure,l);return hm.cata(H,function(){return q.none()},function(){return q.some(D)},function(se){return $t(d,se)&&h===0?aC(u,d,h,qg,C):Kp(u,l,se,0,C,T-1)},function(se){return $t(d,se)&&h===cf(se)?aC(u,d,h,Zv,C):Kp(u,l,se,cf(se),C,T-1)})})},aC=function(u,l,d,h,C){return X0(u,l,d).bind(function(T){return oC(u,C,h(T,pm.getJumpSize()))})},oC=function(u,l,d){var h=Vo().browser;return h.isChrome()||h.isSafari()||h.isFirefox()||h.isEdge()?l.otherRetry(u,d):h.isIE()?l.ieRetry(u,d):q.none()},KT=function(u,l,d,h,C){return X0(u,d,h).bind(function(T){return oC(u,C,T)})},Qv=function(u,l,d){return Gp(u,l,d).bind(function(h){return Kp(u,l,h.element,h.offset,d,rC).map(u.fromSitus)})},XT=function(u,l){return Lp(u,function(d){return Di(d).exists(function(h){return $t(h,l)})})},iC=function(u,l,d,h,C){return fa(h,"td,th",l).bind(function(T){return fa(T,"table",l).bind(function(D){return XT(C,D)?Qv(u,l,d).bind(function(U){return fa(U.finish,"td,th",l).map(function(H){return{start:T,finish:H,range:U}})}):q.none()})})},Xp=function(u,l,d,h,C,T){return Vo().browser.isIE()?q.none():T(h,l).orThunk(function(){return iC(u,l,d,h,C).map(function(D){var U=D.range;return gm.create(q.some(Kv(U.start,U.soffset,U.finish,U.foffset)),!0)})})},YT=function(u,l){return fa(u,"tr",l).bind(function(d){return fa(d,"table",l).bind(function(h){var C=Na(h,"tr");return $t(d,C[0])?G2(h,function(T){return ng(T).isSome()},l).map(function(T){var D=cf(T);return gm.create(q.some(Kv(T,D,T,D)),!0)}):q.none()})})},uC=function(u,l){return fa(u,"tr",l).bind(function(d){return fa(d,"table",l).bind(function(h){var C=Na(h,"tr");return $t(d,C[C.length-1])?K2(h,function(T){return Md(T).isSome()},l).map(function(T){return gm.create(q.some(Kv(T,0,T,0)),!0)}):q.none()})})},Z0=function(u,l,d,h,C,T,D){return iC(u,d,h,C,T).bind(function(U){return Vg(l,d,U.start,U.finish,D)})},sC=function(){var u=hu(q.none()),l=function(){return u.set(q.none())},d=function(T){return u.set(q.some(T))},h=function(){return u.get().isSome()},C=function(T){return u.get().each(T)};return{clear:l,set:d,isSet:h,on:C}},Q0=function(u,l){return fa(u,"td,th",l)},JT=function(u,l,d,h){var C=sC(),T=C.clear,D=function(Se){C.on(function(At){h.clearBeforeUpdate(l),Q0(Se.target,d).each(function(xt){zc(At,xt,d).each(function(Ot){var Ke=Ot.boxes.getOr([]);(Ke.length>1||Ke.length===1&&!$t(At,xt))&&(h.selectRange(l,Ke,Ot.start,Ot.finish),u.selectContents(xt))})})})},U=function(Se){h.clear(l),Q0(Se.target,d).each(C.set)},H=function(Se){D(Se)},se=function(Se){D(Se),T()};return{clearstate:T,mousedown:U,mouseover:H,mouseup:se}},cC={traverse:fc,gather:q2,relative:Hi.before,otherRetry:pm.tryDown,ieRetry:pm.ieTryDown,failure:hm.failedDown},lC={traverse:bo,gather:W0,relative:Hi.before,otherRetry:pm.tryUp,ieRetry:pm.ieTryUp,failure:hm.failedUp},$f=function(u){return function(l){return l===u}},ey=$f(38),ed=$f(40),ty=function(u){return u>=37&&u<=40},br={isBackward:$f(37),isForward:$f(39)},rc={isBackward:$f(39),isForward:$f(37)},ny=function(u){var l=u!==void 0?u.dom:document,d=l.body.scrollLeft||l.documentElement.scrollLeft,h=l.body.scrollTop||l.documentElement.scrollTop;return Yu(d,h)},ry=function(u,l,d){var h=d!==void 0?d.dom:document,C=h.defaultView;C&&C.scrollBy(u,l)},ay=function(u){var l=function(nt,Rt){return ue.fromPoint(ue.fromDom(u.document),nt,Rt)},d=function(nt){return nt.dom.getBoundingClientRect()},h=function(nt,Rt,rr,ta){var Dr=Zc.exact(nt,Rt,rr,ta);return I2(u,Dr)},C=function(){return M0(u).map(function(nt){return Ip(u,nt)})},T=function(nt){var Rt=Zc.relative(nt.start,nt.finish);return Ip(u,Rt)},D=function(nt,Rt){return OT(u,nt,Rt).map(function(rr){return Hg.create(rr.start,rr.soffset,rr.finish,rr.foffset)})},U=function(){DT(u)},H=function(nt){nt===void 0&&(nt=!1),M0(u).each(function(Rt){return Rt.fold(function(rr){return rr.collapse(nt)},function(rr,ta){var Dr=nt?rr:ta;$g(u,Dr,Dr)},function(rr,ta,Dr,ca){var Ra=nt?rr:Dr,Za=nt?ta:ca;aa(u,Ra,Za,Ra,Za)})})},se=function(nt){$p(u,nt)},Se=function(nt){aa(u,nt.start,nt.soffset,nt.finish,nt.foffset)},At=function(nt,Rt){$g(u,nt,Rt)},xt=function(){return u.innerHeight},Ot=function(){var nt=ny(ue.fromDom(u.document));return nt.top},Ke=function(nt,Rt){ry(nt,Rt,ue.fromDom(u.document))};return{elementFromPoint:l,getRect:d,getRangedRect:h,getSelection:C,fromSitus:T,situsFromPoint:D,clearSelection:U,collapseSelection:H,setSelection:Se,setRelativeSelection:At,selectContents:se,getInnerHeight:xt,getScrollY:Ot,scrollBy:Ke}},td=function(u,l){return{rows:u,cols:l}},Yp=function(u,l,d,h){var C=ay(u),T=JT(C,l,d,h);return{clearstate:T.clearstate,mousedown:T.mousedown,mouseover:T.mouseover,mouseup:T.mouseup}},fC=function(u,l,d,h){var C=ay(u),T=function(){return h.clear(l),q.none()},D=function(H,se,Se,At,xt,Ot){var Ke=H.raw,nt=Ke.which,Rt=Ke.shiftKey===!0,rr=ru(l,h.selectedSelector).fold(function(){return ed(nt)&&Rt?rt(Z0,C,l,d,cC,At,se,h.selectRange):ey(nt)&&Rt?rt(Z0,C,l,d,lC,At,se,h.selectRange):ed(nt)?rt(Xp,C,d,cC,At,se,uC):ey(nt)?rt(Xp,C,d,lC,At,se,YT):q.none},function(ta){var Dr=function(ca){return function(){var Ra=ir(ca,function(Za){return I0(Za.rows,Za.cols,l,ta,h)});return Ra.fold(function(){return xs(l,h.firstSelectedSelector,h.lastSelectedSelector).map(function(Za){var If=ed(nt)||Ot.isForward(nt)?Hi.after:Hi.before;return C.setRelativeSelection(Hi.on(Za.first,0),If(Za.table)),h.clear(l),gm.create(q.none(),!0)})},function(Za){return q.some(gm.create(q.none(),!0))})}};return ed(nt)&&Rt?Dr([td(1,0)]):ey(nt)&&Rt?Dr([td(-1,0)]):Ot.isBackward(nt)&&Rt?Dr([td(0,-1),td(-1,0)]):Ot.isForward(nt)&&Rt?Dr([td(0,1),td(1,0)]):ty(nt)&&Rt===!1?T:q.none});return rr()},U=function(H,se,Se,At,xt){return ru(l,h.selectedSelector).fold(function(){var Ot=H.raw,Ke=Ot.which,nt=Ot.shiftKey===!0;return nt===!1?q.none():ty(Ke)?L2(l,d,se,Se,At,xt,h.selectRange):q.none()},q.none)};return{keydown:D,keyup:U}},ZT=function(u,l,d,h){var C=ay(u);return function(T,D){h.clearBeforeUpdate(l),zc(T,D,d).each(function(U){var H=U.boxes.getOr([]);h.selectRange(l,H,U.start,U.finish),C.selectContents(D),C.collapseSelection()})}},oy=function(u,l){fn(l,function(d){Xi(u,d)})},Mr=function(u){return function(l){Ys(l,u)}},QT=function(u){return function(l){oy(l,u)}},qr=function(u){var l=Mr(u.selected),d=QT([u.selected,u.lastSelected,u.firstSelected]),h=function(T){var D=Na(T,u.selectedSelector);fn(D,d)},C=function(T,D,U,H){h(T),fn(D,l),Ys(U,u.firstSelected),Ys(H,u.lastSelected)};return{clearBeforeUpdate:h,clear:h,selectRange:C,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},Yg=function(u,l,d){var h=function(H){Zt(H,u.selected),Zt(H,u.firstSelected),Zt(H,u.lastSelected)},C=function(H){Mo(H,u.selected,"1")},T=function(H){D(H),d()},D=function(H){var se=Na(H,u.selectedSelector);fn(se,h)},U=function(H,se,Se,At){T(H),fn(se,C),Mo(Se,u.firstSelected,"1"),Mo(At,u.lastSelected,"1"),l(se,Se,At)};return{clearBeforeUpdate:D,clear:T,selectRange:U,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},ek={byClass:qr,byAttr:Yg},vC=function(u,l,d){var h=u.slice(0,l[l.length-1].row+1),C=bg(h,d);return qe(C,function(T){var D=T.cells.slice(0,l[l.length-1].column+1);return mt(D,function(U){return U.element})})},tk=function(u,l,d){var h=u.slice(l[0].row+l[0].rowspan-1,u.length),C=bg(h,d);return qe(C,function(T){var D=T.cells.slice(l[0].column+l[0].colspan-1,T.cells.length);return mt(D,function(U){return U.element})})},nk=function(u,l,d){var h=V.fromTable(u),C=xf(h,l);return C.map(function(T){var D=_v(h,d,!1),U=vC(D,T,d),H=tk(D,T,d);return{upOrLeftCells:U,downOrRightCells:H}})},iy=function(u){return Uc(ue.fromDom(u.target),"ephox-snooker-resizer-bar")===!1};function rk(u,l,d){var h=function(D,U,H){d.targets().each(function(se){var Se=io(U);Se.each(function(At){var xt=kc(u),Ot=ff(Le,ue.fromDom(u.getDoc()),xt),Ke=nk(At,se,Ot);kS(u,D,U,H,Ke)})})},C=function(){return Mu(u)},T=ek.byAttr(fo,h,C);return u.on("init",function(D){var U=u.getWin(),H=yc(u),se=Fd(u),Se=function(){var ha=u.selection,Si=ue.fromDom(ha.getStart()),Ti=ue.fromDom(ha.getEnd()),us=Ic(io,[Si,Ti]);us.fold(function(){return T.clear(H)},Le)},At=Yp(U,H,se,T),xt=fC(U,H,se,T),Ot=ZT(U,H,se,T),Ke=function(ha){return ha.raw.shiftKey===!0};u.on("TableSelectorChange",function(ha){return Ot(ha.start,ha.finish)});var nt=function(ha,Si){!Ke(ha)||(Si.kill&&ha.kill(),Si.selection.each(function(Ti){var us=Zc.relative(Ti.start,Ti.finish),Qa=Fg(U,us);u.selection.setRng(Qa)}))},Rt=function(ha){var Si=Dl(ha);if(Si.raw.shiftKey&&ty(Si.raw.which)){var Ti=u.selection.getRng(),us=ue.fromDom(Ti.startContainer),Qa=ue.fromDom(Ti.endContainer);xt.keyup(Si,us,Ti.startOffset,Qa,Ti.endOffset).each(function(mi){nt(Si,mi)})}},rr=function(ha){var Si=Dl(ha);l().each(function(gi){return gi.hideBars()});var Ti=u.selection.getRng(),us=ue.fromDom(Ti.startContainer),Qa=ue.fromDom(Ti.endContainer),mi=tw(br,rc)(ue.fromDom(u.selection.getStart()));xt.keydown(Si,us,Ti.startOffset,Qa,Ti.endOffset,mi).each(function(gi){nt(Si,gi)}),l().each(function(gi){return gi.showBars()})},ta=function(ha){return ha.button===0},Dr=function(ha){return ha.buttons===void 0||Ns.browser.isEdge()&&ha.buttons===0?!0:(ha.buttons&1)!==0},ca=function(ha){At.clearstate()},Ra=function(ha){ta(ha)&&iy(ha)&&At.mousedown(Dl(ha))},Za=function(ha){Dr(ha)&&iy(ha)&&At.mouseover(Dl(ha))},If=function(ha){ta(ha)&&iy(ha)&&At.mouseup(Dl(ha))},bm=function(){var ha=hu(ue.fromDom(H)),Si=hu(0),Ti=function(us){var Qa=ue.fromDom(us.target);if(Ln(Qa)==="td"||Ln(Qa)==="th"){var mi=ha.get(),gi=Si.get();$t(mi,Qa)&&us.timeStamp-gi<300&&(us.preventDefault(),Ot(Qa,Qa))}ha.set(Qa),Si.set(us.timeStamp)};return{touchEnd:Ti}},Il=bm();u.on("dragstart",ca),u.on("mousedown",Ra),u.on("mouseover",Za),u.on("mouseup",If),u.on("touchend",Il.touchEnd),u.on("keyup",Rt),u.on("keydown",rr),u.on("NodeChange",Se)}),{clear:T.clear}}var ak=function(u,l){var d=hu(q.none()),h=hu([]),C=q.none(),T=ds("caption"),D=function(Dr){return C.forall(function(ca){return!ca[Dr]})},U=function(){return Kc(go(u)).bind(function(Dr){var ca=io(Dr);return ca.map(function(Ra){return T(Dr)?db(Dr):Id(l,Ra,Dr)})})},H=function(Dr){var ca=io(Dr.element);return ca.map(function(Ra){var Za=V.fromTable(Ra),If=xf(Za,Dr).getOr([]),bm=kt(If,function(Il,ha){return ha.isLocked&&(Il.onAny=!0,ha.column===0?Il.onFirst=!0:ha.column+ha.colspan>=Za.grid.columns&&(Il.onLast=!0)),Il},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Sf(Za,Dr).isSome(),unmergeable:jw(Za,Dr).isSome(),locked:bm}})},se=function(){d.set(Ir(U)()),C=d.get().bind(H),fn(h.get(),function(Dr){return Dr()})},Se=function(Dr,ca){var Ra=function(){return d.get().fold(function(){Dr.setDisabled(!0)},function(Za){Dr.setDisabled(ca(Za))})};return Ra(),h.set(h.get().concat([Ra])),function(){h.set(Re(h.get(),function(Za){return Za!==Ra}))}},At=function(Dr){return C.exists(function(ca){return ca.locked[Dr]})},xt=function(Dr){return Se(Dr,function(ca){return!1})},Ot=function(Dr){return Se(Dr,function(ca){return T(ca.element)})},Ke=function(Dr){return function(ca){return Se(ca,function(Ra){return T(Ra.element)||At(Dr)})}},nt=function(Dr){return function(ca){return Se(ca,function(Ra){return T(Ra.element)||Dr().isNone()})}},Rt=function(Dr,ca){return function(Ra){return Se(Ra,function(Za){return T(Za.element)||Dr().isNone()||At(ca)})}},rr=function(Dr){return Se(Dr,function(ca){return D("mergeable")})},ta=function(Dr){return Se(Dr,function(ca){return D("unmergeable")})};return u.on("NodeChange ExecCommand TableSelectorChange",se),{onSetupTable:xt,onSetupCellOrRow:Ot,onSetupColumn:Ke,onSetupPasteable:nt,onSetupPasteableColumn:Rt,onSetupMergeable:rr,onSetupUnmergeable:ta,resetTargets:se,targets:function(){return d.get()}}},Br=function(u,l,d){u.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(C){return C("inserttable | cell row column | advtablesort | tableprops deletetable")}});var h=function(C){return function(){return u.execCommand(C)}};u.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:h("mceTableProps"),icon:"table",onSetup:l.onSetupTable}),u.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:h("mceTableDelete"),icon:"table-delete-table",onSetup:l.onSetupTable}),u.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:h("mceTableCellProps"),icon:"table-cell-properties",onSetup:l.onSetupCellOrRow}),u.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:h("mceTableMergeCells"),icon:"table-merge-cells",onSetup:l.onSetupMergeable}),u.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:h("mceTableSplitCells"),icon:"table-split-cells",onSetup:l.onSetupUnmergeable}),u.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:h("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:l.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:h("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:l.onSetupCellOrRow}),u.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:h("mceTableDeleteRow"),icon:"table-delete-row",onSetup:l.onSetupCellOrRow}),u.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:h("mceTableRowProps"),icon:"table-row-properties",onSetup:l.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:h("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:l.onSetupColumn("onFirst")}),u.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:h("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:l.onSetupColumn("onLast")}),u.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:h("mceTableDeleteCol"),icon:"table-delete-column",onSetup:l.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:h("mceTableCutRow"),onSetup:l.onSetupCellOrRow}),u.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:h("mceTableCopyRow"),onSetup:l.onSetupCellOrRow}),u.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:h("mceTablePasteRowBefore"),onSetup:l.onSetupPasteable(d.getRows)}),u.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:h("mceTablePasteRowAfter"),onSetup:l.onSetupPasteable(d.getRows)}),u.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:h("mceTableCutCol"),onSetup:l.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:h("mceTableCopyCol"),onSetup:l.onSetupColumn("onAny")}),u.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:h("mceTablePasteColBefore"),onSetup:l.onSetupPasteableColumn(d.getColumns,"onFirst")}),u.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:h("mceTablePasteColAfter"),onSetup:l.onSetupPasteableColumn(d.getColumns,"onLast")}),u.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:h("mceInsertTable"),icon:"table"})},dC=function(u){var l=function(h){return u.dom.is(h,"table")&&u.getBody().contains(h)},d=Wb(u);d.length>0&&u.ui.registry.addContextToolbar("table",{predicate:l,items:d,scope:"node",position:"node"})},uy=function(u,l,d){var h=function(Se){return function(){return u.execCommand(Se)}},C=function(Se){u.execCommand("mceInsertTable",!1,{rows:Se.numRows,columns:Se.numColumns})},T={text:"Table properties",onSetup:l.onSetupTable,onAction:h("mceTableProps")},D={text:"Delete table",icon:"table-delete-table",onSetup:l.onSetupTable,onAction:h("mceTableDelete")};u.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:h("mceTableInsertRowBefore"),onSetup:l.onSetupCellOrRow}),u.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:h("mceTableInsertRowAfter"),onSetup:l.onSetupCellOrRow}),u.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:h("mceTableDeleteRow"),onSetup:l.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:h("mceTableRowProps"),onSetup:l.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:h("mceTableCutRow"),onSetup:l.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:h("mceTableCopyRow"),onSetup:l.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:h("mceTablePasteRowBefore"),onSetup:l.onSetupPasteable(d.getRows)}),u.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:h("mceTablePasteRowAfter"),onSetup:l.onSetupPasteable(d.getRows)});var U={type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return"tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter"}};u.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:h("mceTableInsertColBefore"),onSetup:l.onSetupColumn("onFirst")}),u.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:h("mceTableInsertColAfter"),onSetup:l.onSetupColumn("onLast")}),u.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:h("mceTableDeleteCol"),onSetup:l.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:h("mceTableCutCol"),onSetup:l.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:h("mceTableCopyCol"),onSetup:l.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:h("mceTablePasteColBefore"),onSetup:l.onSetupPasteableColumn(d.getColumns,"onFirst")}),u.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:h("mceTablePasteColAfter"),onSetup:l.onSetupPasteableColumn(d.getColumns,"onLast")});var H={type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return"tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter"}};u.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:h("mceTableCellProps"),onSetup:l.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:h("mceTableMergeCells"),onSetup:l.onSetupMergeable}),u.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:h("mceTableSplitCells"),onSetup:l.onSetupUnmergeable});var se={type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return"tablecellprops tablemergecells tablesplitcells"}};Js(u)===!1?u.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:h("mceInsertTable")}):u.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:C}]}}),u.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:h("mceInsertTable")}),u.ui.registry.addMenuItem("tableprops",T),u.ui.registry.addMenuItem("deletetable",D),u.ui.registry.addNestedMenuItem("row",U),u.ui.registry.addNestedMenuItem("column",H),u.ui.registry.addNestedMenuItem("cell",se),u.ui.registry.addContextMenu("table",{update:function(){return l.resetTargets(),l.targets().fold(function(){return""},function(Se){return Ln(Se.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}})},nd=function(u){var l=Bh(function(){return yc(u)},function(){return Kc(go(u))},fo.selectedSelector),d=ak(u,l),h=OS(u),C=rk(u,h.lazyResize,d),T=iT(u,h.lazyWire,l),D=O2();return Dp(u,T,C,l,D),x0(u,T,l),pv(u,l,T,C),uy(u,d,D),Br(u,d,D),dC(u),u.on("PreInit",function(){u.serializer.addTempAttr(fo.firstSelected),u.serializer.addTempAttr(fo.lastSelected),_p(u)}),Rw(u)&&u.on("keydown",function(U){F0(U,u,T)}),u.on("remove",function(){h.destroy()}),Xc(u,D,h,d)};function sy(){Qy.add("table",nd)}sy()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=function(){},tn=function(ee){return function(){return ee}};function bt(ee){for(var ke=[],he=1;he<arguments.length;he++)ke[he-1]=arguments[he];return function(){for(var Pt=[],pn=0;pn<arguments.length;pn++)Pt[pn]=arguments[pn];var St=ke.concat(Pt);return ee.apply(null,St)}}var ve=tn(!1),rt=tn(!0),gn=tinymce.util.Tools.resolve("tinymce.util.Tools"),vn=tinymce.util.Tools.resolve("tinymce.util.XHR"),Ct=function(ee){return ee.getParam("template_cdate_classes","cdate")},Et=function(ee){return ee.getParam("template_mdate_classes","mdate")},Qe=function(ee){return ee.getParam("template_selected_content_classes","selcontent")},Ze=function(ee){return ee.getParam("template_preview_replace_values")},te=function(ee){return ee.getParam("content_style","","string")},vt=function(ee){return ee.getParam("content_css_cors",!1,"boolean")},q=function(ee){return ee.getParam("template_replace_values")},We=function(ee){return ee.getParam("templates")},dn=function(ee){return ee.getParam("template_cdate_format",ee.translate("%Y-%m-%d"))},Xe=function(ee){return ee.getParam("template_mdate_format",ee.translate("%Y-%m-%d"))},cr=function(ee){var ke=ee.getParam("body_class","","hash");return ke[ee.id]||""},S=function(ee){var ke=ee.getParam("body_class","","string");return ke.indexOf("=")===-1?ke:cr(ee)},mn=function(ee,ke){if(ee=""+ee,ee.length<ke)for(var he=0;he<ke-ee.length;he++)ee="0"+ee;return ee},Pn=function(ee,ke,he){var Pt="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),pn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),St="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ir="January February March April May June July August September October November December".split(" ");return he=he||new Date,ke=ke.replace("%D","%m/%d/%Y"),ke=ke.replace("%r","%I:%M:%S %p"),ke=ke.replace("%Y",""+he.getFullYear()),ke=ke.replace("%y",""+he.getYear()),ke=ke.replace("%m",mn(he.getMonth()+1,2)),ke=ke.replace("%d",mn(he.getDate(),2)),ke=ke.replace("%H",""+mn(he.getHours(),2)),ke=ke.replace("%M",""+mn(he.getMinutes(),2)),ke=ke.replace("%S",""+mn(he.getSeconds(),2)),ke=ke.replace("%I",""+((he.getHours()+11)%12+1)),ke=ke.replace("%p",he.getHours()<12?"AM":"PM"),ke=ke.replace("%B",""+ee.translate(ir[he.getMonth()])),ke=ke.replace("%b",""+ee.translate(St[he.getMonth()])),ke=ke.replace("%A",""+ee.translate(pn[he.getDay()])),ke=ke.replace("%a",""+ee.translate(Pt[he.getDay()])),ke=ke.replace("%%","%"),ke},hn=function(ee,ke){return function(){var he=We(ee);if(typeof he=="function"){he(ke);return}typeof he=="string"?vn.send({url:he,success:function(Pt){ke(JSON.parse(Pt))}}):ke(he)}},an=function(ee,ke){return gn.each(ke,function(he,Pt){typeof he=="function"&&(he=he(Pt)),ee=ee.replace(new RegExp("\\{\\$"+Pt+"\\}","g"),he)}),ee},$n=function(ee,ke){var he=ee.dom,Pt=q(ee);gn.each(he.select("*",ke),function(pn){gn.each(Pt,function(St,ir){he.hasClass(pn,ir)&&typeof Pt[ir]=="function"&&Pt[ir](pn)})})},Cr=function(ee,ke){return new RegExp("\\b"+ke+"\\b","g").test(ee.className)},lr=function(ee,ke,he){var Pt,pn=ee.dom,St=ee.selection.getContent();he=an(he,q(ee)),Pt=pn.create("div",null,he);var ir=pn.select(".mceTmpl",Pt);ir&&ir.length>0&&(Pt=pn.create("div",null),Pt.appendChild(ir[0].cloneNode(!0))),gn.each(pn.select("*",Pt),function(Rn){Cr(Rn,Ct(ee).replace(/\s+/g,"|"))&&(Rn.innerHTML=Pn(ee,dn(ee))),Cr(Rn,Et(ee).replace(/\s+/g,"|"))&&(Rn.innerHTML=Pn(ee,Xe(ee))),Cr(Rn,Qe(ee).replace(/\s+/g,"|"))&&(Rn.innerHTML=St)}),$n(ee,Pt),ee.execCommand("mceInsertContent",!1,Pt.innerHTML),ee.addVisual()},Me=function(ee){ee.addCommand("mceInsertTemplate",bt(lr,ee))},z=function(ee){ee.on("PreProcess",function(ke){var he=ee.dom,Pt=Xe(ee);gn.each(he.select("div",ke.node),function(pn){he.hasClass(pn,"mceTmpl")&&(gn.each(he.select("*",pn),function(St){he.hasClass(St,Et(ee).replace(/\s+/g,"|"))&&(St.innerHTML=Pn(ee,Pt))}),$n(ee,pn))})})},Yt=function(){return It},It=function(){var ee=function(pn){return pn.isNone()},ke=function(pn){return pn()},he=function(pn){return pn},Pt={fold:function(pn,St){return pn()},is:ve,isSome:ve,isNone:rt,getOr:he,getOrThunk:ke,getOrDie:function(pn){throw new Error(pn||"error: getOrDie called on none.")},getOrNull:tn(null),getOrUndefined:tn(void 0),or:he,orThunk:ke,map:Yt,each:qn,bind:Yt,exists:ve,forall:rt,filter:Yt,equals:ee,equals_:ee,toArray:function(){return[]},toString:tn("none()")};return Pt}(),In=function(ee){var ke=tn(ee),he=function(){return pn},Pt=function(St){return St(ee)},pn={fold:function(St,ir){return ir(ee)},is:function(St){return ee===St},isSome:rt,isNone:ve,getOr:ke,getOrThunk:ke,getOrDie:ke,getOrNull:ke,getOrUndefined:ke,or:he,orThunk:he,map:function(St){return In(St(ee))},each:function(St){St(ee)},bind:Pt,exists:Pt,forall:Pt,filter:function(St){return St(ee)?pn:It},toArray:function(){return[ee]},toString:function(){return"some("+ee+")"},equals:function(St){return St.is(ee)},equals_:function(St,ir){return St.fold(ve,function(Rn){return ir(ee,Rn)})}};return pn},zn=function(ee){return ee==null?It:In(ee)},jn={some:In,none:Yt,from:zn},yt=function(ee,ke){for(var he=ee.length,Pt=new Array(he),pn=0;pn<he;pn++){var St=ee[pn];Pt[pn]=ke(St,pn)}return Pt},mt=function(ee,ke,he){for(var Pt=0,pn=ee.length;Pt<pn;Pt++){var St=ee[Pt];if(ke(St,Pt))return jn.some(St);if(he(St,Pt))break}return jn.none()},fn=function(ee,ke){return mt(ee,ke,ve)},Yr=tinymce.util.Tools.resolve("tinymce.Env"),yr=tinymce.util.Tools.resolve("tinymce.util.Promise"),Re=Object.hasOwnProperty,ut=function(ee,ke){return kt(ee,ke)?jn.from(ee[ke]):jn.none()},kt=function(ee,ke){return Re.call(ee,ke)},Vt={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},we=function(ee){return ee.replace(/["'<>&]/g,function(ke){return ut(Vt,ke).getOr(ke)})},Ye=function(ee,ke){if(ke.indexOf("<html>")===-1){var he="",Pt=te(ee),pn=vt(ee)?' crossorigin="anonymous"':"";gn.each(ee.contentCSS,function(zt){he+='<link type="text/css" rel="stylesheet" href="'+ee.documentBaseURI.toAbsolute(zt)+'"'+pn+">"}),Pt&&(he+='<style type="text/css">'+Pt+"</style>");var St=S(ee),ir=ee.dom.encode,Rn=Yr.mac?"e.metaKey":"e.ctrlKey && !e.altKey",Zr='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+Rn+")) {e.preventDefault();}}}, false);<\/script> ",Ir=ee.getBody().dir,ba=Ir?' dir="'+ir(Ir)+'"':"";ke='<!DOCTYPE html><html><head><base href="'+ir(ee.documentBaseURI.getURI())+'">'+he+Zr+'</head><body class="'+ir(St)+'"'+ba+">"+ke+"</body></html>"}return an(ke,Ze(ee))},rn=function(ee,ke){var he=function(){if(!ke||ke.length===0){var zt=ee.translate("No templates defined.");return ee.notificationManager.open({text:zt,type:"info"}),jn.none()}return jn.from(gn.map(ke,function(pt,Jt){var Kt=function(Xt){return Xt.url!==void 0};return{selected:Jt===0,text:pt.title,value:{url:Kt(pt)?jn.from(pt.url):jn.none(),content:Kt(pt)?jn.none():jn.from(pt.content),description:pt.description}}}))},Pt=function(zt){return yt(zt,function(pt){return{text:pt.text,value:pt.text}})},pn=function(zt,pt){return fn(zt,function(Jt){return Jt.text===pt})},St=function(zt){ee.windowManager.alert("Could not load the specified template.",function(){return zt.focus("template")})},ir=function(zt){return new yr(function(pt,Jt){zt.value.url.fold(function(){return pt(zt.value.content.getOr(""))},function(Kt){return vn.send({url:Kt,success:function(Xt){pt(Xt)},error:function(Xt){Jt(Xt)}})})})},Rn=function(zt,pt){return function(Jt,Kt){if(Kt.name==="template"){var Xt=Jt.getData().template;pn(zt,Xt).each(function(Nn){Jt.block("Loading..."),ir(Nn).then(function(dr){pt(Jt,Nn,dr)}).catch(function(){pt(Jt,Nn,""),Jt.disable("save"),St(Jt)})})}}},Zr=function(zt){return function(pt){var Jt=pt.getData();pn(zt,Jt.template).each(function(Kt){ir(Kt).then(function(Xt){lr(ee,!1,Xt),pt.close()}).catch(function(){pt.disable("save"),St(pt)})})}},Ir=function(zt){var pt=Pt(zt),Jt=function(Nn,dr){return{title:"Insert Template",size:"large",body:{type:"panel",items:Nn},initialData:dr,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Zr(zt),onChange:Rn(zt,Kt)}},Kt=function(Nn,dr,Nt){var lt=Ye(ee,Nt),Tn=[{type:"selectbox",name:"template",label:"Templates",items:pt},{type:"htmlpanel",html:'<p aria-live="polite">'+we(dr.value.description)+"</p>"},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1}],or={template:dr.text,preview:lt};Nn.unblock(),Nn.redial(Jt(Tn,or)),Nn.focus("template")},Xt=ee.windowManager.open(Jt([],{template:"",preview:""}));Xt.block("Loading..."),ir(zt[0]).then(function(Nn){Kt(Xt,zt[0],Nn)}).catch(function(){Kt(Xt,zt[0],""),Xt.disable("save"),St(Xt)})},ba=he();ba.each(Ir)},qe=function(ee){return function(ke){rn(ee,ke)}},de=function(ee){ee.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onAction:hn(ee,qe(ee))}),ee.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onAction:hn(ee,qe(ee))})};function Ue(){Le.add("template",function(ee){de(ee),Me(ee),z(ee)})}Ue()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager");function qn(){Le.add("textcolor",function(){console.warn("Text color plugin is now built in to the core editor, please remove it from your editor configuration")})}qn()})();(function(){var Le=function($){var Z=$,ye=function(){return Z},ue=function(Ge){Z=Ge};return{get:ye,set:ue}},qn=tinymce.util.Tools.resolve("tinymce.PluginManager"),tn=function(){return tn=Object.assign||function(Z){for(var ye,ue=1,Ge=arguments.length;ue<Ge;ue++){ye=arguments[ue];for(var Je in ye)Object.prototype.hasOwnProperty.call(ye,Je)&&(Z[Je]=ye[Je])}return Z},tn.apply(this,arguments)};function bt(){for(var $=0,Z=0,ye=arguments.length;Z<ye;Z++)$+=arguments[Z].length;for(var ue=Array($),Ge=0,Z=0;Z<ye;Z++)for(var Je=arguments[Z],yn=0,Jn=Je.length;yn<Jn;yn++,Ge++)ue[Ge]=Je[yn];return ue}var ve=function(){},rt=function($){return function(){return $}},gn=function($){return $},vn=function($){return function(){throw new Error($)}},Ct=rt(!1),Et=rt(!0),Qe=function(){return Ze},Ze=function(){var $=function(Ge){return Ge.isNone()},Z=function(Ge){return Ge()},ye=function(Ge){return Ge},ue={fold:function(Ge,Je){return Ge()},is:Ct,isSome:Ct,isNone:Et,getOr:ye,getOrThunk:Z,getOrDie:function(Ge){throw new Error(Ge||"error: getOrDie called on none.")},getOrNull:rt(null),getOrUndefined:rt(void 0),or:ye,orThunk:Z,map:Qe,each:ve,bind:Qe,exists:Ct,forall:Et,filter:Qe,equals:$,equals_:$,toArray:function(){return[]},toString:rt("none()")};return ue}(),te=function($){var Z=rt($),ye=function(){return Ge},ue=function(Je){return Je($)},Ge={fold:function(Je,yn){return yn($)},is:function(Je){return $===Je},isSome:Et,isNone:Ct,getOr:Z,getOrThunk:Z,getOrDie:Z,getOrNull:Z,getOrUndefined:Z,or:ye,orThunk:ye,map:function(Je){return te(Je($))},each:function(Je){Je($)},bind:ue,exists:ue,forall:ue,filter:function(Je){return Je($)?Ge:Ze},toArray:function(){return[$]},toString:function(){return"some("+$+")"},equals:function(Je){return Je.is($)},equals_:function(Je,yn){return Je.fold(Ct,function(Jn){return yn($,Jn)})}};return Ge},vt=function($){return $==null?Ze:te($)},q={some:te,none:Qe,from:vt},We=function($){var Z=typeof $;return $===null?"null":Z==="object"&&(Array.prototype.isPrototypeOf($)||$.constructor&&$.constructor.name==="Array")?"array":Z==="object"&&(String.prototype.isPrototypeOf($)||$.constructor&&$.constructor.name==="String")?"string":Z},dn=function($){return function(Z){return We(Z)===$}},Xe=dn("string"),cr=dn("object"),S=dn("array"),mn=Array.prototype.slice,Pn=Array.prototype.indexOf,hn=function($,Z){return Pn.call($,Z)},an=function($,Z){return hn($,Z)>-1},$n=function($,Z){for(var ye=$.length,ue=new Array(ye),Ge=0;Ge<ye;Ge++){var Je=$[Ge];ue[Ge]=Z(Je,Ge)}return ue},Cr=function($,Z){for(var ye=0,ue=$.length;ye<ue;ye++){var Ge=$[ye];Z(Ge,ye)}},lr=function($,Z){for(var ye=$.length-1;ye>=0;ye--){var ue=$[ye];Z(ue,ye)}},Me=function($,Z){for(var ye=[],ue=0,Ge=$.length;ue<Ge;ue++){var Je=$[ue];Z(Je,ue)&&ye.push(Je)}return ye},z=function($,Z,ye){return lr($,function(ue){ye=Z(ye,ue)}),ye},Yt=function($,Z,ye){return Cr($,function(ue){ye=Z(ye,ue)}),ye},It=function($,Z,ye){for(var ue=0,Ge=$.length;ue<Ge;ue++){var Je=$[ue];if(Z(Je,ue))return q.some(Je);if(ye(Je,ue))break}return q.none()},In=function($,Z){return It($,Z,Ct)},zn=function($,Z){for(var ye=0,ue=$.length;ye<ue;++ye){var Ge=$[ye];if(Z(Ge,ye)!==!0)return!1}return!0},jn=function($,Z){var ye=mn.call($,0);return ye.sort(Z),ye},yt=function($,Z){return Z>=0&&Z<$.length?q.some($[Z]):q.none()},mt=function($){return yt($,0)},fn=Object.keys,Yr=Object.hasOwnProperty,yr=function($,Z){return Yr.call($,Z)},Re=function($){if(!S($))throw new Error("cases must be an array");if($.length===0)throw new Error("there must be at least one case");var Z=[],ye={};return Cr($,function(ue,Ge){var Je=fn(ue);if(Je.length!==1)throw new Error("one and only one name per case");var yn=Je[0],Jn=ue[yn];if(ye[yn]!==void 0)throw new Error("duplicate key detected:"+yn);if(yn==="cata")throw new Error("cannot have a case named cata (sorry)");if(!S(Jn))throw new Error("case arguments must be an array");Z.push(yn),ye[yn]=function(){for(var $t=[],Zn=0;Zn<arguments.length;Zn++)$t[Zn]=arguments[Zn];var K=$t.length;if(K!==Jn.length)throw new Error("Wrong number of arguments to case "+yn+". Expected "+Jn.length+" ("+Jn+"), got "+K);var xe=function(Oe){var at=fn(Oe);if(Z.length!==at.length)throw new Error("Wrong number of arguments to match. Expected: "+Z.join(",")+`
Actual: `+at.join(","));var kn=zn(Z,function(Dn){return an(at,Dn)});if(!kn)throw new Error("Not all branches were specified when using match. Specified: "+at.join(", ")+`
Required: `+Z.join(", "));return Oe[yn].apply(null,$t)};return{fold:function(){for(var Oe=[],at=0;at<arguments.length;at++)Oe[at]=arguments[at];if(Oe.length!==$.length)throw new Error("Wrong number of arguments to fold. Expected "+$.length+", got "+Oe.length);var kn=Oe[Ge];return kn.apply(null,$t)},match:xe,log:function(Oe){console.log(Oe,{constructors:Z,constructor:yn,params:$t})}}}}),ye},ut={generate:Re};ut.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var kt=function($){var Z=[],ye=[];return Cr($,function(ue){ue.fold(function(Ge){Z.push(Ge)},function(Ge){ye.push(Ge)})}),{errors:Z,values:ye}},Vt=function($){var Z=function(Oe){return $===Oe},ye=function(Oe){return Vt($)},ue=function(Oe){return Vt($)},Ge=function(Oe){return Vt(Oe($))},Je=function(Oe){return Vt($)},yn=function(Oe){Oe($)},Jn=function(Oe){return Oe($)},$t=function(Oe,at){return at($)},Zn=function(Oe){return Oe($)},K=function(Oe){return Oe($)},xe=function(){return q.some($)};return{is:Z,isValue:Et,isError:Ct,getOr:rt($),getOrThunk:rt($),getOrDie:rt($),or:ye,orThunk:ue,fold:$t,map:Ge,mapError:Je,each:yn,bind:Jn,exists:Zn,forall:K,toOptional:xe}},we=function($){var Z=function(Zn){return Zn()},ye=function(){return vn(String($))()},ue=function(Zn){return Zn},Ge=function(Zn){return Zn()},Je=function(Zn){return we($)},yn=function(Zn){return we(Zn($))},Jn=function(Zn){return we($)},$t=function(Zn,K){return Zn($)};return{is:Ct,isValue:Ct,isError:Et,getOr:gn,getOrThunk:Z,getOrDie:ye,or:ue,orThunk:Ge,fold:$t,map:Je,mapError:yn,each:ve,bind:Jn,exists:Ct,forall:Et,toOptional:q.none}},Ye=function($,Z){return $.fold(function(){return we(Z)},Vt)},rn={value:Vt,error:we,fromOption:Ye},qe=function($){return $.type==="inline-command"||$.type==="inline-format"},de=function($){return $.type==="block-command"||$.type==="block-format"},Ue=function($){return jn($,function(Z,ye){return Z.start.length===ye.start.length?0:Z.start.length>ye.start.length?-1:1})},ee=function($){var Z=function(Je){return rn.error({message:Je,pattern:$})},ye=function(Je,yn,Jn){if($.format!==void 0){var $t=void 0;if(S($.format)){if(!zn($.format,Xe))return Z(Je+" pattern has non-string items in the `format` array");$t=$.format}else if(Xe($.format))$t=[$.format];else return Z(Je+" pattern has non-string `format` parameter");return rn.value(yn($t))}else return $.cmd!==void 0?Xe($.cmd)?rn.value(Jn($.cmd,$.value)):Z(Je+" pattern has non-string `cmd` parameter"):Z(Je+" pattern is missing both `format` and `cmd` parameters")};if(!cr($))return Z("Raw pattern is not an object");if(!Xe($.start))return Z("Raw pattern is missing `start` parameter");if($.end!==void 0){if(!Xe($.end))return Z("Inline pattern has non-string `end` parameter");if($.start.length===0&&$.end.length===0)return Z("Inline pattern has empty `start` and `end` parameters");var ue=$.start,Ge=$.end;return Ge.length===0&&(Ge=ue,ue=""),ye("Inline",function(Je){return{type:"inline-format",start:ue,end:Ge,format:Je}},function(Je,yn){return{type:"inline-command",start:ue,end:Ge,cmd:Je,value:yn}})}else return $.replacement!==void 0?Xe($.replacement)?$.start.length===0?Z("Replacement pattern has empty `start` parameter"):rn.value({type:"inline-command",start:"",end:$.start,cmd:"mceInsertContent",value:$.replacement}):Z("Replacement pattern has non-string `replacement` parameter"):$.start.length===0?Z("Block pattern has empty `start` parameter"):ye("Block",function(Je){return{type:"block-format",start:$.start,format:Je[0]}},function(Je,yn){return{type:"block-command",start:$.start,cmd:Je,value:yn}})},ke=function($){if($.type==="block-command")return{start:$.start,cmd:$.cmd,value:$.value};if($.type==="block-format")return{start:$.start,format:$.format};if($.type==="inline-command")return $.cmd==="mceInsertContent"&&$.start===""?{start:$.end,replacement:$.value}:{start:$.start,end:$.end,cmd:$.cmd,value:$.value};if($.type==="inline-format")return{start:$.start,end:$.end,format:$.format.length===1?$.format[0]:$.format}},he=function($){return{inlinePatterns:Me($,qe),blockPatterns:Ue(Me($,de))}},Pt=function($){var Z=function(ue){var Ge=kt($n(ue,ee));if(Ge.errors.length>0){var Je=Ge.errors[0];throw new Error(Je.message+`:
`+JSON.stringify(Je.pattern,null,2))}$.set(he(Ge.values))},ye=function(){return bt($n($.get().inlinePatterns,ke),$n($.get().blockPatterns,ke))};return{setPatterns:Z,getPatterns:ye}},pn=typeof window!="undefined"?window:Function("return this;")(),St=function(){for(var $=[],Z=0;Z<arguments.length;Z++)$[Z]=arguments[Z];var ye=pn.console;ye&&(ye.error?ye.error.apply(ye,$):ye.log.apply(ye,$))},ir=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],Rn=function($){var Z=$.getParam("textpattern_patterns",ir,"array");if(!S(Z))return St("The setting textpattern_patterns should be an array"),{inlinePatterns:[],blockPatterns:[]};var ye=kt($n(Z,ee));return Cr(ye.errors,function(ue){return St(ue.message,ue.pattern)}),he(ye.values)},Zr=function($){var Z=$.getParam("forced_root_block","p");return Z===!1?"":Z===!0?"p":Z},Ir=tinymce.util.Tools.resolve("tinymce.util.Delay"),ba=tinymce.util.Tools.resolve("tinymce.util.VK"),zt="\uFEFF",pt="\xA0",Jt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Kt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Xt=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),Nn=function($,Z){return{container:$,offset:Z}},dr=function($){return $.nodeType===Node.TEXT_NODE},Nt=function($,Z,ye){if(Z&&$.isEmpty(Z)&&!ye(Z)){var ue=Z.parentNode;$.remove(Z),Nt($,ue,ye)}},lt=function($,Z,ye,ue){ue===void 0&&(ue=!0);var Ge=Z.startContainer.parentNode,Je=Z.endContainer.parentNode;Z.deleteContents(),ue&&!ye(Z.startContainer)&&(dr(Z.startContainer)&&Z.startContainer.data.length===0&&$.remove(Z.startContainer),dr(Z.endContainer)&&Z.endContainer.data.length===0&&$.remove(Z.endContainer),Nt($,Ge,ye),Ge!==Je&&Nt($,Je,ye))},Tn=function($,Z){var ye=Z.get($);return S(ye)&&mt(ye).exists(function(ue){return yr(ue,"block")})},or=function($){return $.start.length===0},zr=function($,Z){var ye=q.from($.dom.getParent(Z.startContainer,$.dom.isBlock));return Zr($)===""?ye.orThunk(function(){return q.some($.getBody())}):ye},Pr=Kt.DOM,na=function($){return function(Z){return $===Z?-1:0}},Or=function($){return function(Z){return $.isBlock(Z)||an(["BR","IMG","HR","INPUT"],Z.nodeName)||$.getContentEditable(Z)==="false"}},xa=function($,Z,ye){if(dr($)&&Z>=0)return q.some(Nn($,Z));var ue=Xt(Pr);return q.from(ue.backwards($,Z,na($),ye)).map(function(Ge){return Nn(Ge.container,Ge.container.data.length)})},Ce=function($,Z,ye){if(dr($)&&Z>=$.length)return q.some(Nn($,Z));var ue=Xt(Pr);return q.from(ue.forwards($,Z,na($),ye)).map(function(Ge){return Nn(Ge.container,0)})},et=function($,Z,ye){if(!dr($))return q.none();var ue=$.textContent;if(Z>=0&&Z<=ue.length)return q.some(Nn($,Z));var Ge=Xt(Pr);return q.from(Ge.backwards($,Z,na($),ye)).bind(function(Je){var yn=Je.container.data;return et(Je.container,Z+yn.length,ye)})},Wt=function($,Z,ye){if(!dr($))return q.none();var ue=$.textContent;if(Z<=ue.length)return q.some(Nn($,Z));var Ge=Xt(Pr);return q.from(Ge.forwards($,Z,na($),ye)).bind(function(Je){return Wt(Je.container,Z-ue.length,ye)})},Fn=function($,Z,ye,ue,Ge){var Je=Xt($,Or($));return q.from(Je.backwards(Z,ye,ue,Ge))},un=function($,Z,ye){if(dr(Z)&&(ye<0||ye>Z.data.length))return[];for(var ue=[ye],Ge=Z;Ge!==$&&Ge.parentNode;){for(var Je=Ge.parentNode,yn=0;yn<Je.childNodes.length;yn++)if(Je.childNodes[yn]===Ge){ue.push(yn);break}Ge=Je}return Ge===$?ue.reverse():[]},fr=function($,Z,ye,ue,Ge){var Je=un($,Z,ye),yn=un($,ue,Ge);return{start:Je,end:yn}},ya=function($,Z){var ye=Z.slice(),ue=ye.pop(),Ge=Yt(ye,function(Je,yn){return Je.bind(function(Jn){return q.from(Jn.childNodes[yn])})},q.some($));return Ge.bind(function(Je){return dr(Je)&&(ue<0||ue>Je.data.length)?q.none():q.some({node:Je,offset:ue})})},Nr=function($,Z){return ya($,Z.start).bind(function(ye){var ue=ye.node,Ge=ye.offset;return ya($,Z.end).map(function(Je){var yn=Je.node,Jn=Je.offset,$t=document.createRange();return $t.setStart(ue,Ge),$t.setEnd(yn,Jn),$t})})},kr=function($,Z){return fr($,Z.startContainer,Z.startOffset,Z.endContainer,Z.endOffset)},qa=function($,Z,ye){var ue=Ce(Z,0,Z);ue.each(function(Ge){var Je=Ge.container;Wt(Je,ye.start.length,Z).each(function(yn){var Jn=$.createRng();Jn.setStart(Je,0),Jn.setEnd(yn.container,yn.offset),lt($,Jn,function($t){return $t===Z})})})},Ro=function($,Z){var ye=$.dom,ue=Z.pattern,Ge=Nr(ye.getRoot(),Z.range).getOrDie("Unable to resolve path range");return zr($,Ge).each(function(Je){ue.type==="block-format"?Tn(ue.format,$.formatter)&&$.undoManager.transact(function(){qa($.dom,Je,ue),$.formatter.apply(ue.format)}):ue.type==="block-command"&&$.undoManager.transact(function(){qa($.dom,Je,ue),$.execCommand(ue.cmd,!1,ue.value)})}),!0},Ta=function($,Z){var ye=Z.replace(pt," ");return In($,function(ue){return Z.indexOf(ue.start)===0||ye.indexOf(ue.start)===0})},Ko=function($,Z){var ye=$.dom,ue=$.selection.getRng();return zr($,ue).filter(function(Ge){var Je=Zr($),yn=Je===""&&ye.is(Ge,"body")||ye.is(Ge,Je);return Ge!==null&&yn}).bind(function(Ge){var Je=Ge.textContent,yn=Ta(Z,Je);return yn.map(function(Jn){return Jt.trim(Je).length===Jn.start.length?[]:[{pattern:Jn,range:fr(ye.getRoot(),Ge,0,Ge,0)}]})}).getOr([])},Oa=function($,Z){if(Z.length!==0){var ye=$.selection.getBookmark();Cr(Z,function(ue){return Ro($,ue)}),$.selection.moveToBookmark(ye)}},ho=0,ao=function($){var Z=new Date,ye=Z.getTime(),ue=Math.floor(Math.random()*1e9);return ho++,$+"_"+ue+ho+String(ye)},ur=function($,Z,ye){return Z===""||$.length>=Z.length&&$.substr(ye,ye+Z.length)===Z},ua=function($,Z){return ur($,Z,$.length-Z.length)},Pa=function($,Z){return $.create("span",{"data-mce-type":"bookmark",id:Z})},Ga=function($,Z){var ye=$.createRng();return ye.setStartAfter(Z.start),ye.setEndBefore(Z.end),ye},Gn=function($,Z,ye){var ue=Nr($.getRoot(),ye).getOrDie("Unable to resolve path range"),Ge=ue.startContainer,Je=ue.endContainer,yn=ue.endOffset===0?Je:Je.splitText(ue.endOffset),Jn=ue.startOffset===0?Ge:Ge.splitText(ue.startOffset);return{prefix:Z,end:yn.parentNode.insertBefore(Pa($,Z+"-end"),yn),start:Jn.parentNode.insertBefore(Pa($,Z+"-start"),Jn)}},oo=function($,Z,ye){Nt($,$.get(Z.prefix+"-end"),ye),Nt($,$.get(Z.prefix+"-start"),ye)},mo=function($,Z,ye){return function(ue,Ge){var Je=ue.data,yn=Je.substring(0,Ge),Jn=yn.lastIndexOf(ye.charAt(ye.length-1)),$t=yn.lastIndexOf(ye);return $t!==-1?$t+ye.length:Jn!==-1?Jn+1:-1}},Po=function($,Z,ye,ue){var Ge=Z.start,Je=Fn($,ue.container,ue.offset,mo($,ye,Ge),ye);return Je.bind(function(yn){if(yn.offset>=Ge.length){var Jn=$.createRng();return Jn.setStart(yn.container,yn.offset-Ge.length),Jn.setEnd(yn.container,yn.offset),q.some(Jn)}else{var $t=yn.offset-Ge.length;return et(yn.container,$t,ye).map(function(Zn){var K=$.createRng();return K.setStart(Zn.container,Zn.offset),K.setEnd(yn.container,yn.offset),K}).filter(function(Zn){return Zn.toString()===Ge}).orThunk(function(){return Po($,Z,ye,Nn(yn.container,0))})}})},yo=function($,Z,ye,ue,Ge,Je){if(Je===void 0&&(Je=!1),Z.start.length===0&&!Je){var yn=$.createRng();return yn.setStart(ye,ue),yn.setEnd(ye,ue),q.some(yn)}return xa(ye,ue,Ge).bind(function(Jn){var $t=Po($,Z,Ge,Jn);return $t.bind(function(Zn){if(Je){if(Zn.endContainer===Jn.container&&Zn.endOffset===Jn.offset)return q.none();if(Jn.offset===0&&Zn.endContainer.textContent.length===Zn.endOffset)return q.none()}return q.some(Zn)})})},Gr=function($,Z,ye){var ue=$.dom,Ge=ue.getRoot(),Je=ye.pattern,yn=ye.position.container,Jn=ye.position.offset;return et(yn,Jn-ye.pattern.end.length,Z).bind(function($t){var Zn=fr(Ge,$t.container,$t.offset,yn,Jn);if(or(Je))return q.some({matches:[{pattern:Je,startRng:Zn,endRng:Zn}],position:$t});var K=wo($,ye.remainingPatterns,$t.container,$t.offset,Z),xe=K.getOr({matches:[],position:$t}),Oe=xe.position,at=yo(ue,Je,Oe.container,Oe.offset,Z,K.isNone());return at.map(function(kn){var Dn=kr(Ge,kn);return{matches:xe.matches.concat([{pattern:Je,startRng:Dn,endRng:Zn}]),position:Nn(kn.startContainer,kn.startOffset)}})})},wo=function($,Z,ye,ue,Ge){var Je=$.dom;return xa(ye,ue,Je.getRoot()).bind(function(yn){var Jn=Je.createRng();Jn.setStart(Ge,0),Jn.setEnd(ye,ue);for(var $t=Jn.toString(),Zn=0;Zn<Z.length;Zn++){var K=Z[Zn];if(!!ua($t,K.end)){var xe=Z.slice();xe.splice(Zn,1);var Oe=Gr($,Ge,{pattern:K,remainingPatterns:xe,position:yn});if(Oe.isSome())return Oe}}return q.none()})},lo=function($,Z,ye){$.selection.setRng(ye),Z.type==="inline-format"?Cr(Z.format,function(ue){$.formatter.apply(ue)}):$.execCommand(Z.cmd,!1,Z.value)},po=function($,Z,ye,ue){var Ge=Ga($.dom,ye);lt($.dom,Ge,ue),lo($,Z,Ge)},Ho=function($,Z,ye,ue,Ge){var Je=$.dom,yn=Ga(Je,ue),Jn=Ga(Je,ye);lt(Je,Jn,Ge),lt(Je,yn,Ge);var $t={prefix:ye.prefix,start:ye.end,end:ue.start},Zn=Ga(Je,$t);lo($,Z,Zn)},Vo=function($,Z){var ye=ao("mce_textpattern"),ue=z(Z,function(Ge,Je){var yn=Gn($,ye+("_end"+Ge.length),Je.endRng);return Ge.concat([tn(tn({},Je),{endMarker:yn})])},[]);return z(ue,function(Ge,Je){var yn=ue.length-Ge.length-1,Jn=or(Je.pattern)?Je.endMarker:Gn($,ye+("_start"+yn),Je.startRng);return Ge.concat([tn(tn({},Je),{startMarker:Jn})])},[])},Wa=function($,Z,ye){var ue=$.selection.getRng();return ue.collapsed===!1?[]:zr($,ue).bind(function(Ge){var Je=ue.startOffset-(ye?1:0);return wo($,Z,ue.startContainer,Je,Ge)}).fold(function(){return[]},function(Ge){return Ge.matches})},No=function($,Z){if(Z.length!==0){var ye=$.dom,ue=$.selection.getBookmark(),Ge=Vo(ye,Z);Cr(Ge,function(Je){var yn=ye.getParent(Je.startMarker.start,ye.isBlock),Jn=function($t){return $t===yn};or(Je.pattern)?po($,Je.pattern,Je.endMarker,Jn):Ho($,Je.pattern,Je.startMarker,Je.endMarker,Jn),oo(ye,Je.endMarker,Jn),oo(ye,Je.startMarker,Jn)}),$.selection.moveToBookmark(ue)}},ce=function($,Z){if(!$.selection.isCollapsed())return!1;var ye=Wa($,Z.inlinePatterns,!1),ue=Ko($,Z.blockPatterns);return ue.length>0||ye.length>0?($.undoManager.add(),$.undoManager.extra(function(){$.execCommand("mceInsertNewLine")},function(){$.insertContent(zt),No($,ye),Oa($,ue);var Ge=$.selection.getRng(),Je=xa(Ge.startContainer,Ge.startOffset,$.dom.getRoot());$.execCommand("mceInsertNewLine"),Je.each(function(yn){var Jn=yn.container;Jn.data.charAt(yn.offset-1)===zt&&(Jn.deleteData(yn.offset-1,1),Nt($.dom,Jn.parentNode,function($t){return $t===$.dom.getRoot()}))})}),!0):!1},I=function($,Z){var ye=Wa($,Z.inlinePatterns,!0);ye.length>0&&$.undoManager.transact(function(){No($,ye)})},W=function($,Z,ye){for(var ue=0;ue<$.length;ue++)if(ye($[ue],Z))return!0},le=function($,Z){return W($,Z,function(ye,ue){return ye===ue.keyCode&&ba.modifierPressed(ue)===!1})},De=function($,Z){return W($,Z,function(ye,ue){return ye.charCodeAt(0)===ue.charCode})},Pe=function($,Z){var ye=[",",".",";",":","!","?"],ue=[32];$.on("keydown",function(Ge){Ge.keyCode===13&&!ba.modifierPressed(Ge)&&ce($,Z.get())&&Ge.preventDefault()},!0),$.on("keyup",function(Ge){le(ue,Ge)&&I($,Z.get())}),$.on("keypress",function(Ge){De(ye,Ge)&&Ir.setEditorTimeout($,function(){I($,Z.get())})})};function tt(){qn.add("textpattern",function($){var Z=Le(Rn($));return Pe($,Z),Pt(Z)})}tt()})();(function(){var Le=function(Qe){var Ze=Qe,te=function(){return Ze},vt=function(q){Ze=q};return{get:te,set:vt}},qn=tinymce.util.Tools.resolve("tinymce.PluginManager"),tn=function(Qe,Ze){Qe.fire("VisualBlocks",{state:Ze})},bt=function(Qe,Ze,te){var vt=Qe.dom;vt.toggleClass(Qe.getBody(),"mce-visualblocks"),te.set(!te.get()),tn(Qe,te.get())},ve=function(Qe,Ze,te){Qe.addCommand("mceVisualBlocks",function(){bt(Qe,Ze,te)})},rt=function(Qe){return Qe.getParam("visualblocks_default_state",!1,"boolean")},gn=function(Qe,Ze,te){Qe.on("PreviewFormats AfterPreviewFormats",function(vt){te.get()&&Qe.dom.toggleClass(Qe.getBody(),"mce-visualblocks",vt.type==="afterpreviewformats")}),Qe.on("init",function(){rt(Qe)&&bt(Qe,Ze,te)})},vn=function(Qe,Ze){return function(te){te.setActive(Ze.get());var vt=function(q){return te.setActive(q.state)};return Qe.on("VisualBlocks",vt),function(){return Qe.off("VisualBlocks",vt)}}},Ct=function(Qe,Ze){Qe.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:function(){return Qe.execCommand("mceVisualBlocks")},onSetup:vn(Qe,Ze)}),Qe.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:function(){return Qe.execCommand("mceVisualBlocks")},onSetup:vn(Qe,Ze)})};function Et(){qn.add("visualblocks",function(Qe,Ze){var te=Le(!1);ve(Qe,Ze,te),Ct(Qe,te),gn(Qe,Ze,te)})}Et()})();(function(){var Le=function(Ce){var et=Ce,Wt=function(){return et},Fn=function(un){et=un};return{get:Wt,set:Fn}},qn=tinymce.util.Tools.resolve("tinymce.PluginManager"),tn=function(Ce){var et=function(){return Ce.get()};return{isEnabled:et}},bt=function(Ce,et){return Ce.fire("VisualChars",{state:et})},ve=function(){},rt=function(Ce){return function(){return Ce}},gn=rt(!1),vn=rt(!0),Ct=function(){return Et},Et=function(){var Ce=function(un){return un.isNone()},et=function(un){return un()},Wt=function(un){return un},Fn={fold:function(un,fr){return un()},is:gn,isSome:gn,isNone:vn,getOr:Wt,getOrThunk:et,getOrDie:function(un){throw new Error(un||"error: getOrDie called on none.")},getOrNull:rt(null),getOrUndefined:rt(void 0),or:Wt,orThunk:et,map:Ct,each:ve,bind:Ct,exists:gn,forall:vn,filter:Ct,equals:Ce,equals_:Ce,toArray:function(){return[]},toString:rt("none()")};return Fn}(),Qe=function(Ce){var et=rt(Ce),Wt=function(){return un},Fn=function(fr){return fr(Ce)},un={fold:function(fr,ya){return ya(Ce)},is:function(fr){return Ce===fr},isSome:vn,isNone:gn,getOr:et,getOrThunk:et,getOrDie:et,getOrNull:et,getOrUndefined:et,or:Wt,orThunk:Wt,map:function(fr){return Qe(fr(Ce))},each:function(fr){fr(Ce)},bind:Fn,exists:Fn,forall:Fn,filter:function(fr){return fr(Ce)?un:Et},toArray:function(){return[Ce]},toString:function(){return"some("+Ce+")"},equals:function(fr){return fr.is(Ce)},equals_:function(fr,ya){return fr.fold(gn,function(Nr){return ya(Ce,Nr)})}};return un},Ze=function(Ce){return Ce==null?Et:Qe(Ce)},te={some:Qe,none:Ct,from:Ze},vt=function(Ce){var et=typeof Ce;return Ce===null?"null":et==="object"&&(Array.prototype.isPrototypeOf(Ce)||Ce.constructor&&Ce.constructor.name==="Array")?"array":et==="object"&&(String.prototype.isPrototypeOf(Ce)||Ce.constructor&&Ce.constructor.name==="String")?"string":et},q=function(Ce){return function(et){return vt(et)===Ce}},We=function(Ce){return function(et){return typeof et===Ce}},dn=q("string"),Xe=We("boolean"),cr=We("number"),S=function(Ce,et){for(var Wt=Ce.length,Fn=new Array(Wt),un=0;un<Wt;un++){var fr=Ce[un];Fn[un]=et(fr,un)}return Fn},mn=function(Ce,et){for(var Wt=0,Fn=Ce.length;Wt<Fn;Wt++){var un=Ce[Wt];et(un,Wt)}},Pn=function(Ce,et){for(var Wt=[],Fn=0,un=Ce.length;Fn<un;Fn++){var fr=Ce[Fn];et(fr,Fn)&&Wt.push(fr)}return Wt},hn=Object.keys,an=function(Ce,et){for(var Wt=hn(Ce),Fn=0,un=Wt.length;Fn<un;Fn++){var fr=Wt[Fn],ya=Ce[fr];et(ya,fr)}};typeof window!="undefined"||Function("return this;")();var $n=3,Cr=function(Ce){return Ce.dom.nodeType},lr=function(Ce){return Ce.dom.nodeValue},Me=function(Ce){return function(et){return Cr(et)===Ce}},z=Me($n),Yt=function(Ce,et,Wt){if(dn(Wt)||Xe(Wt)||cr(Wt))Ce.setAttribute(et,Wt+"");else throw console.error("Invalid call to Attribute.set. Key ",et,":: Value ",Wt,":: Element ",Ce),new Error("Attribute value was not simple")},It=function(Ce,et,Wt){Yt(Ce.dom,et,Wt)},In=function(Ce,et){var Wt=Ce.dom.getAttribute(et);return Wt===null?void 0:Wt},zn=function(Ce,et){Ce.dom.removeAttribute(et)},jn=function(Ce,et){var Wt=In(Ce,et);return Wt===void 0||Wt===""?[]:Wt.split(" ")},yt=function(Ce,et,Wt){var Fn=jn(Ce,et),un=Fn.concat([Wt]);return It(Ce,et,un.join(" ")),!0},mt=function(Ce,et,Wt){var Fn=Pn(jn(Ce,et),function(un){return un!==Wt});return Fn.length>0?It(Ce,et,Fn.join(" ")):zn(Ce,et),!1},fn=function(Ce){return Ce.dom.classList!==void 0},Yr=function(Ce){return jn(Ce,"class")},yr=function(Ce,et){return yt(Ce,"class",et)},Re=function(Ce,et){return mt(Ce,"class",et)},ut=function(Ce,et){fn(Ce)?Ce.dom.classList.add(et):yr(Ce,et)},kt=function(Ce){var et=fn(Ce)?Ce.dom.classList:Yr(Ce);et.length===0&&zn(Ce,"class")},Vt=function(Ce,et){if(fn(Ce)){var Wt=Ce.dom.classList;Wt.remove(et)}else Re(Ce,et);kt(Ce)},we=function(Ce,et){var Wt=et||document,Fn=Wt.createElement("div");if(Fn.innerHTML=Ce,!Fn.hasChildNodes()||Fn.childNodes.length>1)throw console.error("HTML does not have a single root node",Ce),new Error("HTML must have a single root node");return qe(Fn.childNodes[0])},Ye=function(Ce,et){var Wt=et||document,Fn=Wt.createElement(Ce);return qe(Fn)},rn=function(Ce,et){var Wt=et||document,Fn=Wt.createTextNode(Ce);return qe(Fn)},qe=function(Ce){if(Ce==null)throw new Error("Node cannot be null or undefined");return{dom:Ce}},de=function(Ce,et,Wt){return te.from(Ce.dom.elementFromPoint(et,Wt)).map(qe)},Ue={fromHtml:we,fromTag:Ye,fromText:rn,fromDom:qe,fromPoint:de},ee={"\xA0":"nbsp","\xAD":"shy"},ke=function(Ce,et){var Wt="";return an(Ce,function(Fn,un){Wt+=un}),new RegExp("["+Wt+"]",et?"g":"")},he=function(Ce){var et="";return an(Ce,function(Wt){et&&(et+=","),et+="span.mce-"+Wt}),et},Pt=ke(ee),pn=ke(ee,!0),St=he(ee),ir="mce-nbsp",Rn=function(Ce){return'<span data-mce-bogus="1" class="mce-'+ee[Ce]+'">'+Ce+"</span>"},Zr=function(Ce){var et=lr(Ce);return z(Ce)&&et!==void 0&&Pt.test(et)},Ir=function(Ce,et){var Wt=[],Fn=Ce.dom,un=S(Fn.childNodes,Ue.fromDom);return mn(un,function(fr){et(fr)&&(Wt=Wt.concat([fr])),Wt=Wt.concat(Ir(fr,et))}),Wt},ba=function(Ce,et){for(;Ce.parentNode;){if(Ce.parentNode===et)return Ce;Ce=Ce.parentNode}},zt=function(Ce){return Ce.replace(pn,Rn)},pt=function(Ce){return Ce.nodeName.toLowerCase()==="span"&&Ce.classList.contains("mce-nbsp-wrap")},Jt=function(Ce,et){var Wt=Ir(Ue.fromDom(et),Zr);mn(Wt,function(Fn){var un=Fn.dom.parentNode;if(pt(un))ut(Ue.fromDom(un),ir);else{for(var fr=zt(Ce.dom.encode(lr(Fn))),ya=Ce.dom.create("div",null,fr),Nr=void 0;Nr=ya.lastChild;)Ce.dom.insertAfter(Nr,Fn.dom);Ce.dom.remove(Fn.dom)}})},Kt=function(Ce,et){var Wt=Ce.dom.select(St,et);mn(Wt,function(Fn){pt(Fn)?Vt(Ue.fromDom(Fn),ir):Ce.dom.remove(Fn,!0)})},Xt=function(Ce){var et=Ce.getBody(),Wt=Ce.selection.getBookmark(),Fn=ba(Ce.selection.getNode(),et);Fn=Fn!==void 0?Fn:et,Kt(Ce,Fn),Jt(Ce,Fn),Ce.selection.moveToBookmark(Wt)},Nn=function(Ce,et){bt(Ce,et.get());var Wt=Ce.getBody();et.get()===!0?Jt(Ce,Wt):Kt(Ce,Wt)},dr=function(Ce,et){et.set(!et.get());var Wt=Ce.selection.getBookmark();Nn(Ce,et),Ce.selection.moveToBookmark(Wt)},Nt=function(Ce,et){Ce.addCommand("mceVisualChars",function(){dr(Ce,et)})},lt=function(Ce){return Ce.getParam("visualchars_default_state",!1)},Tn=function(Ce){return Ce.getParam("forced_root_block")!==!1},or=function(Ce,et){Ce.on("init",function(){Nn(Ce,et)})},zr=tinymce.util.Tools.resolve("tinymce.util.Delay"),Pr=function(Ce,et){var Wt=zr.debounce(function(){Xt(Ce)},300);Tn(Ce)&&Ce.on("keydown",function(Fn){et.get()===!0&&(Fn.keyCode===13?Xt(Ce):Wt())}),Ce.on("remove",Wt.stop)},na=function(Ce,et){return function(Wt){Wt.setActive(et.get());var Fn=function(un){return Wt.setActive(un.state)};return Ce.on("VisualChars",Fn),function(){return Ce.off("VisualChars",Fn)}}},Or=function(Ce,et){Ce.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:function(){return Ce.execCommand("mceVisualChars")},onSetup:na(Ce,et)}),Ce.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:function(){return Ce.execCommand("mceVisualChars")},onSetup:na(Ce,et)})};function xa(){qn.add("visualchars",function(Ce){var et=Le(lt(Ce));return Nt(Ce,et),Or(Ce,et),Pr(Ce,et),or(Ce,et),tn(et)})}xa()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=function(qe){return qe},tn=function(){return tn=Object.assign||function(de){for(var Ue,ee=1,ke=arguments.length;ee<ke;ee++){Ue=arguments[ee];for(var he in Ue)Object.prototype.hasOwnProperty.call(Ue,he)&&(de[he]=Ue[he])}return de},tn.apply(this,arguments)},bt="\uFEFF",ve=function(qe){return qe.replace(/\uFEFF/g,"")},rt=function(qe,de){for(var Ue=qe.length,ee=new Array(Ue),ke=0;ke<Ue;ke++){var he=qe[ke];ee[ke]=de(he,ke)}return ee},gn="[!-#%-*,-\\/:;?@\\[-\\]_{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]",vn={aletter:"[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F3\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1A00-\u1A16\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BC0-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u24B6-\u24E9\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790\uA791\uA7A0-\uA7A9\uA7FA-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]",midnumlet:"[-'\\.\u2018\u2019\u2024\uFE52\uFF07\uFF0E]",midletter:"[:\xB7\xB7\u05F4\u2027\uFE13\uFE55\uFF1A]",midnum:"[\xB1+*/,;;\u0589\u060C\u060D\u066C\u07F8\u2044\uFE10\uFE14\uFE50\uFE54\uFF0C\uFF1B]",numeric:"[0-9\u0660-\u0669\u066B\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9]",cr:"\\r",lf:"\\n",newline:"[\v\f\x85\u2028\u2029]",extend:"[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D02\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAA\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2\u1DC0-\u1DE6\u1DFC-\u1DFF\u200C\u200D\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA67C\uA67D\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE26\uFF9E\uFF9F]",format:"[\xAD\u0600-\u0603\u06DD\u070F\u17B4\u17B5\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\uFEFF\uFFF9-\uFFFB]",katakana:"[\u3031-\u3035\u309B\u309C\u30A0-\u30FA\u30FC-\u30FF\u31F0-\u31FF\u32D0-\u32FE\u3300-\u3357\uFF66-\uFF9D]",extendnumlet:"[=_\u203F\u2040\u2054\uFE33\uFE34\uFE4D-\uFE4F\uFF3F\u2200-\u22FF<>]",punctuation:gn},Ct={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},Et=[new RegExp(vn.aletter),new RegExp(vn.midnumlet),new RegExp(vn.midletter),new RegExp(vn.midnum),new RegExp(vn.numeric),new RegExp(vn.cr),new RegExp(vn.lf),new RegExp(vn.newline),new RegExp(vn.extend),new RegExp(vn.format),new RegExp(vn.katakana),new RegExp(vn.extendnumlet),new RegExp("@")],Qe="",Ze=new RegExp("^"+vn.punctuation+"$"),te=/^\s+$/,vt=Et,q=Ct.OTHER,We=function(qe){for(var de=q,Ue=vt.length,ee=0;ee<Ue;++ee){var ke=vt[ee];if(ke&&ke.test(qe)){de=ee;break}}return de},dn=function(qe){var de={};return function(Ue){if(de[Ue])return de[Ue];var ee=qe(Ue);return de[Ue]=ee,ee}},Xe=function(qe){var de=dn(We);return rt(qe,de)},cr=function(qe,de){var Ue=qe[de],ee=qe[de+1];if(de<0||de>qe.length-1&&de!==0||Ue===Ct.ALETTER&&ee===Ct.ALETTER)return!1;var ke=qe[de+2];if(Ue===Ct.ALETTER&&(ee===Ct.MIDLETTER||ee===Ct.MIDNUMLET||ee===Ct.AT)&&ke===Ct.ALETTER)return!1;var he=qe[de-1];return(Ue===Ct.MIDLETTER||Ue===Ct.MIDNUMLET||ee===Ct.AT)&&ee===Ct.ALETTER&&he===Ct.ALETTER||(Ue===Ct.NUMERIC||Ue===Ct.ALETTER)&&(ee===Ct.NUMERIC||ee===Ct.ALETTER)||(Ue===Ct.MIDNUM||Ue===Ct.MIDNUMLET)&&ee===Ct.NUMERIC&&he===Ct.NUMERIC||Ue===Ct.NUMERIC&&(ee===Ct.MIDNUM||ee===Ct.MIDNUMLET)&&ke===Ct.NUMERIC||Ue===Ct.EXTEND||Ue===Ct.FORMAT||he===Ct.EXTEND||he===Ct.FORMAT||ee===Ct.EXTEND||ee===Ct.FORMAT||Ue===Ct.CR&&ee===Ct.LF?!1:Ue===Ct.NEWLINE||Ue===Ct.CR||Ue===Ct.LF||ee===Ct.NEWLINE||ee===Ct.CR||ee===Ct.LF?!0:!(Ue===Ct.KATAKANA&&ee===Ct.KATAKANA||ee===Ct.EXTENDNUMLET&&(Ue===Ct.ALETTER||Ue===Ct.NUMERIC||Ue===Ct.KATAKANA||Ue===Ct.EXTENDNUMLET)||Ue===Ct.EXTENDNUMLET&&(ee===Ct.ALETTER||ee===Ct.NUMERIC||ee===Ct.KATAKANA)||Ue===Ct.AT)},S=Qe,mn=te,Pn=Ze,hn=function(qe){return qe==="http"||qe==="https"},an=function(qe,de){var Ue;for(Ue=de;Ue<qe.length&&!mn.test(qe[Ue]);Ue++);return Ue},$n=function(qe,de){var Ue=an(qe,de+1),ee=qe.slice(de+1,Ue).join(S);return ee.substr(0,3)==="://"?Ue:de},Cr=function(qe,de,Ue,ee){for(var ke=[],he=[],Pt=0;Pt<Ue.length;++Pt)if(he.push(qe[Pt]),cr(Ue,Pt)){var pn=de[Pt];if((ee.includeWhitespace||!mn.test(pn))&&(ee.includePunctuation||!Pn.test(pn))){var St=Pt-he.length+1,ir=Pt+1,Rn=de.slice(St,ir).join(S);if(hn(Rn)){var Zr=$n(de,Pt),Ir=qe.slice(ir,Zr);Array.prototype.push.apply(he,Ir),Pt=Zr}ke.push(he)}he=[]}return ke},lr=function(){return{includeWhitespace:!1,includePunctuation:!1}},Me=function(qe,de,Ue){Ue=tn(tn({},lr()),Ue);for(var ee=[],ke=[],he=0;he<qe.length;he++){var Pt=de(qe[he]);Pt!==bt&&(ee.push(qe[he]),ke.push(Pt))}var pn=Xe(ke);return Cr(ee,ke,pn,Ue)},z=Me,Yt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),It=function(qe,de){for(var Ue=de.getBlockElements(),ee=de.getShortEndedElements(),ke=function(St){return Ue[St.nodeName]||ee[St.nodeName]},he=[],Pt="",pn=new Yt(qe,qe);qe=pn.next();)qe.nodeType===3?Pt+=ve(qe.data):ke(qe)&&Pt.length&&(he.push(Pt),Pt="");return Pt.length&&he.push(Pt),he},In=function(qe){return qe.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},zn=function(qe,de){var Ue=It(qe,de).join(`
`);return z(Ue.split(""),qn).length},jn=function(qe,de){var Ue=It(qe,de).join("");return In(Ue)},yt=function(qe,de){var Ue=It(qe,de).join("").replace(/\s/g,"");return In(Ue)},mt=function(qe,de){return function(){return de(qe.getBody(),qe.schema)}},fn=function(qe,de){return function(){return de(qe.selection.getRng().cloneContents(),qe.schema)}},Yr=function(qe){return mt(qe,zn)},yr=function(qe){return{body:{getWordCount:Yr(qe),getCharacterCount:mt(qe,jn),getCharacterCountWithoutSpaces:mt(qe,yt)},selection:{getWordCount:fn(qe,zn),getCharacterCount:fn(qe,jn),getCharacterCountWithoutSpaces:fn(qe,yt)},getCount:Yr(qe)}},Re=tinymce.util.Tools.resolve("tinymce.util.Delay"),ut=function(qe,de){qe.fire("wordCountUpdate",{wordCount:{words:de.body.getWordCount(),characters:de.body.getCharacterCount(),charactersWithoutSpaces:de.body.getCharacterCountWithoutSpaces()}})},kt=function(qe,de){ut(qe,de)},Vt=function(qe,de,Ue){var ee=Re.debounce(function(){return kt(qe,de)},Ue);qe.on("init",function(){kt(qe,de),Re.setEditorTimeout(qe,function(){qe.on("SetContent BeforeAddUndo Undo Redo keyup",ee)},0)})},we=function(qe,de){qe.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(de.body.getWordCount()),String(de.selection.getWordCount())],["Characters (no spaces)",String(de.body.getCharacterCountWithoutSpaces()),String(de.selection.getCharacterCountWithoutSpaces())],["Characters",String(de.body.getCharacterCount()),String(de.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Ye=function(qe,de){qe.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:function(){return we(qe,de)}}),qe.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:function(){return we(qe,de)}})};function rn(qe){qe===void 0&&(qe=300),Le.add("wordcount",function(de){var Ue=yr(de);return Ye(de,Ue),Vt(de,Ue,qe),Ue})}rn()})();(function(){var Le=tinymce.util.Tools.resolve("tinymce.PluginManager"),qn=tinymce.util.Tools.resolve("tinymce.Env"),tn=function(rt){rt.addCommand("mcePrint",function(){qn.browser.isIE()?rt.getDoc().execCommand("print",!1,null):rt.getWin().print()})},bt=function(rt){rt.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:function(){return rt.execCommand("mcePrint")}}),rt.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:function(){return rt.execCommand("mcePrint")}})};function ve(){Le.add("print",function(rt){tn(rt),bt(rt),rt.addShortcut("Meta+P","","mcePrint")})}ve()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 010 2H5a1 1 0 010-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 110-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 01-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});export{K9 as t};
